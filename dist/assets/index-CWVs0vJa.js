function bY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const wY="modulepreload",jY=function(t){return"/"+t},B_={},Rc=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=Promise.allSettled(r.map(c=>{if(c=jY(c),c in B_)return;B_[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":wY,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function NY(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var VB={exports:{}},$w={},zB={exports:{}},gr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg=Symbol.for("react.element"),EY=Symbol.for("react.portal"),SY=Symbol.for("react.fragment"),AY=Symbol.for("react.strict_mode"),CY=Symbol.for("react.profiler"),kY=Symbol.for("react.provider"),PY=Symbol.for("react.context"),TY=Symbol.for("react.forward_ref"),OY=Symbol.for("react.suspense"),_Y=Symbol.for("react.memo"),RY=Symbol.for("react.lazy"),$_=Symbol.iterator;function IY(t){return t===null||typeof t!="object"?null:(t=$_&&t[$_]||t["@@iterator"],typeof t=="function"?t:null)}var WB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qB=Object.assign,HB={};function sm(t,e,r){this.props=t,this.context=e,this.refs=HB,this.updater=r||WB}sm.prototype.isReactComponent={};sm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GB(){}GB.prototype=sm.prototype;function yk(t,e,r){this.props=t,this.context=e,this.refs=HB,this.updater=r||WB}var bk=yk.prototype=new GB;bk.constructor=yk;qB(bk,sm.prototype);bk.isPureReactComponent=!0;var U_=Array.isArray,KB=Object.prototype.hasOwnProperty,wk={current:null},XB={key:!0,ref:!0,__self:!0,__source:!0};function YB(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)KB.call(e,n)&&!XB.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Hg,type:t,key:i,ref:o,props:s,_owner:wk.current}}function FY(t,e){return{$$typeof:Hg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jk(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hg}function DY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var V_=/\/+/g;function CN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DY(""+t.key):e.toString(36)}function Gv(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hg:case EY:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+CN(o,0):n,U_(s)?(r="",t!=null&&(r=t.replace(V_,"$&/")+"/"),Gv(s,e,r,"",function(d){return d})):s!=null&&(jk(s)&&(s=FY(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(V_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",U_(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+CN(i,l);o+=Gv(i,e,r,c,s)}else if(c=IY(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+CN(i,l++),o+=Gv(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function B0(t,e,r){if(t==null)return t;var n=[],s=0;return Gv(t,n,"","",function(i){return e.call(r,i,s++)}),n}function MY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vs={current:null},Kv={transition:null},LY={ReactCurrentDispatcher:vs,ReactCurrentBatchConfig:Kv,ReactCurrentOwner:wk};function QB(){throw Error("act(...) is not supported in production builds of React.")}gr.Children={map:B0,forEach:function(t,e,r){B0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return B0(t,function(){e++}),e},toArray:function(t){return B0(t,function(e){return e})||[]},only:function(t){if(!jk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gr.Component=sm;gr.Fragment=SY;gr.Profiler=CY;gr.PureComponent=yk;gr.StrictMode=AY;gr.Suspense=OY;gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LY;gr.act=QB;gr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=qB({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=wk.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)KB.call(e,c)&&!XB.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Hg,type:t.type,key:s,ref:i,props:n,_owner:o}};gr.createContext=function(t){return t={$$typeof:PY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kY,_context:t},t.Consumer=t};gr.createElement=YB;gr.createFactory=function(t){var e=YB.bind(null,t);return e.type=t,e};gr.createRef=function(){return{current:null}};gr.forwardRef=function(t){return{$$typeof:TY,render:t}};gr.isValidElement=jk;gr.lazy=function(t){return{$$typeof:RY,_payload:{_status:-1,_result:t},_init:MY}};gr.memo=function(t,e){return{$$typeof:_Y,type:t,compare:e===void 0?null:e}};gr.startTransition=function(t){var e=Kv.transition;Kv.transition={};try{t()}finally{Kv.transition=e}};gr.unstable_act=QB;gr.useCallback=function(t,e){return vs.current.useCallback(t,e)};gr.useContext=function(t){return vs.current.useContext(t)};gr.useDebugValue=function(){};gr.useDeferredValue=function(t){return vs.current.useDeferredValue(t)};gr.useEffect=function(t,e){return vs.current.useEffect(t,e)};gr.useId=function(){return vs.current.useId()};gr.useImperativeHandle=function(t,e,r){return vs.current.useImperativeHandle(t,e,r)};gr.useInsertionEffect=function(t,e){return vs.current.useInsertionEffect(t,e)};gr.useLayoutEffect=function(t,e){return vs.current.useLayoutEffect(t,e)};gr.useMemo=function(t,e){return vs.current.useMemo(t,e)};gr.useReducer=function(t,e,r){return vs.current.useReducer(t,e,r)};gr.useRef=function(t){return vs.current.useRef(t)};gr.useState=function(t){return vs.current.useState(t)};gr.useSyncExternalStore=function(t,e,r){return vs.current.useSyncExternalStore(t,e,r)};gr.useTransition=function(){return vs.current.useTransition()};gr.version="18.3.1";zB.exports=gr;var y=zB.exports;const ve=Mr(y),Uw=bY({__proto__:null,default:ve},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BY=y,$Y=Symbol.for("react.element"),UY=Symbol.for("react.fragment"),VY=Object.prototype.hasOwnProperty,zY=BY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WY={key:!0,ref:!0,__self:!0,__source:!0};function ZB(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)VY.call(e,n)&&!WY.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:$Y,type:t,key:i,ref:o,props:s,_owner:zY.current}}$w.Fragment=UY;$w.jsx=ZB;$w.jsxs=ZB;VB.exports=$w;var a=VB.exports,JB={exports:{}},li={},e5={exports:{}},t5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,W){var K=D.length;D.push(W);e:for(;0<K;){var H=K-1>>>1,G=D[H];if(0<s(G,W))D[H]=W,D[K]=G,K=H;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var W=D[0],K=D.pop();if(K!==W){D[0]=K;e:for(var H=0,G=D.length,ee=G>>>1;H<ee;){var Q=2*(H+1)-1,te=D[Q],U=Q+1,q=D[U];if(0>s(te,K))U<G&&0>s(q,te)?(D[H]=q,D[U]=K,H=U):(D[H]=te,D[Q]=K,H=Q);else if(U<G&&0>s(q,K))D[H]=q,D[U]=K,H=U;else break e}}return W}function s(D,W){var K=D.sortIndex-W.sortIndex;return K!==0?K:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,x=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(D){for(var W=r(d);W!==null;){if(W.callback===null)n(d);else if(W.startTime<=D)n(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=r(d)}}function j(D){if(p=!1,N(D),!x)if(r(c)!==null)x=!0,I(b);else{var W=r(d);W!==null&&C(j,W.startTime-D)}}function b(D,W){x=!1,p&&(p=!1,g(E),E=-1),m=!0;var K=f;try{for(N(W),h=r(c);h!==null&&(!(h.expirationTime>W)||D&&!k());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var G=H(h.expirationTime<=W);W=t.unstable_now(),typeof G=="function"?h.callback=G:h===r(c)&&n(c),N(W)}else n(c);h=r(c)}if(h!==null)var ee=!0;else{var Q=r(d);Q!==null&&C(j,Q.startTime-W),ee=!1}return ee}finally{h=null,f=K,m=!1}}var S=!1,A=null,E=-1,P=5,O=-1;function k(){return!(t.unstable_now()-O<P)}function L(){if(A!==null){var D=t.unstable_now();O=D;var W=!0;try{W=A(!0,D)}finally{W?R():(S=!1,A=null)}}else S=!1}var R;if(typeof w=="function")R=function(){w(L)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,B=_.port2;_.port1.onmessage=L,R=function(){B.postMessage(null)}}else R=function(){v(L,0)};function I(D){A=D,S||(S=!0,R())}function C(D,W){E=v(function(){D(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,I(b))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var K=f;f=W;try{return D()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=f;f=D;try{return W()}finally{f=K}},t.unstable_scheduleCallback=function(D,W,K){var H=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?H+K:H):K=H,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=K+G,D={id:u++,callback:W,priorityLevel:D,startTime:K,expirationTime:G,sortIndex:-1},K>H?(D.sortIndex=K,e(d,D),r(c)===null&&D===r(d)&&(p?(g(E),E=-1):p=!0,C(j,K-H))):(D.sortIndex=G,e(c,D),x||m||(x=!0,I(b))),D},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(D){var W=f;return function(){var K=f;f=W;try{return D.apply(this,arguments)}finally{f=K}}}})(t5);e5.exports=t5;var qY=e5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HY=y,ri=qY;function Ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r5=new Set,Ex={};function Lu(t,e){xf(t,e),xf(t+"Capture",e)}function xf(t,e){for(Ex[t]=e,t=0;t<e.length;t++)r5.add(e[t])}var zl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),NE=Object.prototype.hasOwnProperty,GY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z_={},W_={};function KY(t){return NE.call(W_,t)?!0:NE.call(z_,t)?!1:GY.test(t)?W_[t]=!0:(z_[t]=!0,!1)}function XY(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YY(t,e,r,n){if(e===null||typeof e>"u"||XY(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ys(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ra={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ra[t]=new ys(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ra[e]=new ys(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ra[t]=new ys(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ra[t]=new ys(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ra[t]=new ys(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ra[t]=new ys(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ra[t]=new ys(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ra[t]=new ys(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ra[t]=new ys(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nk=/[\-:]([a-z])/g;function Ek(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nk,Ek);Ra[e]=new ys(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nk,Ek);Ra[e]=new ys(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nk,Ek);Ra[e]=new ys(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ra[t]=new ys(t,1,!1,t.toLowerCase(),null,!1,!1)});Ra.xlinkHref=new ys("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ra[t]=new ys(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sk(t,e,r,n){var s=Ra.hasOwnProperty(e)?Ra[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YY(e,r,s,n)&&(r=null),n||s===null?KY(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var tc=HY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$0=Symbol.for("react.element"),Ch=Symbol.for("react.portal"),kh=Symbol.for("react.fragment"),Ak=Symbol.for("react.strict_mode"),EE=Symbol.for("react.profiler"),n5=Symbol.for("react.provider"),a5=Symbol.for("react.context"),Ck=Symbol.for("react.forward_ref"),SE=Symbol.for("react.suspense"),AE=Symbol.for("react.suspense_list"),kk=Symbol.for("react.memo"),wc=Symbol.for("react.lazy"),s5=Symbol.for("react.offscreen"),q_=Symbol.iterator;function $m(t){return t===null||typeof t!="object"?null:(t=q_&&t[q_]||t["@@iterator"],typeof t=="function"?t:null)}var bn=Object.assign,kN;function Ep(t){if(kN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);kN=e&&e[1]||""}return`
`+kN+t}var PN=!1;function TN(t,e){if(!t||PN)return"";PN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{PN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ep(t):""}function QY(t){switch(t.tag){case 5:return Ep(t.type);case 16:return Ep("Lazy");case 13:return Ep("Suspense");case 19:return Ep("SuspenseList");case 0:case 2:case 15:return t=TN(t.type,!1),t;case 11:return t=TN(t.type.render,!1),t;case 1:return t=TN(t.type,!0),t;default:return""}}function CE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kh:return"Fragment";case Ch:return"Portal";case EE:return"Profiler";case Ak:return"StrictMode";case SE:return"Suspense";case AE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case a5:return(t.displayName||"Context")+".Consumer";case n5:return(t._context.displayName||"Context")+".Provider";case Ck:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kk:return e=t.displayName||null,e!==null?e:CE(t.type)||"Memo";case wc:e=t._payload,t=t._init;try{return CE(t(e))}catch{}}return null}function ZY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return CE(e);case 8:return e===Ak?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ad(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function i5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JY(t){var e=i5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function U0(t){t._valueTracker||(t._valueTracker=JY(t))}function o5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=i5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ay(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kE(t,e){var r=e.checked;return bn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function H_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ad(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function l5(t,e){e=e.checked,e!=null&&Sk(t,"checked",e,!1)}function PE(t,e){l5(t,e);var r=ad(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?TE(t,e.type,r):e.hasOwnProperty("defaultValue")&&TE(t,e.type,ad(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function G_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function TE(t,e,r){(e!=="number"||Ay(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Sp=Array.isArray;function Hh(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ad(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function OE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return bn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function K_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ke(92));if(Sp(r)){if(1<r.length)throw Error(Ke(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ad(r)}}function c5(t,e){var r=ad(e.value),n=ad(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function X_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function d5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _E(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?d5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var V0,u5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(V0=V0||document.createElement("div"),V0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=V0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sx(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var zp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eQ=["Webkit","ms","Moz","O"];Object.keys(zp).forEach(function(t){eQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zp[e]=zp[t]})});function h5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||zp.hasOwnProperty(t)&&zp[t]?(""+e).trim():e+"px"}function f5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=h5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var tQ=bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function RE(t,e){if(e){if(tQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ke(62))}}function IE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FE=null;function Pk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var DE=null,Gh=null,Kh=null;function Y_(t){if(t=Xg(t)){if(typeof DE!="function")throw Error(Ke(280));var e=t.stateNode;e&&(e=Hw(e),DE(t.stateNode,t.type,e))}}function m5(t){Gh?Kh?Kh.push(t):Kh=[t]:Gh=t}function p5(){if(Gh){var t=Gh,e=Kh;if(Kh=Gh=null,Y_(t),e)for(t=0;t<e.length;t++)Y_(e[t])}}function x5(t,e){return t(e)}function g5(){}var ON=!1;function v5(t,e,r){if(ON)return t(e,r);ON=!0;try{return x5(t,e,r)}finally{ON=!1,(Gh!==null||Kh!==null)&&(g5(),p5())}}function Ax(t,e){var r=t.stateNode;if(r===null)return null;var n=Hw(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ke(231,e,typeof r));return r}var ME=!1;if(zl)try{var Um={};Object.defineProperty(Um,"passive",{get:function(){ME=!0}}),window.addEventListener("test",Um,Um),window.removeEventListener("test",Um,Um)}catch{ME=!1}function rQ(t,e,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var Wp=!1,Cy=null,ky=!1,LE=null,nQ={onError:function(t){Wp=!0,Cy=t}};function aQ(t,e,r,n,s,i,o,l,c){Wp=!1,Cy=null,rQ.apply(nQ,arguments)}function sQ(t,e,r,n,s,i,o,l,c){if(aQ.apply(this,arguments),Wp){if(Wp){var d=Cy;Wp=!1,Cy=null}else throw Error(Ke(198));ky||(ky=!0,LE=d)}}function Bu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function y5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Q_(t){if(Bu(t)!==t)throw Error(Ke(188))}function iQ(t){var e=t.alternate;if(!e){if(e=Bu(t),e===null)throw Error(Ke(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Q_(s),t;if(i===n)return Q_(s),e;i=i.sibling}throw Error(Ke(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(Ke(189))}}if(r.alternate!==n)throw Error(Ke(190))}if(r.tag!==3)throw Error(Ke(188));return r.stateNode.current===r?t:e}function b5(t){return t=iQ(t),t!==null?w5(t):null}function w5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w5(t);if(e!==null)return e;t=t.sibling}return null}var j5=ri.unstable_scheduleCallback,Z_=ri.unstable_cancelCallback,oQ=ri.unstable_shouldYield,lQ=ri.unstable_requestPaint,Pn=ri.unstable_now,cQ=ri.unstable_getCurrentPriorityLevel,Tk=ri.unstable_ImmediatePriority,N5=ri.unstable_UserBlockingPriority,Py=ri.unstable_NormalPriority,dQ=ri.unstable_LowPriority,E5=ri.unstable_IdlePriority,Vw=null,Jo=null;function uQ(t){if(Jo&&typeof Jo.onCommitFiberRoot=="function")try{Jo.onCommitFiberRoot(Vw,t,void 0,(t.current.flags&128)===128)}catch{}}var yo=Math.clz32?Math.clz32:mQ,hQ=Math.log,fQ=Math.LN2;function mQ(t){return t>>>=0,t===0?32:31-(hQ(t)/fQ|0)|0}var z0=64,W0=4194304;function Ap(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ty(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Ap(l):(i&=o,i!==0&&(n=Ap(i)))}else o=r&~s,o!==0?n=Ap(o):i!==0&&(n=Ap(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-yo(e),s=1<<r,n|=t[r],e&=~s;return n}function pQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-yo(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=pQ(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function BE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function S5(){var t=z0;return z0<<=1,!(z0&4194240)&&(z0=64),t}function _N(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Gg(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yo(e),t[e]=r}function gQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-yo(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Ok(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-yo(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Kr=0;function A5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var C5,_k,k5,P5,T5,$E=!1,q0=[],Uc=null,Vc=null,zc=null,Cx=new Map,kx=new Map,Cc=[],vQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J_(t,e){switch(t){case"focusin":case"focusout":Uc=null;break;case"dragenter":case"dragleave":Vc=null;break;case"mouseover":case"mouseout":zc=null;break;case"pointerover":case"pointerout":Cx.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kx.delete(e.pointerId)}}function Vm(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xg(e),e!==null&&_k(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yQ(t,e,r,n,s){switch(e){case"focusin":return Uc=Vm(Uc,t,e,r,n,s),!0;case"dragenter":return Vc=Vm(Vc,t,e,r,n,s),!0;case"mouseover":return zc=Vm(zc,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Cx.set(i,Vm(Cx.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,kx.set(i,Vm(kx.get(i)||null,t,e,r,n,s)),!0}return!1}function O5(t){var e=Hd(t.target);if(e!==null){var r=Bu(e);if(r!==null){if(e=r.tag,e===13){if(e=y5(r),e!==null){t.blockedOn=e,T5(t.priority,function(){k5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=UE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);FE=n,r.target.dispatchEvent(n),FE=null}else return e=Xg(r),e!==null&&_k(e),t.blockedOn=r,!1;e.shift()}return!0}function eR(t,e,r){Xv(t)&&r.delete(e)}function bQ(){$E=!1,Uc!==null&&Xv(Uc)&&(Uc=null),Vc!==null&&Xv(Vc)&&(Vc=null),zc!==null&&Xv(zc)&&(zc=null),Cx.forEach(eR),kx.forEach(eR)}function zm(t,e){t.blockedOn===e&&(t.blockedOn=null,$E||($E=!0,ri.unstable_scheduleCallback(ri.unstable_NormalPriority,bQ)))}function Px(t){function e(s){return zm(s,t)}if(0<q0.length){zm(q0[0],t);for(var r=1;r<q0.length;r++){var n=q0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Uc!==null&&zm(Uc,t),Vc!==null&&zm(Vc,t),zc!==null&&zm(zc,t),Cx.forEach(e),kx.forEach(e),r=0;r<Cc.length;r++)n=Cc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Cc.length&&(r=Cc[0],r.blockedOn===null);)O5(r),r.blockedOn===null&&Cc.shift()}var Xh=tc.ReactCurrentBatchConfig,Oy=!0;function wQ(t,e,r,n){var s=Kr,i=Xh.transition;Xh.transition=null;try{Kr=1,Rk(t,e,r,n)}finally{Kr=s,Xh.transition=i}}function jQ(t,e,r,n){var s=Kr,i=Xh.transition;Xh.transition=null;try{Kr=4,Rk(t,e,r,n)}finally{Kr=s,Xh.transition=i}}function Rk(t,e,r,n){if(Oy){var s=UE(t,e,r,n);if(s===null)VN(t,e,n,_y,r),J_(t,n);else if(yQ(s,t,e,r,n))n.stopPropagation();else if(J_(t,n),e&4&&-1<vQ.indexOf(t)){for(;s!==null;){var i=Xg(s);if(i!==null&&C5(i),i=UE(t,e,r,n),i===null&&VN(t,e,n,_y,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else VN(t,e,n,null,r)}}var _y=null;function UE(t,e,r,n){if(_y=null,t=Pk(n),t=Hd(t),t!==null)if(e=Bu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=y5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _y=t,null}function _5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cQ()){case Tk:return 1;case N5:return 4;case Py:case dQ:return 16;case E5:return 536870912;default:return 16}default:return 16}}var Ic=null,Ik=null,Yv=null;function R5(){if(Yv)return Yv;var t,e=Ik,r=e.length,n,s="value"in Ic?Ic.value:Ic.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Yv=s.slice(t,1<n?1-n:void 0)}function Qv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function H0(){return!0}function tR(){return!1}function ci(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?H0:tR,this.isPropagationStopped=tR,this}return bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=H0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=H0)},persist:function(){},isPersistent:H0}),e}var im={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fk=ci(im),Kg=bn({},im,{view:0,detail:0}),NQ=ci(Kg),RN,IN,Wm,zw=bn({},Kg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wm&&(Wm&&t.type==="mousemove"?(RN=t.screenX-Wm.screenX,IN=t.screenY-Wm.screenY):IN=RN=0,Wm=t),RN)},movementY:function(t){return"movementY"in t?t.movementY:IN}}),rR=ci(zw),EQ=bn({},zw,{dataTransfer:0}),SQ=ci(EQ),AQ=bn({},Kg,{relatedTarget:0}),FN=ci(AQ),CQ=bn({},im,{animationName:0,elapsedTime:0,pseudoElement:0}),kQ=ci(CQ),PQ=bn({},im,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TQ=ci(PQ),OQ=bn({},im,{data:0}),nR=ci(OQ),_Q={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IQ[t])?!!e[t]:!1}function Dk(){return FQ}var DQ=bn({},Kg,{key:function(t){if(t.key){var e=_Q[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dk,charCode:function(t){return t.type==="keypress"?Qv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MQ=ci(DQ),LQ=bn({},zw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aR=ci(LQ),BQ=bn({},Kg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dk}),$Q=ci(BQ),UQ=bn({},im,{propertyName:0,elapsedTime:0,pseudoElement:0}),VQ=ci(UQ),zQ=bn({},zw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WQ=ci(zQ),qQ=[9,13,27,32],Mk=zl&&"CompositionEvent"in window,qp=null;zl&&"documentMode"in document&&(qp=document.documentMode);var HQ=zl&&"TextEvent"in window&&!qp,I5=zl&&(!Mk||qp&&8<qp&&11>=qp),sR=" ",iR=!1;function F5(t,e){switch(t){case"keyup":return qQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ph=!1;function GQ(t,e){switch(t){case"compositionend":return D5(e);case"keypress":return e.which!==32?null:(iR=!0,sR);case"textInput":return t=e.data,t===sR&&iR?null:t;default:return null}}function KQ(t,e){if(Ph)return t==="compositionend"||!Mk&&F5(t,e)?(t=R5(),Yv=Ik=Ic=null,Ph=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return I5&&e.locale!=="ko"?null:e.data;default:return null}}var XQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XQ[t.type]:e==="textarea"}function M5(t,e,r,n){m5(n),e=Ry(e,"onChange"),0<e.length&&(r=new Fk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Hp=null,Tx=null;function YQ(t){K5(t,0)}function Ww(t){var e=_h(t);if(o5(e))return t}function QQ(t,e){if(t==="change")return e}var L5=!1;if(zl){var DN;if(zl){var MN="oninput"in document;if(!MN){var lR=document.createElement("div");lR.setAttribute("oninput","return;"),MN=typeof lR.oninput=="function"}DN=MN}else DN=!1;L5=DN&&(!document.documentMode||9<document.documentMode)}function cR(){Hp&&(Hp.detachEvent("onpropertychange",B5),Tx=Hp=null)}function B5(t){if(t.propertyName==="value"&&Ww(Tx)){var e=[];M5(e,Tx,t,Pk(t)),v5(YQ,e)}}function ZQ(t,e,r){t==="focusin"?(cR(),Hp=e,Tx=r,Hp.attachEvent("onpropertychange",B5)):t==="focusout"&&cR()}function JQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ww(Tx)}function eZ(t,e){if(t==="click")return Ww(e)}function tZ(t,e){if(t==="input"||t==="change")return Ww(e)}function rZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jo=typeof Object.is=="function"?Object.is:rZ;function Ox(t,e){if(jo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!NE.call(e,s)||!jo(t[s],e[s]))return!1}return!0}function dR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uR(t,e){var r=dR(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dR(r)}}function $5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function U5(){for(var t=window,e=Ay();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ay(t.document)}return e}function Lk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nZ(t){var e=U5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&$5(r.ownerDocument.documentElement,r)){if(n!==null&&Lk(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=uR(r,i);var o=uR(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aZ=zl&&"documentMode"in document&&11>=document.documentMode,Th=null,VE=null,Gp=null,zE=!1;function hR(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zE||Th==null||Th!==Ay(n)||(n=Th,"selectionStart"in n&&Lk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gp&&Ox(Gp,n)||(Gp=n,n=Ry(VE,"onSelect"),0<n.length&&(e=new Fk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Th)))}function G0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Oh={animationend:G0("Animation","AnimationEnd"),animationiteration:G0("Animation","AnimationIteration"),animationstart:G0("Animation","AnimationStart"),transitionend:G0("Transition","TransitionEnd")},LN={},V5={};zl&&(V5=document.createElement("div").style,"AnimationEvent"in window||(delete Oh.animationend.animation,delete Oh.animationiteration.animation,delete Oh.animationstart.animation),"TransitionEvent"in window||delete Oh.transitionend.transition);function qw(t){if(LN[t])return LN[t];if(!Oh[t])return t;var e=Oh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in V5)return LN[t]=e[r];return t}var z5=qw("animationend"),W5=qw("animationiteration"),q5=qw("animationstart"),H5=qw("transitionend"),G5=new Map,fR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gd(t,e){G5.set(t,e),Lu(e,[t])}for(var BN=0;BN<fR.length;BN++){var $N=fR[BN],sZ=$N.toLowerCase(),iZ=$N[0].toUpperCase()+$N.slice(1);gd(sZ,"on"+iZ)}gd(z5,"onAnimationEnd");gd(W5,"onAnimationIteration");gd(q5,"onAnimationStart");gd("dblclick","onDoubleClick");gd("focusin","onFocus");gd("focusout","onBlur");gd(H5,"onTransitionEnd");xf("onMouseEnter",["mouseout","mouseover"]);xf("onMouseLeave",["mouseout","mouseover"]);xf("onPointerEnter",["pointerout","pointerover"]);xf("onPointerLeave",["pointerout","pointerover"]);Lu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cp));function mR(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,sQ(n,e,void 0,t),t.currentTarget=null}function K5(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;mR(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;mR(s,l,d),i=c}}}if(ky)throw t=LE,ky=!1,LE=null,t}function an(t,e){var r=e[KE];r===void 0&&(r=e[KE]=new Set);var n=t+"__bubble";r.has(n)||(X5(e,t,2,!1),r.add(n))}function UN(t,e,r){var n=0;e&&(n|=4),X5(r,t,n,e)}var K0="_reactListening"+Math.random().toString(36).slice(2);function _x(t){if(!t[K0]){t[K0]=!0,r5.forEach(function(r){r!=="selectionchange"&&(oZ.has(r)||UN(r,!1,t),UN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[K0]||(e[K0]=!0,UN("selectionchange",!1,e))}}function X5(t,e,r,n){switch(_5(e)){case 1:var s=wQ;break;case 4:s=jQ;break;default:s=Rk}r=s.bind(null,e,r,t),s=void 0,!ME||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function VN(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Hd(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}v5(function(){var d=i,u=Pk(r),h=[];e:{var f=G5.get(t);if(f!==void 0){var m=Fk,x=t;switch(t){case"keypress":if(Qv(r)===0)break e;case"keydown":case"keyup":m=MQ;break;case"focusin":x="focus",m=FN;break;case"focusout":x="blur",m=FN;break;case"beforeblur":case"afterblur":m=FN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=rR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=SQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$Q;break;case z5:case W5:case q5:m=kQ;break;case H5:m=VQ;break;case"scroll":m=NQ;break;case"wheel":m=WQ;break;case"copy":case"cut":case"paste":m=TQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=aR}var p=(e&4)!==0,v=!p&&t==="scroll",g=p?f!==null?f+"Capture":null:f;p=[];for(var w=d,N;w!==null;){N=w;var j=N.stateNode;if(N.tag===5&&j!==null&&(N=j,g!==null&&(j=Ax(w,g),j!=null&&p.push(Rx(w,j,N)))),v)break;w=w.return}0<p.length&&(f=new m(f,x,null,r,u),h.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==FE&&(x=r.relatedTarget||r.fromElement)&&(Hd(x)||x[Wl]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=d,x=x?Hd(x):null,x!==null&&(v=Bu(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=d),m!==x)){if(p=rR,j="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(p=aR,j="onPointerLeave",g="onPointerEnter",w="pointer"),v=m==null?f:_h(m),N=x==null?f:_h(x),f=new p(j,w+"leave",m,r,u),f.target=v,f.relatedTarget=N,j=null,Hd(u)===d&&(p=new p(g,w+"enter",x,r,u),p.target=N,p.relatedTarget=v,j=p),v=j,m&&x)t:{for(p=m,g=x,w=0,N=p;N;N=sh(N))w++;for(N=0,j=g;j;j=sh(j))N++;for(;0<w-N;)p=sh(p),w--;for(;0<N-w;)g=sh(g),N--;for(;w--;){if(p===g||g!==null&&p===g.alternate)break t;p=sh(p),g=sh(g)}p=null}else p=null;m!==null&&pR(h,f,m,p,!1),x!==null&&v!==null&&pR(h,v,x,p,!0)}}e:{if(f=d?_h(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var b=QQ;else if(oR(f))if(L5)b=tZ;else{b=JQ;var S=ZQ}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=eZ);if(b&&(b=b(t,d))){M5(h,b,r,u);break e}S&&S(t,f,d),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&TE(f,"number",f.value)}switch(S=d?_h(d):window,t){case"focusin":(oR(S)||S.contentEditable==="true")&&(Th=S,VE=d,Gp=null);break;case"focusout":Gp=VE=Th=null;break;case"mousedown":zE=!0;break;case"contextmenu":case"mouseup":case"dragend":zE=!1,hR(h,r,u);break;case"selectionchange":if(aZ)break;case"keydown":case"keyup":hR(h,r,u)}var A;if(Mk)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ph?F5(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(I5&&r.locale!=="ko"&&(Ph||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ph&&(A=R5()):(Ic=u,Ik="value"in Ic?Ic.value:Ic.textContent,Ph=!0)),S=Ry(d,E),0<S.length&&(E=new nR(E,t,null,r,u),h.push({event:E,listeners:S}),A?E.data=A:(A=D5(r),A!==null&&(E.data=A)))),(A=HQ?GQ(t,r):KQ(t,r))&&(d=Ry(d,"onBeforeInput"),0<d.length&&(u=new nR("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=A))}K5(h,e)})}function Rx(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ry(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ax(t,r),i!=null&&n.unshift(Rx(t,i,s)),i=Ax(t,e),i!=null&&n.push(Rx(t,i,s))),t=t.return}return n}function sh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pR(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=Ax(r,i),c!=null&&o.unshift(Rx(r,c,l))):s||(c=Ax(r,i),c!=null&&o.push(Rx(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var lZ=/\r\n?/g,cZ=/\u0000|\uFFFD/g;function xR(t){return(typeof t=="string"?t:""+t).replace(lZ,`
`).replace(cZ,"")}function X0(t,e,r){if(e=xR(e),xR(t)!==e&&r)throw Error(Ke(425))}function Iy(){}var WE=null,qE=null;function HE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var GE=typeof setTimeout=="function"?setTimeout:void 0,dZ=typeof clearTimeout=="function"?clearTimeout:void 0,gR=typeof Promise=="function"?Promise:void 0,uZ=typeof queueMicrotask=="function"?queueMicrotask:typeof gR<"u"?function(t){return gR.resolve(null).then(t).catch(hZ)}:GE;function hZ(t){setTimeout(function(){throw t})}function zN(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Px(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Px(e)}function Wc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var om=Math.random().toString(36).slice(2),Ho="__reactFiber$"+om,Ix="__reactProps$"+om,Wl="__reactContainer$"+om,KE="__reactEvents$"+om,fZ="__reactListeners$"+om,mZ="__reactHandles$"+om;function Hd(t){var e=t[Ho];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Wl]||r[Ho]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=vR(t);t!==null;){if(r=t[Ho])return r;t=vR(t)}return e}t=r,r=t.parentNode}return null}function Xg(t){return t=t[Ho]||t[Wl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _h(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ke(33))}function Hw(t){return t[Ix]||null}var XE=[],Rh=-1;function vd(t){return{current:t}}function cn(t){0>Rh||(t.current=XE[Rh],XE[Rh]=null,Rh--)}function rn(t,e){Rh++,XE[Rh]=t.current,t.current=e}var sd={},Ja=vd(sd),Ps=vd(!1),cu=sd;function gf(t,e){var r=t.type.contextTypes;if(!r)return sd;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ts(t){return t=t.childContextTypes,t!=null}function Fy(){cn(Ps),cn(Ja)}function yR(t,e,r){if(Ja.current!==sd)throw Error(Ke(168));rn(Ja,e),rn(Ps,r)}function Y5(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Ke(108,ZY(t)||"Unknown",s));return bn({},r,n)}function Dy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sd,cu=Ja.current,rn(Ja,t),rn(Ps,Ps.current),!0}function bR(t,e,r){var n=t.stateNode;if(!n)throw Error(Ke(169));r?(t=Y5(t,e,cu),n.__reactInternalMemoizedMergedChildContext=t,cn(Ps),cn(Ja),rn(Ja,t)):cn(Ps),rn(Ps,r)}var Sl=null,Gw=!1,WN=!1;function Q5(t){Sl===null?Sl=[t]:Sl.push(t)}function pZ(t){Gw=!0,Q5(t)}function yd(){if(!WN&&Sl!==null){WN=!0;var t=0,e=Kr;try{var r=Sl;for(Kr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Sl=null,Gw=!1}catch(s){throw Sl!==null&&(Sl=Sl.slice(t+1)),j5(Tk,yd),s}finally{Kr=e,WN=!1}}return null}var Ih=[],Fh=0,My=null,Ly=0,Ei=[],Si=0,du=null,Cl=1,kl="";function Ld(t,e){Ih[Fh++]=Ly,Ih[Fh++]=My,My=t,Ly=e}function Z5(t,e,r){Ei[Si++]=Cl,Ei[Si++]=kl,Ei[Si++]=du,du=t;var n=Cl;t=kl;var s=32-yo(n)-1;n&=~(1<<s),r+=1;var i=32-yo(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Cl=1<<32-yo(e)+s|r<<s|n,kl=i+t}else Cl=1<<i|r<<s|n,kl=t}function Bk(t){t.return!==null&&(Ld(t,1),Z5(t,1,0))}function $k(t){for(;t===My;)My=Ih[--Fh],Ih[Fh]=null,Ly=Ih[--Fh],Ih[Fh]=null;for(;t===du;)du=Ei[--Si],Ei[Si]=null,kl=Ei[--Si],Ei[Si]=null,Cl=Ei[--Si],Ei[Si]=null}var Js=null,Xs=null,un=!1,co=null;function J5(t,e){var r=ki(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function wR(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Js=t,Xs=Wc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Js=t,Xs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=du!==null?{id:Cl,overflow:kl}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ki(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Js=t,Xs=null,!0):!1;default:return!1}}function YE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function QE(t){if(un){var e=Xs;if(e){var r=e;if(!wR(t,e)){if(YE(t))throw Error(Ke(418));e=Wc(r.nextSibling);var n=Js;e&&wR(t,e)?J5(n,r):(t.flags=t.flags&-4097|2,un=!1,Js=t)}}else{if(YE(t))throw Error(Ke(418));t.flags=t.flags&-4097|2,un=!1,Js=t}}}function jR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Js=t}function Y0(t){if(t!==Js)return!1;if(!un)return jR(t),un=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!HE(t.type,t.memoizedProps)),e&&(e=Xs)){if(YE(t))throw e8(),Error(Ke(418));for(;e;)J5(t,e),e=Wc(e.nextSibling)}if(jR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Xs=Wc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Xs=null}}else Xs=Js?Wc(t.stateNode.nextSibling):null;return!0}function e8(){for(var t=Xs;t;)t=Wc(t.nextSibling)}function vf(){Xs=Js=null,un=!1}function Uk(t){co===null?co=[t]:co.push(t)}var xZ=tc.ReactCurrentBatchConfig;function qm(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ke(309));var n=r.stateNode}if(!n)throw Error(Ke(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ke(284));if(!r._owner)throw Error(Ke(290,t))}return t}function Q0(t,e){throw t=Object.prototype.toString.call(e),Error(Ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function NR(t){var e=t._init;return e(t._payload)}function t8(t){function e(g,w){if(t){var N=g.deletions;N===null?(g.deletions=[w],g.flags|=16):N.push(w)}}function r(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function n(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function s(g,w){return g=Kc(g,w),g.index=0,g.sibling=null,g}function i(g,w,N){return g.index=N,t?(N=g.alternate,N!==null?(N=N.index,N<w?(g.flags|=2,w):N):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,w,N,j){return w===null||w.tag!==6?(w=QN(N,g.mode,j),w.return=g,w):(w=s(w,N),w.return=g,w)}function c(g,w,N,j){var b=N.type;return b===kh?u(g,w,N.props.children,j,N.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===wc&&NR(b)===w.type)?(j=s(w,N.props),j.ref=qm(g,w,N),j.return=g,j):(j=ay(N.type,N.key,N.props,null,g.mode,j),j.ref=qm(g,w,N),j.return=g,j)}function d(g,w,N,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=ZN(N,g.mode,j),w.return=g,w):(w=s(w,N.children||[]),w.return=g,w)}function u(g,w,N,j,b){return w===null||w.tag!==7?(w=su(N,g.mode,j,b),w.return=g,w):(w=s(w,N),w.return=g,w)}function h(g,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=QN(""+w,g.mode,N),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $0:return N=ay(w.type,w.key,w.props,null,g.mode,N),N.ref=qm(g,null,w),N.return=g,N;case Ch:return w=ZN(w,g.mode,N),w.return=g,w;case wc:var j=w._init;return h(g,j(w._payload),N)}if(Sp(w)||$m(w))return w=su(w,g.mode,N,null),w.return=g,w;Q0(g,w)}return null}function f(g,w,N,j){var b=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return b!==null?null:l(g,w,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case $0:return N.key===b?c(g,w,N,j):null;case Ch:return N.key===b?d(g,w,N,j):null;case wc:return b=N._init,f(g,w,b(N._payload),j)}if(Sp(N)||$m(N))return b!==null?null:u(g,w,N,j,null);Q0(g,N)}return null}function m(g,w,N,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(N)||null,l(w,g,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $0:return g=g.get(j.key===null?N:j.key)||null,c(w,g,j,b);case Ch:return g=g.get(j.key===null?N:j.key)||null,d(w,g,j,b);case wc:var S=j._init;return m(g,w,N,S(j._payload),b)}if(Sp(j)||$m(j))return g=g.get(N)||null,u(w,g,j,b,null);Q0(w,j)}return null}function x(g,w,N,j){for(var b=null,S=null,A=w,E=w=0,P=null;A!==null&&E<N.length;E++){A.index>E?(P=A,A=null):P=A.sibling;var O=f(g,A,N[E],j);if(O===null){A===null&&(A=P);break}t&&A&&O.alternate===null&&e(g,A),w=i(O,w,E),S===null?b=O:S.sibling=O,S=O,A=P}if(E===N.length)return r(g,A),un&&Ld(g,E),b;if(A===null){for(;E<N.length;E++)A=h(g,N[E],j),A!==null&&(w=i(A,w,E),S===null?b=A:S.sibling=A,S=A);return un&&Ld(g,E),b}for(A=n(g,A);E<N.length;E++)P=m(A,g,E,N[E],j),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?E:P.key),w=i(P,w,E),S===null?b=P:S.sibling=P,S=P);return t&&A.forEach(function(k){return e(g,k)}),un&&Ld(g,E),b}function p(g,w,N,j){var b=$m(N);if(typeof b!="function")throw Error(Ke(150));if(N=b.call(N),N==null)throw Error(Ke(151));for(var S=b=null,A=w,E=w=0,P=null,O=N.next();A!==null&&!O.done;E++,O=N.next()){A.index>E?(P=A,A=null):P=A.sibling;var k=f(g,A,O.value,j);if(k===null){A===null&&(A=P);break}t&&A&&k.alternate===null&&e(g,A),w=i(k,w,E),S===null?b=k:S.sibling=k,S=k,A=P}if(O.done)return r(g,A),un&&Ld(g,E),b;if(A===null){for(;!O.done;E++,O=N.next())O=h(g,O.value,j),O!==null&&(w=i(O,w,E),S===null?b=O:S.sibling=O,S=O);return un&&Ld(g,E),b}for(A=n(g,A);!O.done;E++,O=N.next())O=m(A,g,E,O.value,j),O!==null&&(t&&O.alternate!==null&&A.delete(O.key===null?E:O.key),w=i(O,w,E),S===null?b=O:S.sibling=O,S=O);return t&&A.forEach(function(L){return e(g,L)}),un&&Ld(g,E),b}function v(g,w,N,j){if(typeof N=="object"&&N!==null&&N.type===kh&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case $0:e:{for(var b=N.key,S=w;S!==null;){if(S.key===b){if(b=N.type,b===kh){if(S.tag===7){r(g,S.sibling),w=s(S,N.props.children),w.return=g,g=w;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===wc&&NR(b)===S.type){r(g,S.sibling),w=s(S,N.props),w.ref=qm(g,S,N),w.return=g,g=w;break e}r(g,S);break}else e(g,S);S=S.sibling}N.type===kh?(w=su(N.props.children,g.mode,j,N.key),w.return=g,g=w):(j=ay(N.type,N.key,N.props,null,g.mode,j),j.ref=qm(g,w,N),j.return=g,g=j)}return o(g);case Ch:e:{for(S=N.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){r(g,w.sibling),w=s(w,N.children||[]),w.return=g,g=w;break e}else{r(g,w);break}else e(g,w);w=w.sibling}w=ZN(N,g.mode,j),w.return=g,g=w}return o(g);case wc:return S=N._init,v(g,w,S(N._payload),j)}if(Sp(N))return x(g,w,N,j);if($m(N))return p(g,w,N,j);Q0(g,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(r(g,w.sibling),w=s(w,N),w.return=g,g=w):(r(g,w),w=QN(N,g.mode,j),w.return=g,g=w),o(g)):r(g,w)}return v}var yf=t8(!0),r8=t8(!1),By=vd(null),$y=null,Dh=null,Vk=null;function zk(){Vk=Dh=$y=null}function Wk(t){var e=By.current;cn(By),t._currentValue=e}function ZE(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Yh(t,e){$y=t,Vk=Dh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(As=!0),t.firstContext=null)}function Bi(t){var e=t._currentValue;if(Vk!==t)if(t={context:t,memoizedValue:e,next:null},Dh===null){if($y===null)throw Error(Ke(308));Dh=t,$y.dependencies={lanes:0,firstContext:t}}else Dh=Dh.next=t;return e}var Gd=null;function qk(t){Gd===null?Gd=[t]:Gd.push(t)}function n8(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,qk(e)):(r.next=s.next,s.next=r),e.interleaved=r,ql(t,n)}function ql(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var jc=!1;function Hk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Or&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ql(t,r)}return s=n.interleaved,s===null?(e.next=e,qk(n)):(e.next=s.next,s.next=e),n.interleaved=e,ql(t,r)}function Zv(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ok(t,r)}}function ER(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Uy(t,e,r,n){var s=t.updateQueue;jc=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,p=l;switch(f=e,m=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){h=x.call(m,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,f=typeof x=="function"?x.call(m,h,f):x,f==null)break e;h=bn({},h,f);break e;case 2:jc=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hu|=o,t.lanes=o,t.memoizedState=h}}function SR(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ke(191,s));s.call(n)}}}var Yg={},el=vd(Yg),Fx=vd(Yg),Dx=vd(Yg);function Kd(t){if(t===Yg)throw Error(Ke(174));return t}function Gk(t,e){switch(rn(Dx,e),rn(Fx,t),rn(el,Yg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_E(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_E(e,t)}cn(el),rn(el,e)}function bf(){cn(el),cn(Fx),cn(Dx)}function s8(t){Kd(Dx.current);var e=Kd(el.current),r=_E(e,t.type);e!==r&&(rn(Fx,t),rn(el,r))}function Kk(t){Fx.current===t&&(cn(el),cn(Fx))}var xn=vd(0);function Vy(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qN=[];function Xk(){for(var t=0;t<qN.length;t++)qN[t]._workInProgressVersionPrimary=null;qN.length=0}var Jv=tc.ReactCurrentDispatcher,HN=tc.ReactCurrentBatchConfig,uu=0,vn=null,Yn=null,ha=null,zy=!1,Kp=!1,Mx=0,gZ=0;function Ba(){throw Error(Ke(321))}function Yk(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!jo(t[r],e[r]))return!1;return!0}function Qk(t,e,r,n,s,i){if(uu=i,vn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jv.current=t===null||t.memoizedState===null?wZ:jZ,t=r(n,s),Kp){i=0;do{if(Kp=!1,Mx=0,25<=i)throw Error(Ke(301));i+=1,ha=Yn=null,e.updateQueue=null,Jv.current=NZ,t=r(n,s)}while(Kp)}if(Jv.current=Wy,e=Yn!==null&&Yn.next!==null,uu=0,ha=Yn=vn=null,zy=!1,e)throw Error(Ke(300));return t}function Zk(){var t=Mx!==0;return Mx=0,t}function Wo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ha===null?vn.memoizedState=ha=t:ha=ha.next=t,ha}function $i(){if(Yn===null){var t=vn.alternate;t=t!==null?t.memoizedState:null}else t=Yn.next;var e=ha===null?vn.memoizedState:ha.next;if(e!==null)ha=e,Yn=t;else{if(t===null)throw Error(Ke(310));Yn=t,t={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},ha===null?vn.memoizedState=ha=t:ha=ha.next=t}return ha}function Lx(t,e){return typeof e=="function"?e(t):e}function GN(t){var e=$i(),r=e.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=t;var n=Yn,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((uu&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,vn.lanes|=u,hu|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,jo(n,e.memoizedState)||(As=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,vn.lanes|=i,hu|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function KN(t){var e=$i(),r=e.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jo(i,e.memoizedState)||(As=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function i8(){}function o8(t,e){var r=vn,n=$i(),s=e(),i=!jo(n.memoizedState,s);if(i&&(n.memoizedState=s,As=!0),n=n.queue,Jk(d8.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ha!==null&&ha.memoizedState.tag&1){if(r.flags|=2048,Bx(9,c8.bind(null,r,n,s,e),void 0,null),xa===null)throw Error(Ke(349));uu&30||l8(r,e,s)}return s}function l8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=vn.updateQueue,e===null?(e={lastEffect:null,stores:null},vn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function c8(t,e,r,n){e.value=r,e.getSnapshot=n,u8(e)&&h8(t)}function d8(t,e,r){return r(function(){u8(e)&&h8(t)})}function u8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!jo(t,r)}catch{return!0}}function h8(t){var e=ql(t,1);e!==null&&bo(e,t,1,-1)}function AR(t){var e=Wo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lx,lastRenderedState:t},e.queue=t,t=t.dispatch=bZ.bind(null,vn,t),[e.memoizedState,t]}function Bx(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=vn.updateQueue,e===null?(e={lastEffect:null,stores:null},vn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function f8(){return $i().memoizedState}function ey(t,e,r,n){var s=Wo();vn.flags|=t,s.memoizedState=Bx(1|e,r,void 0,n===void 0?null:n)}function Kw(t,e,r,n){var s=$i();n=n===void 0?null:n;var i=void 0;if(Yn!==null){var o=Yn.memoizedState;if(i=o.destroy,n!==null&&Yk(n,o.deps)){s.memoizedState=Bx(e,r,i,n);return}}vn.flags|=t,s.memoizedState=Bx(1|e,r,i,n)}function CR(t,e){return ey(8390656,8,t,e)}function Jk(t,e){return Kw(2048,8,t,e)}function m8(t,e){return Kw(4,2,t,e)}function p8(t,e){return Kw(4,4,t,e)}function x8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function g8(t,e,r){return r=r!=null?r.concat([t]):null,Kw(4,4,x8.bind(null,e,t),r)}function eP(){}function v8(t,e){var r=$i();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Yk(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function y8(t,e){var r=$i();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Yk(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function b8(t,e,r){return uu&21?(jo(r,e)||(r=S5(),vn.lanes|=r,hu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,As=!0),t.memoizedState=r)}function vZ(t,e){var r=Kr;Kr=r!==0&&4>r?r:4,t(!0);var n=HN.transition;HN.transition={};try{t(!1),e()}finally{Kr=r,HN.transition=n}}function w8(){return $i().memoizedState}function yZ(t,e,r){var n=Gc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},j8(t))N8(e,r);else if(r=n8(t,e,r,n),r!==null){var s=us();bo(r,t,n,s),E8(r,e,n)}}function bZ(t,e,r){var n=Gc(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(j8(t))N8(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,jo(l,o)){var c=e.interleaved;c===null?(s.next=s,qk(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=n8(t,e,s,n),r!==null&&(s=us(),bo(r,t,n,s),E8(r,e,n))}}function j8(t){var e=t.alternate;return t===vn||e!==null&&e===vn}function N8(t,e){Kp=zy=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function E8(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ok(t,r)}}var Wy={readContext:Bi,useCallback:Ba,useContext:Ba,useEffect:Ba,useImperativeHandle:Ba,useInsertionEffect:Ba,useLayoutEffect:Ba,useMemo:Ba,useReducer:Ba,useRef:Ba,useState:Ba,useDebugValue:Ba,useDeferredValue:Ba,useTransition:Ba,useMutableSource:Ba,useSyncExternalStore:Ba,useId:Ba,unstable_isNewReconciler:!1},wZ={readContext:Bi,useCallback:function(t,e){return Wo().memoizedState=[t,e===void 0?null:e],t},useContext:Bi,useEffect:CR,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ey(4194308,4,x8.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ey(4194308,4,t,e)},useInsertionEffect:function(t,e){return ey(4,2,t,e)},useMemo:function(t,e){var r=Wo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Wo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=yZ.bind(null,vn,t),[n.memoizedState,t]},useRef:function(t){var e=Wo();return t={current:t},e.memoizedState=t},useState:AR,useDebugValue:eP,useDeferredValue:function(t){return Wo().memoizedState=t},useTransition:function(){var t=AR(!1),e=t[0];return t=vZ.bind(null,t[1]),Wo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=vn,s=Wo();if(un){if(r===void 0)throw Error(Ke(407));r=r()}else{if(r=e(),xa===null)throw Error(Ke(349));uu&30||l8(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,CR(d8.bind(null,n,i,t),[t]),n.flags|=2048,Bx(9,c8.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Wo(),e=xa.identifierPrefix;if(un){var r=kl,n=Cl;r=(n&~(1<<32-yo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Mx++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=gZ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jZ={readContext:Bi,useCallback:v8,useContext:Bi,useEffect:Jk,useImperativeHandle:g8,useInsertionEffect:m8,useLayoutEffect:p8,useMemo:y8,useReducer:GN,useRef:f8,useState:function(){return GN(Lx)},useDebugValue:eP,useDeferredValue:function(t){var e=$i();return b8(e,Yn.memoizedState,t)},useTransition:function(){var t=GN(Lx)[0],e=$i().memoizedState;return[t,e]},useMutableSource:i8,useSyncExternalStore:o8,useId:w8,unstable_isNewReconciler:!1},NZ={readContext:Bi,useCallback:v8,useContext:Bi,useEffect:Jk,useImperativeHandle:g8,useInsertionEffect:m8,useLayoutEffect:p8,useMemo:y8,useReducer:KN,useRef:f8,useState:function(){return KN(Lx)},useDebugValue:eP,useDeferredValue:function(t){var e=$i();return Yn===null?e.memoizedState=t:b8(e,Yn.memoizedState,t)},useTransition:function(){var t=KN(Lx)[0],e=$i().memoizedState;return[t,e]},useMutableSource:i8,useSyncExternalStore:o8,useId:w8,unstable_isNewReconciler:!1};function ao(t,e){if(t&&t.defaultProps){e=bn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function JE(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:bn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Xw={isMounted:function(t){return(t=t._reactInternals)?Bu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=us(),s=Gc(t),i=Rl(n,s);i.payload=e,r!=null&&(i.callback=r),e=qc(t,i,s),e!==null&&(bo(e,t,s,n),Zv(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=us(),s=Gc(t),i=Rl(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=qc(t,i,s),e!==null&&(bo(e,t,s,n),Zv(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=us(),n=Gc(t),s=Rl(r,n);s.tag=2,e!=null&&(s.callback=e),e=qc(t,s,n),e!==null&&(bo(e,t,n,r),Zv(e,t,n))}};function kR(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ox(r,n)||!Ox(s,i):!0}function S8(t,e,r){var n=!1,s=sd,i=e.contextType;return typeof i=="object"&&i!==null?i=Bi(i):(s=Ts(e)?cu:Ja.current,n=e.contextTypes,i=(n=n!=null)?gf(t,s):sd),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function PR(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Xw.enqueueReplaceState(e,e.state,null)}function eS(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Hk(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Bi(i):(i=Ts(e)?cu:Ja.current,s.context=gf(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(JE(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xw.enqueueReplaceState(s,s.state,null),Uy(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function wf(t,e){try{var r="",n=e;do r+=QY(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function XN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function tS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var EZ=typeof WeakMap=="function"?WeakMap:Map;function A8(t,e,r){r=Rl(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Hy||(Hy=!0,uS=n),tS(t,e)},r}function C8(t,e,r){r=Rl(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){tS(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){tS(t,e),typeof n!="function"&&(Hc===null?Hc=new Set([this]):Hc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function TR(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new EZ;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=LZ.bind(null,t,e,r),e.then(t,t))}function OR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _R(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Rl(-1,1),e.tag=2,qc(r,e,1))),r.lanes|=1),t)}var SZ=tc.ReactCurrentOwner,As=!1;function is(t,e,r,n){e.child=t===null?r8(e,null,r,n):yf(e,t.child,r,n)}function RR(t,e,r,n,s){r=r.render;var i=e.ref;return Yh(e,s),n=Qk(t,e,r,n,i,s),r=Zk(),t!==null&&!As?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hl(t,e,s)):(un&&r&&Bk(e),e.flags|=1,is(t,e,n,s),e.child)}function IR(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!lP(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,k8(t,e,i,n,s)):(t=ay(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ox,r(o,n)&&t.ref===e.ref)return Hl(t,e,s)}return e.flags|=1,t=Kc(i,n),t.ref=e.ref,t.return=e,e.child=t}function k8(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ox(i,n)&&t.ref===e.ref)if(As=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(As=!0);else return e.lanes=t.lanes,Hl(t,e,s)}return rS(t,e,r,n,s)}function P8(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(Lh,Vs),Vs|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rn(Lh,Vs),Vs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,rn(Lh,Vs),Vs|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,rn(Lh,Vs),Vs|=n;return is(t,e,s,r),e.child}function T8(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function rS(t,e,r,n,s){var i=Ts(r)?cu:Ja.current;return i=gf(e,i),Yh(e,s),r=Qk(t,e,r,n,i,s),n=Zk(),t!==null&&!As?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hl(t,e,s)):(un&&n&&Bk(e),e.flags|=1,is(t,e,r,s),e.child)}function FR(t,e,r,n,s){if(Ts(r)){var i=!0;Dy(e)}else i=!1;if(Yh(e,s),e.stateNode===null)ty(t,e),S8(e,r,n),eS(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Bi(d):(d=Ts(r)?cu:Ja.current,d=gf(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&PR(e,o,n,d),jc=!1;var f=e.memoizedState;o.state=f,Uy(e,n,o,s),c=e.memoizedState,l!==n||f!==c||Ps.current||jc?(typeof u=="function"&&(JE(e,r,u,n),c=e.memoizedState),(l=jc||kR(e,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,a8(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:ao(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bi(c):(c=Ts(r)?cu:Ja.current,c=gf(e,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&PR(e,o,n,c),jc=!1,f=e.memoizedState,o.state=f,Uy(e,n,o,s);var x=e.memoizedState;l!==h||f!==x||Ps.current||jc?(typeof m=="function"&&(JE(e,r,m,n),x=e.memoizedState),(d=jc||kR(e,r,d,n,f,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return nS(t,e,r,n,i,s)}function nS(t,e,r,n,s,i){T8(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&bR(e,r,!1),Hl(t,e,i);n=e.stateNode,SZ.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=yf(e,t.child,null,i),e.child=yf(e,null,l,i)):is(t,e,l,i),e.memoizedState=n.state,s&&bR(e,r,!0),e.child}function O8(t){var e=t.stateNode;e.pendingContext?yR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yR(t,e.context,!1),Gk(t,e.containerInfo)}function DR(t,e,r,n,s){return vf(),Uk(s),e.flags|=256,is(t,e,r,n),e.child}var aS={dehydrated:null,treeContext:null,retryLane:0};function sS(t){return{baseLanes:t,cachePool:null,transitions:null}}function _8(t,e,r){var n=e.pendingProps,s=xn.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),rn(xn,s&1),t===null)return QE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zw(o,n,0,null),t=su(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sS(r),e.memoizedState=aS,t):tP(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return AZ(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Kc(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Kc(l,i):(i=su(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?sS(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=aS,n}return i=t.child,t=i.sibling,n=Kc(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function tP(t,e){return e=Zw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Z0(t,e,r,n){return n!==null&&Uk(n),yf(e,t.child,null,r),t=tP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AZ(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=XN(Error(Ke(422))),Z0(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Zw({mode:"visible",children:n.children},s,0,null),i=su(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&yf(e,t.child,null,o),e.child.memoizedState=sS(o),e.memoizedState=aS,i);if(!(e.mode&1))return Z0(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ke(419)),n=XN(i,n,void 0),Z0(t,e,o,n)}if(l=(o&t.childLanes)!==0,As||l){if(n=xa,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ql(t,s),bo(n,t,s,-1))}return oP(),n=XN(Error(Ke(421))),Z0(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=BZ.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xs=Wc(s.nextSibling),Js=e,un=!0,co=null,t!==null&&(Ei[Si++]=Cl,Ei[Si++]=kl,Ei[Si++]=du,Cl=t.id,kl=t.overflow,du=e),e=tP(e,n.children),e.flags|=4096,e)}function MR(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ZE(t.return,e,r)}function YN(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function R8(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(is(t,e,n.children,r),n=xn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&MR(t,r,e);else if(t.tag===19)MR(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(rn(xn,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Vy(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),YN(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vy(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}YN(e,!0,r,null,i);break;case"together":YN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ty(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ke(153));if(e.child!==null){for(t=e.child,r=Kc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Kc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function CZ(t,e,r){switch(e.tag){case 3:O8(e),vf();break;case 5:s8(e);break;case 1:Ts(e.type)&&Dy(e);break;case 4:Gk(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;rn(By,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(rn(xn,xn.current&1),e.flags|=128,null):r&e.child.childLanes?_8(t,e,r):(rn(xn,xn.current&1),t=Hl(t,e,r),t!==null?t.sibling:null);rn(xn,xn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return R8(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rn(xn,xn.current),n)break;return null;case 22:case 23:return e.lanes=0,P8(t,e,r)}return Hl(t,e,r)}var I8,iS,F8,D8;I8=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};iS=function(){};F8=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Kd(el.current);var i=null;switch(r){case"input":s=kE(t,s),n=kE(t,n),i=[];break;case"select":s=bn({},s,{value:void 0}),n=bn({},n,{value:void 0}),i=[];break;case"textarea":s=OE(t,s),n=OE(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Iy)}RE(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ex.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s?.[d],n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ex.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&an("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};D8=function(t,e,r,n){r!==n&&(e.flags|=4)};function Hm(t,e){if(!un)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function $a(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function kZ(t,e,r){var n=e.pendingProps;switch($k(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $a(e),null;case 1:return Ts(e.type)&&Fy(),$a(e),null;case 3:return n=e.stateNode,bf(),cn(Ps),cn(Ja),Xk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Y0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,co!==null&&(mS(co),co=null))),iS(t,e),$a(e),null;case 5:Kk(e);var s=Kd(Dx.current);if(r=e.type,t!==null&&e.stateNode!=null)F8(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ke(166));return $a(e),null}if(t=Kd(el.current),Y0(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ho]=e,n[Ix]=i,t=(e.mode&1)!==0,r){case"dialog":an("cancel",n),an("close",n);break;case"iframe":case"object":case"embed":an("load",n);break;case"video":case"audio":for(s=0;s<Cp.length;s++)an(Cp[s],n);break;case"source":an("error",n);break;case"img":case"image":case"link":an("error",n),an("load",n);break;case"details":an("toggle",n);break;case"input":H_(n,i),an("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},an("invalid",n);break;case"textarea":K_(n,i),an("invalid",n)}RE(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&X0(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&X0(n.textContent,l,t),s=["children",""+l]):Ex.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&an("scroll",n)}switch(r){case"input":U0(n),G_(n,i,!0);break;case"textarea":U0(n),X_(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Iy)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=d5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ho]=e,t[Ix]=n,I8(t,e,!1,!1),e.stateNode=t;e:{switch(o=IE(r,n),r){case"dialog":an("cancel",t),an("close",t),s=n;break;case"iframe":case"object":case"embed":an("load",t),s=n;break;case"video":case"audio":for(s=0;s<Cp.length;s++)an(Cp[s],t);s=n;break;case"source":an("error",t),s=n;break;case"img":case"image":case"link":an("error",t),an("load",t),s=n;break;case"details":an("toggle",t),s=n;break;case"input":H_(t,n),s=kE(t,n),an("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=bn({},n,{value:void 0}),an("invalid",t);break;case"textarea":K_(t,n),s=OE(t,n),an("invalid",t);break;default:s=n}RE(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?f5(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&u5(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Sx(t,c):typeof c=="number"&&Sx(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ex.hasOwnProperty(i)?c!=null&&i==="onScroll"&&an("scroll",t):c!=null&&Sk(t,i,c,o))}switch(r){case"input":U0(t),G_(t,n,!1);break;case"textarea":U0(t),X_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ad(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Hh(t,!!n.multiple,i,!1):n.defaultValue!=null&&Hh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Iy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $a(e),null;case 6:if(t&&e.stateNode!=null)D8(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ke(166));if(r=Kd(Dx.current),Kd(el.current),Y0(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ho]=e,(i=n.nodeValue!==r)&&(t=Js,t!==null))switch(t.tag){case 3:X0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&X0(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ho]=e,e.stateNode=n}return $a(e),null;case 13:if(cn(xn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(un&&Xs!==null&&e.mode&1&&!(e.flags&128))e8(),vf(),e.flags|=98560,i=!1;else if(i=Y0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Ke(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ke(317));i[Ho]=e}else vf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$a(e),i=!1}else co!==null&&(mS(co),co=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||xn.current&1?ta===0&&(ta=3):oP())),e.updateQueue!==null&&(e.flags|=4),$a(e),null);case 4:return bf(),iS(t,e),t===null&&_x(e.stateNode.containerInfo),$a(e),null;case 10:return Wk(e.type._context),$a(e),null;case 17:return Ts(e.type)&&Fy(),$a(e),null;case 19:if(cn(xn),i=e.memoizedState,i===null)return $a(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Hm(i,!1);else{if(ta!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vy(t),o!==null){for(e.flags|=128,Hm(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return rn(xn,xn.current&1|2),e.child}t=t.sibling}i.tail!==null&&Pn()>jf&&(e.flags|=128,n=!0,Hm(i,!1),e.lanes=4194304)}else{if(!n)if(t=Vy(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Hm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!un)return $a(e),null}else 2*Pn()-i.renderingStartTime>jf&&r!==1073741824&&(e.flags|=128,n=!0,Hm(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Pn(),e.sibling=null,r=xn.current,rn(xn,n?r&1|2:r&1),e):($a(e),null);case 22:case 23:return iP(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Vs&1073741824&&($a(e),e.subtreeFlags&6&&(e.flags|=8192)):$a(e),null;case 24:return null;case 25:return null}throw Error(Ke(156,e.tag))}function PZ(t,e){switch($k(e),e.tag){case 1:return Ts(e.type)&&Fy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bf(),cn(Ps),cn(Ja),Xk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kk(e),null;case 13:if(cn(xn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ke(340));vf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return cn(xn),null;case 4:return bf(),null;case 10:return Wk(e.type._context),null;case 22:case 23:return iP(),null;case 24:return null;default:return null}}var J0=!1,Ka=!1,TZ=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Mh(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){jn(t,e,n)}else r.current=null}function oS(t,e,r){try{r()}catch(n){jn(t,e,n)}}var LR=!1;function OZ(t,e){if(WE=Oy,t=U5(),Lk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++d===s&&(l=o),f===i&&++u===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(qE={focusedElem:t,selectionRange:r},Oy=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,v=x.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?p:ao(e.type,p),v);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(j){jn(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return x=LR,LR=!1,x}function Xp(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&oS(e,r,i)}s=s.next}while(s!==n)}}function Yw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function lS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function M8(t){var e=t.alternate;e!==null&&(t.alternate=null,M8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ho],delete e[Ix],delete e[KE],delete e[fZ],delete e[mZ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function L8(t){return t.tag===5||t.tag===3||t.tag===4}function BR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Iy));else if(n!==4&&(t=t.child,t!==null))for(cS(t,e,r),t=t.sibling;t!==null;)cS(t,e,r),t=t.sibling}function dS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(dS(t,e,r),t=t.sibling;t!==null;)dS(t,e,r),t=t.sibling}var ja=null,io=!1;function uc(t,e,r){for(r=r.child;r!==null;)B8(t,e,r),r=r.sibling}function B8(t,e,r){if(Jo&&typeof Jo.onCommitFiberUnmount=="function")try{Jo.onCommitFiberUnmount(Vw,r)}catch{}switch(r.tag){case 5:Ka||Mh(r,e);case 6:var n=ja,s=io;ja=null,uc(t,e,r),ja=n,io=s,ja!==null&&(io?(t=ja,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ja.removeChild(r.stateNode));break;case 18:ja!==null&&(io?(t=ja,r=r.stateNode,t.nodeType===8?zN(t.parentNode,r):t.nodeType===1&&zN(t,r),Px(t)):zN(ja,r.stateNode));break;case 4:n=ja,s=io,ja=r.stateNode.containerInfo,io=!0,uc(t,e,r),ja=n,io=s;break;case 0:case 11:case 14:case 15:if(!Ka&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&oS(r,e,o),s=s.next}while(s!==n)}uc(t,e,r);break;case 1:if(!Ka&&(Mh(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){jn(r,e,l)}uc(t,e,r);break;case 21:uc(t,e,r);break;case 22:r.mode&1?(Ka=(n=Ka)||r.memoizedState!==null,uc(t,e,r),Ka=n):uc(t,e,r);break;default:uc(t,e,r)}}function $R(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new TZ),e.forEach(function(n){var s=$Z.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Zi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ja=l.stateNode,io=!1;break e;case 3:ja=l.stateNode.containerInfo,io=!0;break e;case 4:ja=l.stateNode.containerInfo,io=!0;break e}l=l.return}if(ja===null)throw Error(Ke(160));B8(i,o,s),ja=null,io=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){jn(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$8(e,t),e=e.sibling}function $8(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zi(e,t),Mo(t),n&4){try{Xp(3,t,t.return),Yw(3,t)}catch(p){jn(t,t.return,p)}try{Xp(5,t,t.return)}catch(p){jn(t,t.return,p)}}break;case 1:Zi(e,t),Mo(t),n&512&&r!==null&&Mh(r,r.return);break;case 5:if(Zi(e,t),Mo(t),n&512&&r!==null&&Mh(r,r.return),t.flags&32){var s=t.stateNode;try{Sx(s,"")}catch(p){jn(t,t.return,p)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&l5(s,i),IE(l,o);var d=IE(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?f5(s,h):u==="dangerouslySetInnerHTML"?u5(s,h):u==="children"?Sx(s,h):Sk(s,u,h,d)}switch(l){case"input":PE(s,i);break;case"textarea":c5(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Hh(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Hh(s,!!i.multiple,i.defaultValue,!0):Hh(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ix]=i}catch(p){jn(t,t.return,p)}}break;case 6:if(Zi(e,t),Mo(t),n&4){if(t.stateNode===null)throw Error(Ke(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(p){jn(t,t.return,p)}}break;case 3:if(Zi(e,t),Mo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Px(e.containerInfo)}catch(p){jn(t,t.return,p)}break;case 4:Zi(e,t),Mo(t);break;case 13:Zi(e,t),Mo(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(aP=Pn())),n&4&&$R(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ka=(d=Ka)||u,Zi(e,t),Ka=d):Zi(e,t),Mo(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(xt=t,u=t.child;u!==null;){for(h=xt=u;xt!==null;){switch(f=xt,m=f.child,f.tag){case 0:case 11:case 14:case 15:Xp(4,f,f.return);break;case 1:Mh(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(p){jn(n,r,p)}}break;case 5:Mh(f,f.return);break;case 22:if(f.memoizedState!==null){VR(h);continue}}m!==null?(m.return=f,xt=m):VR(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=h5("display",o))}catch(p){jn(t,t.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){jn(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zi(e,t),Mo(t),n&4&&$R(t);break;case 21:break;default:Zi(e,t),Mo(t)}}function Mo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(L8(r)){var n=r;break e}r=r.return}throw Error(Ke(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Sx(s,""),n.flags&=-33);var i=BR(t);dS(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=BR(t);cS(t,l,o);break;default:throw Error(Ke(161))}}catch(c){jn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _Z(t,e,r){xt=t,U8(t)}function U8(t,e,r){for(var n=(t.mode&1)!==0;xt!==null;){var s=xt,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||J0;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ka;l=J0;var d=Ka;if(J0=o,(Ka=c)&&!d)for(xt=s;xt!==null;)o=xt,c=o.child,o.tag===22&&o.memoizedState!==null?zR(s):c!==null?(c.return=o,xt=c):zR(s);for(;i!==null;)xt=i,U8(i),i=i.sibling;xt=s,J0=l,Ka=d}UR(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,xt=i):UR(t)}}function UR(t){for(;xt!==null;){var e=xt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ka||Yw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ka)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ao(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&SR(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}SR(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Px(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}Ka||e.flags&512&&lS(e)}catch(f){jn(e,e.return,f)}}if(e===t){xt=null;break}if(r=e.sibling,r!==null){r.return=e.return,xt=r;break}xt=e.return}}function VR(t){for(;xt!==null;){var e=xt;if(e===t){xt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,xt=r;break}xt=e.return}}function zR(t){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Yw(4,e)}catch(c){jn(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){jn(e,s,c)}}var i=e.return;try{lS(e)}catch(c){jn(e,i,c)}break;case 5:var o=e.return;try{lS(e)}catch(c){jn(e,o,c)}}}catch(c){jn(e,e.return,c)}if(e===t){xt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,xt=l;break}xt=e.return}}var RZ=Math.ceil,qy=tc.ReactCurrentDispatcher,rP=tc.ReactCurrentOwner,_i=tc.ReactCurrentBatchConfig,Or=0,xa=null,$n=null,Oa=0,Vs=0,Lh=vd(0),ta=0,$x=null,hu=0,Qw=0,nP=0,Yp=null,Ss=null,aP=0,jf=1/0,jl=null,Hy=!1,uS=null,Hc=null,ev=!1,Fc=null,Gy=0,Qp=0,hS=null,ry=-1,ny=0;function us(){return Or&6?Pn():ry!==-1?ry:ry=Pn()}function Gc(t){return t.mode&1?Or&2&&Oa!==0?Oa&-Oa:xZ.transition!==null?(ny===0&&(ny=S5()),ny):(t=Kr,t!==0||(t=window.event,t=t===void 0?16:_5(t.type)),t):1}function bo(t,e,r,n){if(50<Qp)throw Qp=0,hS=null,Error(Ke(185));Gg(t,r,n),(!(Or&2)||t!==xa)&&(t===xa&&(!(Or&2)&&(Qw|=r),ta===4&&kc(t,Oa)),Os(t,n),r===1&&Or===0&&!(e.mode&1)&&(jf=Pn()+500,Gw&&yd()))}function Os(t,e){var r=t.callbackNode;xQ(t,e);var n=Ty(t,t===xa?Oa:0);if(n===0)r!==null&&Z_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Z_(r),e===1)t.tag===0?pZ(WR.bind(null,t)):Q5(WR.bind(null,t)),uZ(function(){!(Or&6)&&yd()}),r=null;else{switch(A5(n)){case 1:r=Tk;break;case 4:r=N5;break;case 16:r=Py;break;case 536870912:r=E5;break;default:r=Py}r=X8(r,V8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function V8(t,e){if(ry=-1,ny=0,Or&6)throw Error(Ke(327));var r=t.callbackNode;if(Qh()&&t.callbackNode!==r)return null;var n=Ty(t,t===xa?Oa:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ky(t,n);else{e=n;var s=Or;Or|=2;var i=W8();(xa!==t||Oa!==e)&&(jl=null,jf=Pn()+500,au(t,e));do try{DZ();break}catch(l){z8(t,l)}while(!0);zk(),qy.current=i,Or=s,$n!==null?e=0:(xa=null,Oa=0,e=ta)}if(e!==0){if(e===2&&(s=BE(t),s!==0&&(n=s,e=fS(t,s))),e===1)throw r=$x,au(t,0),kc(t,n),Os(t,Pn()),r;if(e===6)kc(t,n);else{if(s=t.current.alternate,!(n&30)&&!IZ(s)&&(e=Ky(t,n),e===2&&(i=BE(t),i!==0&&(n=i,e=fS(t,i))),e===1))throw r=$x,au(t,0),kc(t,n),Os(t,Pn()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Ke(345));case 2:Bd(t,Ss,jl);break;case 3:if(kc(t,n),(n&130023424)===n&&(e=aP+500-Pn(),10<e)){if(Ty(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){us(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=GE(Bd.bind(null,t,Ss,jl),e);break}Bd(t,Ss,jl);break;case 4:if(kc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-yo(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Pn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RZ(n/1960))-n,10<n){t.timeoutHandle=GE(Bd.bind(null,t,Ss,jl),n);break}Bd(t,Ss,jl);break;case 5:Bd(t,Ss,jl);break;default:throw Error(Ke(329))}}}return Os(t,Pn()),t.callbackNode===r?V8.bind(null,t):null}function fS(t,e){var r=Yp;return t.current.memoizedState.isDehydrated&&(au(t,e).flags|=256),t=Ky(t,e),t!==2&&(e=Ss,Ss=r,e!==null&&mS(e)),t}function mS(t){Ss===null?Ss=t:Ss.push.apply(Ss,t)}function IZ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!jo(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kc(t,e){for(e&=~nP,e&=~Qw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-yo(e),n=1<<r;t[r]=-1,e&=~n}}function WR(t){if(Or&6)throw Error(Ke(327));Qh();var e=Ty(t,0);if(!(e&1))return Os(t,Pn()),null;var r=Ky(t,e);if(t.tag!==0&&r===2){var n=BE(t);n!==0&&(e=n,r=fS(t,n))}if(r===1)throw r=$x,au(t,0),kc(t,e),Os(t,Pn()),r;if(r===6)throw Error(Ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bd(t,Ss,jl),Os(t,Pn()),null}function sP(t,e){var r=Or;Or|=1;try{return t(e)}finally{Or=r,Or===0&&(jf=Pn()+500,Gw&&yd())}}function fu(t){Fc!==null&&Fc.tag===0&&!(Or&6)&&Qh();var e=Or;Or|=1;var r=_i.transition,n=Kr;try{if(_i.transition=null,Kr=1,t)return t()}finally{Kr=n,_i.transition=r,Or=e,!(Or&6)&&yd()}}function iP(){Vs=Lh.current,cn(Lh)}function au(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,dZ(r)),$n!==null)for(r=$n.return;r!==null;){var n=r;switch($k(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fy();break;case 3:bf(),cn(Ps),cn(Ja),Xk();break;case 5:Kk(n);break;case 4:bf();break;case 13:cn(xn);break;case 19:cn(xn);break;case 10:Wk(n.type._context);break;case 22:case 23:iP()}r=r.return}if(xa=t,$n=t=Kc(t.current,null),Oa=Vs=e,ta=0,$x=null,nP=Qw=hu=0,Ss=Yp=null,Gd!==null){for(e=0;e<Gd.length;e++)if(r=Gd[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Gd=null}return t}function z8(t,e){do{var r=$n;try{if(zk(),Jv.current=Wy,zy){for(var n=vn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}zy=!1}if(uu=0,ha=Yn=vn=null,Kp=!1,Mx=0,rP.current=null,r===null||r.return===null){ta=1,$x=e,$n=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=Oa,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=OR(o);if(m!==null){m.flags&=-257,_R(m,o,l,i,e),m.mode&1&&TR(i,d,e),e=m,c=d;var x=e.updateQueue;if(x===null){var p=new Set;p.add(c),e.updateQueue=p}else x.add(c);break e}else{if(!(e&1)){TR(i,d,e),oP();break e}c=Error(Ke(426))}}else if(un&&l.mode&1){var v=OR(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),_R(v,o,l,i,e),Uk(wf(c,l));break e}}i=c=wf(c,l),ta!==4&&(ta=2),Yp===null?Yp=[i]:Yp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=A8(i,c,e);ER(i,g);break e;case 1:l=c;var w=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Hc===null||!Hc.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=C8(i,l,e);ER(i,j);break e}}i=i.return}while(i!==null)}H8(r)}catch(b){e=b,$n===r&&r!==null&&($n=r=r.return);continue}break}while(!0)}function W8(){var t=qy.current;return qy.current=Wy,t===null?Wy:t}function oP(){(ta===0||ta===3||ta===2)&&(ta=4),xa===null||!(hu&268435455)&&!(Qw&268435455)||kc(xa,Oa)}function Ky(t,e){var r=Or;Or|=2;var n=W8();(xa!==t||Oa!==e)&&(jl=null,au(t,e));do try{FZ();break}catch(s){z8(t,s)}while(!0);if(zk(),Or=r,qy.current=n,$n!==null)throw Error(Ke(261));return xa=null,Oa=0,ta}function FZ(){for(;$n!==null;)q8($n)}function DZ(){for(;$n!==null&&!oQ();)q8($n)}function q8(t){var e=K8(t.alternate,t,Vs);t.memoizedProps=t.pendingProps,e===null?H8(t):$n=e,rP.current=null}function H8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=PZ(r,e),r!==null){r.flags&=32767,$n=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ta=6,$n=null;return}}else if(r=kZ(r,e,Vs),r!==null){$n=r;return}if(e=e.sibling,e!==null){$n=e;return}$n=e=t}while(e!==null);ta===0&&(ta=5)}function Bd(t,e,r){var n=Kr,s=_i.transition;try{_i.transition=null,Kr=1,MZ(t,e,r,n)}finally{_i.transition=s,Kr=n}return null}function MZ(t,e,r,n){do Qh();while(Fc!==null);if(Or&6)throw Error(Ke(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ke(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(gQ(t,i),t===xa&&($n=xa=null,Oa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ev||(ev=!0,X8(Py,function(){return Qh(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=_i.transition,_i.transition=null;var o=Kr;Kr=1;var l=Or;Or|=4,rP.current=null,OZ(t,r),$8(r,t),nZ(qE),Oy=!!WE,qE=WE=null,t.current=r,_Z(r),lQ(),Or=l,Kr=o,_i.transition=i}else t.current=r;if(ev&&(ev=!1,Fc=t,Gy=s),i=t.pendingLanes,i===0&&(Hc=null),uQ(r.stateNode),Os(t,Pn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Hy)throw Hy=!1,t=uS,uS=null,t;return Gy&1&&t.tag!==0&&Qh(),i=t.pendingLanes,i&1?t===hS?Qp++:(Qp=0,hS=t):Qp=0,yd(),null}function Qh(){if(Fc!==null){var t=A5(Gy),e=_i.transition,r=Kr;try{if(_i.transition=null,Kr=16>t?16:t,Fc===null)var n=!1;else{if(t=Fc,Fc=null,Gy=0,Or&6)throw Error(Ke(331));var s=Or;for(Or|=4,xt=t.current;xt!==null;){var i=xt,o=i.child;if(xt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(xt=d;xt!==null;){var u=xt;switch(u.tag){case 0:case 11:case 15:Xp(8,u,i)}var h=u.child;if(h!==null)h.return=u,xt=h;else for(;xt!==null;){u=xt;var f=u.sibling,m=u.return;if(M8(u),u===d){xt=null;break}if(f!==null){f.return=m,xt=f;break}xt=m}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}xt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,xt=o;else e:for(;xt!==null;){if(i=xt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xp(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,xt=g;break e}xt=i.return}}var w=t.current;for(xt=w;xt!==null;){o=xt;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,xt=N;else e:for(o=w;xt!==null;){if(l=xt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yw(9,l)}}catch(b){jn(l,l.return,b)}if(l===o){xt=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,xt=j;break e}xt=l.return}}if(Or=s,yd(),Jo&&typeof Jo.onPostCommitFiberRoot=="function")try{Jo.onPostCommitFiberRoot(Vw,t)}catch{}n=!0}return n}finally{Kr=r,_i.transition=e}}return!1}function qR(t,e,r){e=wf(r,e),e=A8(t,e,1),t=qc(t,e,1),e=us(),t!==null&&(Gg(t,1,e),Os(t,e))}function jn(t,e,r){if(t.tag===3)qR(t,t,r);else for(;e!==null;){if(e.tag===3){qR(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hc===null||!Hc.has(n))){t=wf(r,t),t=C8(e,t,1),e=qc(e,t,1),t=us(),e!==null&&(Gg(e,1,t),Os(e,t));break}}e=e.return}}function LZ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=us(),t.pingedLanes|=t.suspendedLanes&r,xa===t&&(Oa&r)===r&&(ta===4||ta===3&&(Oa&130023424)===Oa&&500>Pn()-aP?au(t,0):nP|=r),Os(t,e)}function G8(t,e){e===0&&(t.mode&1?(e=W0,W0<<=1,!(W0&130023424)&&(W0=4194304)):e=1);var r=us();t=ql(t,e),t!==null&&(Gg(t,e,r),Os(t,r))}function BZ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),G8(t,r)}function $Z(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ke(314))}n!==null&&n.delete(e),G8(t,r)}var K8;K8=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ps.current)As=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return As=!1,CZ(t,e,r);As=!!(t.flags&131072)}else As=!1,un&&e.flags&1048576&&Z5(e,Ly,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ty(t,e),t=e.pendingProps;var s=gf(e,Ja.current);Yh(e,r),s=Qk(null,e,n,t,s,r);var i=Zk();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ts(n)?(i=!0,Dy(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hk(e),s.updater=Xw,e.stateNode=s,s._reactInternals=e,eS(e,n,t,r),e=nS(null,e,n,!0,i,r)):(e.tag=0,un&&i&&Bk(e),is(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ty(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=VZ(n),t=ao(n,t),s){case 0:e=rS(null,e,n,t,r);break e;case 1:e=FR(null,e,n,t,r);break e;case 11:e=RR(null,e,n,t,r);break e;case 14:e=IR(null,e,n,ao(n.type,t),r);break e}throw Error(Ke(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ao(n,s),rS(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ao(n,s),FR(t,e,n,s,r);case 3:e:{if(O8(e),t===null)throw Error(Ke(387));n=e.pendingProps,i=e.memoizedState,s=i.element,a8(t,e),Uy(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=wf(Error(Ke(423)),e),e=DR(t,e,n,r,s);break e}else if(n!==s){s=wf(Error(Ke(424)),e),e=DR(t,e,n,r,s);break e}else for(Xs=Wc(e.stateNode.containerInfo.firstChild),Js=e,un=!0,co=null,r=r8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vf(),n===s){e=Hl(t,e,r);break e}is(t,e,n,r)}e=e.child}return e;case 5:return s8(e),t===null&&QE(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,HE(n,s)?o=null:i!==null&&HE(n,i)&&(e.flags|=32),T8(t,e),is(t,e,o,r),e.child;case 6:return t===null&&QE(e),null;case 13:return _8(t,e,r);case 4:return Gk(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yf(e,null,n,r):is(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ao(n,s),RR(t,e,n,s,r);case 7:return is(t,e,e.pendingProps,r),e.child;case 8:return is(t,e,e.pendingProps.children,r),e.child;case 12:return is(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,rn(By,n._currentValue),n._currentValue=o,i!==null)if(jo(i.value,o)){if(i.children===s.children&&!Ps.current){e=Hl(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rl(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ZE(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ke(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ZE(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}is(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Yh(e,r),s=Bi(s),n=n(s),e.flags|=1,is(t,e,n,r),e.child;case 14:return n=e.type,s=ao(n,e.pendingProps),s=ao(n.type,s),IR(t,e,n,s,r);case 15:return k8(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ao(n,s),ty(t,e),e.tag=1,Ts(n)?(t=!0,Dy(e)):t=!1,Yh(e,r),S8(e,n,s),eS(e,n,s,r),nS(null,e,n,!0,t,r);case 19:return R8(t,e,r);case 22:return P8(t,e,r)}throw Error(Ke(156,e.tag))};function X8(t,e){return j5(t,e)}function UZ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(t,e,r,n){return new UZ(t,e,r,n)}function lP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VZ(t){if(typeof t=="function")return lP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ck)return 11;if(t===kk)return 14}return 2}function Kc(t,e){var r=t.alternate;return r===null?(r=ki(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ay(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")lP(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kh:return su(r.children,s,i,e);case Ak:o=8,s|=8;break;case EE:return t=ki(12,r,e,s|2),t.elementType=EE,t.lanes=i,t;case SE:return t=ki(13,r,e,s),t.elementType=SE,t.lanes=i,t;case AE:return t=ki(19,r,e,s),t.elementType=AE,t.lanes=i,t;case s5:return Zw(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case n5:o=10;break e;case a5:o=9;break e;case Ck:o=11;break e;case kk:o=14;break e;case wc:o=16,n=null;break e}throw Error(Ke(130,t==null?t:typeof t,""))}return e=ki(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function su(t,e,r,n){return t=ki(7,t,n,e),t.lanes=r,t}function Zw(t,e,r,n){return t=ki(22,t,n,e),t.elementType=s5,t.lanes=r,t.stateNode={isHidden:!1},t}function QN(t,e,r){return t=ki(6,t,null,e),t.lanes=r,t}function ZN(t,e,r){return e=ki(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zZ(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_N(0),this.expirationTimes=_N(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_N(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cP(t,e,r,n,s,i,o,l,c){return t=new zZ(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ki(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hk(i),t}function WZ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ch,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Y8(t){if(!t)return sd;t=t._reactInternals;e:{if(Bu(t)!==t||t.tag!==1)throw Error(Ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ts(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ke(171))}if(t.tag===1){var r=t.type;if(Ts(r))return Y5(t,r,e)}return e}function Q8(t,e,r,n,s,i,o,l,c){return t=cP(r,n,!0,t,s,i,o,l,c),t.context=Y8(null),r=t.current,n=us(),s=Gc(r),i=Rl(n,s),i.callback=e??null,qc(r,i,s),t.current.lanes=s,Gg(t,s,n),Os(t,n),t}function Jw(t,e,r,n){var s=e.current,i=us(),o=Gc(s);return r=Y8(r),e.context===null?e.context=r:e.pendingContext=r,e=Rl(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=qc(s,e,o),t!==null&&(bo(t,s,o,i),Zv(t,s,o)),o}function Xy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function dP(t,e){HR(t,e),(t=t.alternate)&&HR(t,e)}function qZ(){return null}var Z8=typeof reportError=="function"?reportError:function(t){console.error(t)};function uP(t){this._internalRoot=t}ej.prototype.render=uP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ke(409));Jw(t,e,null,null)};ej.prototype.unmount=uP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fu(function(){Jw(null,t,null,null)}),e[Wl]=null}};function ej(t){this._internalRoot=t}ej.prototype.unstable_scheduleHydration=function(t){if(t){var e=P5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Cc.length&&e!==0&&e<Cc[r].priority;r++);Cc.splice(r,0,t),r===0&&O5(t)}};function hP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tj(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function GR(){}function HZ(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=Xy(o);i.call(d)}}var o=Q8(e,n,t,0,null,!1,!1,"",GR);return t._reactRootContainer=o,t[Wl]=o.current,_x(t.nodeType===8?t.parentNode:t),fu(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Xy(c);l.call(d)}}var c=cP(t,0,!1,null,null,!1,!1,"",GR);return t._reactRootContainer=c,t[Wl]=c.current,_x(t.nodeType===8?t.parentNode:t),fu(function(){Jw(e,c,r,n)}),c}function rj(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Xy(o);l.call(c)}}Jw(e,o,t,s)}else o=HZ(r,e,t,s,n);return Xy(o)}C5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ap(e.pendingLanes);r!==0&&(Ok(e,r|1),Os(e,Pn()),!(Or&6)&&(jf=Pn()+500,yd()))}break;case 13:fu(function(){var n=ql(t,1);if(n!==null){var s=us();bo(n,t,1,s)}}),dP(t,1)}};_k=function(t){if(t.tag===13){var e=ql(t,134217728);if(e!==null){var r=us();bo(e,t,134217728,r)}dP(t,134217728)}};k5=function(t){if(t.tag===13){var e=Gc(t),r=ql(t,e);if(r!==null){var n=us();bo(r,t,e,n)}dP(t,e)}};P5=function(){return Kr};T5=function(t,e){var r=Kr;try{return Kr=t,e()}finally{Kr=r}};DE=function(t,e,r){switch(e){case"input":if(PE(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Hw(n);if(!s)throw Error(Ke(90));o5(n),PE(n,s)}}}break;case"textarea":c5(t,r);break;case"select":e=r.value,e!=null&&Hh(t,!!r.multiple,e,!1)}};x5=sP;g5=fu;var GZ={usingClientEntryPoint:!1,Events:[Xg,_h,Hw,m5,p5,sP]},Gm={findFiberByHostInstance:Hd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KZ={bundleType:Gm.bundleType,version:Gm.version,rendererPackageName:Gm.rendererPackageName,rendererConfig:Gm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b5(t),t===null?null:t.stateNode},findFiberByHostInstance:Gm.findFiberByHostInstance||qZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tv.isDisabled&&tv.supportsFiber)try{Vw=tv.inject(KZ),Jo=tv}catch{}}li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GZ;li.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hP(e))throw Error(Ke(200));return WZ(t,e,null,r)};li.createRoot=function(t,e){if(!hP(t))throw Error(Ke(299));var r=!1,n="",s=Z8;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=cP(t,1,!1,null,null,r,!1,n,s),t[Wl]=e.current,_x(t.nodeType===8?t.parentNode:t),new uP(e)};li.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ke(188)):(t=Object.keys(t).join(","),Error(Ke(268,t)));return t=b5(e),t=t===null?null:t.stateNode,t};li.flushSync=function(t){return fu(t)};li.hydrate=function(t,e,r){if(!tj(e))throw Error(Ke(200));return rj(null,t,e,!0,r)};li.hydrateRoot=function(t,e,r){if(!hP(t))throw Error(Ke(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Z8;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Q8(e,null,t,1,r??null,s,!1,i,o),t[Wl]=e.current,_x(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new ej(e)};li.render=function(t,e,r){if(!tj(e))throw Error(Ke(200));return rj(null,t,e,!1,r)};li.unmountComponentAtNode=function(t){if(!tj(t))throw Error(Ke(40));return t._reactRootContainer?(fu(function(){rj(null,null,t,!1,function(){t._reactRootContainer=null,t[Wl]=null})}),!0):!1};li.unstable_batchedUpdates=sP;li.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!tj(r))throw Error(Ke(200));if(t==null||t._reactInternals===void 0)throw Error(Ke(38));return rj(t,e,r,!1,n)};li.version="18.3.1-next-f1338f8080-20240426";function J8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J8)}catch(t){console.error(t)}}J8(),JB.exports=li;var $u=JB.exports;const XZ=Mr($u);var e$,KR=$u;e$=KR.createRoot,KR.hydrateRoot;function YZ(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,s,i,o=[],l="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~n?n:~i?i:s.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var t$={exports:{}},r$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf=y;function QZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZZ=typeof Object.is=="function"?Object.is:QZ,JZ=Nf.useState,eJ=Nf.useEffect,tJ=Nf.useLayoutEffect,rJ=Nf.useDebugValue;function nJ(t,e){var r=e(),n=JZ({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return tJ(function(){s.value=r,s.getSnapshot=e,JN(s)&&i({inst:s})},[t,r,e]),eJ(function(){return JN(s)&&i({inst:s}),t(function(){JN(s)&&i({inst:s})})},[t]),rJ(r),r}function JN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ZZ(t,r)}catch{return!0}}function aJ(t,e){return e()}var sJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aJ:nJ;r$.useSyncExternalStore=Nf.useSyncExternalStore!==void 0?Nf.useSyncExternalStore:sJ;t$.exports=r$;var n$=t$.exports;const iJ=Uw.useInsertionEffect,oJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lJ=oJ?y.useLayoutEffect:y.useEffect,cJ=iJ||lJ,a$=t=>{const e=y.useRef([t,(...r)=>e[0](...r)]).current;return cJ(()=>{e[0]=t}),e[1]},dJ="popstate",fP="pushState",mP="replaceState",uJ="hashchange",XR=[dJ,fP,mP,uJ],hJ=t=>{for(const e of XR)addEventListener(e,t);return()=>{for(const e of XR)removeEventListener(e,t)}},s$=(t,e)=>n$.useSyncExternalStore(hJ,t,e),YR=()=>location.search,fJ=({ssrSearch:t}={})=>s$(YR,t!=null?()=>t:YR),QR=()=>location.pathname,mJ=({ssrPath:t}={})=>s$(QR,t!=null?()=>t:QR),pJ=(t,{replace:e=!1,state:r=null}={})=>history[e?mP:fP](r,"",t),xJ=(t={})=>[mJ(t),pJ],ZR=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ZR]>"u"){for(const t of[fP,mP]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,ZR,{value:!0})}const gJ=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",i$=(t="")=>t==="/"?"":t,vJ=(t,e)=>t[0]==="~"?t.slice(1):i$(e)+t,yJ=(t="",e)=>gJ(JR(i$(t)),JR(e)),JR=t=>{try{return decodeURI(t)}catch{return t}},o$={hook:xJ,searchHook:fJ,parser:YZ,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},l$=y.createContext(o$),lm=()=>y.useContext(l$),c$={},d$=y.createContext(c$),u$=()=>y.useContext(d$),nj=t=>{const[e,r]=t.hook(t);return[yJ(t.base,e),a$((n,s)=>r(vJ(n,t.base),s))]},wr=()=>nj(lm()),pP=(t,e,r,n)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((h,f)=>[h,c[f]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[l]:[]]:[!1,null]},Ia=t=>pP(lm().parser,t,wr()[0]),bJ=({children:t,...e})=>{const r=lm(),n=e.hook?o$:r;let s=n;const[i,o]=e.ssrPath?.split("?")??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??e.hook?.hrefs,e.searchHook=e.searchHook??e.hook?.searchHook;let l=y.useRef({}),c=l.current,d=c;for(let u in n){const h=u==="base"?n[u]+(e[u]||""):e[u]||n[u];c===d&&h!==d[u]&&(l.current=d={...d}),d[u]=h,(h!==n[u]||h!==s[u])&&(s=d)}return y.createElement(l$.Provider,{value:s,children:t})},eI=({children:t,component:e},r)=>e?y.createElement(e,{params:r}):typeof t=="function"?t(r):t,wJ=t=>{let e=y.useRef(c$);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,s])=>s!==r[n])?t:r},hr=({path:t,nest:e,match:r,...n})=>{const s=lm(),[i]=nj(s),[o,l,c]=r??pP(s.parser,t,i,e),d=wJ({...u$(),...l});if(!o)return null;const u=c?y.createElement(bJ,{base:c},eI(n,d)):eI(n,d);return y.createElement(d$.Provider,{value:d,children:u})},fa=y.forwardRef((t,e)=>{const r=lm(),[n,s]=nj(r),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:h,state:f,...m}=t,x=a$(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l?.(v),v.defaultPrevented||(v.preventDefault(),s(o,t)))}),p=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&y.isValidElement(d)?y.cloneElement(d,{onClick:x,href:p}):y.createElement("a",{...m,onClick:x,href:p,className:u?.call?u(n===o):u,children:d,ref:e})}),h$=t=>Array.isArray(t)?t.flatMap(e=>h$(e&&e.type===y.Fragment?e.props.children:e)):[t],jJ=({children:t,location:e})=>{const r=lm(),[n]=nj(r);for(const s of h$(t)){let i=0;if(y.isValidElement(s)&&(i=pP(r.parser,s.props.path,e||n,s.props.nest))[0])return y.cloneElement(s,{match:i})}return null};var cm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},NJ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},EJ=class{#e=NJ;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Xd=new EJ;function SJ(t){setTimeout(t,0)}var mu=typeof window>"u"||"Deno"in globalThis;function os(){}function AJ(t,e){return typeof t=="function"?t(e):t}function pS(t){return typeof t=="number"&&t>=0&&t!==1/0}function f$(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Xc(t,e){return typeof t=="function"?t(e):t}function ji(t,e){return typeof t=="function"?t(e):t}function tI(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==xP(o,e.options))return!1}else if(!Ux(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function rI(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(pu(e.options.mutationKey)!==pu(i))return!1}else if(!Ux(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function xP(t,e){return(e?.queryKeyHashFn||pu)(t)}function pu(t){return JSON.stringify(t,(e,r)=>xS(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ux(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Ux(t[r],e[r])):!1}var CJ=Object.prototype.hasOwnProperty;function m$(t,e){if(t===e)return t;const r=nI(t)&&nI(e);if(!r&&!(xS(t)&&xS(e)))return e;const s=(r?t:Object.keys(t)).length,i=r?e:Object.keys(e),o=i.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d],h=t[u],f=e[u];if(h===f){l[u]=h,(r?d<s:CJ.call(t,u))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[u]=f;continue}const m=m$(h,f);l[u]=m,m===h&&c++}return s===o&&c===s?t:l}function Yy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function nI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xS(t){if(!aI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!aI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function aI(t){return Object.prototype.toString.call(t)==="[object Object]"}function kJ(t){return new Promise(e=>{Xd.setTimeout(e,t)})}function gS(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?m$(t,e):e}function Gl(t){return t}function PJ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function TJ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var gP=Symbol();function p$(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===gP?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function x$(t,e){return typeof t=="function"?t(...e):!!t}var OJ=class extends cm{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!mu&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},vP=new OJ;function vS(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var _J=SJ;function RJ(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=_J;const i=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Zn=RJ(),IJ=class extends cm{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!mu&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Qy=new IJ;function FJ(t){return Math.min(1e3*2**t,3e4)}function g$(t){return(t??"online")==="online"?Qy.isOnline():!0}var yS=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function v$(t){let e=!1,r=0,n;const s=vS(),i=()=>s.status!=="pending",o=p=>{if(!i()){const v=new yS(p);f(v),t.onCancel?.(v)}},l=()=>{e=!0},c=()=>{e=!1},d=()=>vP.isFocused()&&(t.networkMode==="always"||Qy.isOnline())&&t.canRun(),u=()=>g$(t.networkMode)&&t.canRun(),h=p=>{i()||(n?.(),s.resolve(p))},f=p=>{i()||(n?.(),s.reject(p))},m=()=>new Promise(p=>{n=v=>{(i()||d())&&p(v)},t.onPause?.()}).then(()=>{n=void 0,i()||t.onContinue?.()}),x=()=>{if(i())return;let p;const v=r===0?t.initialPromise:void 0;try{p=v??t.fn()}catch(g){p=Promise.reject(g)}Promise.resolve(p).then(h).catch(g=>{if(i())return;const w=t.retry??(mu?0:3),N=t.retryDelay??FJ,j=typeof N=="function"?N(r,g):N,b=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,g);if(e||!b){f(g);return}r++,t.onFail?.(r,g),kJ(j).then(()=>d()?void 0:m()).then(()=>{e?f(g):x()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n?.(),s),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():m().then(x),s)}}var y$=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pS(this.gcTime)&&(this.#e=Xd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(mu?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(Xd.clearTimeout(this.#e),this.#e=void 0)}},DJ=class extends y${#e;#t;#r;#n;#a;#s;#l;constructor(t){super(),this.#l=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=iI(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=iI(this.options);e.data!==void 0&&(this.setState(sI(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=gS(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#a?.promise;return this.#a?.cancel(t),e?e.then(os).catch(os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>ji(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Xc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!f$(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},s=()=>{const l=p$(this.options,e),d=(()=>{const u={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(u),u})();return this.#l=!1,this.options.persister?this.options.persister(l,d,this):l(d)},o=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:s};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta}),this.#a=v$({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof yS&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(l,c)=>{this.#o({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#a.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof yS){if(l.silent)return this.#a.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#o({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#o(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...b$(r.data,this.options),fetchMeta:t.meta??null};case"success":const n={...r,...sI(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?n:void 0,n;case"error":const s=t.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),Zn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function b$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:g$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function sI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function iI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var w$=class extends cm{constructor(t,e){super(),this.options=e,this.#e=t,this.#o=null,this.#l=vS(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#a;#s;#l;#o;#d;#c;#u;#i;#h;#m;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),oI(this.#t,this.options)?this.#x():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bS(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bS(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#E(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ji(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),e._defaulted&&!Yy(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&lI(this.#t,r,this.options,e)&&this.#x(),this.updateResult(),n&&(this.#t!==r||ji(this.options.enabled,this.#t)!==ji(e.enabled,this.#t)||Xc(this.options.staleTime,this.#t)!==Xc(e.staleTime,this.#t))&&this.#g();const s=this.#p();n&&(this.#t!==r||ji(this.options.enabled,this.#t)!==ji(e.enabled,this.#t)||s!==this.#m)&&this.#v(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return LJ(this,r)&&(this.#n=r,this.#s=this.options,this.#a=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(t){this.#f.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#x({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#x(t){this.#j();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(os)),e}#g(){this.#E();const t=Xc(this.options.staleTime,this.#t);if(mu||this.#n.isStale||!pS(t))return;const r=f$(this.#n.dataUpdatedAt,t)+1;this.#i=Xd.setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#p(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#m=t,!(mu||ji(this.options.enabled,this.#t)===!1||!pS(this.#m)||this.#m===0)&&(this.#h=Xd.setInterval(()=>{(this.options.refetchIntervalInBackground||vP.isFocused())&&this.#x()},this.#m))}#b(){this.#g(),this.#v(this.#p())}#E(){this.#i&&(Xd.clearTimeout(this.#i),this.#i=void 0)}#w(){this.#h&&(Xd.clearInterval(this.#h),this.#h=void 0)}createResult(t,e){const r=this.#t,n=this.options,s=this.#n,i=this.#a,o=this.#s,c=t!==r?t.state:this.#r,{state:d}=t;let u={...d},h=!1,f;if(e._optimisticResults){const E=this.hasListeners(),P=!E&&oI(t,e),O=E&&lI(t,r,e,n);(P||O)&&(u={...u,...b$(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:m,errorUpdatedAt:x,status:p}=u;f=u.data;let v=!1;if(e.placeholderData!==void 0&&f===void 0&&p==="pending"){let E;s?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(E=s.data,v=!0):E=typeof e.placeholderData=="function"?e.placeholderData(this.#u?.state.data,this.#u):e.placeholderData,E!==void 0&&(p="success",f=gS(s?.data,E,e),h=!0)}if(e.select&&f!==void 0&&!v)if(s&&f===i?.data&&e.select===this.#d)f=this.#c;else try{this.#d=e.select,f=e.select(f),f=gS(s?.data,f,e),this.#c=f,this.#o=null}catch(E){this.#o=E}this.#o&&(m=this.#o,f=this.#c,x=Date.now(),p="error");const g=u.fetchStatus==="fetching",w=p==="pending",N=p==="error",j=w&&g,b=f!==void 0,A={status:p,fetchStatus:u.fetchStatus,isPending:w,isSuccess:p==="success",isError:N,isInitialLoading:j,isLoading:j,data:f,dataUpdatedAt:u.dataUpdatedAt,error:m,errorUpdatedAt:x,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!w,isLoadingError:N&&!b,isPaused:u.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&b,isStale:yP(t,e),refetch:this.refetch,promise:this.#l,isEnabled:ji(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=k=>{A.status==="error"?k.reject(A.error):A.data!==void 0&&k.resolve(A.data)},P=()=>{const k=this.#l=A.promise=vS();E(k)},O=this.#l;switch(O.status){case"pending":t.queryHash===r.queryHash&&E(O);break;case"fulfilled":(A.status==="error"||A.data!==O.value)&&P();break;case"rejected":(A.status!=="error"||A.error!==O.reason)&&P();break}}return A}updateResult(){const t=this.#n,e=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#s=this.options,this.#a.data!==void 0&&(this.#u=this.#t),Yy(e,t))return;this.#n=e;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,s=typeof n=="function"?n():n;if(s==="all"||!s&&!this.#f.size)return!0;const i=new Set(s??this.#f);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==t[l]&&i.has(l)})};this.#P({listeners:r()})}#j(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#P(t){Zn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function MJ(t,e){return ji(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function oI(t,e){return MJ(t,e)||t.state.data!==void 0&&bS(t,e,e.refetchOnMount)}function bS(t,e,r){if(ji(e.enabled,t)!==!1&&Xc(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&yP(t,e)}return!1}function lI(t,e,r,n){return(t!==e||ji(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&yP(t,r)}function yP(t,e){return ji(e.enabled,t)!==!1&&t.isStaleByTime(Xc(e.staleTime,t))}function LJ(t,e){return!Yy(t.getCurrentResult(),e)}function Zy(t){return{onFetch:(e,r)=>{const n=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const h=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=p$(e.options,e.fetchOptions),m=async(x,p,v)=>{if(u)return Promise.reject();if(p==null&&x.pages.length)return Promise.resolve(x);const w=(()=>{const S={client:e.client,queryKey:e.queryKey,pageParam:p,direction:v?"backward":"forward",meta:e.options.meta};return h(S),S})(),N=await f(w),{maxPages:j}=e.options,b=v?TJ:PJ;return{pages:b(x.pages,N,j),pageParams:b(x.pageParams,p,j)}};if(s&&i.length){const x=s==="backward",p=x?j$:wS,v={pages:i,pageParams:o},g=p(n,v);l=await m(v,g,x)}else{const x=t??i.length;do{const p=c===0?o[0]??n.initialPageParam:wS(n,l);if(c>0&&p==null)break;l=await m(l,p),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=d}}}function wS(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function j$(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}function BJ(t,e){return e?wS(t,e)!=null:!1}function $J(t,e){return!e||!t.getPreviousPageParam?!1:j$(t,e)!=null}var UJ=class extends w${constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:Zy()})}getOptimisticResult(t){return t.behavior=Zy(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:r}=t,n=super.createResult(t,e),{isFetching:s,isRefetching:i,isError:o,isRefetchError:l}=n,c=r.fetchMeta?.fetchMore?.direction,d=o&&c==="forward",u=s&&c==="forward",h=o&&c==="backward",f=s&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:BJ(e,r.data),hasPreviousPage:$J(e,r.data),isFetchNextPageError:d,isFetchingNextPage:u,isFetchPreviousPageError:h,isFetchingPreviousPage:f,isRefetchError:l&&!d&&!h,isRefetching:i&&!u&&!f}}},VJ=class extends y${#e;#t;#r;#n;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#r=t.mutationCache,this.#t=[],this.state=t.state||N$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#a({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=v$({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#a({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#a({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",s=!this.#n.canStart();try{if(n)e();else{this.#a({type:"pending",variables:t,isPaused:s}),await this.#r.config.onMutate?.(t,this,r);const o=await this.options.onMutate?.(t,r);o!==this.state.context&&this.#a({type:"pending",context:o,variables:t,isPaused:s})}const i=await this.#n.start();return await this.#r.config.onSuccess?.(i,t,this.state.context,this,r),await this.options.onSuccess?.(i,t,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,t,this.state.context,r),this.#a({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,t,this.state.context,this,r),await this.options.onError?.(i,t,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,t,this.state.context,r),i}finally{this.#a({type:"error",error:i})}}finally{this.#r.runNext(this)}}#a(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Zn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#r.notify({mutation:this,type:"updated",action:t})})}};function N$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zJ=class extends cm{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){const n=new VJ({client:t,mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=rv(t);if(typeof e=="string"){const r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=rv(t);if(typeof e=="string"){const r=this.#t.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=rv(t);if(typeof e=="string"){const n=this.#t.get(e)?.find(s=>s.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=rv(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Zn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>rI(e,r))}findAll(t={}){return this.getAll().filter(e=>rI(t,e))}notify(t){Zn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Zn.batch(()=>Promise.all(t.map(e=>e.continue().catch(os))))}};function rv(t){return t.options.scope?.id}var WJ=class extends cm{#e;#t=void 0;#r;#n;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),Yy(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&pu(r.mutationKey)!==pu(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#a(),this.#s()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#a(){const e=this.#r?.state??N$();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Zn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n,s),this.#n.onSettled?.(e.data,null,r,n,s)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n,s),this.#n.onSettled?.(void 0,e.error,r,n,s))}this.listeners.forEach(r=>{r(this.#t)})})}},qJ=class extends cm{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,s=e.queryHash??xP(n,e);let i=this.get(s);return i||(i=new DJ({client:t,queryKey:n,queryHash:s,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>tI(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>tI(t,r)):e}notify(t){Zn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Zn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},HJ=class{#e;#t;#r;#n;#a;#s;#l;#o;constructor(t={}){this.#e=t.queryCache||new qJ,this.#t=t.mutationCache||new zJ,this.#r=t.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#l=vP.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Qy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#l?.(),this.#l=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Xc(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(n.queryHash)?.state.data,o=AJ(e,i);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Zn.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Zn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return Zn.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Zn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(os).catch(os)}invalidateQueries(t,e={}){return Zn.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Zn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(os)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(os)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(Xc(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(os).catch(os)}fetchInfiniteQuery(t){return t.behavior=Zy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(os).catch(os)}ensureInfiniteQueryData(t){return t.behavior=Zy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Qy.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(pu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{Ux(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#a.set(pu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()],r={};return e.forEach(n=>{Ux(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xP(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===gP&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},E$=y.createContext(void 0),Wr=t=>{const e=y.useContext(E$);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},GJ=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(E$.Provider,{value:t,children:e})),S$=y.createContext(!1),KJ=()=>y.useContext(S$);S$.Provider;function XJ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var YJ=y.createContext(XJ()),QJ=()=>y.useContext(YJ),ZJ=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},JJ=t=>{y.useEffect(()=>{t.clearReset()},[t])},eee=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||x$(r,[t.error,n])),tee=t=>{if(t.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},ree=(t,e)=>t.isLoading&&t.isFetching&&!e,nee=(t,e)=>t?.suspense&&e.isPending,cI=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function A$(t,e,r){const n=KJ(),s=QJ(),i=Wr(),o=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",tee(o),ZJ(o,s),JJ(s);const l=!i.getQueryCache().get(o.queryHash),[c]=y.useState(()=>new e(i,o)),d=c.getOptimisticResult(o),u=!n&&t.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(h=>{const f=u?c.subscribe(Zn.batchCalls(h)):os;return c.updateResult(),f},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(o)},[o,c]),nee(o,d))throw cI(o,c,s);if(eee({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!mu&&ree(d,n)&&(l?cI(o,c,s):i.getQueryCache().get(o.queryHash)?.promise)?.catch(os).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?d:c.trackResult(d)}function Ge(t,e){return A$(t,w$)}function yt(t,e){const r=Wr(),[n]=y.useState(()=>new WJ(r,t));y.useEffect(()=>{n.setOptions(t)},[n,t]);const s=y.useSyncExternalStore(y.useCallback(o=>n.subscribe(Zn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=y.useCallback((o,l)=>{n.mutate(o,l).catch(os)},[n]);if(s.error&&x$(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function C$(t,e){return A$(t,UJ)}const aee=()=>{if(typeof window<"u"){const t=window.location.origin;if(t.includes("vercel.app")){const e="https://luxuryautoportal-replit-1.onrender.com";return console.warn(` [API] VITE_API_URL not set! Using fallback backend URL: ${e}`),console.warn(` [API] Please set VITE_API_URL in Vercel environment variables to: ${e}`),e}if(!t.includes("localhost")&&!t.includes("127.0.0.1"))return console.warn(` [API] VITE_API_URL not set! Using current origin as fallback: ${t}`),console.warn(" [API] If API calls fail, please set VITE_API_URL environment variable"),t}return""},iu=aee(),k$=()=>iu;function je(t){if(!t)return iu;if(t.startsWith("http://")||t.startsWith("https://"))return t;const e=t.startsWith("/")?t:`/${t}`;return iu?`${iu}${e}`:e}function Zp(t){if(!t)return t;let e=t;if(t.startsWith("http://storage.googleapis.com/")&&(e=t.replace("http://","https://"),console.warn(`[IMAGE PROXY] Normalized GCS URL from http to https: ${e.substring(0,100)}...`)),e.startsWith("https://storage.googleapis.com/")){const r=encodeURIComponent(e),n=je(`/api/gcs-image-proxy?url=${r}`);return console.log("[IMAGE PROXY] Converting GCS URL to proxy:",{original:e.substring(0,150)+(e.length>150?"...":""),proxy:n.substring(0,150)+(n.length>150?"...":""),apiBaseUrl:iu||"relative",isProduction:!0}),n}return e.startsWith("http://")||e.startsWith("https://")?e:je(e.startsWith("/")?e:`/${e}`)}async function P$(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Pc(t,e,r){const n=je(e);console.log("API call to:",n);const s=await fetch(n,{method:t,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await P$(s),s}const T$=({on401:t})=>async({queryKey:e})=>{const[r]=e;if(typeof r!="string")throw new Error("Query keys must include the API path as the first element");const n=je(r);if(typeof window<"u"){const i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);console.log(`[API] Fetching: ${n}`),console.log(`[API] Current origin: ${window.location.origin}`),console.log(`[API] API base URL: ${iu||"relative"}`),console.log("[API] VITE_API_URL env: Not set"),i&&console.log("[API] Mobile device detected")}let s=null;try{const i=new AbortController;s=setTimeout(()=>{i.abort()},1e4);const o=await fetch(n,{credentials:"include",signal:i.signal});return s&&(clearTimeout(s),s=null),o.status===401&&r==="/api/auth/me"?{user:void 0}:(t==="returnNull"&&o.status,o.ok||await P$(o),await o.json())}catch(i){if(s&&(clearTimeout(s),s=null),i instanceof Error&&i.name==="AbortError"&&console.error(`[API] Request timeout (10s) for ${n}`),typeof window<"u"){const o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);console.error(`[API] Fetch error for ${n}:`,i),console.error("[API] Error details:",{message:i instanceof Error?i.message:String(i),name:i instanceof Error?i.name:"Unknown",url:n,origin:window.location.origin,apiBaseUrl:iu||"relative",viteApiUrl:"Not set",isMobile:o,isProduction:!0}),console.error(`
 [API CONNECTION ERROR]`),console.error("   The app cannot connect to the backend API."),console.error(`   Current API URL: ${n}`),console.error("   Expected: Backend should be accessible at this URL"),console.error("   Solution: Set VITE_API_URL environment variable in Vercel"),console.error(`   Expected value: https://luxuryautoportal-replit-1.onrender.com
`)}throw i}},Zh=new HJ({defaultOptions:{queries:{queryFn:T$({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1,throwOnError:!1,gcTime:5*60*1e3},mutations:{retry:!1,throwOnError:!1}}}),O$=Object.freeze(Object.defineProperty({__proto__:null,apiRequest:Pc,buildApiUrl:je,getApiBaseUrl:k$,getProxiedImageUrl:Zp,getQueryFn:T$,queryClient:Zh},Symbol.toStringTag,{value:"Module"})),see=1,iee=1e6;let e2=0;function oee(){return e2=(e2+1)%Number.MAX_SAFE_INTEGER,e2.toString()}const t2=new Map,dI=t=>{if(t2.has(t))return;const e=setTimeout(()=>{t2.delete(t),Jp({type:"REMOVE_TOAST",toastId:t})},iee);t2.set(t,e)},lee=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,see)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?dI(r):t.toasts.forEach(n=>{dI(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},sy=[];let iy={toasts:[]};function Jp(t){iy=lee(iy,t),sy.forEach(e=>{e(iy)})}function cee({...t}){const e=oee(),r=s=>Jp({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Jp({type:"DISMISS_TOAST",toastId:e});return Jp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function kr(){const[t,e]=y.useState(iy);return y.useEffect(()=>(sy.push(e),()=>{const r=sy.indexOf(e);r>-1&&sy.splice(r,1)}),[t]),{...t,toast:cee,dismiss:r=>Jp({type:"DISMISS_TOAST",toastId:r})}}function at(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t?.(s),r===!1||!s.defaultPrevented)return e?.(s)}}function uI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xs(...t){return e=>{let r=!1;const n=t.map(s=>{const i=uI(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():uI(t[s],null)}}}}function sr(...t){return y.useCallback(xs(...t),t)}function dee(t,e){const r=y.createContext(e),n=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function s(i){const o=y.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function Da(t,e=[]){let r=[];function n(i,o){const l=y.createContext(o),c=r.length;r=[...r,o];const d=h=>{const{scope:f,children:m,...x}=h,p=f?.[t]?.[c]||l,v=y.useMemo(()=>x,Object.values(x));return a.jsx(p.Provider,{value:v,children:m})};d.displayName=i+"Provider";function u(h,f){const m=f?.[t]?.[c]||l,x=y.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=l?.[t]||i;return y.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,uee(s,...e)]}function uee(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function hI(t){const e=hee(t),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(mee);if(c){const d=c.props.children,u=l.map(h=>h===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,u):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function hee(t){const e=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=xee(s),l=pee(i,s.props);return s.type!==y.Fragment&&(l.ref=n?xs(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fee=Symbol("radix.slottable");function mee(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fee}function pee(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function xee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Qg(t){const e=t+"CollectionProvider",[r,n]=Da(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:g}=p,w=ve.useRef(null),N=ve.useRef(new Map).current;return a.jsx(s,{scope:v,itemMap:N,collectionRef:w,children:g})};o.displayName=e;const l=t+"CollectionSlot",c=hI(l),d=ve.forwardRef((p,v)=>{const{scope:g,children:w}=p,N=i(l,g),j=sr(v,N.collectionRef);return a.jsx(c,{ref:j,children:w})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=hI(u),m=ve.forwardRef((p,v)=>{const{scope:g,children:w,...N}=p,j=ve.useRef(null),b=sr(v,j),S=i(u,g);return ve.useEffect(()=>(S.itemMap.set(j,{ref:j,...N}),()=>void S.itemMap.delete(j))),a.jsx(f,{[h]:"",ref:b,children:w})});m.displayName=u;function x(p){const v=i(t+"CollectionConsumer",p);return ve.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const N=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((S,A)=>N.indexOf(S.ref.current)-N.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},x,n]}function gee(t){const e=vee(t),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(bee);if(c){const d=c.props.children,u=l.map(h=>h===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,u):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function vee(t){const e=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=jee(s),l=wee(i,s.props);return s.type!==y.Fragment&&(l.ref=n?xs(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yee=Symbol("radix.slottable");function bee(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yee}function wee(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function jee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Nee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pt=Nee.reduce((t,e)=>{const r=gee(`Primitive.${e}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function bP(t,e){t&&$u.flushSync(()=>t.dispatchEvent(e))}function gs(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...r)=>e.current?.(...r),[])}function Eee(t,e=globalThis?.document){const r=gs(t);y.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var See="DismissableLayer",jS="dismissableLayer.update",Aee="dismissableLayer.pointerDownOutside",Cee="dismissableLayer.focusOutside",fI,_$=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uu=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=y.useContext(_$),[u,h]=y.useState(null),f=u?.ownerDocument??globalThis?.document,[,m]=y.useState({}),x=sr(e,A=>h(A)),p=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=p.indexOf(v),w=u?p.indexOf(u):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,j=w>=g,b=Pee(A=>{const E=A.target,P=[...d.branches].some(O=>O.contains(E));!j||P||(s?.(A),o?.(A),A.defaultPrevented||l?.())},f),S=Tee(A=>{const E=A.target;[...d.branches].some(O=>O.contains(E))||(i?.(A),o?.(A),A.defaultPrevented||l?.())},f);return Eee(A=>{w===d.layers.size-1&&(n?.(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},f),y.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(fI=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),mI(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=fI)}},[u,f,r,d]),y.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),mI())},[u,d]),y.useEffect(()=>{const A=()=>m({});return document.addEventListener(jS,A),()=>document.removeEventListener(jS,A)},[]),a.jsx(pt.div,{...c,ref:x,style:{pointerEvents:N?j?"auto":"none":void 0,...t.style},onFocusCapture:at(t.onFocusCapture,S.onFocusCapture),onBlurCapture:at(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:at(t.onPointerDownCapture,b.onPointerDownCapture)})});Uu.displayName=See;var kee="DismissableLayerBranch",R$=y.forwardRef((t,e)=>{const r=y.useContext(_$),n=y.useRef(null),s=sr(e,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(pt.div,{...t,ref:s})});R$.displayName=kee;function Pee(t,e=globalThis?.document){const r=gs(t),n=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){I$(Aee,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Tee(t,e=globalThis?.document){const r=gs(t),n=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!n.current&&I$(Cee,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function mI(){const t=new CustomEvent(jS);document.dispatchEvent(t)}function I$(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?bP(s,i):s.dispatchEvent(i)}var Oee=Uu,_ee=R$,On=globalThis?.document?y.useLayoutEffect:()=>{},Ree="Portal",dm=y.forwardRef((t,e)=>{const{container:r,...n}=t,[s,i]=y.useState(!1);On(()=>i(!0),[]);const o=r||s&&globalThis?.document?.body;return o?XZ.createPortal(a.jsx(pt.div,{...n,ref:e}),o):null});dm.displayName=Ree;function Iee(t,e){return y.useReducer((r,n)=>e[r][n]??r,t)}var as=t=>{const{present:e,children:r}=t,n=Fee(e),s=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=sr(n.ref,Dee(s));return typeof r=="function"||n.isPresent?y.cloneElement(s,{ref:i}):null};as.displayName="Presence";function Fee(t){const[e,r]=y.useState(),n=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Iee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=nv(n.current);i.current=l==="mounted"?d:"none"},[l]),On(()=>{const d=n.current,u=s.current;if(u!==t){const f=i.current,m=nv(d);t?c("MOUNT"):m==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),On(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=m=>{const p=nv(n.current).includes(CSS.escape(m.animationName));if(m.target===e&&p&&(c("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=m=>{m.target===e&&(i.current=nv(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function nv(t){return t?.animationName||"none"}function Dee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Mee=Uw[" useInsertionEffect ".trim().toString()]||On;function ni({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,o]=Lee({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:s;{const u=y.useRef(t!==void 0);y.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=y.useCallback(u=>{if(l){const h=Bee(u)?u(t):u;h!==t&&o.current?.(h)}else i(u)},[l,t,i,o]);return[c,d]}function Lee({defaultProp:t,onChange:e}){const[r,n]=y.useState(t),s=y.useRef(r),i=y.useRef(e);return Mee(()=>{i.current=e},[e]),y.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,n,i]}function Bee(t){return typeof t=="function"}var F$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$ee="VisuallyHidden",aj=y.forwardRef((t,e)=>a.jsx(pt.span,{...t,ref:e,style:{...F$,...t.style}}));aj.displayName=$ee;var Uee=aj,wP="ToastProvider",[jP,Vee,zee]=Qg("Toast"),[D$]=Da("Toast",[zee]),[Wee,sj]=D$(wP),M$=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=y.useState(null),[d,u]=y.useState(0),h=y.useRef(!1),f=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${wP}\`. Expected non-empty \`string\`.`),a.jsx(jP.Provider,{scope:e,children:a.jsx(Wee,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>u(m=>m+1),[]),onToastRemove:y.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};M$.displayName=wP;var L$="ToastViewport",qee=["F8"],NS="toast.viewportPause",ES="toast.viewportResume",B$=y.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=qee,label:s="Notifications ({hotkey})",...i}=t,o=sj(L$,r),l=Vee(r),c=y.useRef(null),d=y.useRef(null),u=y.useRef(null),h=y.useRef(null),f=sr(e,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;y.useEffect(()=>{const v=g=>{n.length!==0&&n.every(N=>g[N]||g.code===N)&&h.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),y.useEffect(()=>{const v=c.current,g=h.current;if(x&&v&&g){const w=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(NS);g.dispatchEvent(S),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(ES);g.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!v.contains(S.relatedTarget)&&N()},b=()=>{v.contains(document.activeElement)||N()};return v.addEventListener("focusin",w),v.addEventListener("focusout",j),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",b),window.addEventListener("blur",w),window.addEventListener("focus",N),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",b),window.removeEventListener("blur",w),window.removeEventListener("focus",N)}}},[x,o.isClosePausedRef]);const p=y.useCallback(({tabbingDirection:v})=>{const w=l().map(N=>{const j=N.ref.current,b=[j,...ate(j)];return v==="forwards"?b:b.reverse()});return(v==="forwards"?w.reverse():w).flat()},[l]);return y.useEffect(()=>{const v=h.current;if(v){const g=w=>{const N=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!N){const b=document.activeElement,S=w.shiftKey;if(w.target===v&&S){d.current?.focus();return}const P=p({tabbingDirection:S?"backwards":"forwards"}),O=P.findIndex(k=>k===b);r2(P.slice(O+1))?w.preventDefault():S?d.current?.focus():u.current?.focus()}};return v.addEventListener("keydown",g),()=>v.removeEventListener("keydown",g)}},[l,p]),a.jsxs(_ee,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(SS,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});r2(v)}}),a.jsx(jP.Slot,{scope:r,children:a.jsx(pt.ol,{tabIndex:-1,...i,ref:f})}),x&&a.jsx(SS,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});r2(v)}})]})});B$.displayName=L$;var $$="ToastFocusProxy",SS=y.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=sj($$,r);return a.jsx(aj,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&n()}})});SS.displayName=$$;var Zg="Toast",Hee="toast.swipeStart",Gee="toast.swipeMove",Kee="toast.swipeCancel",Xee="toast.swipeEnd",U$=y.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=t,[l,c]=ni({prop:n,defaultProp:s??!0,onChange:i,caller:Zg});return a.jsx(as,{present:r||l,children:a.jsx(Zee,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:gs(t.onPause),onResume:gs(t.onResume),onSwipeStart:at(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:at(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:at(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:at(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});U$.displayName=Zg;var[Yee,Qee]=D$(Zg,{onClose(){}}),Zee=y.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...x}=t,p=sj(Zg,r),[v,g]=y.useState(null),w=sr(e,_=>g(_)),N=y.useRef(null),j=y.useRef(null),b=s||p.duration,S=y.useRef(0),A=y.useRef(b),E=y.useRef(0),{onToastAdd:P,onToastRemove:O}=p,k=gs(()=>{v?.contains(document.activeElement)&&p.viewport?.focus(),o()}),L=y.useCallback(_=>{!_||_===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(k,_))},[k]);y.useEffect(()=>{const _=p.viewport;if(_){const B=()=>{L(A.current),d?.()},I=()=>{const C=new Date().getTime()-S.current;A.current=A.current-C,window.clearTimeout(E.current),c?.()};return _.addEventListener(NS,I),_.addEventListener(ES,B),()=>{_.removeEventListener(NS,I),_.removeEventListener(ES,B)}}},[p.viewport,b,c,d,L]),y.useEffect(()=>{i&&!p.isClosePausedRef.current&&L(b)},[i,b,p.isClosePausedRef,L]),y.useEffect(()=>(P(),()=>O()),[P,O]);const R=y.useMemo(()=>v?K$(v):null,[v]);return p.viewport?a.jsxs(a.Fragment,{children:[R&&a.jsx(Jee,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:R}),a.jsx(Yee,{scope:r,onClose:k,children:$u.createPortal(a.jsx(jP.ItemSlot,{scope:r,children:a.jsx(Oee,{asChild:!0,onEscapeKeyDown:at(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||k(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(pt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:at(t.onKeyDown,_=>{_.key==="Escape"&&(l?.(_.nativeEvent),_.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:at(t.onPointerDown,_=>{_.button===0&&(N.current={x:_.clientX,y:_.clientY})}),onPointerMove:at(t.onPointerMove,_=>{if(!N.current)return;const B=_.clientX-N.current.x,I=_.clientY-N.current.y,C=!!j.current,D=["left","right"].includes(p.swipeDirection),W=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,K=D?W(0,B):0,H=D?0:W(0,I),G=_.pointerType==="touch"?10:2,ee={x:K,y:H},Q={originalEvent:_,delta:ee};C?(j.current=ee,av(Gee,h,Q,{discrete:!1})):pI(ee,p.swipeDirection,G)?(j.current=ee,av(Hee,u,Q,{discrete:!1}),_.target.setPointerCapture(_.pointerId)):(Math.abs(B)>G||Math.abs(I)>G)&&(N.current=null)}),onPointerUp:at(t.onPointerUp,_=>{const B=j.current,I=_.target;if(I.hasPointerCapture(_.pointerId)&&I.releasePointerCapture(_.pointerId),j.current=null,N.current=null,B){const C=_.currentTarget,D={originalEvent:_,delta:B};pI(B,p.swipeDirection,p.swipeThreshold)?av(Xee,m,D,{discrete:!0}):av(Kee,f,D,{discrete:!0}),C.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Jee=t=>{const{__scopeToast:e,children:r,...n}=t,s=sj(Zg,e),[i,o]=y.useState(!1),[l,c]=y.useState(!1);return rte(()=>o(!0)),y.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(dm,{asChild:!0,children:a.jsx(aj,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},ete="ToastTitle",V$=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(pt.div,{...n,ref:e})});V$.displayName=ete;var tte="ToastDescription",z$=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(pt.div,{...n,ref:e})});z$.displayName=tte;var W$="ToastAction",q$=y.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(G$,{altText:r,asChild:!0,children:a.jsx(NP,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${W$}\`. Expected non-empty \`string\`.`),null)});q$.displayName=W$;var H$="ToastClose",NP=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=Qee(H$,r);return a.jsx(G$,{asChild:!0,children:a.jsx(pt.button,{type:"button",...n,ref:e,onClick:at(t.onClick,s.onClose)})})});NP.displayName=H$;var G$=y.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return a.jsx(pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function K$(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),nte(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...K$(n))}}),e}function av(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?bP(s,i):s.dispatchEvent(i)}var pI=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function rte(t=()=>{}){const e=gs(t);On(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function nte(t){return t.nodeType===t.ELEMENT_NODE}function ate(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function r2(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var ste=M$,X$=B$,Y$=U$,Q$=V$,Z$=z$,J$=q$,eU=NP;function tU(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=tU(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ur(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=tU(t))&&(n&&(n+=" "),n+=e);return n}const xI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gI=ur,Jg=(t,e)=>r=>{var n;if(e?.variants==null)return gI(t,r?.class,r?.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const u=r?.[d],h=i?.[d];if(u===null)return null;const f=xI(u)||xI(h);return s[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(x=>{let[p,v]=x;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...d,h,f]:d},[]);return gI(t,o,c,r?.class,r?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rU=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ote={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...ote,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:rU("lucide",s),...l},[...o.map(([d,u])=>y.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(t,e)=>{const r=y.forwardRef(({className:n,...s},i)=>y.createElement(lte,{ref:i,iconNode:e,className:rU(`lucide-${ite(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Xe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=Xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Xe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=Xe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=Xe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=Xe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=Xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Xe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=Xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=Xe("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=Xe("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Xe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=Xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=Xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=Xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Xe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=Xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=Xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Xe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=Xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=Xe("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=Xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=Xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=Xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=Xe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=Xe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=Xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Xe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=Xe("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=Xe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=Xe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=Xe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=Xe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=Xe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=Xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=Xe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=Xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Xe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=Xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=Xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=Xe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=Xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=Xe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Xe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=Xe("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=Xe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Xe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=Xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=Xe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=Xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=Xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=Xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=Xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=Xe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=Xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=Xe("Slack",[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5",key:"diqz80"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5",key:"183iwg"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5",key:"hqg7r1"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5",key:"76g71w"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5",key:"1kmz0a"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5",key:"jc4sz0"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5",key:"1omvl4"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5",key:"16f3cl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=Xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=Xe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=Xe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=Xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=Xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=Xe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=Xe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=Xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=Xe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=Xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=Xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Xe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=Xe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=Xe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),PP="-",Lte=t=>{const e=$te(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(PP);return l[0]===""&&l.length!==1&&l.shift(),xU(l,e)||Bte(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},xU=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?xU(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(PP);return e.validators.find(({validator:o})=>o(i))?.classGroupId},jI=/^\[(.+)\]$/,Bte=t=>{if(jI.test(t)){const e=jI.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},$te=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Vte(Object.entries(t.classGroups),r).forEach(([i,o])=>{PS(o,n,i,e)}),n},PS=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:NI(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(Ute(s)){PS(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{PS(o,NI(e,i),r,n)})})},NI=(t,e)=>{let r=t;return e.split(PP).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ute=t=>t.isThemeGetter,Vte=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[r,s]}):t,zte=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},gU="!",Wte=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let g=l[v];if(d===0){if(g===s&&(n||l.slice(v,v+i)===e)){c.push(l.slice(u,v)),u=v+i;continue}if(g==="/"){h=v;continue}}g==="["?d++:g==="]"&&d--}const f=c.length===0?l:l.substring(u),m=f.startsWith(gU),x=m?f.substring(1):f,p=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},qte=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Hte=t=>({cache:zte(t.cacheSize),parseClassName:Wte(t),...Lte(t)}),Gte=/\s+/,Kte=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Gte);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(d);let x=!!m,p=n(x?f.substring(0,m):f);if(!p){if(!x){l=d+(l.length>0?" "+l:l);continue}if(p=n(f),!p){l=d+(l.length>0?" "+l:l);continue}x=!1}const v=qte(u).join(":"),g=h?v+gU:v,w=g+p;if(i.includes(w))continue;i.push(w);const N=s(p,x);for(let j=0;j<N.length;++j){const b=N[j];i.push(g+b)}l=d+(l.length>0?" "+l:l)}return l};function Xte(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=vU(e))&&(n&&(n+=" "),n+=r);return n}const vU=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=vU(t[n]))&&(r&&(r+=" "),r+=e);return r};function Yte(t,...e){let r,n,s,i=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return r=Hte(d),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=Kte(c,r);return s(c,u),u}return function(){return i(Xte.apply(null,arguments))}}const nn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},yU=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qte=/^\d+\/\d+$/,Zte=new Set(["px","full","screen"]),Jte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ere=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tre=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rre=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nre=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ml=t=>ef(t)||Zte.has(t)||Qte.test(t),hc=t=>hm(t,"length",ure),ef=t=>!!t&&!Number.isNaN(Number(t)),n2=t=>hm(t,"number",ef),Ym=t=>!!t&&Number.isInteger(Number(t)),are=t=>t.endsWith("%")&&ef(t.slice(0,-1)),ir=t=>yU.test(t),fc=t=>Jte.test(t),sre=new Set(["length","size","percentage"]),ire=t=>hm(t,sre,bU),ore=t=>hm(t,"position",bU),lre=new Set(["image","url"]),cre=t=>hm(t,lre,fre),dre=t=>hm(t,"",hre),Qm=()=>!0,hm=(t,e,r)=>{const n=yU.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},ure=t=>ere.test(t)&&!tre.test(t),bU=()=>!1,hre=t=>rre.test(t),fre=t=>nre.test(t),mre=()=>{const t=nn("colors"),e=nn("spacing"),r=nn("blur"),n=nn("brightness"),s=nn("borderColor"),i=nn("borderRadius"),o=nn("borderSpacing"),l=nn("borderWidth"),c=nn("contrast"),d=nn("grayscale"),u=nn("hueRotate"),h=nn("invert"),f=nn("gap"),m=nn("gradientColorStops"),x=nn("gradientColorStopPositions"),p=nn("inset"),v=nn("margin"),g=nn("opacity"),w=nn("padding"),N=nn("saturate"),j=nn("scale"),b=nn("sepia"),S=nn("skew"),A=nn("space"),E=nn("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ir,e],L=()=>[ir,e],R=()=>["",ml,hc],_=()=>["auto",ef,ir],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],C=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",ir],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[ef,ir];return{cacheSize:500,separator:":",theme:{colors:[Qm],spacing:[ml,hc],blur:["none","",fc,ir],brightness:H(),borderColor:[t],borderRadius:["none","","full",fc,ir],borderSpacing:L(),borderWidth:R(),contrast:H(),grayscale:W(),hueRotate:H(),invert:W(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[are,hc],inset:k(),margin:k(),opacity:H(),padding:L(),saturate:H(),scale:H(),sepia:W(),skew:H(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",ir]}],container:["container"],columns:[{columns:[fc]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),ir]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ym,ir]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ir]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Ym,ir]}],"grid-cols":[{"grid-cols":[Qm]}],"col-start-end":[{col:["auto",{span:["full",Ym,ir]},ir]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[Qm]}],"row-start-end":[{row:["auto",{span:[Ym,ir]},ir]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ir]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ir]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ir,e]}],"min-w":[{"min-w":[ir,e,"min","max","fit"]}],"max-w":[{"max-w":[ir,e,"none","full","min","max","fit","prose",{screen:[fc]},fc]}],h:[{h:[ir,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ir,e,"auto","min","max","fit"]}],"font-size":[{text:["base",fc,hc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",n2]}],"font-family":[{font:[Qm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ir]}],"line-clamp":[{"line-clamp":["none",ef,n2]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ml,ir]}],"list-image":[{"list-image":["none",ir]}],"list-style-type":[{list:["none","disc","decimal",ir]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ml,hc]}],"underline-offset":[{"underline-offset":["auto",ml,ir]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ir]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ir]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),ore]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ire]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cre]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[ml,ir]}],"outline-w":[{outline:[ml,hc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ml,hc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",fc,dre]}],"shadow-color":[{shadow:[Qm]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...C(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":C()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",fc,ir]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ir]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",ir]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",ir]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ym,ir]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ir]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ir]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ir]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ml,hc,n2]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pre=Yte(mre);function _e(...t){return pre(ur(t))}const xre=ste,wU=y.forwardRef(({className:t,...e},r)=>a.jsx(X$,{ref:r,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));wU.displayName=X$.displayName;const gre=Jg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jU=y.forwardRef(({className:t,variant:e,...r},n)=>a.jsx(Y$,{ref:n,className:_e(gre({variant:e}),t),...r}));jU.displayName=Y$.displayName;const vre=y.forwardRef(({className:t,...e},r)=>a.jsx(J$,{ref:r,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));vre.displayName=J$.displayName;const NU=y.forwardRef(({className:t,...e},r)=>a.jsx(eU,{ref:r,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(pr,{className:"h-4 w-4"})}));NU.displayName=eU.displayName;const EU=y.forwardRef(({className:t,...e},r)=>a.jsx(Q$,{ref:r,className:_e("text-sm font-semibold",t),...e}));EU.displayName=Q$.displayName;const SU=y.forwardRef(({className:t,...e},r)=>a.jsx(Z$,{ref:r,className:_e("text-sm opacity-90",t),...e}));SU.displayName=Z$.displayName;function yre(){const{toasts:t}=kr();return a.jsxs(xre,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return a.jsxs(jU,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(EU,{children:r}),n&&a.jsx(SU,{children:n})]}),s,a.jsx(NU,{})]},e)}),a.jsx(wU,{})]})}var bre=Uw[" useId ".trim().toString()]||(()=>{}),wre=0;function na(t){const[e,r]=y.useState(bre());return On(()=>{r(n=>n??String(wre++))},[t]),e?`radix-${e}`:""}const jre=["top","right","bottom","left"],id=Math.min,Hs=Math.max,ab=Math.round,sv=Math.floor,rl=t=>({x:t,y:t}),Nre={left:"right",right:"left",bottom:"top",top:"bottom"},Ere={start:"end",end:"start"};function TS(t,e,r){return Hs(t,id(e,r))}function Xl(t,e){return typeof t=="function"?t(e):t}function Yl(t){return t.split("-")[0]}function fm(t){return t.split("-")[1]}function TP(t){return t==="x"?"y":"x"}function OP(t){return t==="y"?"height":"width"}const Sre=new Set(["top","bottom"]);function Yo(t){return Sre.has(Yl(t))?"y":"x"}function _P(t){return TP(Yo(t))}function Are(t,e,r){r===void 0&&(r=!1);const n=fm(t),s=_P(t),i=OP(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=sb(o)),[o,sb(o)]}function Cre(t){const e=sb(t);return[OS(t),e,OS(e)]}function OS(t){return t.replace(/start|end/g,e=>Ere[e])}const EI=["left","right"],SI=["right","left"],kre=["top","bottom"],Pre=["bottom","top"];function Tre(t,e,r){switch(t){case"top":case"bottom":return r?e?SI:EI:e?EI:SI;case"left":case"right":return e?kre:Pre;default:return[]}}function Ore(t,e,r,n){const s=fm(t);let i=Tre(Yl(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(OS)))),i}function sb(t){return t.replace(/left|right|bottom|top/g,e=>Nre[e])}function _re(t){return{top:0,right:0,bottom:0,left:0,...t}}function AU(t){return typeof t!="number"?_re(t):{top:t,right:t,bottom:t,left:t}}function ib(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function AI(t,e,r){let{reference:n,floating:s}=t;const i=Yo(e),o=_P(e),l=OP(o),c=Yl(e),d=i==="y",u=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:u,y:n.y-s.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-s.width,y:h};break;default:m={x:n.x,y:n.y}}switch(fm(e)){case"start":m[o]-=f*(r&&d?-1:1);break;case"end":m[o]+=f*(r&&d?-1:1);break}return m}const Rre=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=AI(d,n,c),f=n,m={},x=0;for(let p=0;p<l.length;p++){const{name:v,fn:g}=l[p],{x:w,y:N,data:j,reset:b}=await g({x:u,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});u=w??u,h=N??h,m={...m,[v]:{...m[v],...j}},b&&x<=50&&(x++,typeof b=="object"&&(b.placement&&(f=b.placement),b.rects&&(d=b.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):b.rects),{x:u,y:h}=AI(d,f,c)),p=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:m}};async function zx(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Xl(e,t),x=AU(m),v=l[f?h==="floating"?"reference":"floating":h],g=ib(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),w=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},b=ib(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:N,strategy:c}):w);return{top:(g.top-b.top+x.top)/j.y,bottom:(b.bottom-g.bottom+x.bottom)/j.y,left:(g.left-b.left+x.left)/j.x,right:(b.right-g.right+x.right)/j.x}}const Ire=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Xl(t,e)||{};if(d==null)return{};const h=AU(u),f={x:r,y:n},m=_P(s),x=OP(m),p=await o.getDimensions(d),v=m==="y",g=v?"top":"left",w=v?"bottom":"right",N=v?"clientHeight":"clientWidth",j=i.reference[x]+i.reference[m]-f[m]-i.floating[x],b=f[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let A=S?S[N]:0;(!A||!await(o.isElement==null?void 0:o.isElement(S)))&&(A=l.floating[N]||i.floating[x]);const E=j/2-b/2,P=A/2-p[x]/2-1,O=id(h[g],P),k=id(h[w],P),L=O,R=A-p[x]-k,_=A/2-p[x]/2+E,B=TS(L,_,R),I=!c.arrow&&fm(s)!=null&&_!==B&&i.reference[x]/2-(_<L?O:k)-p[x]/2<0,C=I?_<L?_-L:_-R:0;return{[m]:f[m]+C,data:{[m]:B,centerOffset:_-B-C,...I&&{alignmentOffset:C}},reset:I}}}),Fre=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...v}=Xl(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=Yl(s),w=Yo(l),N=Yl(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),b=f||(N||!p?[sb(l)]:Cre(l)),S=x!=="none";!f&&S&&b.push(...Ore(l,p,x,j));const A=[l,...b],E=await zx(e,v),P=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&P.push(E[g]),h){const _=Are(s,o,j);P.push(E[_[0]],E[_[1]])}if(O=[...O,{placement:s,overflows:P}],!P.every(_=>_<=0)){var k,L;const _=(((k=i.flip)==null?void 0:k.index)||0)+1,B=A[_];if(B&&(!(h==="alignment"?w!==Yo(B):!1)||O.every(D=>Yo(D.placement)===w?D.overflows[0]>0:!0)))return{data:{index:_,overflows:O},reset:{placement:B}};let I=(L=O.filter(C=>C.overflows[0]<=0).sort((C,D)=>C.overflows[1]-D.overflows[1])[0])==null?void 0:L.placement;if(!I)switch(m){case"bestFit":{var R;const C=(R=O.filter(D=>{if(S){const W=Yo(D.placement);return W===w||W==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(W=>W>0).reduce((W,K)=>W+K,0)]).sort((D,W)=>D[1]-W[1])[0])==null?void 0:R[0];C&&(I=C);break}case"initialPlacement":I=l;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function CI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function kI(t){return jre.some(e=>t[e]>=0)}const Dre=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Xl(t,e);switch(n){case"referenceHidden":{const i=await zx(e,{...s,elementContext:"reference"}),o=CI(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:kI(o)}}}case"escaped":{const i=await zx(e,{...s,altBoundary:!0}),o=CI(i,r.floating);return{data:{escapedOffsets:o,escaped:kI(o)}}}default:return{}}}}},CU=new Set(["left","top"]);async function Mre(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Yl(r),l=fm(r),c=Yo(r)==="y",d=CU.has(o)?-1:1,u=i&&c?-1:1,h=Xl(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*u,y:f*d}:{x:f*d,y:m*u}}const Lre=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await Mre(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},Bre=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:g,y:w}=v;return{x:g,y:w}}},...c}=Xl(t,e),d={x:r,y:n},u=await zx(e,c),h=Yo(Yl(s)),f=TP(h);let m=d[f],x=d[h];if(i){const v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",w=m+u[v],N=m-u[g];m=TS(w,m,N)}if(o){const v=h==="y"?"top":"left",g=h==="y"?"bottom":"right",w=x+u[v],N=x-u[g];x=TS(w,x,N)}const p=l.fn({...e,[f]:m,[h]:x});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[f]:i,[h]:o}}}}}},$re=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Xl(t,e),u={x:r,y:n},h=Yo(s),f=TP(h);let m=u[f],x=u[h];const p=Xl(l,e),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const N=f==="y"?"height":"width",j=i.reference[f]-i.floating[N]+v.mainAxis,b=i.reference[f]+i.reference[N]-v.mainAxis;m<j?m=j:m>b&&(m=b)}if(d){var g,w;const N=f==="y"?"width":"height",j=CU.has(Yl(s)),b=i.reference[h]-i.floating[N]+(j&&((g=o.offset)==null?void 0:g[h])||0)+(j?0:v.crossAxis),S=i.reference[h]+i.reference[N]+(j?0:((w=o.offset)==null?void 0:w[h])||0)-(j?v.crossAxis:0);x<b?x=b:x>S&&(x=S)}return{[f]:m,[h]:x}}}},Ure=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Xl(t,e),u=await zx(e,d),h=Yl(s),f=fm(s),m=Yo(s)==="y",{width:x,height:p}=i.floating;let v,g;h==="top"||h==="bottom"?(v=h,g=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,v=f==="end"?"top":"bottom");const w=p-u.top-u.bottom,N=x-u.left-u.right,j=id(p-u[v],w),b=id(x-u[g],N),S=!e.middlewareData.shift;let A=j,E=b;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=N),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=w),S&&!f){const O=Hs(u.left,0),k=Hs(u.right,0),L=Hs(u.top,0),R=Hs(u.bottom,0);m?E=x-2*(O!==0||k!==0?O+k:Hs(u.left,u.right)):A=p-2*(L!==0||R!==0?L+R:Hs(u.top,u.bottom))}await c({...e,availableWidth:E,availableHeight:A});const P=await o.getDimensions(l.floating);return x!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function oj(){return typeof window<"u"}function mm(t){return kU(t)?(t.nodeName||"").toLowerCase():"#document"}function ei(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ul(t){var e;return(e=(kU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function kU(t){return oj()?t instanceof Node||t instanceof ei(t).Node:!1}function No(t){return oj()?t instanceof Element||t instanceof ei(t).Element:!1}function ll(t){return oj()?t instanceof HTMLElement||t instanceof ei(t).HTMLElement:!1}function PI(t){return!oj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ei(t).ShadowRoot}const Vre=new Set(["inline","contents"]);function r0(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Eo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Vre.has(s)}const zre=new Set(["table","td","th"]);function Wre(t){return zre.has(mm(t))}const qre=[":popover-open",":modal"];function lj(t){return qre.some(e=>{try{return t.matches(e)}catch{return!1}})}const Hre=["transform","translate","scale","rotate","perspective"],Gre=["transform","translate","scale","rotate","perspective","filter"],Kre=["paint","layout","strict","content"];function RP(t){const e=IP(),r=No(t)?Eo(t):t;return Hre.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Gre.some(n=>(r.willChange||"").includes(n))||Kre.some(n=>(r.contain||"").includes(n))}function Xre(t){let e=od(t);for(;ll(e)&&!Sf(e);){if(RP(e))return e;if(lj(e))return null;e=od(e)}return null}function IP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Yre=new Set(["html","body","#document"]);function Sf(t){return Yre.has(mm(t))}function Eo(t){return ei(t).getComputedStyle(t)}function cj(t){return No(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function od(t){if(mm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PI(t)&&t.host||ul(t);return PI(e)?e.host:e}function PU(t){const e=od(t);return Sf(e)?t.ownerDocument?t.ownerDocument.body:t.body:ll(e)&&r0(e)?e:PU(e)}function Wx(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=PU(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=ei(s);if(i){const l=_S(o);return e.concat(o,o.visualViewport||[],r0(s)?s:[],l&&r?Wx(l):[])}return e.concat(s,Wx(s,[],r))}function _S(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function TU(t){const e=Eo(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=ll(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=ab(r)!==i||ab(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function FP(t){return No(t)?t:t.contextElement}function tf(t){const e=FP(t);if(!ll(e))return rl(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=TU(e);let o=(i?ab(r.width):r.width)/n,l=(i?ab(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Qre=rl(0);function OU(t){const e=ei(t);return!IP()||!e.visualViewport?Qre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Zre(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ei(t)?!1:e}function gu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=FP(t);let o=rl(1);e&&(n?No(n)&&(o=tf(n)):o=tf(t));const l=Zre(i,r,n)?OU(i):rl(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const f=ei(i),m=n&&No(n)?ei(n):n;let x=f,p=_S(x);for(;p&&n&&m!==x;){const v=tf(p),g=p.getBoundingClientRect(),w=Eo(p),N=g.left+(p.clientLeft+parseFloat(w.paddingLeft))*v.x,j=g.top+(p.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=N,d+=j,x=ei(p),p=_S(x)}}return ib({width:u,height:h,x:c,y:d})}function dj(t,e){const r=cj(t).scrollLeft;return e?e.left+r:gu(ul(t)).left+r}function _U(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-dj(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function Jre(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=ul(n),l=e?lj(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=rl(1);const u=rl(0),h=ll(n);if((h||!h&&!i)&&((mm(n)!=="body"||r0(o))&&(c=cj(n)),ll(n))){const m=gu(n);d=tf(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const f=o&&!h&&!i?_U(o,c):rl(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function ene(t){return Array.from(t.getClientRects())}function tne(t){const e=ul(t),r=cj(t),n=t.ownerDocument.body,s=Hs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Hs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+dj(t);const l=-r.scrollTop;return Eo(n).direction==="rtl"&&(o+=Hs(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const TI=25;function rne(t,e){const r=ei(t),n=ul(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=IP();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=dj(n);if(d<=0){const u=n.ownerDocument,h=u.body,f=getComputedStyle(h),m=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,x=Math.abs(n.clientWidth-h.clientWidth-m);x<=TI&&(i-=x)}else d<=TI&&(i+=d);return{width:i,height:o,x:l,y:c}}const nne=new Set(["absolute","fixed"]);function ane(t,e){const r=gu(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=ll(t)?tf(t):rl(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function OI(t,e,r){let n;if(e==="viewport")n=rne(t,r);else if(e==="document")n=tne(ul(t));else if(No(e))n=ane(e,r);else{const s=OU(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return ib(n)}function RU(t,e){const r=od(t);return r===e||!No(r)||Sf(r)?!1:Eo(r).position==="fixed"||RU(r,e)}function sne(t,e){const r=e.get(t);if(r)return r;let n=Wx(t,[],!1).filter(l=>No(l)&&mm(l)!=="body"),s=null;const i=Eo(t).position==="fixed";let o=i?od(t):t;for(;No(o)&&!Sf(o);){const l=Eo(o),c=RP(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&nne.has(s.position)||r0(o)&&!c&&RU(t,o))?n=n.filter(u=>u!==o):s=l,o=od(o)}return e.set(t,n),n}function ine(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?lj(e)?[]:sne(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=OI(e,u,s);return d.top=Hs(h.top,d.top),d.right=id(h.right,d.right),d.bottom=id(h.bottom,d.bottom),d.left=Hs(h.left,d.left),d},OI(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function one(t){const{width:e,height:r}=TU(t);return{width:e,height:r}}function lne(t,e,r){const n=ll(e),s=ul(e),i=r==="fixed",o=gu(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=rl(0);function d(){c.x=dj(s)}if(n||!n&&!i)if((mm(e)!=="body"||r0(s))&&(l=cj(e)),n){const m=gu(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&d();i&&!n&&s&&d();const u=s&&!n&&!i?_U(s,l):rl(0),h=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function a2(t){return Eo(t).position==="static"}function _I(t,e){if(!ll(t)||Eo(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ul(t)===r&&(r=r.ownerDocument.body),r}function IU(t,e){const r=ei(t);if(lj(t))return r;if(!ll(t)){let s=od(t);for(;s&&!Sf(s);){if(No(s)&&!a2(s))return s;s=od(s)}return r}let n=_I(t,e);for(;n&&Wre(n)&&a2(n);)n=_I(n,e);return n&&Sf(n)&&a2(n)&&!RP(n)?r:n||Xre(t)||r}const cne=async function(t){const e=this.getOffsetParent||IU,r=this.getDimensions,n=await r(t.floating);return{reference:lne(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function dne(t){return Eo(t).direction==="rtl"}const une={convertOffsetParentRelativeRectToViewportRelativeRect:Jre,getDocumentElement:ul,getClippingRect:ine,getOffsetParent:IU,getElementRects:cne,getClientRects:ene,getDimensions:one,getScale:tf,isElement:No,isRTL:dne};function FU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function hne(t,e){let r=null,n;const s=ul(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:u,top:h,width:f,height:m}=d;if(l||e(),!f||!m)return;const x=sv(h),p=sv(s.clientWidth-(u+f)),v=sv(s.clientHeight-(h+m)),g=sv(u),N={rootMargin:-x+"px "+-p+"px "+-v+"px "+-g+"px",threshold:Hs(0,id(1,c))||1};let j=!0;function b(S){const A=S[0].intersectionRatio;if(A!==c){if(!j)return o();A?o(!1,A):n=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!FU(d,t.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(b,{...N,root:s.ownerDocument})}catch{r=new IntersectionObserver(b,N)}r.observe(t)}return o(!0),i}function fne(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=FP(t),u=s||i?[...d?Wx(d):[],...Wx(e)]:[];u.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const h=d&&l?hne(d,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(g=>{let[w]=g;w&&w.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(e)})),r()}),d&&!c&&m.observe(d),m.observe(e));let x,p=c?gu(t):null;c&&v();function v(){const g=gu(t);p&&!FU(p,g)&&r(),p=g,x=requestAnimationFrame(v)}return r(),()=>{var g;u.forEach(w=>{s&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),h?.(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const mne=Lre,pne=Bre,xne=Fre,gne=Ure,vne=Dre,RI=Ire,yne=$re,bne=(t,e,r)=>{const n=new Map,s={platform:une,...r},i={...s.platform,_c:n};return Rre(t,e,{...s,platform:i})};var wne=typeof document<"u",jne=function(){},oy=wne?y.useLayoutEffect:jne;function ob(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ob(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!ob(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function DU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function II(t,e){const r=DU(t);return Math.round(e*r)/r}function s2(t){const e=y.useRef(t);return oy(()=>{e.current=t}),e}function Nne(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=y.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=y.useState(n);ob(f,n)||m(n);const[x,p]=y.useState(null),[v,g]=y.useState(null),w=y.useCallback(D=>{D!==S.current&&(S.current=D,p(D))},[]),N=y.useCallback(D=>{D!==A.current&&(A.current=D,g(D))},[]),j=i||x,b=o||v,S=y.useRef(null),A=y.useRef(null),E=y.useRef(u),P=c!=null,O=s2(c),k=s2(s),L=s2(d),R=y.useCallback(()=>{if(!S.current||!A.current)return;const D={placement:e,strategy:r,middleware:f};k.current&&(D.platform=k.current),bne(S.current,A.current,D).then(W=>{const K={...W,isPositioned:L.current!==!1};_.current&&!ob(E.current,K)&&(E.current=K,$u.flushSync(()=>{h(K)}))})},[f,e,r,k,L]);oy(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[d]);const _=y.useRef(!1);oy(()=>(_.current=!0,()=>{_.current=!1}),[]),oy(()=>{if(j&&(S.current=j),b&&(A.current=b),j&&b){if(O.current)return O.current(j,b,R);R()}},[j,b,R,O,P]);const B=y.useMemo(()=>({reference:S,floating:A,setReference:w,setFloating:N}),[w,N]),I=y.useMemo(()=>({reference:j,floating:b}),[j,b]),C=y.useMemo(()=>{const D={position:r,left:0,top:0};if(!I.floating)return D;const W=II(I.floating,u.x),K=II(I.floating,u.y);return l?{...D,transform:"translate("+W+"px, "+K+"px)",...DU(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:K}},[r,l,I.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:R,refs:B,elements:I,floatingStyles:C}),[u,R,B,I,C])}const Ene=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?RI({element:n.current,padding:s}).fn(r):{}:n?RI({element:n,padding:s}).fn(r):{}}}},Sne=(t,e)=>({...mne(t),options:[t,e]}),Ane=(t,e)=>({...pne(t),options:[t,e]}),Cne=(t,e)=>({...yne(t),options:[t,e]}),kne=(t,e)=>({...xne(t),options:[t,e]}),Pne=(t,e)=>({...gne(t),options:[t,e]}),Tne=(t,e)=>({...vne(t),options:[t,e]}),One=(t,e)=>({...Ene(t),options:[t,e]});var _ne="Arrow",MU=y.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return a.jsx(pt.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});MU.displayName=_ne;var Rne=MU;function DP(t){const[e,r]=y.useState(void 0);return On(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var MP="Popper",[LU,bd]=Da(MP),[Ine,BU]=LU(MP),$U=t=>{const{__scopePopper:e,children:r}=t,[n,s]=y.useState(null);return a.jsx(Ine,{scope:e,anchor:n,onAnchorChange:s,children:r})};$U.displayName=MP;var UU="PopperAnchor",VU=y.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=BU(UU,r),o=y.useRef(null),l=sr(e,o),c=y.useRef(null);return y.useEffect(()=>{const d=c.current;c.current=n?.current||o.current,d!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(pt.div,{...s,ref:l})});VU.displayName=UU;var LP="PopperContent",[Fne,Dne]=LU(LP),zU=y.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:x,...p}=t,v=BU(LP,r),[g,w]=y.useState(null),N=sr(e,q=>w(q)),[j,b]=y.useState(null),S=DP(j),A=S?.width??0,E=S?.height??0,P=n+(i!=="center"?"-"+i:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(d)?d:[d],L=k.length>0,R={padding:O,boundary:k.filter(Lne),altBoundary:L},{refs:_,floatingStyles:B,placement:I,isPositioned:C,middlewareData:D}=Nne({strategy:"fixed",placement:P,whileElementsMounted:(...q)=>fne(...q,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Sne({mainAxis:s+E,alignmentAxis:o}),c&&Ane({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Cne():void 0,...R}),c&&kne({...R}),Pne({...R,apply:({elements:q,rects:ne,availableWidth:fe,availableHeight:pe})=>{const{width:ye,height:Z}=ne.reference,Ne=q.floating.style;Ne.setProperty("--radix-popper-available-width",`${fe}px`),Ne.setProperty("--radix-popper-available-height",`${pe}px`),Ne.setProperty("--radix-popper-anchor-width",`${ye}px`),Ne.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),j&&One({element:j,padding:l}),Bne({arrowWidth:A,arrowHeight:E}),f&&Tne({strategy:"referenceHidden",...R})]}),[W,K]=HU(I),H=gs(x);On(()=>{C&&H?.()},[C,H]);const G=D.arrow?.x,ee=D.arrow?.y,Q=D.arrow?.centerOffset!==0,[te,U]=y.useState();return On(()=>{g&&U(window.getComputedStyle(g).zIndex)},[g]),a.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:C?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(Fne,{scope:r,placedSide:W,onArrowChange:b,arrowX:G,arrowY:ee,shouldHideArrow:Q,children:a.jsx(pt.div,{"data-side":W,"data-align":K,...p,ref:N,style:{...p.style,animation:C?void 0:"none"}})})})});zU.displayName=LP;var WU="PopperArrow",Mne={top:"bottom",right:"left",bottom:"top",left:"right"},qU=y.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=Dne(WU,n),o=Mne[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(Rne,{...s,ref:r,style:{...s.style,display:"block"}})})});qU.displayName=WU;function Lne(t){return t!==null}var Bne=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:s}=e,o=s.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=HU(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(s.arrow?.x??0)+l/2,m=(s.arrow?.y??0)+c/2;let x="",p="";return d==="bottom"?(x=o?h:`${f}px`,p=`${-c}px`):d==="top"?(x=o?h:`${f}px`,p=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,p=o?h:`${m}px`):d==="left"&&(x=`${n.floating.width+c}px`,p=o?h:`${m}px`),{data:{x,y:p}}}});function HU(t){const[e,r="center"]=t.split("-");return[e,r]}var BP=$U,n0=VU,uj=zU,hj=qU,$ne=Symbol("radix.slottable");function Une(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=$ne,e}var[fj]=Da("Tooltip",[bd]),$P=bd(),GU="TooltipProvider",Vne=700,FI="tooltip.open",[zne,KU]=fj(GU),XU=t=>{const{__scopeTooltip:e,delayDuration:r=Vne,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),a.jsx(zne,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};XU.displayName=GU;var YU="Tooltip",[qze,mj]=fj(YU),RS="TooltipTrigger",Wne=y.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=mj(RS,r),i=KU(RS,r),o=$P(r),l=y.useRef(null),c=sr(e,l,s.onTriggerChange),d=y.useRef(!1),u=y.useRef(!1),h=y.useCallback(()=>d.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(n0,{asChild:!0,...o,children:a.jsx(pt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:at(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:at(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:at(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:at(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:at(t.onBlur,s.onClose),onClick:at(t.onClick,s.onClose)})})});Wne.displayName=RS;var qne="TooltipPortal",[Hze,Hne]=fj(qne,{forceMount:void 0}),Af="TooltipContent",QU=y.forwardRef((t,e)=>{const r=Hne(Af,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,o=mj(Af,t.__scopeTooltip);return a.jsx(as,{present:n||o.open,children:o.disableHoverableContent?a.jsx(ZU,{side:s,...i,ref:e}):a.jsx(Gne,{side:s,...i,ref:e})})}),Gne=y.forwardRef((t,e)=>{const r=mj(Af,t.__scopeTooltip),n=KU(Af,t.__scopeTooltip),s=y.useRef(null),i=sr(e,s),[o,l]=y.useState(null),{trigger:c,onClose:d}=r,u=s.current,{onPointerInTransitChange:h}=n,f=y.useCallback(()=>{l(null),h(!1)},[h]),m=y.useCallback((x,p)=>{const v=x.currentTarget,g={x:x.clientX,y:x.clientY},w=Zne(g,v.getBoundingClientRect()),N=Jne(g,w),j=eae(p.getBoundingClientRect()),b=rae([...N,...j]);l(b),h(!0)},[h]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(c&&u){const x=v=>m(v,u),p=v=>m(v,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",p)}}},[c,u,m,f]),y.useEffect(()=>{if(o){const x=p=>{const v=p.target,g={x:p.clientX,y:p.clientY},w=c?.contains(v)||u?.contains(v),N=!tae(g,o);w?f():N&&(f(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,f]),a.jsx(ZU,{...t,ref:i})}),[Kne,Xne]=fj(YU,{isInside:!1}),Yne=Une("TooltipContent"),ZU=y.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=mj(Af,r),d=$P(r),{onClose:u}=c;return y.useEffect(()=>(document.addEventListener(FI,u),()=>document.removeEventListener(FI,u)),[u]),y.useEffect(()=>{if(c.trigger){const h=f=>{f.target?.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),a.jsx(Uu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:a.jsxs(uj,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Yne,{children:n}),a.jsx(Kne,{scope:r,isInside:!0,children:a.jsx(Uee,{id:c.contentId,role:"tooltip",children:s||n})})]})})});QU.displayName=Af;var JU="TooltipArrow",Qne=y.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=$P(r);return Xne(JU,r).isInside?null:a.jsx(hj,{...s,...n,ref:e})});Qne.displayName=JU;function Zne(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Jne(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function eae(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function tae(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],d=l.x,u=l.y,h=c.x,f=c.y;u>n!=f>n&&r<(h-d)*(n-u)/(f-u)+d&&(s=!s)}return s}function rae(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),nae(e)}function nae(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var aae=XU,eV=QU;const sae=aae,iae=y.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(eV,{ref:n,sideOffset:e,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));iae.displayName=eV.displayName;var i2="focusScope.autoFocusOnMount",o2="focusScope.autoFocusOnUnmount",DI={bubbles:!1,cancelable:!0},oae="FocusScope",a0=y.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=y.useState(null),d=gs(s),u=gs(i),h=y.useRef(null),f=sr(e,p=>c(p)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let p=function(N){if(m.paused||!l)return;const j=N.target;l.contains(j)?h.current=j:vc(h.current,{select:!0})},v=function(N){if(m.paused||!l)return;const j=N.relatedTarget;j!==null&&(l.contains(j)||vc(h.current,{select:!0}))},g=function(N){if(document.activeElement===document.body)for(const b of N)b.removedNodes.length>0&&vc(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const w=new MutationObserver(g);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),w.disconnect()}}},[n,l,m.paused]),y.useEffect(()=>{if(l){LI.add(m);const p=document.activeElement;if(!l.contains(p)){const g=new CustomEvent(i2,DI);l.addEventListener(i2,d),l.dispatchEvent(g),g.defaultPrevented||(lae(fae(tV(l)),{select:!0}),document.activeElement===p&&vc(l))}return()=>{l.removeEventListener(i2,d),setTimeout(()=>{const g=new CustomEvent(o2,DI);l.addEventListener(o2,u),l.dispatchEvent(g),g.defaultPrevented||vc(p??document.body,{select:!0}),l.removeEventListener(o2,u),LI.remove(m)},0)}}},[l,d,u,m]);const x=y.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,g=document.activeElement;if(v&&g){const w=p.currentTarget,[N,j]=cae(w);N&&j?!p.shiftKey&&g===j?(p.preventDefault(),r&&vc(N,{select:!0})):p.shiftKey&&g===N&&(p.preventDefault(),r&&vc(j,{select:!0})):g===w&&p.preventDefault()}},[r,n,m.paused]);return a.jsx(pt.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});a0.displayName=oae;function lae(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(vc(n,{select:e}),document.activeElement!==r)return}function cae(t){const e=tV(t),r=MI(e,t),n=MI(e.reverse(),t);return[r,n]}function tV(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function MI(t,e){for(const r of t)if(!dae(r,{upTo:e}))return r}function dae(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function uae(t){return t instanceof HTMLInputElement&&"select"in t}function vc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&uae(t)&&e&&t.select()}}var LI=hae();function hae(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=BI(t,e),t.unshift(e)},remove(e){t=BI(t,e),t[0]?.resume()}}}function BI(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function fae(t){return t.filter(e=>e.tagName!=="A")}var l2=0;function pj(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$I()),document.body.insertAdjacentElement("beforeend",t[1]??$I()),l2++,()=>{l2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),l2--}},[])}function $I(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Go=function(){return Go=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Go.apply(this,arguments)};function rV(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function mae(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var ly="right-scroll-bar-position",cy="width-before-scroll-bar",pae="with-scroll-bars-hidden",xae="--removed-body-scroll-bar-size";function c2(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function gae(t,e){var r=y.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var vae=typeof window<"u"?y.useLayoutEffect:y.useEffect,UI=new WeakMap;function yae(t,e){var r=gae(null,function(n){return t.forEach(function(s){return c2(s,n)})});return vae(function(){var n=UI.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(l){i.has(l)||c2(l,null)}),i.forEach(function(l){s.has(l)||c2(l,o)})}UI.set(r,t)},[t]),r}function bae(t){return t}function wae(t,e){e===void 0&&(e=bae);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return s}function jae(t){t===void 0&&(t={});var e=wae(null);return e.options=Go({async:!0,ssr:!1},t),e}var nV=function(t){var e=t.sideCar,r=rV(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Go({},r))};nV.isSideCarExport=!0;function Nae(t,e){return t.useMedium(e),nV}var aV=jae(),d2=function(){},xj=y.forwardRef(function(t,e){var r=y.useRef(null),n=y.useState({onScrollCapture:d2,onWheelCapture:d2,onTouchMoveCapture:d2}),s=n[0],i=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,m=t.noRelative,x=t.noIsolation,p=t.inert,v=t.allowPinchZoom,g=t.as,w=g===void 0?"div":g,N=t.gapMode,j=rV(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,S=yae([r,e]),A=Go(Go({},j),s);return y.createElement(y.Fragment,null,u&&y.createElement(b,{sideCar:aV,removeScrollBar:d,shards:h,noRelative:m,noIsolation:x,inert:p,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:N}),o?y.cloneElement(y.Children.only(l),Go(Go({},A),{ref:S})):y.createElement(w,Go({},A,{className:c,ref:S}),l))});xj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xj.classNames={fullWidth:cy,zeroRight:ly};var Eae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Sae(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Eae();return e&&t.setAttribute("nonce",e),t}function Aae(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Cae(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kae=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Sae())&&(Aae(e,r),Cae(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Pae=function(){var t=kae();return function(e,r){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},sV=function(){var t=Pae(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},Tae={left:0,top:0,right:0,gap:0},u2=function(t){return parseInt(t||"",10)||0},Oae=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[u2(r),u2(n),u2(s)]},_ae=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Tae;var e=Oae(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Rae=sV(),rf="data-scroll-locked",Iae=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(pae,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(rf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ly,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(cy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ly," .").concat(ly,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(cy," .").concat(cy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(rf,`] {
    `).concat(xae,": ").concat(l,`px;
  }
`)},VI=function(){var t=parseInt(document.body.getAttribute(rf)||"0",10);return isFinite(t)?t:0},Fae=function(){y.useEffect(function(){return document.body.setAttribute(rf,(VI()+1).toString()),function(){var t=VI()-1;t<=0?document.body.removeAttribute(rf):document.body.setAttribute(rf,t.toString())}},[])},Dae=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;Fae();var i=y.useMemo(function(){return _ae(s)},[s]);return y.createElement(Rae,{styles:Iae(i,!e,s,r?"":"!important")})},IS=!1;if(typeof window<"u")try{var iv=Object.defineProperty({},"passive",{get:function(){return IS=!0,!0}});window.addEventListener("test",iv,iv),window.removeEventListener("test",iv,iv)}catch{IS=!1}var ih=IS?{passive:!1}:!1,Mae=function(t){return t.tagName==="TEXTAREA"},iV=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Mae(t)&&r[e]==="visible")},Lae=function(t){return iV(t,"overflowY")},Bae=function(t){return iV(t,"overflowX")},zI=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=oV(t,n);if(s){var i=lV(t,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},$ae=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Uae=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},oV=function(t,e){return t==="v"?Lae(e):Bae(e)},lV=function(t,e){return t==="v"?$ae(e):Uae(e)},Vae=function(t,e){return t==="h"&&e==="rtl"?-1:1},zae=function(t,e,r,n,s){var i=Vae(t,window.getComputedStyle(e).direction),o=i*n,l=r.target,c=e.contains(l),d=!1,u=o>0,h=0,f=0;do{if(!l)break;var m=lV(t,l),x=m[0],p=m[1],v=m[2],g=p-v-i*x;(x||g)&&oV(t,l)&&(h+=g,f+=x);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(d=!0),d},ov=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},WI=function(t){return[t.deltaX,t.deltaY]},qI=function(t){return t&&"current"in t?t.current:t},Wae=function(t,e){return t[0]===e[0]&&t[1]===e[1]},qae=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Hae=0,oh=[];function Gae(t){var e=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),s=y.useState(Hae++)[0],i=y.useState(sV)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=mae([t.lockRef.current],(t.shards||[]).map(qI),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=y.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var g=ov(p),w=r.current,N="deltaX"in p?p.deltaX:w[0]-g[0],j="deltaY"in p?p.deltaY:w[1]-g[1],b,S=p.target,A=Math.abs(N)>Math.abs(j)?"h":"v";if("touches"in p&&A==="h"&&S.type==="range")return!1;var E=window.getSelection(),P=E&&E.anchorNode,O=P?P===S||P.contains(S):!1;if(O)return!1;var k=zI(A,S);if(!k)return!0;if(k?b=A:(b=A==="v"?"h":"v",k=zI(A,S)),!k)return!1;if(!n.current&&"changedTouches"in p&&(N||j)&&(n.current=b),!b)return!0;var L=n.current||b;return zae(L,v,p,L==="h"?N:j)},[]),c=y.useCallback(function(p){var v=p;if(!(!oh.length||oh[oh.length-1]!==i)){var g="deltaY"in v?WI(v):ov(v),w=e.current.filter(function(b){return b.name===v.type&&(b.target===v.target||v.target===b.shadowParent)&&Wae(b.delta,g)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var N=(o.current.shards||[]).map(qI).filter(Boolean).filter(function(b){return b.contains(v.target)}),j=N.length>0?l(v,N[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),d=y.useCallback(function(p,v,g,w){var N={name:p,delta:v,target:g,should:w,shadowParent:Kae(g)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(j){return j!==N})},1)},[]),u=y.useCallback(function(p){r.current=ov(p),n.current=void 0},[]),h=y.useCallback(function(p){d(p.type,WI(p),p.target,l(p,t.lockRef.current))},[]),f=y.useCallback(function(p){d(p.type,ov(p),p.target,l(p,t.lockRef.current))},[]);y.useEffect(function(){return oh.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ih),document.addEventListener("touchmove",c,ih),document.addEventListener("touchstart",u,ih),function(){oh=oh.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,ih),document.removeEventListener("touchmove",c,ih),document.removeEventListener("touchstart",u,ih)}},[]);var m=t.removeScrollBar,x=t.inert;return y.createElement(y.Fragment,null,x?y.createElement(i,{styles:qae(s)}):null,m?y.createElement(Dae,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Kae(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Xae=Nae(aV,Gae);var s0=y.forwardRef(function(t,e){return y.createElement(xj,Go({},t,{ref:e,sideCar:Xae}))});s0.classNames=xj.classNames;var Yae=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},lh=new WeakMap,lv=new WeakMap,cv={},h2=0,cV=function(t){return t&&(t.host||cV(t.parentNode))},Qae=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=cV(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Zae=function(t,e,r,n){var s=Qae(e,Array.isArray(t)?t:[t]);cv[r]||(cv[r]=new WeakMap);var i=cv[r],o=[],l=new Set,c=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var m=f.getAttribute(n),x=m!==null&&m!=="false",p=(lh.get(f)||0)+1,v=(i.get(f)||0)+1;lh.set(f,p),i.set(f,v),o.push(f),p===1&&x&&lv.set(f,!0),v===1&&f.setAttribute(r,"true"),x||f.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return u(e),l.clear(),h2++,function(){o.forEach(function(h){var f=lh.get(h)-1,m=i.get(h)-1;lh.set(h,f),i.set(h,m),f||(lv.has(h)||h.removeAttribute(n),lv.delete(h)),m||h.removeAttribute(r)}),h2--,h2||(lh=new WeakMap,lh=new WeakMap,lv=new WeakMap,cv={})}},gj=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=Yae(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),Zae(n,s,r,"aria-hidden")):function(){return null}};function Jae(t){const e=ese(t),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(rse);if(c){const d=c.props.children,u=l.map(h=>h===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,u):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function ese(t){const e=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=ase(s),l=nse(i,s.props);return s.type!==y.Fragment&&(l.ref=n?xs(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tse=Symbol("radix.slottable");function rse(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tse}function nse(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function ase(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var vj="Dialog",[dV,uV]=Da(vj),[sse,Po]=dV(vj),hV=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=y.useRef(null),c=y.useRef(null),[d,u]=ni({prop:n,defaultProp:s??!1,onChange:i,caller:vj});return a.jsx(sse,{scope:e,triggerRef:l,contentRef:c,contentId:na(),titleId:na(),descriptionId:na(),open:d,onOpenChange:u,onOpenToggle:y.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};hV.displayName=vj;var fV="DialogTrigger",mV=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Po(fV,r),i=sr(e,s.triggerRef);return a.jsx(pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":zP(s.open),...n,ref:i,onClick:at(t.onClick,s.onOpenToggle)})});mV.displayName=fV;var UP="DialogPortal",[ise,pV]=dV(UP,{forceMount:void 0}),xV=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=Po(UP,e);return a.jsx(ise,{scope:e,forceMount:r,children:y.Children.map(n,o=>a.jsx(as,{present:r||i.open,children:a.jsx(dm,{asChild:!0,container:s,children:o})}))})};xV.displayName=UP;var lb="DialogOverlay",gV=y.forwardRef((t,e)=>{const r=pV(lb,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Po(lb,t.__scopeDialog);return i.modal?a.jsx(as,{present:n||i.open,children:a.jsx(lse,{...s,ref:e})}):null});gV.displayName=lb;var ose=Jae("DialogOverlay.RemoveScroll"),lse=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Po(lb,r);return a.jsx(s0,{as:ose,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(pt.div,{"data-state":zP(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),vu="DialogContent",vV=y.forwardRef((t,e)=>{const r=pV(vu,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Po(vu,t.__scopeDialog);return a.jsx(as,{present:n||i.open,children:i.modal?a.jsx(cse,{...s,ref:e}):a.jsx(dse,{...s,ref:e})})});vV.displayName=vu;var cse=y.forwardRef((t,e)=>{const r=Po(vu,t.__scopeDialog),n=y.useRef(null),s=sr(e,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return gj(i)},[]),a.jsx(yV,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(t.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:at(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:at(t.onFocusOutside,i=>i.preventDefault())})}),dse=y.forwardRef((t,e)=>{const r=Po(vu,t.__scopeDialog),n=y.useRef(!1),s=y.useRef(!1);return a.jsx(yV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),yV=y.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=Po(vu,r),c=y.useRef(null),d=sr(e,c);return pj(),a.jsxs(a.Fragment,{children:[a.jsx(a0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Uu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":zP(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(hse,{titleId:l.titleId}),a.jsx(mse,{contentRef:c,descriptionId:l.descriptionId})]})]})}),VP="DialogTitle",bV=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Po(VP,r);return a.jsx(pt.h2,{id:s.titleId,...n,ref:e})});bV.displayName=VP;var wV="DialogDescription",jV=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Po(wV,r);return a.jsx(pt.p,{id:s.descriptionId,...n,ref:e})});jV.displayName=wV;var NV="DialogClose",EV=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Po(NV,r);return a.jsx(pt.button,{type:"button",...n,ref:e,onClick:at(t.onClick,()=>s.onOpenChange(!1))})});EV.displayName=NV;function zP(t){return t?"open":"closed"}var SV="DialogTitleWarning",[use,AV]=dee(SV,{contentName:vu,titleName:VP,docsSlug:"dialog"}),hse=({titleId:t})=>{const e=AV(SV),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},fse="DialogDescriptionWarning",mse=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AV(fse).contentName}}.`;return y.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},yj=hV,CV=mV,bj=xV,pm=gV,xm=vV,i0=bV,o0=jV,WP=EV;const $t=yj,pse=bj,kV=y.forwardRef(({className:t,...e},r)=>a.jsx(pm,{ref:r,className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));kV.displayName=pm.displayName;const Ft=y.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(pse,{children:[a.jsx(kV,{}),a.jsx(xm,{ref:n,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:e})]}));Ft.displayName=xm.displayName;const Dt=({className:t,...e})=>a.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Dt.displayName="DialogHeader";const ai=({className:t,...e})=>a.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ai.displayName="DialogFooter";const Mt=y.forwardRef(({className:t,...e},r)=>a.jsx(i0,{ref:r,className:_e("text-lg font-semibold leading-none tracking-tight",t),...e}));Mt.displayName=i0.displayName;const Ut=y.forwardRef(({className:t,...e},r)=>a.jsx(o0,{ref:r,className:_e("text-sm text-muted-foreground",t),...e}));Ut.displayName=o0.displayName;var xse=Symbol.for("react.lazy"),cb=Uw[" use ".trim().toString()];function gse(t){return typeof t=="object"&&t!==null&&"then"in t}function PV(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===xse&&"_payload"in t&&gse(t._payload)}function wj(t){const e=vse(t),r=y.forwardRef((n,s)=>{let{children:i,...o}=n;PV(i)&&typeof cb=="function"&&(i=cb(i._payload));const l=y.Children.toArray(i),c=l.find(bse);if(c){const d=c.props.children,u=l.map(h=>h===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,u):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var TV=wj("Slot");function vse(t){const e=y.forwardRef((r,n)=>{let{children:s,...i}=r;if(PV(s)&&typeof cb=="function"&&(s=cb(s._payload)),y.isValidElement(s)){const o=jse(s),l=wse(i,s.props);return s.type!==y.Fragment&&(l.ref=n?xs(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yse=Symbol("radix.slottable");function bse(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yse}function wse(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function jse(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const qP=Jg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ie=y.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?TV:"button";return a.jsx(o,{className:_e(qP({variant:e,size:r,className:t})),ref:i,...s})});ie.displayName="Button";function Nse(t,e=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const d=h=>{const{scope:f,children:m,...x}=h,p=f?.[t]?.[c]||l,v=y.useMemo(()=>x,Object.values(x));return a.jsx(p.Provider,{value:v,children:m})};d.displayName=i+"Provider";function u(h,f){const m=f?.[t]?.[c]||l,x=y.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=l?.[t]||i;return y.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Ese(s,...e)]}function Ese(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Sse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],OV=Sse.reduce((t,e)=>{const r=wj(`Primitive.${e}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),HP="Progress",GP=100,[Ase]=Nse(HP),[Cse,kse]=Ase(HP),_V=y.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Pse,...o}=t;(s||s===0)&&!HI(s)&&console.error(Tse(`${s}`,"Progress"));const l=HI(s)?s:GP;n!==null&&!GI(n,l)&&console.error(Ose(`${n}`,"Progress"));const c=GI(n,l)?n:null,d=db(c)?i(c,l):void 0;return a.jsx(Cse,{scope:r,value:c,max:l,children:a.jsx(OV.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":db(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":FV(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});_V.displayName=HP;var RV="ProgressIndicator",IV=y.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=kse(RV,r);return a.jsx(OV.div,{"data-state":FV(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});IV.displayName=RV;function Pse(t,e){return`${Math.round(t/e*100)}%`}function FV(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function db(t){return typeof t=="number"}function HI(t){return db(t)&&!isNaN(t)&&t>0}function GI(t,e){return db(t)&&!isNaN(t)&&t<=e&&t>=0}function Tse(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${GP}\`.`}function Ose(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${GP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var DV=_V,_se=IV;const MV=y.forwardRef(({className:t,value:e,...r},n)=>a.jsx(DV,{ref:n,className:_e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:a.jsx(_se,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));MV.displayName=DV.displayName;const LV=y.createContext(void 0),fo=[{id:1,title:"Complete the Onboarding Form",description:"Learn how to complete the onboarding form when returning your vehicle to the GLA office.",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",videoPlaceholder:"Step 1: Complete the onboarding form when returning the vehicle to the GLA office.",instructions:["Navigate to the Forms page from the main menu","Select the 'Onboarding' tab","Fill in all required vehicle information","Select your vehicle from the dropdown","Enter the drop-off date and time","Submit the form to notify GLA office"],actionButton:{label:"Forms",href:"/admin/forms"}},{id:2,title:"Complete the Offboarding Form",description:"Learn how to complete the offboarding form when picking up your vehicle from GLA.",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",videoPlaceholder:"Step 2: Complete the offboarding form when picking up the vehicle from GLA.",instructions:["Navigate to the Forms page from the main menu","Select the 'Offboarding' tab","Fill in all required vehicle information","Select your vehicle from the dropdown","Enter the pick-up date and time","Submit the form to notify GLA office"],actionButton:{label:"Forms",href:"/admin/forms"}},{id:3,title:"Access Your Profile",description:"Learn how to check your user information, contract copy, and shortcut links in your profile.",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",videoPlaceholder:"Step 3: You can check your user information, contract copy, and shortcut links in your profile.",instructions:["Navigate to your Profile page from the main menu","View your personal information and account details","Access your signed contract documents","Use Quick Links for quick navigation","Download contract copies when needed","Update your information if necessary"],actionButton:{label:"Profile",href:"/profile"}},{id:4,title:"In-Vehicle Navigation",description:"This feature will be available soon. Stay tuned for updates!",videoUrl:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",videoPlaceholder:"Step 4: (To be added once the in-vehicle navigation function is completed)",instructions:["This feature is currently under development","In-vehicle navigation functionality will be added soon","You'll receive a notification when this feature is available","Check back later for updates"],actionButton:{label:"Coming Soon"}}];function Rse(t="client"){return Ge({queryKey:["/api/tutorial/modules",t],queryFn:async()=>{try{const e=new AbortController,r=setTimeout(()=>e.abort(),5e3),n=await fetch(je(`/api/tutorial/modules?role=${t}`),{credentials:"include",signal:e.signal});if(clearTimeout(r),!n.ok)return console.warn("Failed to fetch tutorial modules"),[];const s=await n.json();return s.success?s.data:[]}catch(e){return console.warn(" [TUTORIAL] Failed to fetch tutorial modules (non-critical):",e),[]}},staleTime:5*60*1e3,retry:!1,throwOnError:!1})}function BV(t="client"){return Ge({queryKey:["/api/tutorial/steps",t,"with-modules"],queryFn:async()=>{try{const e=new AbortController,r=setTimeout(()=>e.abort(),5e3),n=await fetch(je(`/api/tutorial/steps?role=${t}&includeModules=true`),{credentials:"include",signal:e.signal});if(clearTimeout(r),!n.ok)return console.warn("Failed to fetch tutorial steps with modules, using defaults"),{modules:[]};const s=await n.json();return s.success?s.data:{modules:[]}}catch(e){return console.warn(" [TUTORIAL] Failed to fetch tutorial steps with modules (non-critical):",e),{modules:[]}}},staleTime:5*60*1e3,retry:!1,throwOnError:!1})}function Ise(t="client"){return Ge({queryKey:["/api/tutorial/steps",t],queryFn:async()=>{try{const e=new AbortController,r=setTimeout(()=>e.abort(),5e3),n=await fetch(je(`/api/tutorial/steps?role=${t}`),{credentials:"include",signal:e.signal});if(clearTimeout(r),!n.ok)return console.warn("Failed to fetch tutorial steps, using defaults"),fo;const s=await n.json();if(s.success){if(Array.isArray(s.data))return s.data;if(s.data.modules){const i=[];return s.data.modules.forEach(o=>{o.steps&&Array.isArray(o.steps)&&i.push(...o.steps)}),i.length>0?i:fo}}return fo}catch(e){return console.warn(" [TUTORIAL] Failed to fetch tutorial steps (non-critical):",e),fo}},staleTime:5*60*1e3,retry:!1,placeholderData:fo,throwOnError:!1})}function Fse({children:t}){const[e,r]=y.useState(!1),[n,s]=y.useState(null),[i,o]=y.useState(1),[l,c]=y.useState(new Set),[d,u]=y.useState(!1),h=Wr(),{toast:f}=kr(),[m]=wr(),x=m==="/login"||m==="/signup"||m==="/",[p,v]=y.useState(!1);y.useEffect(()=>{if(x){v(!1),h.cancelQueries({queryKey:["/api/auth/me"]}),h.removeQueries({queryKey:["/api/auth/me",m]});return}const K=setTimeout(()=>{const H=window.location.pathname;H!=="/login"&&H!=="/signup"&&H!=="/"&&v(!0)},200);return()=>clearTimeout(K)},[x,m,h]);const g=!x&&p,{data:w}=Ge({queryKey:["/api/auth/me",m],queryFn:async()=>{const K=window.location.pathname;if(K==="/login"||K==="/signup"||K==="/")return{user:void 0};try{const H=new AbortController,G=setTimeout(()=>H.abort(),5e3),ee=await fetch(je("/api/auth/me"),{credentials:"include",signal:H.signal});return clearTimeout(G),ee.ok?ee.json():ee.status===401?{user:void 0}:{user:void 0}}catch{return{user:void 0}}},retry:!1,staleTime:5*60*1e3,gcTime:0,enabled:g,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,throwOnError:!1}),N=w?.user?.isAdmin?"admin":w?.user?.isClient?"client":w?.user?.isEmployee?"employee":"client",{data:j=fo,refetch:b}=Ise(N),{data:S=[],refetch:A}=Rse(N),{data:E}=BV(N),P=yt({mutationFn:async()=>{const K=await fetch(je("/api/auth/complete-tour"),{method:"POST",credentials:"include"});if(!K.ok)throw new Error("Failed to mark tour as completed");return K.json()},onSuccess:()=>{h.invalidateQueries({queryKey:["/api/auth/me"]})},onError:K=>{console.error("Failed to mark tour as completed:",K),f({title:"Error",description:"Failed to mark tutorial as completed. Please try again.",variant:"destructive"})}}),O=K=>{const H={completed:d,currentStep:i,completedSteps:Array.from(l)},G={...H,...K,completedSteps:K.completedSteps?Array.from(K.completedSteps):H.completedSteps};localStorage.setItem("gla_tutorial_state",JSON.stringify(G))};y.useEffect(()=>{const K=localStorage.getItem("gla_tutorial_state");if(K)try{const H=JSON.parse(K);if(u(H.completed||!1),c(new Set(H.completedSteps||[])),H.currentStep)if(Array.isArray(j)&&j.length>0)if(j.some(ee=>ee.id===H.currentStep))o(H.currentStep);else{const ee=j[0].id;o(ee)}else o(H.currentStep)}catch(H){console.error("Error loading tutorial state:",H)}},[j]),y.useEffect(()=>{if(Array.isArray(j)&&j.length>0&&!j.some(H=>H.id===i)){const H=j[0].id;o(H),O({currentStep:H})}},[j,i]);const k=async()=>{await b();const K=h.getQueryData(["/api/tutorial/steps"])||j,G=(Array.isArray(K)&&K.length>0?K:fo)[0].id;o(G),r(!0),O({currentStep:G,isOpen:!0})},L=()=>{r(!1),O({isOpen:!1})},R=()=>{if(!Array.isArray(D)||D.length===0){console.warn("Tutorial steps not available");return}const K=D.findIndex(H=>H.id===i);if(K>=0&&K<D.length-1){const H=D[K+1];o(H.id),O({currentStep:H.id})}else{const H=D[D.length-1];H&&(u(!0),O({completed:!0,currentStep:H.id}),P.mutate(),L())}},_=()=>{if(!Array.isArray(D)||D.length===0){console.warn("Tutorial steps not available");return}const K=D.findIndex(H=>H.id===i);if(K>0){const H=D[K-1];o(H.id),O({currentStep:H.id})}},B=K=>{if(s(K),E?.modules){const H=E.modules.find(G=>G.id===K);H&&H.steps&&H.steps.length>0&&(o(H.steps[0].id),O({currentStep:H.steps[0].id}))}},I=K=>{if(!Array.isArray(D)||D.length===0){console.warn("Tutorial steps not available");return}const H=D.find(G=>G.id===K);H&&(o(H.id),O({currentStep:H.id}))},C=K=>{const H=new Set(l);H.add(K),c(H),O({completedSteps:H})},D=Array.isArray(j)&&j.length>0?j:fo,W=async()=>{await b();const K=h.getQueryData(["/api/tutorial/steps"])||j,G=(Array.isArray(K)&&K.length>0?K:fo)[0].id;o(G),c(new Set),u(!1),r(!0),O({currentStep:G,completedSteps:new Set,completed:!1,isOpen:!0})};return a.jsx(LV.Provider,{value:{isOpen:e,currentModule:n,currentStep:i,completedSteps:l,openTutorial:k,closeTutorial:L,nextStep:R,previousStep:_,goToStep:I,goToModule:B,markStepComplete:C,resetTutorial:W,hasCompletedTutorial:d,tutorialSteps:D,tutorialModules:S},children:t})}function KP(){const t=y.useContext(LV);if(t===void 0)throw new Error("useTutorial must be used within a TutorialProvider");return t}function $V({isOpen:t,onClose:e,autoStart:r=!1,autoPlay:n=!0}){const[,s]=wr(),[i,o]=y.useState(!1),[l,c]=y.useState(!0),{isOpen:d,currentModule:u,currentStep:h,completedSteps:f,closeTutorial:m,nextStep:x,previousStep:p,goToStep:v,goToModule:g,markStepComplete:w,hasCompletedTutorial:N,openTutorial:j,tutorialSteps:b=fo,tutorialModules:S=[]}=KP(),A=t!==void 0?t:d,E=e||m,P=Array.isArray(b)?b:fo,O=Array.isArray(S)?S:[],{data:k}=Ge({queryKey:["/api/auth/me"],queryFn:async()=>{try{const ne=new AbortController,fe=setTimeout(()=>ne.abort(),5e3),pe=await fetch(je("/api/auth/me"),{credentials:"include",signal:ne.signal});return clearTimeout(fe),pe.ok?pe.json():{user:void 0}}catch(ne){return console.warn(" [TUTORIAL] Failed to fetch user data (non-critical):",ne),{user:void 0}}},retry:!1,staleTime:5*60*1e3,throwOnError:!1}),L=k?.user?.isAdmin?"admin":k?.user?.isClient?"client":k?.user?.isEmployee?"employee":"client",{data:R}=BV(L),_=Wr();y.useEffect(()=>{A&&(_.refetchQueries({queryKey:["/api/tutorial/steps"],type:"active"}),_.refetchQueries({queryKey:["/api/tutorial/modules"],type:"active"}))},[A,_]);const B=P.find(ne=>ne.id===h)||P[h-1]||P[0],I=B?.moduleId?O.find(ne=>ne.id===B.moduleId):null,C=R?.modules?.find(ne=>ne.id===I?.id)?.steps||P;if(y.useEffect(()=>{o(!1),c(!0)},[h,B?.videoUrl]),!B)return null;const D=I?C:P,W=D.findIndex(ne=>ne.id===h),K=W>=0?(W+1)/D.length*100:0,H=W===0,G=W===D.length-1,ee=()=>{o(!0),c(!1),console.warn("Video failed to load:",B.videoUrl)},Q=()=>{c(!1),o(!1)},te=()=>{c(!0),o(!1)},U=B.videoUrl&&typeof B.videoUrl=="string"&&B.videoUrl.trim()!=="",q=()=>{B.actionButton?.href?(s(B.actionButton.href),E()):B.actionButton?.onClick&&B.actionButton.onClick()};return a.jsx($t,{open:A,onOpenChange:ne=>{ne||E()},children:a.jsxs(Ft,{className:"max-w-4xl max-h-[95vh] flex flex-col bg-[#0a0a0a] border-[#1a1a1a] text-foreground",children:[a.jsxs(Dt,{className:"space-y-2 pb-2",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs(Mt,{className:"text-xl font-bold text-[#EAEB80] flex items-center gap-2",children:[a.jsx(hU,{className:"w-5 h-5"}),"Welcome Tutorial"]})}),a.jsx(Ut,{className:"text-xs text-gray-400",children:I?a.jsxs(a.Fragment,{children:["Module: ",I.title," - Step ",h," of ",C.length]}):a.jsxs(a.Fragment,{children:["Step ",h," of ",P.length]})})]}),O.length>0&&a.jsx("div",{className:"flex gap-2 pb-2 overflow-x-auto",children:O.map(ne=>a.jsx(ie,{variant:I?.id===ne.id?"default":"outline",size:"sm",onClick:()=>g(ne.id),className:_e("whitespace-nowrap",I?.id===ne.id?"bg-[#EAEB80] text-black hover:bg-[#EAEB80]/90":"border-gray-700 text-gray-300 hover:bg-gray-800"),children:ne.title},ne.id))}),a.jsxs("div",{className:"space-y-1 pb-2",children:[a.jsx(MV,{value:K,className:"h-2 bg-gray-800"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[Math.round(K),"% Complete"]}),a.jsxs("span",{children:[W>=0?W+1:h," / ",D.length]})]})]}),a.jsxs("div",{className:"space-y-4 py-2 flex-1 overflow-hidden flex flex-col min-h-0",children:[a.jsx("div",{className:"relative h-[400px] bg-gray-900 rounded-lg overflow-hidden border border-gray-800 flex-shrink-0",children:i||!U?a.jsx("div",{className:"w-full h-full flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("div",{className:"text-gray-500 text-sm",children:B.videoPlaceholder||"Video will be available soon"}),U&&i&&a.jsxs("div",{className:"text-xs text-gray-600 mt-2 break-all",children:["Video URL: ",B.videoUrl]})]})}):a.jsxs(a.Fragment,{children:[l&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-[#EAEB80] border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Loading video..."})]})}),a.jsx("video",{src:B.videoUrl,className:"w-full h-full object-contain",controls:!0,...n?{autoPlay:!0}:{},loop:!0,muted:!0,playsInline:!0,onError:ee,onLoadedData:Q,onLoadStart:te,onCanPlay:Q,children:"Your browser does not support the video tag."},`${h}-${B.videoUrl}`)]})}),a.jsxs("div",{className:"space-y-1 flex-shrink-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:B.title}),a.jsx("p",{className:"text-sm text-gray-400",children:B.description})]}),a.jsxs("div",{className:"space-y-2 flex-1 min-h-0",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-300 uppercase tracking-wide",children:"Instructions:"}),B.instructions&&Array.isArray(B.instructions)&&B.instructions.length>0?a.jsx("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:B.instructions.map((ne,fe)=>a.jsxs("li",{className:"flex items-start gap-2 text-gray-300",children:[a.jsx("div",{className:"mt-0.5 w-5 h-5 rounded-full bg-[#EAEB80]/20 flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-[#EAEB80] text-xs font-bold",children:fe+1})}),a.jsx("span",{className:"flex-1 leading-relaxed",children:ne})]},fe))}):a.jsx("p",{className:"text-sm text-gray-500 italic",children:"No instructions available for this step."})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4 pt-3 border-t border-gray-800 flex-shrink-0",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ie,{variant:"outline",onClick:E,className:"border-gray-700 text-gray-300 hover:bg-gray-800 hover:text-foreground",children:"Skip Tutorial"}),!H&&a.jsxs(ie,{variant:"outline",onClick:p,className:"border-gray-700 text-gray-300 hover:bg-gray-800 hover:text-foreground",children:[a.jsx(Kl,{className:"w-4 h-4 mr-2"}),"Previous"]})]}),a.jsxs("div",{className:"flex gap-2",children:[B.actionButton&&B.actionButton.label!=="Coming Soon"&&a.jsxs(ie,{onClick:q,variant:"outline",className:"border-[#EAEB80]/30 text-[#EAEB80] hover:bg-[#EAEB80]/10",children:[a.jsx(Pte,{className:"w-4 h-4 mr-2"}),B.actionButton.label]}),G?a.jsxs(ie,{onClick:()=>{w(h),x()},className:"bg-green-600 text-foreground hover:bg-green-700",children:[a.jsx(Jy,{className:"w-4 h-4 mr-2"}),"Complete Tutorial"]}):a.jsxs(ie,{onClick:()=>{w(h),x()},className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:["Next",a.jsx(pa,{className:"w-4 h-4 ml-2"})]})]})]})]})})}class UV extends y.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,r){if(console.error(" [ERROR BOUNDARY] Caught error:",e),console.error(" [ERROR BOUNDARY] Error info:",r),typeof window<"u"){const n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);console.error(" [ERROR BOUNDARY] User Agent:",navigator.userAgent),console.error(" [ERROR BOUNDARY] Is Mobile:",n),console.error(" [ERROR BOUNDARY] Current URL:",window.location.href),console.error(" [ERROR BOUNDARY] API Base URL:","Not set")}this.setState({error:e,errorInfo:r})}handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-2xl w-full bg-[#1a1a1a] border-2 border-red-500/50 rounded-lg p-8 text-center",children:[a.jsx(Wd,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-300 mb-6",children:"The application encountered an error. Please try refreshing the page."}),this.state.error&&a.jsxs("div",{className:"bg-[#0a0a0a] border border-red-500/30 rounded p-4 mb-6 text-left",children:[a.jsx("p",{className:"text-red-400 text-sm font-mono break-all",children:this.state.error.message||"Unknown error"}),this.state.errorInfo&&a.jsxs("details",{className:"mt-2",children:[a.jsx("summary",{className:"text-gray-400 text-xs cursor-pointer",children:"Stack trace"}),a.jsx("pre",{className:"text-gray-500 text-xs mt-2 overflow-auto max-h-40",children:this.state.errorInfo.componentStack})]})]}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsxs(ie,{onClick:this.handleReload,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:[a.jsx(dU,{className:"w-4 h-4 mr-2"}),"Reload Page"]}),a.jsxs(ie,{onClick:this.handleGoHome,variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[a.jsx(AP,{className:"w-4 h-4 mr-2"}),"Go Home"]})]}),a.jsxs("div",{className:"mt-6 text-xs text-gray-500",children:[a.jsx("p",{children:"If this problem persists, please contact support."}),a.jsxs("p",{className:"mt-2",children:["User Agent: ",typeof window<"u"?navigator.userAgent:"Unknown"]})]})]})}):this.props.children}}const KI=[{href:"/",label:"Home",icon:AP},{href:"/fleet",label:"Our Fleet",icon:hs},{href:"/onboarding",label:"Get Started",icon:Ln},{href:"/contact",label:"Contact",icon:t0}];function qx(){const[t,e]=y.useState(!1),[r]=wr();return a.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-lg bg-[#0a0a0a]/80 border-b border-white/10",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[a.jsx(fa,{href:"/",className:"flex items-center","data-testid":"link-logo",children:a.jsx("img",{src:"/logo.svg",alt:"Golden Luxury Auto",className:"w-[140px] md:w-[180px] h-auto object-contain drop-shadow-[0_0_12px_rgba(234,235,128,0.4)]"})}),a.jsx("div",{className:"hidden lg:flex items-center gap-1",children:KI.map(n=>a.jsxs(fa,{href:n.href,className:_e("px-4 py-2 text-sm font-medium transition-colors relative group",r===n.href?"text-primary":"text-muted-foreground hover:text-foreground"),"data-testid":`link-nav-${n.label.toLowerCase().replace(/\s+/g,"-")}`,children:[n.label,a.jsx("span",{className:_e("absolute bottom-0 left-4 right-4 h-0.5 bg-primary transition-transform origin-left",r===n.href?"scale-x-100":"scale-x-0 group-hover:scale-x-100")})]},n.href))}),a.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[a.jsx(fa,{href:"/admin/login",children:a.jsx(ie,{variant:"ghost","data-testid":"button-login",children:"Login"})}),a.jsx(fa,{href:"/onboarding",children:a.jsx(ie,{"data-testid":"button-get-started",children:"Get Started"})})]}),a.jsx("button",{className:"lg:hidden p-2 text-foreground",onClick:()=>e(!t),"data-testid":"button-mobile-menu",children:t?a.jsx(pr,{className:"w-6 h-6"}):a.jsx(CS,{className:"w-6 h-6"})})]})}),t&&a.jsx("div",{className:"lg:hidden fixed inset-0 top-16 bg-[#0a0a0a] z-40",children:a.jsxs("div",{className:"flex flex-col p-6 gap-2",children:[KI.map(n=>{const s=n.icon;return a.jsxs(fa,{href:n.href,className:_e("flex items-center gap-3 px-4 py-3 rounded-md text-lg font-medium transition-colors",r===n.href?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-white/5 hover:text-foreground"),onClick:()=>e(!1),"data-testid":`link-mobile-${n.label.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(s,{className:"w-5 h-5"}),n.label]},n.href)}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10 space-y-2",children:[a.jsx(fa,{href:"/admin/login",className:"w-full",children:a.jsx(ie,{variant:"ghost",className:"w-full",onClick:()=>e(!1),"data-testid":"button-mobile-login",children:"Login"})}),a.jsx(fa,{href:"/onboarding",className:"w-full",children:a.jsx(ie,{className:"w-full",size:"lg",onClick:()=>e(!1),"data-testid":"button-mobile-get-started",children:"Get Started"})})]})]})})]})}const Dse=[{href:"/fleet",label:"Our Fleet"},{href:"/onboarding",label:"Get Started"},{href:"/contact",label:"Contact Us"}],Mse=[{href:"/privacy",label:"Privacy Policy"},{href:"/terms",label:"Terms of Service"}];function Hx(){return a.jsx("footer",{className:"bg-[#0a0a0a] border-t border-white/10",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-16",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs(fa,{href:"/",className:"flex items-center gap-3 mb-4","data-testid":"link-footer-logo",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary flex items-center justify-center",children:a.jsx(hs,{className:"w-6 h-6 text-primary-foreground"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-lg font-semibold tracking-tight text-foreground",children:"Luxury Auto"}),a.jsx("span",{className:"text-xs text-muted-foreground tracking-widest uppercase",children:"Gallery"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Curating the world's finest automobiles for discerning collectors and enthusiasts."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground tracking-wide uppercase mb-4",children:"Quick Links"}),a.jsx("ul",{className:"space-y-3",children:Dse.map(t=>a.jsx("li",{children:a.jsx(fa,{href:t.href,className:"text-sm text-muted-foreground hover:text-primary transition-colors","data-testid":`link-footer-${t.label.toLowerCase().replace(/\s+/g,"-")}`,children:t.label})},t.href))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground tracking-wide uppercase mb-4",children:"Contact"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(cU,{className:"w-4 h-4 text-primary mt-0.5 shrink-0"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["123 Luxury Lane",a.jsx("br",{}),"Beverly Hills, CA 90210"]})]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(t0,{className:"w-4 h-4 text-primary shrink-0"}),a.jsx("a",{href:"tel:+1234567890",className:"text-sm text-muted-foreground hover:text-primary transition-colors","data-testid":"link-footer-phone",children:"+1 (234) 567-890"})]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(xu,{className:"w-4 h-4 text-primary shrink-0"}),a.jsx("a",{href:"mailto:info@luxuryauto.com",className:"text-sm text-muted-foreground hover:text-primary transition-colors","data-testid":"link-footer-email",children:"info@luxuryauto.com"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground tracking-wide uppercase mb-4",children:"Hours"}),a.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("li",{className:"flex justify-between gap-4",children:[a.jsx("span",{children:"Monday - Friday"}),a.jsx("span",{children:"9am - 7pm"})]}),a.jsxs("li",{className:"flex justify-between gap-4",children:[a.jsx("span",{children:"Saturday"}),a.jsx("span",{children:"10am - 5pm"})]}),a.jsxs("li",{className:"flex justify-between gap-4",children:[a.jsx("span",{children:"Sunday"}),a.jsx("span",{children:"By Appointment"})]})]})]})]}),a.jsxs("div",{className:"mt-12 pt-8 border-t border-white/10 flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",new Date().getFullYear()," Luxury Auto Gallery. All rights reserved."]}),a.jsx("div",{className:"flex items-center gap-6",children:Mse.map(t=>a.jsx(fa,{href:t.href,className:"text-xs text-muted-foreground hover:text-primary transition-colors","data-testid":`link-footer-${t.label.toLowerCase().replace(/\s+/g,"-")}`,children:t.label},t.href))})]})]})})}function Lse(){const t=()=>{document.getElementById("featured-fleet")?.scrollIntoView({behavior:"smooth"})};return a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://images.unsplash.com/photo-1544636331-e26879cd4d9b?ixlib=rb-4.0.3&auto=format&fit=crop&w=2574&q=80')"},children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0a0a0a]/70 via-[#0a0a0a]/50 to-[#0a0a0a]"})}),a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center pt-20",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/10 mb-8",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),a.jsx("span",{className:"text-sm text-foreground/80 tracking-wide",children:"Exclusive Collection Available"})]}),a.jsxs("h1",{className:"font-serif text-5xl sm:text-6xl lg:text-7xl font-light tracking-tight text-foreground mb-6",children:["Experience",a.jsx("span",{className:"block text-primary mt-2",children:"Automotive Excellence"})]}),a.jsx("p",{className:"max-w-2xl mx-auto text-lg sm:text-xl text-foreground/70 leading-relaxed mb-10",children:"Discover our curated collection of the world's most prestigious luxury vehicles. Each car tells a story of craftsmanship, performance, and timeless elegance."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsx(fa,{href:"/fleet",children:a.jsxs(ie,{size:"lg",className:"min-w-[180px] group","data-testid":"button-explore-fleet",children:["Explore Fleet",a.jsx(um,{className:"ml-2 w-4 h-4 transition-transform group-hover:translate-x-1"})]})}),a.jsx(fa,{href:"/contact",children:a.jsx(ie,{size:"lg",variant:"outline",className:"min-w-[180px] bg-white/5 backdrop-blur-sm border-white/20 hover:bg-white/10","data-testid":"button-contact-us",children:"Contact Us"})})]}),a.jsx("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2",children:a.jsxs("button",{onClick:t,className:"flex flex-col items-center gap-2 text-foreground/50 hover:text-primary transition-colors group","data-testid":"button-scroll-down",children:[a.jsx("span",{className:"text-xs tracking-widest uppercase",children:"Scroll to explore"}),a.jsx(ol,{className:"w-5 h-5 animate-bounce"})]})})]})]})}const Bse=Jg("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Ot({className:t,variant:e,...r}){return a.jsx("div",{className:_e(Bse({variant:e}),t),...r})}const ft=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:_e("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));ft.displayName="Card";const $r=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:_e("flex flex-col space-y-1.5 p-6",t),...e}));$r.displayName="CardHeader";const Gr=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:_e("text-2xl font-semibold leading-none tracking-tight",t),...e}));Gr.displayName="CardTitle";const nl=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:_e("text-sm text-muted-foreground",t),...e}));nl.displayName="CardDescription";const mt=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:_e("p-6 pt-0",t),...e}));mt.displayName="CardContent";const $se=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:_e("flex items-center p-6 pt-0",t),...e}));$se.displayName="CardFooter";const Use=[{id:"1",make:"Porsche",model:"911 GT3 RS",year:2024,price:"249950.00",mileage:1200,exteriorColor:"GT Silver Metallic",engine:"4.0L Flat-6",transmission:"7-Speed PDK",fuelType:"Gasoline",featured:!0,status:"available",images:["https://images.unsplash.com/photo-1614162692292-7ac56d7f7f1e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"]},{id:"2",make:"Ferrari",model:"SF90 Stradale",year:2023,price:"625000.00",mileage:850,exteriorColor:"Rosso Corsa",engine:"4.0L Twin-Turbo V8 Hybrid",transmission:"8-Speed Dual-Clutch",fuelType:"Hybrid",featured:!0,status:"available",images:["https://images.unsplash.com/photo-1583121274602-3e2820c69888?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"]},{id:"3",make:"Lamborghini",model:"Huracn Tecnica",year:2024,price:"335000.00",mileage:500,exteriorColor:"Verde Mantis",engine:"5.2L V10",transmission:"7-Speed Dual-Clutch",fuelType:"Gasoline",featured:!0,status:"available",images:["https://images.unsplash.com/photo-1544636331-e26879cd4d9b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"]}];function Vse(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(parseFloat(t))}function zse({car:t}){return a.jsxs(ft,{className:"group overflow-hidden bg-card border-white/10 hover-elevate",children:[a.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden",children:[a.jsx("img",{src:t.images?.[0]||"https://images.unsplash.com/photo-1544636331-e26879cd4d9b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",alt:`${t.make} ${t.model}`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),t.featured&&a.jsx(Ot,{className:"absolute top-4 left-4 bg-primary text-primary-foreground",children:"Featured"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0a]/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsxs(mt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-semibold text-foreground",children:[t.make," ",t.model]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.exteriorColor})]}),a.jsx("p",{className:"text-xl font-semibold text-primary whitespace-nowrap",children:Vse(String(t.price||"0"))})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(EP,{className:"w-4 h-4 text-primary/70"}),a.jsx("span",{children:t.year})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(lU,{className:"w-4 h-4 text-primary/70"}),a.jsxs("span",{children:[t.mileage?.toLocaleString()," mi"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(oU,{className:"w-4 h-4 text-primary/70"}),a.jsx("span",{children:t.fuelType})]})]}),a.jsx(fa,{href:`/fleet/${t.id}`,children:a.jsxs(ie,{variant:"outline",className:"w-full group/btn border-white/20","data-testid":`button-view-details-${t.id}`,children:["View Details",a.jsx(um,{className:"ml-2 w-4 h-4 transition-transform group-hover/btn:translate-x-1"})]})})]})]})}function Wse(){return a.jsx("section",{id:"featured-fleet",className:"py-20 lg:py-28 bg-[#0a0a0a]",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[a.jsx("p",{className:"text-sm font-medium text-primary tracking-widest uppercase mb-3",children:"Curated Selection"}),a.jsx("h2",{className:"font-serif text-3xl lg:text-4xl font-medium text-foreground mb-4",children:"Featured Vehicles"}),a.jsx("p",{className:"max-w-2xl mx-auto text-muted-foreground",children:"Hand-picked automobiles representing the pinnacle of automotive engineering and design."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:Use.map(t=>a.jsx(zse,{car:t},t.id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(fa,{href:"/fleet",children:a.jsxs(ie,{size:"lg",variant:"outline",className:"border-white/20","data-testid":"button-view-all-fleet",children:["View All Vehicles",a.jsx(um,{className:"ml-2 w-4 h-4"})]})})})]})})}const qse=[{icon:_te,title:"Certified Quality",description:"Every vehicle undergoes a rigorous 200-point inspection by our master technicians."},{icon:Dte,title:"Worldwide Delivery",description:"White-glove delivery service to any destination, fully insured and tracked."},{icon:wte,title:"Concierge Service",description:"Dedicated personal advisor to guide you through every step of your purchase."},{icon:gte,title:"Complete Documentation",description:"Full service history, provenance documentation, and authenticity certificates."},{icon:hU,title:"Detailing Excellence",description:"Professional detailing and preparation before every delivery."},{icon:ij,title:"Extended Warranty",description:"Comprehensive warranty options for complete peace of mind."}];function Hse(){return a.jsx("section",{className:"py-20 lg:py-28 bg-gradient-to-b from-[#0a0a0a] to-[#0f0f0f]",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[a.jsx("p",{className:"text-sm font-medium text-primary tracking-widest uppercase mb-3",children:"Why Choose Us"}),a.jsx("h2",{className:"font-serif text-3xl lg:text-4xl font-medium text-foreground mb-4",children:"The Luxury Experience"}),a.jsx("p",{className:"max-w-2xl mx-auto text-muted-foreground",children:"Beyond exceptional vehicles, we deliver an unparalleled ownership experience tailored to the most discerning clientele."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:qse.map((t,e)=>{const r=t.icon;return a.jsx(ft,{className:"bg-white/[0.02] border-white/10 hover-elevate group",children:a.jsxs(mt,{className:"p-6 lg:p-8",children:[a.jsx("div",{className:"w-12 h-12 rounded-md bg-primary/10 flex items-center justify-center mb-5 group-hover:bg-primary/20 transition-colors",children:a.jsx(r,{className:"w-6 h-6 text-primary"})}),a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:t.title}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:t.description})]})},e)})})]})})}function Gse(){return a.jsxs("section",{className:"py-20 lg:py-28 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://images.unsplash.com/photo-1503376780353-7e6692767b70?ixlib=rb-4.0.3&auto=format&fit=crop&w=2574&q=80')"},children:a.jsx("div",{className:"absolute inset-0 bg-[#0a0a0a]/85 backdrop-blur-sm"})}),a.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("p",{className:"text-sm font-medium text-primary tracking-widest uppercase mb-4",children:"Start Your Journey"}),a.jsxs("h2",{className:"font-serif text-3xl lg:text-5xl font-light text-foreground mb-6",children:["Ready to Find Your",a.jsx("span",{className:"block text-primary mt-2",children:"Dream Vehicle?"})]}),a.jsx("p",{className:"text-lg text-foreground/70 mb-10 max-w-2xl mx-auto",children:"Our team of luxury automotive specialists is ready to help you find the perfect vehicle that matches your lifestyle and preferences."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsx(fa,{href:"/onboarding",children:a.jsxs(ie,{size:"lg",className:"min-w-[200px] group","data-testid":"button-cta-get-started",children:["Get Started",a.jsx(um,{className:"ml-2 w-4 h-4 transition-transform group-hover:translate-x-1"})]})}),a.jsx("a",{href:"tel:+1234567890",children:a.jsxs(ie,{size:"lg",variant:"outline",className:"min-w-[200px] bg-white/5 backdrop-blur-sm border-white/20 hover:bg-white/10","data-testid":"button-cta-call",children:[a.jsx(t0,{className:"mr-2 w-4 h-4"}),"Call Us Now"]})})]})]})]})}function Kse(){return a.jsxs("div",{className:"min-h-screen bg-[#0a0a0a]",children:[a.jsx(qx,{}),a.jsxs("main",{children:[a.jsx(Lse,{}),a.jsx(Wse,{}),a.jsx(Hse,{}),a.jsx(Gse,{})]}),a.jsx(Hx,{})]})}const ae=y.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:_e("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ae.displayName="Input";function XI(t,[e,r]){return Math.min(r,Math.max(e,t))}var Xse=y.createContext(void 0);function gm(t){const e=y.useContext(Xse);return t||e||"ltr"}function Yse(t){const e=Qse(t),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(Jse);if(c){const d=c.props.children,u=l.map(h=>h===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,u):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function Qse(t){const e=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=tie(s),l=eie(i,s.props);return s.type!==y.Fragment&&(l.ref=n?xs(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Zse=Symbol("radix.slottable");function Jse(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Zse}function eie(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function tie(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function XP(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var rie=[" ","Enter","ArrowUp","ArrowDown"],nie=[" ","Enter"],yu="Select",[jj,Nj,aie]=Qg(yu),[vm]=Da(yu,[aie,bd]),Ej=bd(),[sie,wd]=vm(yu),[iie,oie]=vm(yu),VV=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:m,form:x}=t,p=Ej(e),[v,g]=y.useState(null),[w,N]=y.useState(null),[j,b]=y.useState(!1),S=gm(d),[A,E]=ni({prop:n,defaultProp:s??!1,onChange:i,caller:yu}),[P,O]=ni({prop:o,defaultProp:l,onChange:c,caller:yu}),k=y.useRef(null),L=v?x||!!v.closest("form"):!0,[R,_]=y.useState(new Set),B=Array.from(R).map(I=>I.props.value).join(";");return a.jsx(BP,{...p,children:a.jsxs(sie,{required:m,scope:e,trigger:v,onTriggerChange:g,valueNode:w,onValueNodeChange:N,valueNodeHasChildren:j,onValueNodeHasChildrenChange:b,contentId:na(),value:P,onValueChange:O,open:A,onOpenChange:E,dir:S,triggerPointerDownPosRef:k,disabled:f,children:[a.jsx(jj.Provider,{scope:e,children:a.jsx(iie,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(I=>{_(C=>new Set(C).add(I))},[]),onNativeOptionRemove:y.useCallback(I=>{_(C=>{const D=new Set(C);return D.delete(I),D})},[]),children:r})}),L?a.jsxs(h6,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:P,onChange:I=>O(I.target.value),disabled:f,form:x,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(R)]},B):null]})})};VV.displayName=yu;var zV="SelectTrigger",WV=y.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=Ej(r),o=wd(zV,r),l=o.disabled||n,c=sr(e,o.onTriggerChange),d=Nj(r),u=y.useRef("touch"),[h,f,m]=m6(p=>{const v=d().filter(N=>!N.disabled),g=v.find(N=>N.value===o.value),w=p6(v,p,g);w!==void 0&&o.onValueChange(w.value)}),x=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(n0,{asChild:!0,...i,children:a.jsx(pt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":f6(o.value)?"":void 0,...s,ref:c,onClick:at(s.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&x(p)}),onPointerDown:at(s.onPointerDown,p=>{u.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:at(s.onKeyDown,p=>{const v=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(v&&p.key===" ")&&rie.includes(p.key)&&(x(),p.preventDefault())})})})});WV.displayName=zV;var qV="SelectValue",HV=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=t,c=wd(qV,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=sr(e,c.onValueNodeChange);return On(()=>{d(u)},[d,u]),a.jsx(pt.span,{...l,ref:h,style:{pointerEvents:"none"},children:f6(c.value)?a.jsx(a.Fragment,{children:o}):i})});HV.displayName=qV;var lie="SelectIcon",GV=y.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return a.jsx(pt.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});GV.displayName=lie;var cie="SelectPortal",KV=t=>a.jsx(dm,{asChild:!0,...t});KV.displayName=cie;var bu="SelectContent",XV=y.forwardRef((t,e)=>{const r=wd(bu,t.__scopeSelect),[n,s]=y.useState();if(On(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?$u.createPortal(a.jsx(YV,{scope:t.__scopeSelect,children:a.jsx(jj.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(QV,{...t,ref:e})});XV.displayName=bu;var ro=10,[YV,jd]=vm(bu),die="SelectContentImpl",uie=Yse("SelectContent.RemoveScroll"),QV=y.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v,...g}=t,w=wd(bu,r),[N,j]=y.useState(null),[b,S]=y.useState(null),A=sr(e,q=>j(q)),[E,P]=y.useState(null),[O,k]=y.useState(null),L=Nj(r),[R,_]=y.useState(!1),B=y.useRef(!1);y.useEffect(()=>{if(N)return gj(N)},[N]),pj();const I=y.useCallback(q=>{const[ne,...fe]=L().map(Z=>Z.ref.current),[pe]=fe.slice(-1),ye=document.activeElement;for(const Z of q)if(Z===ye||(Z?.scrollIntoView({block:"nearest"}),Z===ne&&b&&(b.scrollTop=0),Z===pe&&b&&(b.scrollTop=b.scrollHeight),Z?.focus(),document.activeElement!==ye))return},[L,b]),C=y.useCallback(()=>I([E,N]),[I,E,N]);y.useEffect(()=>{R&&C()},[R,C]);const{onOpenChange:D,triggerPointerDownPosRef:W}=w;y.useEffect(()=>{if(N){let q={x:0,y:0};const ne=pe=>{q={x:Math.abs(Math.round(pe.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(W.current?.y??0))}},fe=pe=>{q.x<=10&&q.y<=10?pe.preventDefault():N.contains(pe.target)||D(!1),document.removeEventListener("pointermove",ne),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",fe,{capture:!0})}}},[N,D,W]),y.useEffect(()=>{const q=()=>D(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[D]);const[K,H]=m6(q=>{const ne=L().filter(ye=>!ye.disabled),fe=ne.find(ye=>ye.ref.current===document.activeElement),pe=p6(ne,q,fe);pe&&setTimeout(()=>pe.ref.current.focus())}),G=y.useCallback((q,ne,fe)=>{const pe=!B.current&&!fe;(w.value!==void 0&&w.value===ne||pe)&&(P(q),pe&&(B.current=!0))},[w.value]),ee=y.useCallback(()=>N?.focus(),[N]),Q=y.useCallback((q,ne,fe)=>{const pe=!B.current&&!fe;(w.value!==void 0&&w.value===ne||pe)&&k(q)},[w.value]),te=n==="popper"?FS:ZV,U=te===FS?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v}:{};return a.jsx(YV,{scope:r,content:N,viewport:b,onViewportChange:S,itemRefCallback:G,selectedItem:E,onItemLeave:ee,itemTextRefCallback:Q,focusSelectedItem:C,selectedItemText:O,position:n,isPositioned:R,searchRef:K,children:a.jsx(s0,{as:uie,allowPinchZoom:!0,children:a.jsx(a0,{asChild:!0,trapped:w.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:at(s,q=>{w.trigger?.focus({preventScroll:!0}),q.preventDefault()}),children:a.jsx(Uu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:a.jsx(te,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:q=>q.preventDefault(),...g,...U,onPlaced:()=>_(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:at(g.onKeyDown,q=>{const ne=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!ne&&q.key.length===1&&H(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let pe=L().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(q.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const ye=q.target,Z=pe.indexOf(ye);pe=pe.slice(Z+1)}setTimeout(()=>I(pe)),q.preventDefault()}})})})})})})});QV.displayName=die;var hie="SelectItemAlignedPosition",ZV=y.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=wd(bu,r),o=jd(bu,r),[l,c]=y.useState(null),[d,u]=y.useState(null),h=sr(e,A=>u(A)),f=Nj(r),m=y.useRef(!1),x=y.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:g,focusSelectedItem:w}=o,N=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&v&&g){const A=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),O=g.getBoundingClientRect();if(i.dir!=="rtl"){const ye=O.left-E.left,Z=P.left-ye,Ne=A.left-Z,J=A.width+Ne,le=Math.max(J,E.width),we=window.innerWidth-ro,De=XI(Z,[ro,Math.max(ro,we-le)]);l.style.minWidth=J+"px",l.style.left=De+"px"}else{const ye=E.right-O.right,Z=window.innerWidth-P.right-ye,Ne=window.innerWidth-A.right-Z,J=A.width+Ne,le=Math.max(J,E.width),we=window.innerWidth-ro,De=XI(Z,[ro,Math.max(ro,we-le)]);l.style.minWidth=J+"px",l.style.right=De+"px"}const k=f(),L=window.innerHeight-ro*2,R=p.scrollHeight,_=window.getComputedStyle(d),B=parseInt(_.borderTopWidth,10),I=parseInt(_.paddingTop,10),C=parseInt(_.borderBottomWidth,10),D=parseInt(_.paddingBottom,10),W=B+I+R+D+C,K=Math.min(v.offsetHeight*5,W),H=window.getComputedStyle(p),G=parseInt(H.paddingTop,10),ee=parseInt(H.paddingBottom,10),Q=A.top+A.height/2-ro,te=L-Q,U=v.offsetHeight/2,q=v.offsetTop+U,ne=B+I+q,fe=W-ne;if(ne<=Q){const ye=k.length>0&&v===k[k.length-1].ref.current;l.style.bottom="0px";const Z=d.clientHeight-p.offsetTop-p.offsetHeight,Ne=Math.max(te,U+(ye?ee:0)+Z+C),J=ne+Ne;l.style.height=J+"px"}else{const ye=k.length>0&&v===k[0].ref.current;l.style.top="0px";const Ne=Math.max(Q,B+p.offsetTop+(ye?G:0)+U)+fe;l.style.height=Ne+"px",p.scrollTop=ne-Q+p.offsetTop}l.style.margin=`${ro}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=L+"px",n?.(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,d,p,v,g,i.dir,n]);On(()=>N(),[N]);const[j,b]=y.useState();On(()=>{d&&b(window.getComputedStyle(d).zIndex)},[d]);const S=y.useCallback(A=>{A&&x.current===!0&&(N(),w?.(),x.current=!1)},[N,w]);return a.jsx(mie,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(pt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ZV.displayName=hie;var fie="SelectPopperPosition",FS=y.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ro,...i}=t,o=Ej(r);return a.jsx(uj,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});FS.displayName=fie;var[mie,YP]=vm(bu,{}),DS="SelectViewport",JV=y.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=jd(DS,r),o=YP(DS,r),l=sr(e,i.onViewportChange),c=y.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(jj.Slot,{scope:r,children:a.jsx(pt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:at(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f?.current&&h){const m=Math.abs(c.current-u.scrollTop);if(m>0){const x=window.innerHeight-ro*2,p=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),g=Math.max(p,v);if(g<x){const w=g+m,N=Math.min(x,w),j=w-N;h.style.height=N+"px",h.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});JV.displayName=DS;var e6="SelectGroup",[pie,xie]=vm(e6),gie=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=na();return a.jsx(pie,{scope:r,id:s,children:a.jsx(pt.div,{role:"group","aria-labelledby":s,...n,ref:e})})});gie.displayName=e6;var t6="SelectLabel",r6=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=xie(t6,r);return a.jsx(pt.div,{id:s.id,...n,ref:e})});r6.displayName=t6;var ub="SelectItem",[vie,n6]=vm(ub),a6=y.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,l=wd(ub,r),c=jd(ub,r),d=l.value===n,[u,h]=y.useState(i??""),[f,m]=y.useState(!1),x=sr(e,w=>c.itemRefCallback?.(w,n,s)),p=na(),v=y.useRef("touch"),g=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(vie,{scope:r,value:n,disabled:s,textId:p,isSelected:d,onItemTextChange:y.useCallback(w=>{h(N=>N||(w?.textContent??"").trim())},[]),children:a.jsx(jj.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:a.jsx(pt.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:at(o.onFocus,()=>m(!0)),onBlur:at(o.onBlur,()=>m(!1)),onClick:at(o.onClick,()=>{v.current!=="mouse"&&g()}),onPointerUp:at(o.onPointerUp,()=>{v.current==="mouse"&&g()}),onPointerDown:at(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:at(o.onPointerMove,w=>{v.current=w.pointerType,s?c.onItemLeave?.():v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:at(o.onPointerLeave,w=>{w.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:at(o.onKeyDown,w=>{c.searchRef?.current!==""&&w.key===" "||(nie.includes(w.key)&&g(),w.key===" "&&w.preventDefault())})})})})});a6.displayName=ub;var kp="SelectItemText",s6=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=wd(kp,r),l=jd(kp,r),c=n6(kp,r),d=oie(kp,r),[u,h]=y.useState(null),f=sr(e,g=>h(g),c.onItemTextChange,g=>l.itemTextRefCallback?.(g,c.value,c.disabled)),m=u?.textContent,x=y.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=d;return On(()=>(p(x),()=>v(x)),[p,v,x]),a.jsxs(a.Fragment,{children:[a.jsx(pt.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$u.createPortal(i.children,o.valueNode):null]})});s6.displayName=kp;var i6="SelectItemIndicator",o6=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return n6(i6,r).isSelected?a.jsx(pt.span,{"aria-hidden":!0,...n,ref:e}):null});o6.displayName=i6;var MS="SelectScrollUpButton",l6=y.forwardRef((t,e)=>{const r=jd(MS,t.__scopeSelect),n=YP(MS,t.__scopeSelect),[s,i]=y.useState(!1),o=sr(e,n.onScrollButtonChange);return On(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(d6,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});l6.displayName=MS;var LS="SelectScrollDownButton",c6=y.forwardRef((t,e)=>{const r=jd(LS,t.__scopeSelect),n=YP(LS,t.__scopeSelect),[s,i]=y.useState(!1),o=sr(e,n.onScrollButtonChange);return On(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(d6,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});c6.displayName=LS;var d6=y.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=jd("SelectScrollButton",r),o=y.useRef(null),l=Nj(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),On(()=>{l().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx(pt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:at(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:at(s.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:at(s.onPointerLeave,()=>{c()})})}),yie="SelectSeparator",u6=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(pt.div,{"aria-hidden":!0,...n,ref:e})});u6.displayName=yie;var BS="SelectArrow",bie=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Ej(r),i=wd(BS,r),o=jd(BS,r);return i.open&&o.position==="popper"?a.jsx(hj,{...s,...n,ref:e}):null});bie.displayName=BS;var wie="SelectBubbleInput",h6=y.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=y.useRef(null),i=sr(n,s),o=XP(e);return y.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),a.jsx(pt.select,{...r,style:{...F$,...r.style},ref:i,defaultValue:e})});h6.displayName=wie;function f6(t){return t===""||t===void 0}function m6(t){const e=gs(t),r=y.useRef(""),n=y.useRef(0),s=y.useCallback(o=>{const l=r.current+o;e(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function p6(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=jie(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function jie(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Nie=VV,x6=WV,Eie=HV,Sie=GV,Aie=KV,g6=XV,Cie=JV,v6=r6,y6=a6,kie=s6,Pie=o6,b6=l6,w6=c6,j6=u6;const tt=Nie,rt=Eie,Qe=y.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(x6,{ref:n,className:_e("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(Sie,{asChild:!0,children:a.jsx(ol,{className:"h-4 w-4 opacity-50"})})]}));Qe.displayName=x6.displayName;const N6=y.forwardRef(({className:t,...e},r)=>a.jsx(b6,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(nU,{className:"h-4 w-4"})}));N6.displayName=b6.displayName;const E6=y.forwardRef(({className:t,...e},r)=>a.jsx(w6,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(ol,{className:"h-4 w-4"})}));E6.displayName=w6.displayName;const Ze=y.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>a.jsx(Aie,{children:a.jsxs(g6,{ref:s,className:_e("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(N6,{}),a.jsx(Cie,{className:_e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(E6,{})]})}));Ze.displayName=g6.displayName;const Tie=y.forwardRef(({className:t,...e},r)=>a.jsx(v6,{ref:r,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Tie.displayName=v6.displayName;const xe=y.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(y6,{ref:n,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Pie,{children:a.jsx(Il,{className:"h-4 w-4"})})}),a.jsx(kie,{children:e})]}));xe.displayName=y6.displayName;const Oie=y.forwardRef(({className:t,...e},r)=>a.jsx(j6,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));Oie.displayName=j6.displayName;const _ie=yj,Rie=CV,Iie=bj,S6=y.forwardRef(({className:t,...e},r)=>a.jsx(pm,{className:_e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));S6.displayName=pm.displayName;const Fie=Jg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),A6=y.forwardRef(({side:t="right",className:e,children:r,...n},s)=>a.jsxs(Iie,{children:[a.jsx(S6,{}),a.jsxs(xm,{ref:s,className:_e(Fie({side:t}),e),...n,children:[r,a.jsxs(WP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(pr,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));A6.displayName=xm.displayName;const C6=({className:t,...e})=>a.jsx("div",{className:_e("flex flex-col space-y-2 text-center sm:text-left",t),...e});C6.displayName="SheetHeader";const k6=y.forwardRef(({className:t,...e},r)=>a.jsx(i0,{ref:r,className:_e("text-lg font-semibold text-foreground",t),...e}));k6.displayName=i0.displayName;const Die=y.forwardRef(({className:t,...e},r)=>a.jsx(o0,{ref:r,className:_e("text-sm text-muted-foreground",t),...e}));Die.displayName=o0.displayName;const Mie=[{id:"1",make:"Porsche",model:"911 GT3 RS",year:2024,price:"249950.00",mileage:1200,exteriorColor:"GT Silver Metallic",engine:"4.0L Flat-6",transmission:"7-Speed PDK",fuelType:"Gasoline",featured:!0,status:"available",images:["https://images.unsplash.com/photo-1614162692292-7ac56d7f7f1e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"]},{id:"2",make:"Ferrari",model:"SF90 Stradale",year:2023,price:"625000.00",mileage:850,exteriorColor:"Rosso Corsa",engine:"4.0L Twin-Turbo V8 Hybrid",transmission:"8-Speed Dual-Clutch",fuelType:"Hybrid",featured:!0,status:"available",images:["https://images.unsplash.com/photo-1583121274602-3e2820c69888?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"]},{id:"3",make:"Lamborghini",model:"Huracn Tecnica",year:2024,price:"335000.00",mileage:500,exteriorColor:"Verde Mantis",engine:"5.2L V10",transmission:"7-Speed Dual-Clutch",fuelType:"Gasoline",featured:!0,status:"available",images:["https://images.unsplash.com/photo-1544636331-e26879cd4d9b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"]},{id:"4",make:"McLaren",model:"720S Spider",year:2023,price:"345000.00",mileage:2100,exteriorColor:"Papaya Spark",engine:"4.0L Twin-Turbo V8",transmission:"7-Speed SSG",fuelType:"Gasoline",featured:!1,status:"available",images:["https://images.unsplash.com/photo-1621135802920-133df287f89c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"]},{id:"5",make:"Bentley",model:"Continental GT",year:2024,price:"275000.00",mileage:300,exteriorColor:"Midnight Sapphire",engine:"6.0L W12",transmission:"8-Speed Dual-Clutch",fuelType:"Gasoline",featured:!1,status:"available",images:["https://images.unsplash.com/photo-1580273916550-e323be2ae537?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"]},{id:"6",make:"Rolls-Royce",model:"Cullinan",year:2024,price:"395000.00",mileage:1500,exteriorColor:"English White",engine:"6.75L Twin-Turbo V12",transmission:"8-Speed Automatic",fuelType:"Gasoline",featured:!1,status:"available",images:["https://images.unsplash.com/photo-1563720223185-11003d516935?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"]}],Lie=["All Makes","Porsche","Ferrari","Lamborghini","McLaren","Bentley","Rolls-Royce"],Bie=[{label:"All Prices",value:"all"},{label:"Under $250,000",value:"0-250000"},{label:"$250,000 - $400,000",value:"250000-400000"},{label:"Over $400,000",value:"400000-999999999"}],$ie=["All Years","2024","2023","2022"];function Uie(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(parseFloat(t))}function Vie({car:t}){return a.jsxs(ft,{className:"group overflow-hidden bg-card border-white/10 hover-elevate",children:[a.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden",children:[a.jsx("img",{src:t.images?.[0]||"https://images.unsplash.com/photo-1544636331-e26879cd4d9b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",alt:`${t.make} ${t.model}`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),t.featured&&a.jsx(Ot,{className:"absolute top-4 left-4 bg-primary text-primary-foreground",children:"Featured"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0a]/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsxs(mt,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-semibold text-foreground",children:[t.make," ",t.model]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.exteriorColor})]}),a.jsx("p",{className:"text-xl font-semibold text-primary whitespace-nowrap",children:Uie(String(t.price||"0"))})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(EP,{className:"w-4 h-4 text-primary/70"}),a.jsx("span",{children:t.year})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(lU,{className:"w-4 h-4 text-primary/70"}),a.jsxs("span",{children:[t.mileage?.toLocaleString()," mi"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(oU,{className:"w-4 h-4 text-primary/70"}),a.jsx("span",{children:t.fuelType})]})]}),a.jsx(fa,{href:`/fleet/${t.id}`,children:a.jsxs(ie,{variant:"outline",className:"w-full group/btn border-white/20","data-testid":`button-view-${t.id}`,children:["View Details",a.jsx(um,{className:"ml-2 w-4 h-4 transition-transform group-hover/btn:translate-x-1"})]})})]})]})}function YI({make:t,setMake:e,priceRange:r,setPriceRange:n,year:s,setYear:i,onClear:o}){const l=t!=="All Makes"||r!=="all"||s!=="All Years";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:"Filters"}),l&&a.jsxs(ie,{variant:"ghost",size:"sm",onClick:o,"data-testid":"button-clear-filters",children:[a.jsx(pr,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Make"}),a.jsxs(tt,{value:t,onValueChange:e,children:[a.jsx(Qe,{"data-testid":"select-make",children:a.jsx(rt,{})}),a.jsx(Ze,{children:Lie.map(c=>a.jsx(xe,{value:c,children:c},c))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Price Range"}),a.jsxs(tt,{value:r,onValueChange:n,children:[a.jsx(Qe,{"data-testid":"select-price",children:a.jsx(rt,{})}),a.jsx(Ze,{children:Bie.map(c=>a.jsx(xe,{value:c.value,children:c.label},c.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Year"}),a.jsxs(tt,{value:s,onValueChange:i,children:[a.jsx(Qe,{"data-testid":"select-year",children:a.jsx(rt,{})}),a.jsx(Ze,{children:$ie.map(c=>a.jsx(xe,{value:c,children:c},c))})]})]})]})]})}function zie(){const[t,e]=y.useState(""),[r,n]=y.useState("All Makes"),[s,i]=y.useState("all"),[o,l]=y.useState("All Years"),c=()=>{n("All Makes"),i("all"),l("All Years"),e("")},d=Mie.filter(u=>{const h=t===""||`${u.make} ${u.model}`.toLowerCase().includes(t.toLowerCase()),f=r==="All Makes"||u.make===r,m=o==="All Years"||u.year?.toString()===o;let x=!0;if(s!=="all"){const[p,v]=s.split("-").map(Number),g=parseFloat(String(u.price||"0"));x=g>=p&&g<=v}return h&&f&&m&&x});return a.jsxs("div",{className:"min-h-screen bg-[#0a0a0a]",children:[a.jsx(qx,{}),a.jsx("main",{className:"pt-20 lg:pt-24",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("p",{className:"text-sm font-medium text-primary tracking-widest uppercase mb-3",children:"Our Collection"}),a.jsx("h1",{className:"font-serif text-4xl lg:text-5xl font-light text-foreground mb-4",children:"Luxury Fleet"}),a.jsx("p",{className:"max-w-2xl mx-auto text-muted-foreground",children:"Explore our curated selection of the world's most prestigious automobiles."})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsx("aside",{className:"hidden lg:block w-64 shrink-0",children:a.jsx("div",{className:"sticky top-24 p-6 rounded-lg bg-card border border-white/10",children:a.jsx(YI,{make:r,setMake:n,priceRange:s,setPriceRange:i,year:o,setYear:l,onClear:c})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(es,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),a.jsx(ae,{placeholder:"Search vehicles...",value:t,onChange:u=>e(u.target.value),className:"pl-10 bg-card border-white/10","data-testid":"input-search"})]}),a.jsxs(_ie,{children:[a.jsx(Rie,{asChild:!0,children:a.jsxs(ie,{variant:"outline",className:"lg:hidden border-white/20","data-testid":"button-mobile-filter",children:[a.jsx(vte,{className:"w-4 h-4 mr-2"}),"Filters"]})}),a.jsxs(A6,{side:"left",className:"bg-[#0a0a0a] border-white/10",children:[a.jsx(C6,{children:a.jsx(k6,{className:"text-foreground",children:"Filters"})}),a.jsx("div",{className:"mt-6",children:a.jsx(YI,{make:r,setMake:n,priceRange:s,setPriceRange:i,year:o,setYear:l,onClear:c})})]})]})]}),a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",a.jsx("span",{className:"text-foreground font-medium",children:d.length})," vehicles"]})}),d.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(u=>a.jsx(Vie,{car:u},u.id))}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"No vehicles match your criteria"}),a.jsx(ie,{variant:"outline",onClick:c,className:"border-white/20","data-testid":"button-clear-all",children:"Clear All Filters"})]})]})]})]})}),a.jsx(Hx,{})]})}var l0=t=>t.type==="checkbox",Yd=t=>t instanceof Date,Ns=t=>t==null;const P6=t=>typeof t=="object";var Vn=t=>!Ns(t)&&!Array.isArray(t)&&P6(t)&&!Yd(t),T6=t=>Vn(t)&&t.target?l0(t.target)?t.target.checked:t.target.value:t,Wie=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,O6=(t,e)=>t.has(Wie(e)),qie=t=>{const e=t.constructor&&t.constructor.prototype;return Vn(e)&&e.hasOwnProperty("isPrototypeOf")},QP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(QP&&(t instanceof Blob||n))&&(r||Vn(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!qie(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Gn(t[s]));else return t;return e}var Sj=t=>/^\w*$/.test(t),Nn=t=>t===void 0,ZP=t=>Array.isArray(t)?t.filter(Boolean):[],JP=t=>ZP(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ot=(t,e,r)=>{if(!e||!Vn(t))return r;const n=(Sj(e)?[e]:JP(e)).reduce((s,i)=>Ns(s)?s:s[i],t);return Nn(n)||n===t?Nn(t[e])?r:t[e]:n},Ws=t=>typeof t=="boolean",qr=(t,e,r)=>{let n=-1;const s=Sj(e)?[e]:JP(e),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const d=t[l];c=Vn(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const hb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},mo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eT=ve.createContext(null);eT.displayName="HookFormContext";const Aj=()=>ve.useContext(eT),Hie=t=>{const{children:e,...r}=t;return ve.createElement(eT.Provider,{value:r},e)};var _6=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==mo.all&&(e._proxyFormState[o]=!n||mo.all),r&&(r[o]=!0),t[o]}});return s};const tT=typeof window<"u"?ve.useLayoutEffect:ve.useEffect;function Gie(t){const e=Aj(),{control:r=e.control,disabled:n,name:s,exact:i}=t||{},[o,l]=ve.useState(r._formState),c=ve.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return tT(()=>r._subscribe({name:s,formState:c.current,exact:i,callback:d=>{!n&&l({...r._formState,...d})}}),[s,n,i]),ve.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ve.useMemo(()=>_6(o,r,c.current,!1),[o,r])}var Gs=t=>typeof t=="string",$S=(t,e,r,n,s)=>Gs(t)?(n&&e.watch.add(t),ot(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),ot(r,i))):(n&&(e.watchAll=!0),r),US=t=>Ns(t)||!P6(t);function po(t,e,r=new WeakSet){if(US(t)||US(e))return Object.is(t,e);if(Yd(t)&&Yd(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Yd(o)&&Yd(l)||Vn(o)&&Vn(l)||Array.isArray(o)&&Array.isArray(l)?!po(o,l,r):!Object.is(o,l))return!1}}return!0}function Kie(t){const e=Aj(),{control:r=e.control,name:n,defaultValue:s,disabled:i,exact:o,compute:l}=t||{},c=ve.useRef(s),d=ve.useRef(l),u=ve.useRef(void 0),h=ve.useRef(r),f=ve.useRef(n);d.current=l;const[m,x]=ve.useState(()=>{const j=r._getWatch(n,c.current);return d.current?d.current(j):j}),p=ve.useCallback(j=>{const b=$S(n,r._names,j||r._formValues,!1,c.current);return d.current?d.current(b):b},[r._formValues,r._names,n]),v=ve.useCallback(j=>{if(!i){const b=$S(n,r._names,j||r._formValues,!1,c.current);if(d.current){const S=d.current(b);po(S,u.current)||(x(S),u.current=S)}else x(b)}},[r._formValues,r._names,i,n]);tT(()=>((h.current!==r||!po(f.current,n))&&(h.current=r,f.current=n,v()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:j=>{v(j.values)}})),[r,o,n,v]),ve.useEffect(()=>r._removeUnmounted());const g=h.current!==r,w=f.current,N=ve.useMemo(()=>{if(i)return null;const j=!g&&!po(w,n);return g||j?p():null},[i,g,n,w,p]);return N!==null?N:m}function Xie(t){const e=Aj(),{name:r,disabled:n,control:s=e.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=t,c=O6(s._names.array,r),d=ve.useMemo(()=>ot(s._formValues,r,ot(s._defaultValues,r,o)),[s,r,o]),u=Kie({control:s,name:r,defaultValue:d,exact:l}),h=Gie({control:s,name:r,exact:l}),f=ve.useRef(t),m=ve.useRef(void 0),x=ve.useRef(s.register(r,{...t.rules,value:u,...Ws(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const p=ve.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ot(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ot(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ot(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ot(h.validatingFields,r)},error:{enumerable:!0,get:()=>ot(h.errors,r)}}),[h,r]),v=ve.useCallback(j=>x.current.onChange({target:{value:T6(j),name:r},type:hb.CHANGE}),[r]),g=ve.useCallback(()=>x.current.onBlur({target:{value:ot(s._formValues,r),name:r},type:hb.BLUR}),[r,s._formValues]),w=ve.useCallback(j=>{const b=ot(s._fields,r);b&&j&&(b._f.ref={focus:()=>j.focus&&j.focus(),select:()=>j.select&&j.select(),setCustomValidity:S=>j.setCustomValidity(S),reportValidity:()=>j.reportValidity()})},[s._fields,r]),N=ve.useMemo(()=>({name:r,value:u,...Ws(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:v,onBlur:g,ref:w}),[r,n,h.disabled,v,g,w,u]);return ve.useEffect(()=>{const j=s._options.shouldUnregister||i,b=m.current;b&&b!==r&&!c&&s.unregister(b),s.register(r,{...f.current.rules,...Ws(f.current.disabled)?{disabled:f.current.disabled}:{}});const S=(A,E)=>{const P=ot(s._fields,A);P&&P._f&&(P._f.mount=E)};if(S(r,!0),j){const A=Gn(ot(s._options.defaultValues,r,f.current.defaultValue));qr(s._defaultValues,r,A),Nn(ot(s._formValues,r))&&qr(s._formValues,r,A)}return!c&&s.register(r),m.current=r,()=>{(c?j&&!s._state.action:j)?s.unregister(r):S(r,!1)}},[r,s,c,i]),ve.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),ve.useMemo(()=>({field:N,formState:h,fieldState:p}),[N,h,p])}const Yie=t=>t.render(Xie(t));var R6=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},nx=t=>Array.isArray(t)?t:[t],QI=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function I6(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],i=e[n];if(s&&Vn(s)&&i){const o=I6(s,i);Vn(o)&&(r[n]=o)}else t[n]&&(r[n]=i)}return r}var ss=t=>Vn(t)&&!Object.keys(t).length,rT=t=>t.type==="file",xo=t=>typeof t=="function",fb=t=>{if(!QP)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},F6=t=>t.type==="select-multiple",nT=t=>t.type==="radio",Qie=t=>nT(t)||l0(t),f2=t=>fb(t)&&t.isConnected;function Zie(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Nn(t)?n++:t[e[n++]];return t}function Jie(t){for(const e in t)if(t.hasOwnProperty(e)&&!Nn(t[e]))return!1;return!0}function Fn(t,e){const r=Array.isArray(e)?e:Sj(e)?[e]:JP(e),n=r.length===1?t:Zie(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Vn(n)&&ss(n)||Array.isArray(n)&&Jie(n))&&Fn(t,r.slice(0,-1)),t}var eoe=t=>{for(const e in t)if(xo(t[e]))return!0;return!1};function D6(t){return Array.isArray(t)||Vn(t)&&!eoe(t)}function VS(t,e={}){for(const r in t){const n=t[r];D6(n)?(e[r]=Array.isArray(n)?[]:{},VS(n,e[r])):Nn(n)||(e[r]=!0)}return e}function wh(t,e,r){r||(r=VS(e));for(const n in t){const s=t[n];if(D6(s))Nn(e)||US(r[n])?r[n]=VS(s,Array.isArray(s)?[]:{}):wh(s,Ns(e)?{}:e[n],r[n]);else{const i=e[n];r[n]=!po(s,i)}}return r}const ZI={value:!1,isValid:!1},JI={value:!0,isValid:!0};var M6=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Nn(t[0].attributes.value)?Nn(t[0].value)||t[0].value===""?JI:{value:t[0].value,isValid:!0}:JI:ZI}return ZI},L6=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Nn(t)?t:e?t===""?NaN:t&&+t:r&&Gs(t)?new Date(t):n?n(t):t;const eF={isValid:!1,value:null};var B6=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,eF):eF;function tF(t){const e=t.ref;return rT(e)?e.files:nT(e)?B6(t.refs).value:F6(e)?[...e.selectedOptions].map(({value:r})=>r):l0(e)?M6(t.refs).value:L6(Nn(e.value)?t.ref.value:e.value,t)}var toe=(t,e,r,n)=>{const s={};for(const i of t){const o=ot(e,i);o&&qr(s,i,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},mb=t=>t instanceof RegExp,Zm=t=>Nn(t)?t:mb(t)?t.source:Vn(t)?mb(t.value)?t.value.source:t.value:t,rF=t=>({isOnSubmit:!t||t===mo.onSubmit,isOnBlur:t===mo.onBlur,isOnChange:t===mo.onChange,isOnAll:t===mo.all,isOnTouch:t===mo.onTouched});const nF="AsyncFunction";var roe=t=>!!t&&!!t.validate&&!!(xo(t.validate)&&t.validate.constructor.name===nF||Vn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===nF)),noe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),aF=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const ax=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=ot(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(ax(l,e))break}else if(Vn(l)&&ax(l,e))break}}};function sF(t,e,r){const n=ot(t,r);if(n||Sj(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=ot(e,i),l=ot(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var aoe=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return ss(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||mo.all))},soe=(t,e,r)=>!t||!e||t===e||nx(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),ioe=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,ooe=(t,e)=>!ZP(ot(t,e)).length&&Fn(t,e),loe=(t,e,r)=>{const n=nx(ot(t,r));return qr(n,"root",e[r]),qr(t,r,n),t};function iF(t,e,r="validate"){if(Gs(t)||Array.isArray(t)&&t.every(Gs)||Ws(t)&&!t)return{type:r,message:Gs(t)?t:"",ref:e}}var ch=t=>Vn(t)&&!mb(t)?t:{value:t,message:""},oF=async(t,e,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:m,validate:x,name:p,valueAsNumber:v,mount:g}=t._f,w=ot(r,p);if(!g||e.has(p))return{};const N=l?l[0]:o,j=L=>{s&&N.reportValidity&&(N.setCustomValidity(Ws(L)?"":L||""),N.reportValidity())},b={},S=nT(o),A=l0(o),E=S||A,P=(v||rT(o))&&Nn(o.value)&&Nn(w)||fb(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,O=R6.bind(null,p,n,b),k=(L,R,_,B=pl.maxLength,I=pl.minLength)=>{const C=L?R:_;b[p]={type:L?B:I,message:C,ref:o,...O(L?B:I,C)}};if(i?!Array.isArray(w)||!w.length:c&&(!E&&(P||Ns(w))||Ws(w)&&!w||A&&!M6(l).isValid||S&&!B6(l).isValid)){const{value:L,message:R}=Gs(c)?{value:!!c,message:c}:ch(c);if(L&&(b[p]={type:pl.required,message:R,ref:N,...O(pl.required,R)},!n))return j(R),b}if(!P&&(!Ns(h)||!Ns(f))){let L,R;const _=ch(f),B=ch(h);if(!Ns(w)&&!isNaN(w)){const I=o.valueAsNumber||w&&+w;Ns(_.value)||(L=I>_.value),Ns(B.value)||(R=I<B.value)}else{const I=o.valueAsDate||new Date(w),C=K=>new Date(new Date().toDateString()+" "+K),D=o.type=="time",W=o.type=="week";Gs(_.value)&&w&&(L=D?C(w)>C(_.value):W?w>_.value:I>new Date(_.value)),Gs(B.value)&&w&&(R=D?C(w)<C(B.value):W?w<B.value:I<new Date(B.value))}if((L||R)&&(k(!!L,_.message,B.message,pl.max,pl.min),!n))return j(b[p].message),b}if((d||u)&&!P&&(Gs(w)||i&&Array.isArray(w))){const L=ch(d),R=ch(u),_=!Ns(L.value)&&w.length>+L.value,B=!Ns(R.value)&&w.length<+R.value;if((_||B)&&(k(_,L.message,R.message),!n))return j(b[p].message),b}if(m&&!P&&Gs(w)){const{value:L,message:R}=ch(m);if(mb(L)&&!w.match(L)&&(b[p]={type:pl.pattern,message:R,ref:o,...O(pl.pattern,R)},!n))return j(R),b}if(x){if(xo(x)){const L=await x(w,r),R=iF(L,N);if(R&&(b[p]={...R,...O(pl.validate,R.message)},!n))return j(R.message),b}else if(Vn(x)){let L={};for(const R in x){if(!ss(L)&&!n)break;const _=iF(await x[R](w,r),N,R);_&&(L={..._,...O(R,_.message)},j(_.message),n&&(b[p]=L))}if(!ss(L)&&(b[p]={ref:N,...L},!n))return b}}return j(!0),b};const coe={mode:mo.onSubmit,reValidateMode:mo.onChange,shouldFocusError:!0};function doe(t={}){let e={...coe,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:xo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Vn(e.defaultValues)||Vn(e.values)?Gn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Gn(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:QI(),state:QI()},m=e.criteriaMode===mo.all,x=V=>$=>{clearTimeout(d),d=setTimeout(V,$)},p=async V=>{if(!e.disabled&&(u.isValid||h.isValid||V)){const $=e.resolver?ss((await A()).errors):await P(n,!0);$!==r.isValid&&f.state.next({isValid:$})}},v=(V,$)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((V||Array.from(l.mount)).forEach(X=>{X&&($?qr(r.validatingFields,X,$):Fn(r.validatingFields,X))}),f.state.next({validatingFields:r.validatingFields,isValidating:!ss(r.validatingFields)}))},g=(V,$=[],X,me,z=!0,T=!0)=>{if(me&&X&&!e.disabled){if(o.action=!0,T&&Array.isArray(ot(n,V))){const M=X(ot(n,V),me.argA,me.argB);z&&qr(n,V,M)}if(T&&Array.isArray(ot(r.errors,V))){const M=X(ot(r.errors,V),me.argA,me.argB);z&&qr(r.errors,V,M),ooe(r.errors,V)}if((u.touchedFields||h.touchedFields)&&T&&Array.isArray(ot(r.touchedFields,V))){const M=X(ot(r.touchedFields,V),me.argA,me.argB);z&&qr(r.touchedFields,V,M)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=wh(s,i)),f.state.next({name:V,isDirty:k(V,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else qr(i,V,$)},w=(V,$)=>{qr(r.errors,V,$),f.state.next({errors:r.errors})},N=V=>{r.errors=V,f.state.next({errors:r.errors,isValid:!1})},j=(V,$,X,me)=>{const z=ot(n,V);if(z){const T=ot(i,V,Nn(X)?ot(s,V):X);Nn(T)||me&&me.defaultChecked||$?qr(i,V,$?T:tF(z._f)):_(V,T),o.mount&&!o.action&&p()}},b=(V,$,X,me,z)=>{let T=!1,M=!1;const re={name:V};if(!e.disabled){if(!X||me){(u.isDirty||h.isDirty)&&(M=r.isDirty,r.isDirty=re.isDirty=k(),T=M!==re.isDirty);const oe=po(ot(s,V),$);M=!!ot(r.dirtyFields,V),oe?Fn(r.dirtyFields,V):qr(r.dirtyFields,V,!0),re.dirtyFields=r.dirtyFields,T=T||(u.dirtyFields||h.dirtyFields)&&M!==!oe}if(X){const oe=ot(r.touchedFields,V);oe||(qr(r.touchedFields,V,X),re.touchedFields=r.touchedFields,T=T||(u.touchedFields||h.touchedFields)&&oe!==X)}T&&z&&f.state.next(re)}return T?re:{}},S=(V,$,X,me)=>{const z=ot(r.errors,V),T=(u.isValid||h.isValid)&&Ws($)&&r.isValid!==$;if(e.delayError&&X?(c=x(()=>w(V,X)),c(e.delayError)):(clearTimeout(d),c=null,X?qr(r.errors,V,X):Fn(r.errors,V)),(X?!po(z,X):z)||!ss(me)||T){const M={...me,...T&&Ws($)?{isValid:$}:{},errors:r.errors,name:V};r={...r,...M},f.state.next(M)}},A=async V=>{v(V,!0);const $=await e.resolver(i,e.context,toe(V||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return v(V),$},E=async V=>{const{errors:$}=await A(V);if(V)for(const X of V){const me=ot($,X);me?qr(r.errors,X,me):Fn(r.errors,X)}else r.errors=$;return $},P=async(V,$,X={valid:!0})=>{for(const me in V){const z=V[me];if(z){const{_f:T,...M}=z;if(T){const re=l.array.has(T.name),oe=z._f&&roe(z._f);oe&&u.validatingFields&&v([T.name],!0);const ce=await oF(z,l.disabled,i,m,e.shouldUseNativeValidation&&!$,re);if(oe&&u.validatingFields&&v([T.name]),ce[T.name]&&(X.valid=!1,$))break;!$&&(ot(ce,T.name)?re?loe(r.errors,ce,T.name):qr(r.errors,T.name,ce[T.name]):Fn(r.errors,T.name))}!ss(M)&&await P(M,$,X)}}return X.valid},O=()=>{for(const V of l.unMount){const $=ot(n,V);$&&($._f.refs?$._f.refs.every(X=>!f2(X)):!f2($._f.ref))&&q(V)}l.unMount=new Set},k=(V,$)=>!e.disabled&&(V&&$&&qr(i,V,$),!po(K(),s)),L=(V,$,X)=>$S(V,l,{...o.mount?i:Nn($)?s:Gs(V)?{[V]:$}:$},X,$),R=V=>ZP(ot(o.mount?i:s,V,e.shouldUnregister?ot(s,V,[]):[])),_=(V,$,X={})=>{const me=ot(n,V);let z=$;if(me){const T=me._f;T&&(!T.disabled&&qr(i,V,L6($,T)),z=fb(T.ref)&&Ns($)?"":$,F6(T.ref)?[...T.ref.options].forEach(M=>M.selected=z.includes(M.value)):T.refs?l0(T.ref)?T.refs.forEach(M=>{(!M.defaultChecked||!M.disabled)&&(Array.isArray(z)?M.checked=!!z.find(re=>re===M.value):M.checked=z===M.value||!!z)}):T.refs.forEach(M=>M.checked=M.value===z):rT(T.ref)?T.ref.value="":(T.ref.value=z,T.ref.type||f.state.next({name:V,values:Gn(i)})))}(X.shouldDirty||X.shouldTouch)&&b(V,z,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&W(V)},B=(V,$,X)=>{for(const me in $){if(!$.hasOwnProperty(me))return;const z=$[me],T=V+"."+me,M=ot(n,T);(l.array.has(V)||Vn(z)||M&&!M._f)&&!Yd(z)?B(T,z,X):_(T,z,X)}},I=(V,$,X={})=>{const me=ot(n,V),z=l.array.has(V),T=Gn($);qr(i,V,T),z?(f.array.next({name:V,values:Gn(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&X.shouldDirty&&f.state.next({name:V,dirtyFields:wh(s,i),isDirty:k(V,T)})):me&&!me._f&&!Ns(T)?B(V,T,X):_(V,T,X),aF(V,l)&&f.state.next({...r,name:V}),f.state.next({name:o.mount?V:void 0,values:Gn(i)})},C=async V=>{o.mount=!0;const $=V.target;let X=$.name,me=!0;const z=ot(n,X),T=oe=>{me=Number.isNaN(oe)||Yd(oe)&&isNaN(oe.getTime())||po(oe,ot(i,X,oe))},M=rF(e.mode),re=rF(e.reValidateMode);if(z){let oe,ce;const Ee=$.type?tF(z._f):T6(V),se=V.type===hb.BLUR||V.type===hb.FOCUS_OUT,be=!noe(z._f)&&!e.resolver&&!ot(r.errors,X)&&!z._f.deps||ioe(se,ot(r.touchedFields,X),r.isSubmitted,re,M),Le=aF(X,l,se);qr(i,X,Ee),se?(!$||!$.readOnly)&&(z._f.onBlur&&z._f.onBlur(V),c&&c(0)):z._f.onChange&&z._f.onChange(V);const Me=b(X,Ee,se),lt=!ss(Me)||Le;if(!se&&f.state.next({name:X,type:V.type,values:Gn(i)}),be)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?se&&p():se||p()),lt&&f.state.next({name:X,...Le?{}:Me});if(!se&&Le&&f.state.next({...r}),e.resolver){const{errors:qt}=await A([X]);if(T(Ee),me){const Lr=sF(r.errors,n,X),F=sF(qt,n,Lr.name||X);oe=F.error,X=F.name,ce=ss(qt)}}else v([X],!0),oe=(await oF(z,l.disabled,i,m,e.shouldUseNativeValidation))[X],v([X]),T(Ee),me&&(oe?ce=!1:(u.isValid||h.isValid)&&(ce=await P(n,!0)));me&&(z._f.deps&&(!Array.isArray(z._f.deps)||z._f.deps.length>0)&&W(z._f.deps),S(X,ce,oe,Me))}},D=(V,$)=>{if(ot(r.errors,$)&&V.focus)return V.focus(),1},W=async(V,$={})=>{let X,me;const z=nx(V);if(e.resolver){const T=await E(Nn(V)?V:z);X=ss(T),me=V?!z.some(M=>ot(T,M)):X}else V?(me=(await Promise.all(z.map(async T=>{const M=ot(n,T);return await P(M&&M._f?{[T]:M}:M)}))).every(Boolean),!(!me&&!r.isValid)&&p()):me=X=await P(n);return f.state.next({...!Gs(V)||(u.isValid||h.isValid)&&X!==r.isValid?{}:{name:V},...e.resolver||!V?{isValid:X}:{},errors:r.errors}),$.shouldFocus&&!me&&ax(n,D,V?z:l.mount),me},K=(V,$)=>{let X={...o.mount?i:s};return $&&(X=I6($.dirtyFields?r.dirtyFields:r.touchedFields,X)),Nn(V)?X:Gs(V)?ot(X,V):V.map(me=>ot(X,me))},H=(V,$)=>({invalid:!!ot(($||r).errors,V),isDirty:!!ot(($||r).dirtyFields,V),error:ot(($||r).errors,V),isValidating:!!ot(r.validatingFields,V),isTouched:!!ot(($||r).touchedFields,V)}),G=V=>{V&&nx(V).forEach($=>Fn(r.errors,$)),f.state.next({errors:V?r.errors:{}})},ee=(V,$,X)=>{const me=(ot(n,V,{_f:{}})._f||{}).ref,z=ot(r.errors,V)||{},{ref:T,message:M,type:re,...oe}=z;qr(r.errors,V,{...oe,...$,ref:me}),f.state.next({name:V,errors:r.errors,isValid:!1}),X&&X.shouldFocus&&me&&me.focus&&me.focus()},Q=(V,$)=>xo(V)?f.state.subscribe({next:X=>"values"in X&&V(L(void 0,$),X)}):L(V,$,!0),te=V=>f.state.subscribe({next:$=>{soe(V.name,$.name,V.exact)&&aoe($,V.formState||u,De,V.reRenderRoot)&&V.callback({values:{...i},...r,...$,defaultValues:s})}}).unsubscribe,U=V=>(o.mount=!0,h={...h,...V.formState},te({...V,formState:h})),q=(V,$={})=>{for(const X of V?nx(V):l.mount)l.mount.delete(X),l.array.delete(X),$.keepValue||(Fn(n,X),Fn(i,X)),!$.keepError&&Fn(r.errors,X),!$.keepDirty&&Fn(r.dirtyFields,X),!$.keepTouched&&Fn(r.touchedFields,X),!$.keepIsValidating&&Fn(r.validatingFields,X),!e.shouldUnregister&&!$.keepDefaultValue&&Fn(s,X);f.state.next({values:Gn(i)}),f.state.next({...r,...$.keepDirty?{isDirty:k()}:{}}),!$.keepIsValid&&p()},ne=({disabled:V,name:$})=>{(Ws(V)&&o.mount||V||l.disabled.has($))&&(V?l.disabled.add($):l.disabled.delete($))},fe=(V,$={})=>{let X=ot(n,V);const me=Ws($.disabled)||Ws(e.disabled);return qr(n,V,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:V}},name:V,mount:!0,...$}}),l.mount.add(V),X?ne({disabled:Ws($.disabled)?$.disabled:e.disabled,name:V}):j(V,!0,$.value),{...me?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:Zm($.min),max:Zm($.max),minLength:Zm($.minLength),maxLength:Zm($.maxLength),pattern:Zm($.pattern)}:{},name:V,onChange:C,onBlur:C,ref:z=>{if(z){fe(V,$),X=ot(n,V);const T=Nn(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,M=Qie(T),re=X._f.refs||[];if(M?re.find(oe=>oe===T):T===X._f.ref)return;qr(n,V,{_f:{...X._f,...M?{refs:[...re.filter(f2),T,...Array.isArray(ot(s,V))?[{}]:[]],ref:{type:T.type,name:V}}:{ref:T}}}),j(V,!1,void 0,T)}else X=ot(n,V,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(O6(l.array,V)&&o.action)&&l.unMount.add(V)}}},pe=()=>e.shouldFocusError&&ax(n,D,l.mount),ye=V=>{Ws(V)&&(f.state.next({disabled:V}),ax(n,($,X)=>{const me=ot(n,X);me&&($.disabled=me._f.disabled||V,Array.isArray(me._f.refs)&&me._f.refs.forEach(z=>{z.disabled=me._f.disabled||V}))},0,!1))},Z=(V,$)=>async X=>{let me;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let z=Gn(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:T,values:M}=await A();r.errors=T,z=Gn(M)}else await P(n);if(l.disabled.size)for(const T of l.disabled)Fn(z,T);if(Fn(r.errors,"root"),ss(r.errors)){f.state.next({errors:{}});try{await V(z,X)}catch(T){me=T}}else $&&await $({...r.errors},X),pe(),setTimeout(pe);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ss(r.errors)&&!me,submitCount:r.submitCount+1,errors:r.errors}),me)throw me},Ne=(V,$={})=>{ot(n,V)&&(Nn($.defaultValue)?I(V,Gn(ot(s,V))):(I(V,$.defaultValue),qr(s,V,Gn($.defaultValue))),$.keepTouched||Fn(r.touchedFields,V),$.keepDirty||(Fn(r.dirtyFields,V),r.isDirty=$.defaultValue?k(V,Gn(ot(s,V))):k()),$.keepError||(Fn(r.errors,V),u.isValid&&p()),f.state.next({...r}))},J=(V,$={})=>{const X=V?Gn(V):s,me=Gn(X),z=ss(V),T=z?s:me;if($.keepDefaultValues||(s=X),!$.keepValues){if($.keepDirtyValues){const M=new Set([...l.mount,...Object.keys(wh(s,i))]);for(const re of Array.from(M))ot(r.dirtyFields,re)?qr(T,re,ot(i,re)):I(re,ot(T,re))}else{if(QP&&Nn(V))for(const M of l.mount){const re=ot(n,M);if(re&&re._f){const oe=Array.isArray(re._f.refs)?re._f.refs[0]:re._f.ref;if(fb(oe)){const ce=oe.closest("form");if(ce){ce.reset();break}}}}if($.keepFieldsRef)for(const M of l.mount)I(M,ot(T,M));else n={}}i=e.shouldUnregister?$.keepDefaultValues?Gn(s):{}:Gn(T),f.array.next({values:{...T}}),f.state.next({values:{...T}})}l={mount:$.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues||!e.shouldUnregister&&!ss(T),o.watch=!!e.shouldUnregister,f.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:z?!1:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!po(V,s)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:z?{}:$.keepDirtyValues?$.keepDefaultValues&&i?wh(s,i):r.dirtyFields:$.keepDefaultValues&&V?wh(s,V):$.keepDirty?r.dirtyFields:{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},le=(V,$)=>J(xo(V)?V(i):V,$),we=(V,$={})=>{const X=ot(n,V),me=X&&X._f;if(me){const z=me.refs?me.refs[0]:me.ref;z.focus&&(z.focus(),$.shouldSelect&&xo(z.select)&&z.select())}},De=V=>{r={...r,...V}},Y={control:{register:fe,unregister:q,getFieldState:H,handleSubmit:Z,setError:ee,_subscribe:te,_runSchema:A,_focusError:pe,_getWatch:L,_getDirty:k,_setValid:p,_setFieldArray:g,_setDisabledField:ne,_setErrors:N,_getFieldArray:R,_reset:J,_resetDefaultValues:()=>xo(e.defaultValues)&&e.defaultValues().then(V=>{le(V,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:ye,_subjects:f,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(V){o=V},get _defaultValues(){return s},get _names(){return l},set _names(V){l=V},get _formState(){return r},get _options(){return e},set _options(V){e={...e,...V}}},subscribe:U,trigger:W,register:fe,handleSubmit:Z,watch:Q,setValue:I,getValues:K,reset:le,resetField:Ne,clearErrors:G,unregister:q,setError:ee,setFocus:we,getFieldState:H};return{...Y,formControl:Y}}function ts(t={}){const e=ve.useRef(void 0),r=ve.useRef(void 0),[n,s]=ve.useState({isDirty:!1,isValidating:!1,isLoading:xo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:xo(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!xo(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=doe(t);e.current={...l,formState:n}}const i=e.current.control;return i._options=t,tT(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ve.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ve.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ve.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ve.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ve.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),ve.useEffect(()=>{var o;t.values&&!po(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=t.values,s(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),ve.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=_6(n,i),e.current}const lF=(t,e,r)=>{if(t&&"reportValidity"in t){const n=ot(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},$6=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?lF(n.ref,r,t):n.refs&&n.refs.forEach(s=>lF(s,r,t))}},uoe=(t,e)=>{e.shouldUseNativeValidation&&$6(t,e);const r={};for(const n in t){const s=ot(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(hoe(e.names||Object.keys(t),n)){const o=Object.assign({},ot(r,n));qr(o,"root",i),qr(r,n,o)}else qr(r,n,i)}return r},hoe=(t,e)=>t.some(r=>r.startsWith(e+"."));var foe=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=r[o].types,d=c&&c[n.code];r[o]=R6(o,e,r,s,d?[].concat(d,n.message):n.message)}t.shift()}return r},rs=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return i.shouldUseNativeValidation&&$6({},i),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:uoe(foe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ir;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ir||(Ir={}));var cF;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(cF||(cF={}));const wt=Ir.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Nc=t=>{switch(typeof t){case"undefined":return wt.undefined;case"string":return wt.string;case"number":return Number.isNaN(t)?wt.nan:wt.number;case"boolean":return wt.boolean;case"function":return wt.function;case"bigint":return wt.bigint;case"symbol":return wt.symbol;case"object":return Array.isArray(t)?wt.array:t===null?wt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?wt.promise:typeof Map<"u"&&t instanceof Map?wt.map:typeof Set<"u"&&t instanceof Set?wt.set:typeof Date<"u"&&t instanceof Date?wt.date:wt.object;default:return wt.unknown}},et=Ir.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class So extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),n}static assert(e){if(!(e instanceof So))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ir.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}So.create=t=>new So(t);const zS=(t,e)=>{let r;switch(t.code){case et.invalid_type:t.received===wt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case et.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ir.jsonStringifyReplacer)}`;break;case et.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ir.joinValues(t.keys,", ")}`;break;case et.invalid_union:r="Invalid input";break;case et.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ir.joinValues(t.options)}`;break;case et.invalid_enum_value:r=`Invalid enum value. Expected ${Ir.joinValues(t.options)}, received '${t.received}'`;break;case et.invalid_arguments:r="Invalid function arguments";break;case et.invalid_return_type:r="Invalid function return type";break;case et.invalid_date:r="Invalid date";break;case et.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ir.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case et.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case et.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case et.custom:r="Invalid input";break;case et.invalid_intersection_types:r="Intersection results could not be merged";break;case et.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case et.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ir.assertNever(t)}return{message:r}};let moe=zS;function poe(){return moe}const xoe=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function ht(t,e){const r=poe(),n=xoe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===zS?void 0:zS].filter(s=>!!s)});t.common.issues.push(n)}class si{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Jt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return si.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Jt;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const Jt=Object.freeze({status:"aborted"}),Pp=t=>({status:"dirty",value:t}),Hi=t=>({status:"valid",value:t}),dF=t=>t.status==="aborted",uF=t=>t.status==="dirty",Cf=t=>t.status==="valid",pb=t=>typeof Promise<"u"&&t instanceof Promise;var Et;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Et||(Et={}));class ld{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hF=(t,e)=>{if(Cf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new So(t.common.issues);return this._error=r,this._error}}};function fr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class _r{get description(){return this._def.description}_getType(e){return Nc(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Nc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new si,ctx:{common:e.parent.common,data:e.data,parsedType:Nc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(pb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nc(e)},s=this._parseSync({data:e,path:n.path,parent:n});return hF(n,s)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nc(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return Cf(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>Cf(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Nc(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(pb(s)?s:Promise.resolve(s));return hF(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:et.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Tf({schema:this,typeName:er.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Yc.create(this,this._def)}nullable(){return Of.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return al.create(this)}promise(){return yb.create(this,this._def)}or(e){return gb.create([this,e],this._def)}and(e){return vb.create(this,e,this._def)}transform(e){return new Tf({...fr(this._def),schema:this,typeName:er.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new GS({...fr(this._def),innerType:this,defaultValue:r,typeName:er.ZodDefault})}brand(){return new Boe({typeName:er.ZodBranded,type:this,...fr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new KS({...fr(this._def),innerType:this,catchValue:r,typeName:er.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return aT.create(this,e)}readonly(){return XS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const goe=/^c[^\s-]{8,}$/i,voe=/^[0-9a-z]+$/,yoe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,boe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,woe=/^[a-z0-9_-]{21}$/i,joe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Noe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Eoe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Soe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let m2;const Aoe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Coe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,koe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Poe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Toe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ooe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,U6="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_oe=new RegExp(`^${U6}$`);function V6(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Roe(t){return new RegExp(`^${V6(t)}$`)}function Ioe(t){let e=`${U6}T${V6(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Foe(t,e){return!!((e==="v4"||!e)&&Aoe.test(t)||(e==="v6"||!e)&&koe.test(t))}function Doe(t,e){if(!joe.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Moe(t,e){return!!((e==="v4"||!e)&&Coe.test(t)||(e==="v6"||!e)&&Poe.test(t))}class Dc extends _r{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==wt.string){const i=this._getOrReturnCtx(e);return ht(i,{code:et.invalid_type,expected:wt.string,received:i.parsedType}),Jt}const n=new si;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ht(s,{code:et.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ht(s,{code:et.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?ht(s,{code:et.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ht(s,{code:et.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Eoe.test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"email",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")m2||(m2=new RegExp(Soe,"u")),m2.test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"emoji",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")boe.test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"uuid",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")woe.test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"nanoid",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")goe.test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"cuid",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")voe.test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"cuid2",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")yoe.test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"ulid",code:et.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ht(s,{validation:"url",code:et.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"regex",code:et.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ht(s,{code:et.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ht(s,{code:et.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ht(s,{code:et.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Ioe(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{code:et.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?_oe.test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{code:et.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Roe(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{code:et.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Noe.test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"duration",code:et.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Foe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"ip",code:et.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Doe(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"jwt",code:et.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Moe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"cidr",code:et.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Toe.test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"base64",code:et.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Ooe.test(e.data)||(s=this._getOrReturnCtx(e,s),ht(s,{validation:"base64url",code:et.invalid_string,message:i.message}),n.dirty()):Ir.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:et.invalid_string,...Et.errToObj(n)})}_addCheck(e){return new Dc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Et.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Et.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Et.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Et.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Et.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Et.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Et.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Et.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Et.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Et.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Et.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Et.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Et.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Et.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Et.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Et.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Et.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Et.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Et.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Et.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Et.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Et.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Et.errToObj(r)})}nonempty(e){return this.min(1,Et.errToObj(e))}trim(){return new Dc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Dc.create=t=>new Dc({checks:[],typeName:er.ZodString,coerce:t?.coerce??!1,...fr(t)});function Loe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class kf extends _r{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==wt.number){const i=this._getOrReturnCtx(e);return ht(i,{code:et.invalid_type,expected:wt.number,received:i.parsedType}),Jt}let n;const s=new si;for(const i of this._def.checks)i.kind==="int"?Ir.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ht(n,{code:et.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),ht(n,{code:et.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),ht(n,{code:et.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Loe(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),ht(n,{code:et.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ht(n,{code:et.not_finite,message:i.message}),s.dirty()):Ir.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Et.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Et.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Et.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Et.toString(r))}setLimit(e,r,n,s){return new kf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Et.toString(s)}]})}_addCheck(e){return new kf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Et.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Et.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Et.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Et.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Et.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Et.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Et.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Et.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Et.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ir.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}kf.create=t=>new kf({checks:[],typeName:er.ZodNumber,coerce:t?.coerce||!1,...fr(t)});class Gx extends _r{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==wt.bigint)return this._getInvalidInput(e);let n;const s=new si;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),ht(n,{code:et.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),ht(n,{code:et.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ht(n,{code:et.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ir.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return ht(r,{code:et.invalid_type,expected:wt.bigint,received:r.parsedType}),Jt}gte(e,r){return this.setLimit("min",e,!0,Et.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Et.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Et.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Et.toString(r))}setLimit(e,r,n,s){return new Gx({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Et.toString(s)}]})}_addCheck(e){return new Gx({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Et.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Et.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Et.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Et.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Et.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Gx.create=t=>new Gx({checks:[],typeName:er.ZodBigInt,coerce:t?.coerce??!1,...fr(t)});class WS extends _r{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==wt.boolean){const n=this._getOrReturnCtx(e);return ht(n,{code:et.invalid_type,expected:wt.boolean,received:n.parsedType}),Jt}return Hi(e.data)}}WS.create=t=>new WS({typeName:er.ZodBoolean,coerce:t?.coerce||!1,...fr(t)});class xb extends _r{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==wt.date){const i=this._getOrReturnCtx(e);return ht(i,{code:et.invalid_type,expected:wt.date,received:i.parsedType}),Jt}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ht(i,{code:et.invalid_date}),Jt}const n=new si;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ht(s,{code:et.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ht(s,{code:et.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ir.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new xb({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Et.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Et.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}xb.create=t=>new xb({checks:[],coerce:t?.coerce||!1,typeName:er.ZodDate,...fr(t)});class fF extends _r{_parse(e){if(this._getType(e)!==wt.symbol){const n=this._getOrReturnCtx(e);return ht(n,{code:et.invalid_type,expected:wt.symbol,received:n.parsedType}),Jt}return Hi(e.data)}}fF.create=t=>new fF({typeName:er.ZodSymbol,...fr(t)});class mF extends _r{_parse(e){if(this._getType(e)!==wt.undefined){const n=this._getOrReturnCtx(e);return ht(n,{code:et.invalid_type,expected:wt.undefined,received:n.parsedType}),Jt}return Hi(e.data)}}mF.create=t=>new mF({typeName:er.ZodUndefined,...fr(t)});class pF extends _r{_parse(e){if(this._getType(e)!==wt.null){const n=this._getOrReturnCtx(e);return ht(n,{code:et.invalid_type,expected:wt.null,received:n.parsedType}),Jt}return Hi(e.data)}}pF.create=t=>new pF({typeName:er.ZodNull,...fr(t)});class xF extends _r{constructor(){super(...arguments),this._any=!0}_parse(e){return Hi(e.data)}}xF.create=t=>new xF({typeName:er.ZodAny,...fr(t)});class gF extends _r{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Hi(e.data)}}gF.create=t=>new gF({typeName:er.ZodUnknown,...fr(t)});class cd extends _r{_parse(e){const r=this._getOrReturnCtx(e);return ht(r,{code:et.invalid_type,expected:wt.never,received:r.parsedType}),Jt}}cd.create=t=>new cd({typeName:er.ZodNever,...fr(t)});class vF extends _r{_parse(e){if(this._getType(e)!==wt.undefined){const n=this._getOrReturnCtx(e);return ht(n,{code:et.invalid_type,expected:wt.void,received:n.parsedType}),Jt}return Hi(e.data)}}vF.create=t=>new vF({typeName:er.ZodVoid,...fr(t)});class al extends _r{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==wt.array)return ht(r,{code:et.invalid_type,expected:wt.array,received:r.parsedType}),Jt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(ht(r,{code:o?et.too_big:et.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ht(r,{code:et.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ht(r,{code:et.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new ld(r,o,r.path,l)))).then(o=>si.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new ld(r,o,r.path,l)));return si.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new al({...this._def,minLength:{value:e,message:Et.toString(r)}})}max(e,r){return new al({...this._def,maxLength:{value:e,message:Et.toString(r)}})}length(e,r){return new al({...this._def,exactLength:{value:e,message:Et.toString(r)}})}nonempty(e){return this.min(1,e)}}al.create=(t,e)=>new al({type:t,minLength:null,maxLength:null,exactLength:null,typeName:er.ZodArray,...fr(e)});function jh(t){if(t instanceof Mn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Yc.create(jh(n))}return new Mn({...t._def,shape:()=>e})}else return t instanceof al?new al({...t._def,type:jh(t.element)}):t instanceof Yc?Yc.create(jh(t.unwrap())):t instanceof Of?Of.create(jh(t.unwrap())):t instanceof wu?wu.create(t.items.map(e=>jh(e))):t}class Mn extends _r{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ir.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==wt.object){const d=this._getOrReturnCtx(e);return ht(d,{code:et.invalid_type,expected:wt.object,received:d.parsedType}),Jt}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof cd&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ld(s,h,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof cd){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(d==="strict")l.length>0&&(ht(s,{code:et.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ld(s,h,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>si.mergeObjectSync(n,d)):si.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Et.errToObj,new Mn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const s=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Et.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Mn({...this._def,unknownKeys:"strip"})}passthrough(){return new Mn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:er.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Mn({...this._def,catchall:e})}pick(e){const r={};for(const n of Ir.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Mn({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ir.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Mn({...this._def,shape:()=>r})}deepPartial(){return jh(this)}partial(e){const r={};for(const n of Ir.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Mn({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ir.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Yc;)i=i._def.innerType;r[n]=i}return new Mn({...this._def,shape:()=>r})}keyof(){return z6(Ir.objectKeys(this.shape))}}Mn.create=(t,e)=>new Mn({shape:()=>t,unknownKeys:"strip",catchall:cd.create(),typeName:er.ZodObject,...fr(e)});Mn.strictCreate=(t,e)=>new Mn({shape:()=>t,unknownKeys:"strict",catchall:cd.create(),typeName:er.ZodObject,...fr(e)});Mn.lazycreate=(t,e)=>new Mn({shape:t,unknownKeys:"strip",catchall:cd.create(),typeName:er.ZodObject,...fr(e)});class gb extends _r{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new So(l.ctx.common.issues));return ht(r,{code:et.invalid_union,unionErrors:o}),Jt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new So(c));return ht(r,{code:et.invalid_union,unionErrors:l}),Jt}}get options(){return this._def.options}}gb.create=(t,e)=>new gb({options:t,typeName:er.ZodUnion,...fr(e)});function qS(t,e){const r=Nc(t),n=Nc(e);if(t===e)return{valid:!0,data:t};if(r===wt.object&&n===wt.object){const s=Ir.objectKeys(e),i=Ir.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=qS(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===wt.array&&n===wt.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=qS(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===wt.date&&n===wt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class vb extends _r{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(dF(i)||dF(o))return Jt;const l=qS(i.value,o.value);return l.valid?((uF(i)||uF(o))&&r.dirty(),{status:r.value,value:l.data}):(ht(n,{code:et.invalid_intersection_types}),Jt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}vb.create=(t,e,r)=>new vb({left:t,right:e,typeName:er.ZodIntersection,...fr(r)});class wu extends _r{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==wt.array)return ht(n,{code:et.invalid_type,expected:wt.array,received:n.parsedType}),Jt;if(n.data.length<this._def.items.length)return ht(n,{code:et.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Jt;!this._def.rest&&n.data.length>this._def.items.length&&(ht(n,{code:et.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ld(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>si.mergeArray(r,o)):si.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new wu({...this._def,rest:e})}}wu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wu({items:t,typeName:er.ZodTuple,rest:null,...fr(e)})};class yF extends _r{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==wt.map)return ht(n,{code:et.invalid_type,expected:wt.map,received:n.parsedType}),Jt;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:s._parse(new ld(n,l,n.path,[d,"key"])),value:i._parse(new ld(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Jt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Jt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}yF.create=(t,e,r)=>new yF({valueType:e,keyType:t,typeName:er.ZodMap,...fr(r)});class Kx extends _r{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==wt.set)return ht(n,{code:et.invalid_type,expected:wt.set,received:n.parsedType}),Jt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ht(n,{code:et.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ht(n,{code:et.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Jt;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new ld(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new Kx({...this._def,minSize:{value:e,message:Et.toString(r)}})}max(e,r){return new Kx({...this._def,maxSize:{value:e,message:Et.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Kx.create=(t,e)=>new Kx({valueType:t,minSize:null,maxSize:null,typeName:er.ZodSet,...fr(e)});class bF extends _r{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}bF.create=(t,e)=>new bF({getter:t,typeName:er.ZodLazy,...fr(e)});class HS extends _r{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ht(r,{received:r.data,code:et.invalid_literal,expected:this._def.value}),Jt}return{status:"valid",value:e.data}}get value(){return this._def.value}}HS.create=(t,e)=>new HS({value:t,typeName:er.ZodLiteral,...fr(e)});function z6(t,e){return new Pf({values:t,typeName:er.ZodEnum,...fr(e)})}class Pf extends _r{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return ht(r,{expected:Ir.joinValues(n),received:r.parsedType,code:et.invalid_type}),Jt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return ht(r,{received:r.data,code:et.invalid_enum_value,options:n}),Jt}return Hi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Pf.create(e,{...this._def,...r})}exclude(e,r=this._def){return Pf.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Pf.create=z6;class wF extends _r{_parse(e){const r=Ir.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==wt.string&&n.parsedType!==wt.number){const s=Ir.objectValues(r);return ht(n,{expected:Ir.joinValues(s),received:n.parsedType,code:et.invalid_type}),Jt}if(this._cache||(this._cache=new Set(Ir.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ir.objectValues(r);return ht(n,{received:n.data,code:et.invalid_enum_value,options:s}),Jt}return Hi(e.data)}get enum(){return this._def.values}}wF.create=(t,e)=>new wF({values:t,typeName:er.ZodNativeEnum,...fr(e)});class yb extends _r{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==wt.promise&&r.common.async===!1)return ht(r,{code:et.invalid_type,expected:wt.promise,received:r.parsedType}),Jt;const n=r.parsedType===wt.promise?r.data:Promise.resolve(r.data);return Hi(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}yb.create=(t,e)=>new yb({type:t,typeName:er.ZodPromise,...fr(e)});class Tf extends _r{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===er.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ht(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Jt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Jt:c.status==="dirty"||r.value==="dirty"?Pp(c.value):c});{if(r.value==="aborted")return Jt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Jt:l.status==="dirty"||r.value==="dirty"?Pp(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Jt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Jt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Cf(o))return Jt;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Cf(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):Jt);Ir.assertNever(s)}}Tf.create=(t,e,r)=>new Tf({schema:t,typeName:er.ZodEffects,effect:e,...fr(r)});Tf.createWithPreprocess=(t,e,r)=>new Tf({schema:e,effect:{type:"preprocess",transform:t},typeName:er.ZodEffects,...fr(r)});class Yc extends _r{_parse(e){return this._getType(e)===wt.undefined?Hi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yc.create=(t,e)=>new Yc({innerType:t,typeName:er.ZodOptional,...fr(e)});class Of extends _r{_parse(e){return this._getType(e)===wt.null?Hi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Of.create=(t,e)=>new Of({innerType:t,typeName:er.ZodNullable,...fr(e)});class GS extends _r{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===wt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}GS.create=(t,e)=>new GS({innerType:t,typeName:er.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...fr(e)});class KS extends _r{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return pb(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new So(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new So(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}KS.create=(t,e)=>new KS({innerType:t,typeName:er.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...fr(e)});class jF extends _r{_parse(e){if(this._getType(e)!==wt.nan){const n=this._getOrReturnCtx(e);return ht(n,{code:et.invalid_type,expected:wt.nan,received:n.parsedType}),Jt}return{status:"valid",value:e.data}}}jF.create=t=>new jF({typeName:er.ZodNaN,...fr(t)});class Boe extends _r{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class aT extends _r{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Jt:i.status==="dirty"?(r.dirty(),Pp(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Jt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new aT({in:e,out:r,typeName:er.ZodPipeline})}}class XS extends _r{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Cf(s)&&(s.value=Object.freeze(s.value)),s);return pb(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}XS.create=(t,e)=>new XS({innerType:t,typeName:er.ZodReadonly,...fr(e)});var er;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(er||(er={}));const ge=Dc.create,sT=kf.create,dy=WS.create;cd.create;const iT=al.create,Ma=Mn.create,$oe=gb.create;vb.create;wu.create;const Qo=HS.create,Fl=Pf.create;yb.create;Yc.create;Of.create;const Fa=y.forwardRef(({className:t,...e},r)=>a.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Fa.displayName="Textarea";var Uoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Voe=Uoe.reduce((t,e)=>{const r=wj(`Primitive.${e}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),zoe="Label",W6=y.forwardRef((t,e)=>a.jsx(Voe.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));W6.displayName=zoe;var q6=W6;const Woe=Jg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Se=y.forwardRef(({className:t,...e},r)=>a.jsx(q6,{ref:r,className:_e(Woe(),t),...e}));Se.displayName=q6.displayName;const Rs=Hie,H6=y.createContext({}),ke=({...t})=>a.jsx(H6.Provider,{value:{name:t.name},children:a.jsx(Yie,{...t})}),Cj=()=>{const t=y.useContext(H6),e=y.useContext(G6),{getFieldState:r,formState:n}=Aj(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},G6=y.createContext({}),Ce=y.forwardRef(({className:t,...e},r)=>{const n=y.useId();return a.jsx(G6.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:_e("space-y-2",t),...e})})});Ce.displayName="FormItem";const Ae=y.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=Cj();return a.jsx(Se,{ref:r,className:_e(n&&"text-destructive",t),htmlFor:s,...e})});Ae.displayName="FormLabel";const Pe=y.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=Cj();return a.jsx(TV,{ref:e,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...t})});Pe.displayName="FormControl";const qoe=y.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Cj();return a.jsx("p",{ref:r,id:n,className:_e("text-sm text-muted-foreground",t),...e})});qoe.displayName="FormDescription";const Te=y.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:i}=Cj(),o=s?String(s?.message??""):e;return o?a.jsx("p",{ref:n,id:i,className:_e("text-sm font-medium text-destructive",t),...r,children:o}):null});Te.displayName="FormMessage";var kj="Checkbox",[Hoe]=Da(kj),[Goe,oT]=Hoe(kj);function Koe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=t,[f,m]=ni({prop:r,defaultProp:s??!1,onChange:c,caller:kj}),[x,p]=y.useState(null),[v,g]=y.useState(null),w=y.useRef(!1),N=x?!!o||!!x.closest("form"):!0,j={checked:f,disabled:i,setChecked:m,control:x,setControl:p,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:Qc(s)?!1:s,isFormControl:N,bubbleInput:v,setBubbleInput:g};return a.jsx(Goe,{scope:e,...j,children:Xoe(h)?h(j):n})}var K6="CheckboxTrigger",X6=y.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:x}=oT(K6,t),p=sr(s,u),v=y.useRef(c);return y.useEffect(()=>{const g=i?.form;if(g){const w=()=>h(v.current);return g.addEventListener("reset",w),()=>g.removeEventListener("reset",w)}},[i,h]),a.jsx(pt.button,{type:"button",role:"checkbox","aria-checked":Qc(c)?"mixed":c,"aria-required":d,"data-state":ez(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:at(e,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:at(r,g=>{h(w=>Qc(w)?!0:!w),x&&m&&(f.current=g.isPropagationStopped(),f.current||g.stopPropagation())})})});X6.displayName=K6;var lT=y.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=t;return a.jsx(Koe,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>a.jsxs(a.Fragment,{children:[a.jsx(X6,{...h,ref:e,__scopeCheckbox:r}),f&&a.jsx(J6,{__scopeCheckbox:r})]})})});lT.displayName=kj;var Y6="CheckboxIndicator",Q6=y.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,i=oT(Y6,r);return a.jsx(as,{present:n||Qc(i.checked)||i.checked===!0,children:a.jsx(pt.span,{"data-state":ez(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Q6.displayName=Y6;var Z6="CheckboxBubbleInput",J6=y.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:f,setBubbleInput:m}=oT(Z6,t),x=sr(r,m),p=XP(i),v=DP(n);y.useEffect(()=>{const w=f;if(!w)return;const N=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(N,"checked").set,S=!s.current;if(p!==i&&b){const A=new Event("click",{bubbles:S});w.indeterminate=Qc(i),b.call(w,Qc(i)?!1:i),w.dispatchEvent(A)}},[f,p,i,s]);const g=y.useRef(Qc(i)?!1:i);return a.jsx(pt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:d,value:u,form:h,...e,tabIndex:-1,ref:x,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});J6.displayName=Z6;function Xoe(t){return typeof t=="function"}function Qc(t){return t==="indeterminate"}function ez(t){return Qc(t)?"indeterminate":t?"checked":"unchecked"}const pn=y.forwardRef(({className:t,...e},r)=>a.jsx(lT,{ref:r,className:_e("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(Q6,{className:_e("flex items-center justify-center text-current"),children:a.jsx(Il,{className:"h-4 w-4"})})}));pn.displayName=lT.displayName;const Yoe=Ma({date:ge().min(1,"Date is required"),tshirtSize:ge().min(1,"T-Shirt Size is required"),firstNameOwner:ge().min(2,"First name is required"),lastNameOwner:ge().min(2,"Last name is required"),phoneOwner:ge().min(10,"Phone is required"),emailOwner:ge().email("Valid email is required"),representative:ge().min(1,"Representative is required"),heardAboutUs:ge().min(1,"How you heard about us is required"),streetAddress:ge().min(1,"Street address is required"),city:ge().min(1,"City is required"),state:ge().min(1,"State is required"),zipCode:ge().min(1,"Zip code is required"),birthday:ge().min(1,"Birthday is required"),emergencyContactName:ge().min(1,"Emergency contact name is required"),emergencyContactPhone:ge().min(10,"Emergency contact phone is required"),vehicleYear:ge().min(1,"Vehicle year is required"),vehicleMake:ge().min(1,"Vehicle make is required"),vehicleModel:ge().min(1,"Vehicle model is required"),vehicleTrim:ge().min(1,"Vehicle trim is required"),vehicleMiles:ge().min(1,"Vehicle miles is required"),exteriorColor:ge().min(1,"Exterior color is required"),interiorColor:ge().min(1,"Interior color is required"),titleType:ge().min(1,"Title type is required"),vinNumber:ge().length(17,"VIN number must be exactly 17 characters"),licensePlate:ge().min(1,"License plate is required"),registrationExpiration:ge().min(1,"Registration expiration is required"),vehicleRecall:ge().min(1,"Vehicle recall is required"),numberOfSeats:ge().min(1,"Number of seats is required"),numberOfDoors:ge().min(1,"Number of doors is required"),skiRacks:ge().min(1,"Ski racks is required"),skiCrossBars:ge().min(1,"Ski cross bars is required"),roofRails:ge().min(1,"Roof rails is required"),lastOilChange:ge().min(1,"Last oil change is required"),oilType:ge().min(1,"Oil type is required"),freeDealershipOilChanges:Fl(["Yes","No"],{required_error:"Free dealership oil changes is required"}),oilPackageDetails:ge().optional(),dealershipAddress:ge().optional(),fuelType:ge().min(1,"Fuel type is required"),tireSize:ge().min(1,"Tire size is required"),vehicleFeatures:iT(ge()).min(1,"At least one feature must be selected"),insuranceProvider:ge().min(1,"Insurance provider is required"),insurancePhone:ge().min(10,"Insurance phone is required"),policyNumber:ge().min(1,"Policy number is required"),insuranceExpiration:ge().min(1,"Insurance expiration is required"),purchasePrice:ge().min(1,"Purchase price is required"),interestRate:ge().min(1,"Interest rate is required"),monthlyPayment:ge().min(1,"Monthly payment is required"),downPayment:ge().min(1,"Down payment is required"),transportCityToCity:ge().min(1,"Transport option is required"),ultimateGoal:ge().min(1,"Ultimate goal is required"),bankName:ge().min(1,"Bank name is required"),taxClassification:ge().min(1,"Tax classification is required"),routingNumber:ge().min(9,"Routing number is required"),accountNumber:ge().min(1,"Account number is required"),businessName:ge().optional(),ein:ge().optional(),ssn:ge().min(1,"SSN is required"),carManufacturerWebsite:ge().url("Valid URL is required"),carManufacturerUsername:ge().min(1,"Username is required"),password:ge().min(1,"Password is required"),confirmAgreement:dy().refine(t=>t===!0,"You must confirm")}).superRefine((t,e)=>{t.freeDealershipOilChanges==="Yes"&&!t.oilPackageDetails?.trim()&&e.addIssue({code:et.custom,path:["oilPackageDetails"],message:"Oil package details is required when free dealership oil changes is Yes"})}),Qoe=[{id:1,title:"GOLDEN LUXURY AUTO'S NEW CLIENT ONBOARDING FORM"},{id:2,title:"OWNER INFORMATION"},{id:3,title:"VEHICLE INFORMATION"},{id:4,title:"VEHICLE INSURANCE INFO"},{id:5,title:"VEHICLE PURCHASE INFO"},{id:6,title:"ACH DIRECT DEPOSIT PAYMENT INFORMATION"},{id:7,title:"CAR LOGIN INFORMATION"}];function Zoe(){const t=["John","Sarah","Michael","Emma","David"],e=["Smith","Johnson","Williams","Brown","Jones"],r=()=>Math.floor(Math.random()*1e6);return{date:new Date().toISOString().split("T")[0],tshirtSize:["S","M","L","XL"][Math.floor(Math.random()*4)],firstNameOwner:t[Math.floor(Math.random()*t.length)],lastNameOwner:e[Math.floor(Math.random()*e.length)],phoneOwner:`555-${Math.floor(Math.random()*9e6)+1e6}`,emailOwner:`user${r()}@example.com`,representative:"John Smith",heardAboutUs:"Friend",streetAddress:"123 Main Street",city:"Los Angeles",state:"CA",zipCode:"90001",birthday:"1990-01-15",emergencyContactName:"Jane Doe",emergencyContactPhone:"555-9876543",vehicleYear:"2023",vehicleMake:"Mercedes-Benz",vehicleModel:"C-Class",vehicleTrim:"Premium",vehicleMiles:"15000",exteriorColor:"Black",interiorColor:"Tan",titleType:"Clean",vinNumber:"1HGCV41JXMN109186",licensePlate:"ABC1234",registrationExpiration:"2025-12-31",vehicleRecall:"No",numberOfSeats:"5",numberOfDoors:"4",skiRacks:"No",skiCrossBars:"No",roofRails:"Yes",lastOilChange:"2024-01-15",oilType:"5W-30",freeDealershipOilChanges:"Yes",oilPackageDetails:"2 years / Premium oil package",dealershipAddress:"456 Oak Street",fuelType:"Gasoline",tireSize:"225/45R17",vehicleFeatures:["Bluetooth","GPS","Back Up Camera"],insuranceProvider:"State Farm",insurancePhone:"555-9876543",policyNumber:"POL123456",insuranceExpiration:"2025-12-31",purchasePrice:"50000",interestRate:"3.5",monthlyPayment:"750",downPayment:"10000",transportCityToCity:"Yes",ultimateGoal:"Personal use and potential rental income",bankName:"Wells Fargo",taxClassification:"Individual",routingNumber:"021000021",accountNumber:"123456789",businessName:"My Business",ein:"12-3456789",ssn:"123-45-6789",carManufacturerWebsite:"https://www.mercedes-benz.com",carManufacturerUsername:"testuser",password:"TestPassword123",confirmAgreement:!0}}function Joe(){const[t,e]=y.useState(!1),[r,n]=y.useState(!1),[s,i]=y.useState([1,2,3,4,5,6,7]),[o,l]=y.useState(null),[c,d]=y.useState(null),[u,h]=y.useState(!1),[f,m]=y.useState(!1),{toast:x}=kr(),p=ts({resolver:rs(Yoe),defaultValues:{date:"",tshirtSize:"",firstNameOwner:"",lastNameOwner:"",phoneOwner:"",emailOwner:"",representative:"",heardAboutUs:"",streetAddress:"",city:"",state:"",zipCode:"",birthday:"",emergencyContactName:"",emergencyContactPhone:"",vehicleYear:"",vehicleMake:"",vehicleModel:"",vehicleTrim:"",vehicleMiles:"",exteriorColor:"",interiorColor:"",titleType:"",vinNumber:"",licensePlate:"",registrationExpiration:"",vehicleRecall:"",numberOfSeats:"",numberOfDoors:"",skiRacks:"",skiCrossBars:"",roofRails:"",lastOilChange:"",oilType:"",freeDealershipOilChanges:void 0,oilPackageDetails:"",dealershipAddress:"",fuelType:"",tireSize:"",vehicleFeatures:[],insuranceProvider:"",insurancePhone:"",policyNumber:"",insuranceExpiration:"",purchasePrice:"",interestRate:"",monthlyPayment:"",downPayment:"",transportCityToCity:"",ultimateGoal:"",bankName:"",taxClassification:"",routingNumber:"",accountNumber:"",ssn:"",carManufacturerWebsite:"",carManufacturerUsername:"",password:"",confirmAgreement:!1}}),v=p.watch("freeDealershipOilChanges");y.useEffect(()=>{v!=="Yes"&&p.setValue("oilPackageDetails","")},[v,p]);const g=()=>{p.reset(Zoe()),x({title:"Form Filled",description:"All fields filled with random test data."})},w=j=>{i(b=>b.includes(j)?b.filter(S=>S!==j):[...b,j])},N=async j=>{console.log("=".repeat(80)),console.log(" [FRONTEND] Form submission started"),console.log(" [FRONTEND] Form data keys:",Object.keys(j)),console.log(" [FRONTEND] Sample form data:",{firstNameOwner:j.firstNameOwner,emailOwner:j.emailOwner,vehicleMake:j.vehicleMake,vehicleModel:j.vehicleModel}),n(!0);try{const b=je("/api/onboarding/submit");let S,A;if(o||c){const O=new FormData;Object.entries(j).forEach(([k,L])=>{L!=null&&(typeof L=="boolean"?O.append(k,L.toString()):Array.isArray(L)?O.append(k,JSON.stringify(L)):O.append(k,String(L)))}),o&&O.append("insuranceCard",o),c&&O.append("driversLicense",c),S=O,A={}}else S=JSON.stringify(j),A={"Content-Type":"application/json"};const E=await fetch(b,{method:"POST",headers:A,body:S,credentials:"include"});if(!E.ok){const O=await E.json();throw O.field&&O.message&&p.setError(O.field,{type:"manual",message:O.message}),new Error(O.message||"Submission failed")}const P=await E.json();e(!0)}catch(b){x({title:"Submission Failed",description:b.message||"Please try again later.",variant:"destructive"})}finally{n(!1)}};return t?a.jsxs("div",{className:"min-h-screen bg-[#0a0a0a]",children:[a.jsx(qx,{}),a.jsx("main",{className:"pt-20 lg:pt-24",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:a.jsx(ft,{className:"bg-card border-white/10 text-center",children:a.jsxs(mt,{className:"py-16",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/20 flex items-center justify-center mx-auto mb-6",children:a.jsx(Il,{className:"w-10 h-10 text-primary"})}),a.jsx("h2",{className:"font-serif text-3xl font-medium text-foreground mb-4",children:"Thank You!"}),a.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"Your information has been submitted successfully. One of our luxury automotive specialists will contact you within 24 hours."}),a.jsxs(ie,{onClick:()=>window.location.href="/fleet","data-testid":"button-browse-fleet",children:["Browse Our Fleet",a.jsx(um,{className:"ml-2 w-4 h-4"})]})]})})})}),a.jsx(Hx,{})]}):a.jsxs("div",{className:"min-h-screen bg-[#0a0a0a]",children:[a.jsx(qx,{}),a.jsx("main",{className:"pt-20 lg:pt-24 pb-20",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[a.jsx("img",{src:"/logo.svg",alt:"Golden Luxury Auto",className:"h-[47px] md:h-[60px] lg:h-[73px] w-auto object-contain mb-4 drop-shadow-[0_0_12px_rgba(234,235,128,0.4)]"}),a.jsx("p",{className:"text-gray-400 text-center",children:"Client Onboarding Form"})]}),a.jsx(Rs,{...p,children:a.jsxs("form",{onSubmit:p.handleSubmit(N),className:"space-y-4",children:[Qoe.map(j=>a.jsxs(ft,{className:"bg-[#111111] border-[#EAEB80]/20 overflow-hidden",children:[a.jsxs("button",{type:"button",onClick:()=>w(j.id),className:"w-full flex items-center justify-between p-4 hover:bg-[#1a1a1a] transition-colors",children:[a.jsxs("span",{className:"text-base font-semibold text-[#EAEB80]",children:[j.id,". ",j.title]}),s.includes(j.id)?a.jsx(nU,{className:"w-5 h-5 text-gray-400"}):a.jsx(ol,{className:"w-5 h-5 text-gray-400"})]}),s.includes(j.id)&&a.jsxs(mt,{className:"p-4 space-y-4 border-t border-[#EAEB80]/20",children:[j.id===1&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"date",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Date *"}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"tshirtSize",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"T-Shirt Size *"}),a.jsxs(tt,{onValueChange:b.onChange,defaultValue:b.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#0a0a0a] border-gray-700",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsx(Ze,{children:["XS","S","M","L","XL","XXL"].map(S=>a.jsx(xe,{value:S,children:S},S))})]}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"firstNameOwner",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Vehicle Owner First Name *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"lastNameOwner",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Vehicle Owner Last Name *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"phoneOwner",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Vehicle Owner Phone Number *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"emailOwner",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Vehicle Owner Email Address *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,type:"email",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"representative",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Golden Luxury Auto Representative *"}),a.jsxs(tt,{onValueChange:b.onChange,defaultValue:b.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#0a0a0a] border-gray-700",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Jay Barton",children:"Jay Barton"}),a.jsx(xe,{value:"Jenn Mason",children:"Jenn Mason"}),a.jsx(xe,{value:"Brynn Lunn",children:"Brynn Lunn"}),a.jsx(xe,{value:"Other",children:"Other"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"heardAboutUs",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"How did you hear about us? *"}),a.jsxs(tt,{onValueChange:b.onChange,defaultValue:b.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#0a0a0a] border-gray-700",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Friend",children:"Friend"}),a.jsx(xe,{value:"Google",children:"Google"}),a.jsx(xe,{value:"Social Media",children:"Social Media"})]})]}),a.jsx(Te,{})]})})]})]}),j.id===2&&a.jsxs(a.Fragment,{children:[a.jsx(ke,{control:p.control,name:"streetAddress",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Street Address *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"city",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"City *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"state",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"State *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"zipCode",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Zip Code *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"birthday",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Birthday *"}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"emergencyContactName",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Emergency Contact Name *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"emergencyContactPhone",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Emergency Contact Phone *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]})]}),j.id===3&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"vehicleYear",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Vehicle Year *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"vehicleMake",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Vehicle Make *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"e.g., Mercedes-Benz",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"vehicleModel",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Vehicle Model *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"vehicleTrim",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Vehicle Trim *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"vehicleMiles",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Vehicle Miles *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"exteriorColor",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Exterior Color *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"interiorColor",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Interior Color *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"titleType",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Title Type *"}),a.jsxs(tt,{onValueChange:b.onChange,defaultValue:b.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#0a0a0a] border-gray-700",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Clean",children:"Clean"}),a.jsx(xe,{value:"Salvage",children:"Salvage"}),a.jsx(xe,{value:"Rebuilt",children:"Rebuilt"}),a.jsx(xe,{value:"Branded",children:"Branded"}),a.jsx(xe,{value:"Other",children:"Other"})]})]}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"vinNumber",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"VIN Number *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"licensePlate",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"License Plate *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"registrationExpiration",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Registration Expiration *"}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"vehicleRecall",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Vehicle Recall *"}),a.jsxs(tt,{onValueChange:b.onChange,defaultValue:b.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#0a0a0a] border-gray-700",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"mt-2 mb-2 text-center",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"If Your Not Sure If Your Vehicle May Have a Recall You Can Check Here:"}),a.jsx("a",{href:"https://www.nhtsa.gov/recalls",target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:text-[#d4d570] underline font-medium",style:{fontSize:"1.3em"},children:"National Highway Traffic Safety Administration (NHTSA)"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"numberOfSeats",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Number of Seats *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,type:"number",min:"1",placeholder:"e.g., 5",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"numberOfDoors",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Number of Doors *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,type:"number",min:"1",placeholder:"e.g., 4",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"skiRacks",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Ski Racks *"}),a.jsxs(tt,{onValueChange:b.onChange,defaultValue:b.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#0a0a0a] border-gray-700",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"skiCrossBars",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Ski Cross Bars *"}),a.jsxs(tt,{onValueChange:b.onChange,defaultValue:b.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#0a0a0a] border-gray-700",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"roofRails",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Roof Rails *"}),a.jsxs(tt,{onValueChange:b.onChange,defaultValue:b.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#0a0a0a] border-gray-700",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"lastOilChange",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Last Oil Change *"}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"oilType",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Oil Type *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"e.g., 5W-30",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx("div",{className:"space-y-4",children:a.jsx(ke,{control:p.control,name:"freeDealershipOilChanges",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Does Your Vehicle Have Free Dealership Oil Changes? *"}),a.jsxs(tt,{onValueChange:b.onChange,defaultValue:b.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#0a0a0a] border-gray-700",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]}),a.jsx(Te,{})]})})})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(ke,{control:p.control,name:"oilPackageDetails",render:({field:b})=>a.jsxs(Ce,{className:"w-full",children:[a.jsxs(Ae,{className:"text-gray-300",children:["If Yes, For How Many Years of Oil Changes OR What Oil Package",v==="Yes"?" *":""]}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:v==="Yes"?"e.g., 2 years / Premium oil package":"Select Yes above to enable",disabled:v!=="Yes",className:"w-full bg-[#0a0a0a] border-gray-700 disabled:opacity-60"})}),a.jsx(Te,{})]})})}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(ke,{control:p.control,name:"dealershipAddress",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Address of Dealership (If Applicable)"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"Dealership address (optional)",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"fuelType",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Fuel Type *"}),a.jsxs(tt,{onValueChange:b.onChange,defaultValue:b.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#0a0a0a] border-gray-700",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Regular",children:"Regular"}),a.jsx(xe,{value:"Premium",children:"Premium"}),a.jsx(xe,{value:"Premium 91 Unleaded",children:"Premium 91 Unleaded"}),a.jsx(xe,{value:"Regular Unleaded",children:"Regular Unleaded"}),a.jsx(xe,{value:"91 Unleaded",children:"91 Unleaded"}),a.jsx(xe,{value:"Gasoline",children:"Gasoline"}),a.jsx(xe,{value:"Electric",children:"Electric"}),a.jsx(xe,{value:"Diesel",children:"Diesel"}),a.jsx(xe,{value:"Others",children:"Others"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"tireSize",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Tire Size *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"e.g., 225/45R17",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsx(ke,{control:p.control,name:"vehicleFeatures",render:()=>a.jsxs(Ce,{children:[a.jsx("div",{className:"mb-4",children:a.jsxs(Ae,{className:"text-gray-300 text-base font-semibold",children:["Features (check all that apply)",a.jsx("span",{className:"text-red-500 ml-1",children:"* Required"})]})}),a.jsx("div",{className:"border border-red-500 rounded-lg p-4",children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["All-wheel drive","AUX input","Blind Spot Warning","Convertible","Keyless Entry","Snow Tires or Chains","USB Charger","Android Auto","Back Up Camera","Bluetooth","GPS","Pet Friendly","Sunroof","USB Input","Apple CarPlay","Bike Rack","Toll Pass","Wheelchair Accessible"].map(b=>a.jsx(ke,{control:p.control,name:"vehicleFeatures",render:({field:S})=>a.jsxs(Ce,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Pe,{children:a.jsx(pn,{checked:S.value?.includes(b)||!1,onCheckedChange:A=>{const E=S.value||[];return A?S.onChange([...E,b]):S.onChange(E.filter(P=>P!==b))}})}),a.jsx(Ae,{className:"text-gray-300 text-sm font-normal cursor-pointer",children:b})]},b)},b))})}),a.jsx(Te,{})]})}),a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Drivers License Upload"}),a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${f?"border-[#EAEB80] bg-[#EAEB80]/10":"border-[#EAEB80]/30"}`,onDragOver:b=>{b.preventDefault(),m(!0)},onDragLeave:()=>m(!1),onDrop:b=>{b.preventDefault(),m(!1);const S=b.dataTransfer.files[0];S&&(S.type.startsWith("image/")||S.type==="application/pdf"?d(S):x({title:"Invalid file type",description:"Please upload an image or PDF file",variant:"destructive"}))},children:[a.jsx("input",{type:"file",id:"drivers-license-upload",accept:"image/*,.pdf",className:"hidden",onChange:b=>{const S=b.target.files?.[0];S&&(S.type.startsWith("image/")||S.type==="application/pdf"?d(S):(x({title:"Invalid file type",description:"Please upload an image or PDF file",variant:"destructive"}),b.target.value=""))}}),a.jsxs("label",{htmlFor:"drivers-license-upload",className:"cursor-pointer",children:[a.jsx("p",{className:"text-[#EAEB80] text-sm",children:"Drag & drop files here or click to browse"}),a.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Supports images and PDF files"})]}),c&&a.jsxs("div",{className:"mt-4 p-3 bg-[#1a1a1a] rounded border border-[#EAEB80]/20",children:[a.jsxs("p",{className:"text-foreground text-sm",children:["Selected: ",c.name]}),a.jsx("button",{type:"button",onClick:()=>d(null),className:"text-red-400 text-xs mt-2 hover:underline",children:"Remove"})]})]})]})]}),j.id===4&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"insuranceProvider",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Insurance Provider *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"insurancePhone",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Insurance Phone *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"policyNumber",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Policy # *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"insuranceExpiration",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Expiration *"}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Insurance Card"}),a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${u?"border-[#EAEB80] bg-[#EAEB80]/10":"border-[#EAEB80]/30"}`,onDragOver:b=>{b.preventDefault(),h(!0)},onDragLeave:()=>h(!1),onDrop:b=>{b.preventDefault(),h(!1);const S=b.dataTransfer.files[0];S&&(S.type.startsWith("image/")||S.type==="application/pdf"?l(S):x({title:"Invalid file type",description:"Please upload an image or PDF file",variant:"destructive"}))},children:[a.jsx("input",{type:"file",id:"insurance-card-upload",accept:"image/*,.pdf",className:"hidden",onChange:b=>{const S=b.target.files?.[0];S&&(S.type.startsWith("image/")||S.type==="application/pdf"?l(S):(x({title:"Invalid file type",description:"Please upload an image or PDF file",variant:"destructive"}),b.target.value=""))}}),a.jsxs("label",{htmlFor:"insurance-card-upload",className:"cursor-pointer",children:[a.jsx("p",{className:"text-[#EAEB80] text-sm",children:"Drag & drop files here or click to browse"}),a.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Supports images and PDF files"})]}),o&&a.jsxs("div",{className:"mt-4 p-3 bg-[#1a1a1a] rounded border border-[#EAEB80]/20",children:[a.jsxs("p",{className:"text-foreground text-sm",children:["Selected: ",o.name]}),a.jsx("button",{type:"button",onClick:()=>l(null),className:"text-red-400 text-xs mt-2 hover:underline",children:"Remove"})]})]})]})]}),j.id===5&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"purchasePrice",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Purchase Price *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"e.g., 50000",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"interestRate",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Interest Rate *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"e.g., 3.5",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"monthlyPayment",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Monthly Payment *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"e.g., 750",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"downPayment",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Down Payment *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"e.g., 10000",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsx(ke,{control:p.control,name:"transportCityToCity",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"To maximize profits, would you like us to transport the vehicle from city to city if necessary? (US only)"}),a.jsxs(tt,{onValueChange:b.onChange,defaultValue:b.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#0a0a0a] border-gray-700",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"ultimateGoal",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"What is your ultimate goal we can help you achieve with our program *"}),a.jsx(Pe,{children:a.jsx(Fa,{...b,placeholder:"Tell us about your goals...",className:"bg-[#0a0a0a] border-gray-700 resize-none",rows:4})}),a.jsx(Te,{})]})})]}),j.id===6&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"bankName",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Bank Name *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"taxClassification",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Tax Classification *"}),a.jsxs(tt,{onValueChange:b.onChange,defaultValue:b.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#0a0a0a] border-gray-700",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Individual",children:"Individual"}),a.jsx(xe,{value:"Business",children:"Business"})]})]}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"routingNumber",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Routing Number *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"9 digits",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"accountNumber",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Account Number *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"businessName",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Business Name"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"ein",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"EIN"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"XX-XXXXXXX",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsx(ke,{control:p.control,name:"ssn",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"SSN *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"XXX-XX-XXXX",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),j.id===7&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:p.control,name:"carManufacturerWebsite",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Car Manufacturer Website *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"https://...",className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"carManufacturerUsername",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Car Manufacturer Username *"}),a.jsx(Pe,{children:a.jsx(ae,{...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})})]}),a.jsx(ke,{control:p.control,name:"password",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Password *"}),a.jsx(Pe,{children:a.jsx(ae,{type:"password",...b,className:"bg-[#0a0a0a] border-gray-700"})}),a.jsx(Te,{})]})}),a.jsxs("div",{className:"bg-[#0a0a0a] border border-gray-700 rounded p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"After you submit, we will send the contract agreement to your email"}),a.jsx(ke,{control:p.control,name:"confirmAgreement",render:({field:b})=>a.jsxs(Ce,{className:"flex items-center space-x-2",children:[a.jsx(Pe,{children:a.jsx(pn,{checked:b.value,onCheckedChange:b.onChange})}),a.jsx(Ae,{className:"text-gray-300 font-normal",children:"Confirm. Send My Agreement"})]})})]})]})]})]},j.id)),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-[#EAEB80]/20",children:[a.jsx(ie,{type:"button",onClick:g,variant:"outline",className:"bg-[#EAEB80]/10 border-[#EAEB80]/30 text-[#EAEB80] hover:bg-[#EAEB80]/20",disabled:r,"data-testid":"button-fill-random",children:"Fill Out All Fields With Random Data (For Testing)"}),a.jsx(ie,{type:"submit",className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-bold w-full sm:w-auto sm:ml-auto",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"mr-2 w-4 h-4 animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:["Submit",a.jsx(Il,{className:"ml-2 w-4 h-4"})]})})]})]})})]})}),a.jsx(Hx,{})]})}const ele=Ma({name:ge().min(2,"Name is required"),email:ge().email("Valid email is required"),phone:ge().optional(),subject:ge().min(2,"Subject is required"),message:ge().min(10,"Message must be at least 10 characters")}),tle=[{icon:cU,title:"Visit Us",details:["123 Luxury Lane","Beverly Hills, CA 90210"]},{icon:t0,title:"Call Us",details:["+1 (234) 567-890","+1 (234) 567-891"]},{icon:xu,title:"Email Us",details:["info@luxuryauto.com","sales@luxuryauto.com"]},{icon:ij,title:"Hours",details:["Mon-Fri: 9am - 7pm","Sat: 10am - 5pm","Sun: By Appointment"]}];function rle(){const{toast:t}=kr(),e=ts({resolver:rs(ele),defaultValues:{name:"",email:"",phone:"",subject:"",message:""}}),r=async n=>{try{if((await fetch(je("/api/contact"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"})).ok)t({title:"Message Sent",description:"We'll get back to you as soon as possible."}),e.reset();else throw new Error("Failed to send message")}catch{t({title:"Message Sent",description:"We'll get back to you as soon as possible."}),e.reset()}};return a.jsxs("div",{className:"min-h-screen bg-[#0a0a0a]",children:[a.jsx(qx,{}),a.jsx("main",{className:"pt-20 lg:pt-24",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("p",{className:"text-sm font-medium text-primary tracking-widest uppercase mb-3",children:"Get In Touch"}),a.jsx("h1",{className:"font-serif text-4xl lg:text-5xl font-light text-foreground mb-4",children:"Contact Us"}),a.jsx("p",{className:"max-w-2xl mx-auto text-muted-foreground",children:"Have questions about our vehicles or services? Our team of luxury automotive specialists is here to help."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12",children:[a.jsx("div",{className:"lg:col-span-1 space-y-6",children:tle.map((n,s)=>{const i=n.icon;return a.jsx(ft,{className:"bg-card border-white/10",children:a.jsxs(mt,{className:"p-6 flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(i,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-foreground mb-1",children:n.title}),n.details.map((o,l)=>a.jsx("p",{className:"text-sm text-muted-foreground",children:o},l))]})]})},s)})}),a.jsx(ft,{className:"lg:col-span-2 bg-card border-white/10",children:a.jsxs(mt,{className:"p-6 lg:p-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mb-6",children:"Send Us a Message"}),a.jsx(Rs,{...e,children:a.jsxs("form",{onSubmit:e.handleSubmit(r),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(ke,{control:e.control,name:"name",render:({field:n})=>a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Name"}),a.jsx(Pe,{children:a.jsx(ae,{placeholder:"Your name",...n,className:"bg-background border-white/20","data-testid":"input-contact-name"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:e.control,name:"email",render:({field:n})=>a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Email"}),a.jsx(Pe,{children:a.jsx(ae,{type:"email",placeholder:"you@example.com",...n,className:"bg-background border-white/20","data-testid":"input-contact-email"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:e.control,name:"phone",render:({field:n})=>a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Phone (Optional)"}),a.jsx(Pe,{children:a.jsx(ae,{type:"tel",placeholder:"+1 (234) 567-890",...n,className:"bg-background border-white/20","data-testid":"input-contact-phone"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:e.control,name:"subject",render:({field:n})=>a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Subject"}),a.jsx(Pe,{children:a.jsx(ae,{placeholder:"How can we help?",...n,className:"bg-background border-white/20","data-testid":"input-contact-subject"})}),a.jsx(Te,{})]})})]}),a.jsx(ke,{control:e.control,name:"message",render:({field:n})=>a.jsxs(Ce,{children:[a.jsx(Ae,{children:"Message"}),a.jsx(Pe,{children:a.jsx(Fa,{placeholder:"Tell us what you're looking for...",...n,className:"bg-background border-white/20 min-h-[160px]","data-testid":"textarea-contact-message"})}),a.jsx(Te,{})]})}),a.jsxs(ie,{type:"submit",size:"lg",className:"w-full sm:w-auto","data-testid":"button-send-message",children:[a.jsx(uU,{className:"mr-2 w-4 h-4"}),"Send Message"]})]})})]})})]})]})}),a.jsx(Hx,{})]})}var sx={};sx.d=(t,e)=>{for(var r in e)sx.o(e,r)&&!sx.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})};sx.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tr=globalThis.pdfjsLib={};sx.d(tr,{AbortException:()=>zu,AnnotationEditorLayer:()=>Nl,AnnotationEditorParamsType:()=>Yt,AnnotationEditorType:()=>or,AnnotationEditorUIManager:()=>dd,AnnotationLayer:()=>ede,AnnotationMode:()=>Tc,ColorPicker:()=>wi,DOMSVGFactory:()=>NT,DrawLayer:()=>Va,FeatureTest:()=>fs,GlobalWorkerOptions:()=>ox,ImageKind:()=>uy,InvalidPDFException:()=>rz,MissingPDFException:()=>Vu,OPS:()=>so,OutputScale:()=>JS,PDFDataRangeTransport:()=>bz,PDFDateString:()=>az,PDFWorker:()=>ca,PasswordResponses:()=>ile,PermissionFlag:()=>sle,PixelsPerInch:()=>_f,RenderingCancelledException:()=>uT,TextLayer:()=>aA,UnexpectedResponseException:()=>_j,Util:()=>Ct,VerbosityLevel:()=>Pj,XfaLayer:()=>jz,build:()=>Ice,createValidAbsoluteUrl:()=>dle,fetchData:()=>Ij,getDocument:()=>Sce,getFilenameFromUrl:()=>yle,getPdfFilenameFromUrl:()=>ble,getXfaPageViewport:()=>wle,isDataScheme:()=>Fj,isPdfFile:()=>hT,noContextMenu:()=>Ui,normalizeUnicode:()=>xle,setLayerDimensions:()=>ju,shadow:()=>Er,version:()=>Rce});const Za=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),tz=[1,0,0,1,0,0],YS=[.001,0,0,.001,0,0],nle=1e7,p2=1.35,Us={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Tc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ale="pdfjs_internal_editor_",or={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Yt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},sle={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ua={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},uy={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},qn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Jm={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Pj={ERRORS:0,WARNINGS:1,INFOS:5},so={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},ile={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Tj=Pj.WARNINGS;function ole(t){Number.isInteger(t)&&(Tj=t)}function lle(){return Tj}function Oj(t){Tj>=Pj.INFOS&&console.log(`Info: ${t}`)}function dr(t){Tj>=Pj.WARNINGS&&console.log(`Warning: ${t}`)}function ln(t){throw new Error(t)}function Jn(t,e){t||ln(e)}function cle(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function dle(t,e=null,r=null){if(!t)return null;try{if(r&&typeof t=="string"&&(r.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),r.tryConvertEncoding))try{t=ple(t)}catch{}const n=e?new URL(t,e):new URL(t);if(cle(n))return n}catch{}return null}function Er(t,e,r,n=!1){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}const Nd=function(){function e(r,n){this.message=r,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class QS extends Nd{constructor(e,r){super(e,"PasswordException"),this.code=r}}class ZS extends Nd{constructor(e,r){super(e,"UnknownErrorException"),this.details=r}}class rz extends Nd{constructor(e){super(e,"InvalidPDFException")}}class Vu extends Nd{constructor(e){super(e,"MissingPDFException")}}class _j extends Nd{constructor(e,r){super(e,"UnexpectedResponseException"),this.status=r}}class ule extends Nd{constructor(e){super(e,"FormatError")}}class zu extends Nd{constructor(e){super(e,"AbortException")}}function nz(t){(typeof t!="object"||t?.length===void 0)&&ln("Invalid argument for bytesToString");const e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);const n=[];for(let s=0;s<e;s+=r){const i=Math.min(s+r,e),o=t.subarray(s,i);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function Rj(t){typeof t!="string"&&ln("Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n)&255;return r}function hle(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function cT(t){const e=Object.create(null);for(const[r,n]of t)e[r]=n;return e}function fle(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function mle(){try{return new Function(""),!0}catch{return!1}}class fs{static get isLittleEndian(){return Er(this,"isLittleEndian",fle())}static get isEvalSupported(){return Er(this,"isEvalSupported",mle())}static get isOffscreenCanvasSupported(){return Er(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Er(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof navigator?.userAgent=="string"&&navigator.userAgent.includes("Firefox")}):Er(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return Er(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const x2=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class Ct{static makeHexColor(e,r,n){return`#${x2[e]}${x2[r]}${x2[n]}`}static scaleMinMax(e,r){let n;e[0]?(e[0]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[0],r[2]*=e[0],e[3]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[3],r[3]*=e[3]):(n=r[0],r[0]=r[1],r[1]=n,n=r[2],r[2]=r[3],r[3]=n,e[1]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[1],r[3]*=e[1],e[2]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[2],r[2]*=e[2]),r[0]+=e[4],r[1]+=e[5],r[2]+=e[4],r[3]+=e[5]}static transform(e,r){return[e[0]*r[0]+e[2]*r[1],e[1]*r[0]+e[3]*r[1],e[0]*r[2]+e[2]*r[3],e[1]*r[2]+e[3]*r[3],e[0]*r[4]+e[2]*r[5]+e[4],e[1]*r[4]+e[3]*r[5]+e[5]]}static applyTransform(e,r){const n=e[0]*r[0]+e[1]*r[2]+r[4],s=e[0]*r[1]+e[1]*r[3]+r[5];return[n,s]}static applyInverseTransform(e,r){const n=r[0]*r[3]-r[1]*r[2],s=(e[0]*r[3]-e[1]*r[2]+r[2]*r[5]-r[4]*r[3])/n,i=(-e[0]*r[1]+e[1]*r[0]+r[4]*r[1]-r[5]*r[0])/n;return[s,i]}static getAxialAlignedBoundingBox(e,r){const n=this.applyTransform(e,r),s=this.applyTransform(e.slice(2,4),r),i=this.applyTransform([e[0],e[3]],r),o=this.applyTransform([e[2],e[1]],r);return[Math.min(n[0],s[0],i[0],o[0]),Math.min(n[1],s[1],i[1],o[1]),Math.max(n[0],s[0],i[0],o[0]),Math.max(n[1],s[1],i[1],o[1])]}static inverseTransform(e){const r=e[0]*e[3]-e[1]*e[2];return[e[3]/r,-e[1]/r,-e[2]/r,e[0]/r,(e[2]*e[5]-e[4]*e[3])/r,(e[4]*e[1]-e[5]*e[0])/r]}static singularValueDecompose2dScale(e){const r=[e[0],e[2],e[1],e[3]],n=e[0]*r[0]+e[1]*r[2],s=e[0]*r[1]+e[1]*r[3],i=e[2]*r[0]+e[3]*r[2],o=e[2]*r[1]+e[3]*r[3],l=(n+o)/2,c=Math.sqrt((n+o)**2-4*(n*o-i*s))/2,d=l+c||1,u=l-c||1;return[Math.sqrt(d),Math.sqrt(u)]}static normalizeRect(e){const r=e.slice(0);return e[0]>e[2]&&(r[0]=e[2],r[2]=e[0]),e[1]>e[3]&&(r[1]=e[3],r[3]=e[1]),r}static intersect(e,r){const n=Math.max(Math.min(e[0],e[2]),Math.min(r[0],r[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(r[0],r[2]));if(n>s)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(r[1],r[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(r[1],r[3]));return i>o?null:[n,i,s,o]}static#e(e,r,n,s,i,o,l,c,d,u){if(d<=0||d>=1)return;const h=1-d,f=d*d,m=f*d,x=h*(h*(h*e+3*d*r)+3*f*n)+m*s,p=h*(h*(h*i+3*d*o)+3*f*l)+m*c;u[0]=Math.min(u[0],x),u[1]=Math.min(u[1],p),u[2]=Math.max(u[2],x),u[3]=Math.max(u[3],p)}static#t(e,r,n,s,i,o,l,c,d,u,h,f){if(Math.abs(d)<1e-12){Math.abs(u)>=1e-12&&this.#e(e,r,n,s,i,o,l,c,-h/u,f);return}const m=u**2-4*h*d;if(m<0)return;const x=Math.sqrt(m),p=2*d;this.#e(e,r,n,s,i,o,l,c,(-u+x)/p,f),this.#e(e,r,n,s,i,o,l,c,(-u-x)/p,f)}static bezierBoundingBox(e,r,n,s,i,o,l,c,d){return d?(d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],r,c),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],r,c)):d=[Math.min(e,l),Math.min(r,c),Math.max(e,l),Math.max(r,c)],this.#t(e,n,i,l,r,s,o,c,3*(-e+3*(n-i)+l),6*(e-2*n+i),3*(n-e),d),this.#t(e,n,i,l,r,s,o,c,3*(-r+3*(s-o)+c),6*(r-2*s+o),3*(s-r),d),d}}function ple(t){return decodeURIComponent(escape(t))}let g2=null,NF=null;function xle(t){return g2||(g2=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NF=new Map([["","t"]])),t.replaceAll(g2,(e,r,n)=>r?r.normalize("NFKC"):NF.get(n))}function gle(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return nz(t)}const dT="pdfjs_internal_id_",xl={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function vle(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(nz(t))}const wl="http://www.w3.org/2000/svg";class _f{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Ij(t,e="text"){if(Tp(t,document.baseURI)){const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);switch(e){case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"json":return r.json()}return r.text()}return new Promise((r,n)=>{const s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":r(s.response);return}r(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class c0{constructor({viewBox:e,scale:r,rotation:n,offsetX:s=0,offsetY:i=0,dontFlip:o=!1}){this.viewBox=e,this.scale=r,this.rotation=n,this.offsetX=s,this.offsetY=i;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let d,u,h,f;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,u=0,h=0,f=1;break;case 90:d=0,u=1,h=1,f=0;break;case 270:d=0,u=-1,h=-1,f=0;break;case 0:d=1,u=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let m,x,p,v;d===0?(m=Math.abs(c-e[1])*r+s,x=Math.abs(l-e[0])*r+i,p=(e[3]-e[1])*r,v=(e[2]-e[0])*r):(m=Math.abs(l-e[0])*r+s,x=Math.abs(c-e[1])*r+i,p=(e[2]-e[0])*r,v=(e[3]-e[1])*r),this.transform=[d*r,u*r,h*r,f*r,m-d*r*l-h*r*c,x-u*r*l-f*r*c],this.width=p,this.height=v}get rawDims(){const{viewBox:e}=this;return Er(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:r=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:i=!1}={}){return new c0({viewBox:this.viewBox.slice(),scale:e,rotation:r,offsetX:n,offsetY:s,dontFlip:i})}convertToViewportPoint(e,r){return Ct.applyTransform([e,r],this.transform)}convertToViewportRectangle(e){const r=Ct.applyTransform([e[0],e[1]],this.transform),n=Ct.applyTransform([e[2],e[3]],this.transform);return[r[0],r[1],n[0],n[1]]}convertToPdfPoint(e,r){return Ct.applyInverseTransform([e,r],this.transform)}}class uT extends Nd{constructor(e,r=0){super(e,"RenderingCancelledException"),this.extraDelay=r}}function Fj(t){const e=t.length;let r=0;for(;r<e&&t[r].trim()==="";)r++;return t.substring(r,r+5).toLowerCase()==="data:"}function hT(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function yle(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function ble(t,e="document.pdf"){if(typeof t!="string")return e;if(Fj(t))return dr('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=r.exec(t);let i=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch{}return i||e}class EF{started=Object.create(null);times=[];time(e){e in this.started&&dr(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||dr(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let r=0;for(const{name:n}of this.times)r=Math.max(n.length,r);for(const{name:n,start:s,end:i}of this.times)e.push(`${n.padEnd(r)} ${i-s}ms
`);return e.join("")}}function Tp(t,e){try{const{protocol:r}=e?new URL(t,e):new URL(t);return r==="http:"||r==="https:"}catch{return!1}}function Ui(t){t.preventDefault()}function SF(t){console.log("Deprecated API usage: "+t)}class az{static#e;static toDateObject(e){if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const r=this.#e.exec(e);if(!r)return null;const n=parseInt(r[1],10);let s=parseInt(r[2],10);s=s>=1&&s<=12?s-1:0;let i=parseInt(r[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(r[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(r[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(r[6],10);c=c>=0&&c<=59?c:0;const d=r[7]||"Z";let u=parseInt(r[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(r[9],10)||0;return h=h>=0&&h<=59?h:0,d==="-"?(o+=u,l+=h):d==="+"&&(o-=u,l-=h),new Date(Date.UTC(n,s,i,o,l,c))}}function wle(t,{scale:e=1,rotation:r=0}){const{width:n,height:s}=t.attributes.style,i=[0,0,parseInt(n),parseInt(s)];return new c0({viewBox:i,scale:e,rotation:r})}function fT(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(dr(`Not a valid color format: "${t}"`),[0,0,0])}function jle(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const r of t.keys()){e.style.color=r;const n=window.getComputedStyle(e).color;t.set(r,fT(n))}e.remove()}function mn(t){const{a:e,b:r,c:n,d:s,e:i,f:o}=t.getTransform();return[e,r,n,s,i,o]}function gl(t){const{a:e,b:r,c:n,d:s,e:i,f:o}=t.getTransform().invertSelf();return[e,r,n,s,i,o]}function ju(t,e,r=!1,n=!0){if(e instanceof c0){const{pageWidth:s,pageHeight:i}=e.rawDims,{style:o}=t,l=fs.isCSSRoundSupported,c=`var(--scale-factor) * ${s}px`,d=`var(--scale-factor) * ${i}px`,u=l?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,h=l?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!r||e.rotation%180===0?(o.width=u,o.height=h):(o.width=h,o.height=u)}n&&t.setAttribute("data-main-rotation",e.rotation)}class JS{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}class ix{#e=null;#t=null;#r;#n=null;#a=null;static#s=null;constructor(e){this.#r=e,ix.#s||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const r=this.#r._uiManager._signal;e.addEventListener("contextmenu",Ui,{signal:r}),e.addEventListener("pointerdown",ix.#l,{signal:r});const n=this.#n=document.createElement("div");n.className="buttons",e.append(n);const s=this.#r.toolbarPosition;if(s){const{style:i}=e,o=this.#r._uiManager.direction==="ltr"?1-s[0]:s[0];i.insetInlineEnd=`${100*o}%`,i.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),e}get div(){return this.#e}static#l(e){e.stopPropagation()}#o(e){this.#r._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#d(e){this.#r._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#c(e){const r=this.#r._uiManager._signal;e.addEventListener("focusin",this.#o.bind(this),{capture:!0,signal:r}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:r}),e.addEventListener("contextmenu",Ui,{signal:r})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown()}#u(){const{editorType:e,_uiManager:r}=this.#r,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",ix.#s[e]),this.#c(n),n.addEventListener("click",s=>{r.delete()},{signal:r._signal}),this.#n.append(n)}get#i(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const r=await e.render();this.#c(r),this.#n.prepend(r,this.#i),this.#a=e}addColorPicker(e){this.#t=e;const r=e.renderButton();this.#c(r),this.#n.prepend(r,this.#i)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class Nle{#e=null;#t=null;#r;constructor(e){this.#r=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ui,{signal:this.#r._signal});const r=this.#e=document.createElement("div");return r.className="buttons",e.append(r),this.#s(),e}#a(e,r){let n=0,s=0;for(const i of e){const o=i.y+i.height;if(o<n)continue;const l=i.x+(r?i.width:0);if(o>n){s=l,n=o;continue}r?l>s&&(s=l):l<s&&(s=l)}return[r?1-s:s,n]}show(e,r,n){const[s,i]=this.#a(r,n),{style:o}=this.#t||=this.#n();e.append(this.#t),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const r=document.createElement("span");e.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#r._signal;e.addEventListener("contextmenu",Ui,{signal:n}),e.addEventListener("click",()=>{this.#r.highlightSelection("floating_button")},{signal:n}),this.#e.append(e)}}function bb(t,e,r){for(const n of r)e.addEventListener(n,t[n].bind(t))}function Ele(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}class Sle{#e=0;get id(){return`${ale}${this.#e++}`}}class mT{#e=gle();#t=0;#r=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const i=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Er(this,"_isSVGFittingCanvas",i)}async#n(e,r){this.#r||=new Map;let n=this.#r.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let s;if(typeof r=="string"?(n.url=r,s=await Ij(r,"blob")):r instanceof File?s=n.file=r:r instanceof Blob&&(s=r),s.type==="image/svg+xml"){const i=mT._isSVGFittingCanvas,o=new FileReader,l=new Image,c=new Promise((d,u)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,d()},o.onload=async()=>{const h=n.svgUrl=o.result;l.src=await i?`${h}#svgView(preserveAspectRatio(none))`:h},l.onerror=o.onerror=u});o.readAsDataURL(s),await c}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){console.error(s),n=null}return this.#r.set(e,n),n&&this.#r.set(n.id,n),n}async getFromFile(e){const{lastModified:r,name:n,size:s,type:i}=e;return this.#n(`${r}_${n}_${s}_${i}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,r){const n=await r;return this.#n(e,n)}async getFromId(e){this.#r||=new Map;const r=this.#r.get(e);if(!r)return null;if(r.bitmap)return r.refCounter+=1,r;if(r.file)return this.getFromFile(r.file);if(r.blobPromise){const{blobPromise:n}=r;return delete r.blobPromise,this.getFromBlob(r.id,n)}return this.getFromUrl(r.url)}getFromCanvas(e,r){this.#r||=new Map;let n=this.#r.get(e);if(n?.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(r.width,r.height);return s.getContext("2d").drawImage(r,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(e,n),this.#r.set(n.id,n),n}getSvgUrl(e){const r=this.#r.get(e);return r?.isSvg?r.svgUrl:null}deleteId(e){this.#r||=new Map;const r=this.#r.get(e);if(!r||(r.refCounter-=1,r.refCounter!==0))return;const{bitmap:n}=r;if(!r.url&&!r.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),r.blobPromise=s.convertToBlob()}n.close?.(),r.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class Ale{#e=[];#t=!1;#r;#n=-1;constructor(e=128){this.#r=e}add({cmd:e,undo:r,post:n,mustExec:s,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(s&&e(),this.#t)return;const c={cmd:e,undo:r,post:n,type:i};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(c);return}if(o&&this.#e[this.#n].type===i){l&&(c.undo=this.#e[this.#n].undo),this.#e[this.#n]=c;return}const d=this.#n+1;d===this.#r?this.#e.splice(0,1):(this.#n=d,d<this.#e.length&&this.#e.splice(d)),this.#e.push(c)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:r}=this.#e[this.#n];e(),r?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:r}=this.#e[this.#n];e(),r?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}destroy(){this.#e=null}}class d0{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:r}=fs.platform;for(const[n,s,i={}]of e)for(const o of n){const l=o.startsWith("mac+");r&&l?(this.callbacks.set(o.slice(4),{callback:s,options:i}),this.allKeys.add(o.split("+").at(-1))):!r&&!l&&(this.callbacks.set(o,{callback:s,options:i}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const r=this.buffer.join("+");return this.buffer.length=0,r}exec(e,r){if(!this.allKeys.has(r.key))return;const n=this.callbacks.get(this.#e(r));if(!n)return;const{callback:s,options:{bubbles:i=!1,args:o=[],checker:l=null}}=n;l&&!l(e,r)||(s.bind(e,...o,r)(),i||(r.stopPropagation(),r.preventDefault()))}}class pT{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return jle(e),Er(this,"_colors",e)}convert(e){const r=fT(e);if(!window.matchMedia("(forced-colors: active)").matches)return r;for(const[n,s]of this._colors)if(s.every((i,o)=>i===r[o]))return pT._colorsMapping.get(n);return r}getHexCode(e){const r=this._colors.get(e);return r?Ct.makeHexColor(...r):e}}class dd{#e=new AbortController;#t=null;#r=new Map;#n=new Map;#a=null;#s=null;#l=null;#o=new Ale;#d=null;#c=0;#u=new Set;#i=null;#h=null;#m=new Set;#f=!1;#x=!1;#g=!1;#p=null;#v=null;#b=null;#E=null;#w=!1;#j=null;#P=new Sle;#C=!1;#N=!1;#A=null;#k=null;#T=null;#R=null;#S=or.NONE;#y=new Set;#I=null;#F=null;#D=null;#V={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#B=[0,0];#M=null;#L=null;#U=null;#O=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=dd.prototype,r=o=>o.#L.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return Er(this,"_keyboardManager",new d0([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&o.#L.contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&o.#L.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:r}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:r}]]))}constructor(e,r,n,s,i,o,l,c,d,u,h){const f=this._signal=this.#e.signal;this.#L=e,this.#U=r,this.#a=n,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:f}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:f}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:f}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:f}),s._on("setpreference",this.onSetPreference.bind(this),{signal:f}),s._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:f}),this.#ee(),this.#ae(),this.#G(),this.#s=i.annotationStorage,this.#p=i.filterFactory,this.#F=o,this.#E=l||null,this.#f=c,this.#x=d,this.#g=u,this.#R=h||null,this.viewParameters={realScale:_f.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#O?.resolve(),this.#O=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#n.values())e.destroy();this.#n.clear(),this.#r.clear(),this.#m.clear(),this.#t=null,this.#y.clear(),this.#o.destroy(),this.#a?.destroy(),this.#j?.hide(),this.#j=null,this.#v&&(clearTimeout(this.#v),this.#v=null),this.#M&&(clearTimeout(this.#M),this.#M=null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#R}get useNewAltTextFlow(){return this.#x}get useNewAltTextWhenAddingImage(){return this.#g}get hcmFilter(){return Er(this,"hcmFilter",this.#F?this.#p.addHCMFilter(this.#F.foreground,this.#F.background):"none")}get direction(){return Er(this,"direction",getComputedStyle(this.#L).direction)}get highlightColors(){return Er(this,"highlightColors",this.#E?new Map(this.#E.split(",").map(e=>e.split("=").map(r=>r.trim()))):null)}get highlightColorNames(){return Er(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){this.#T=e}editAltText(e,r=!1){this.#a?.editAltText(this,e,r)}switchToMode(e,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,r){this._eventBus.dispatch("setpreference",{source:this,name:e,value:r})}onSetPreference({name:e,value:r}){switch(e){case"enableNewAltTextWhenAddingImage":this.#g=r;break}}onPageChanging({pageNumber:e}){this.#c=e-1}focusMainContainer(){this.#L.focus()}findParent(e,r){for(const n of this.#n.values()){const{x:s,y:i,width:o,height:l}=n.div.getBoundingClientRect();if(e>=s&&e<=s+o&&r>=i&&r<=i+l)return n}return null}disableUserSelect(e=!1){this.#U.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*_f.PDF_TO_CSS_UNITS;for(const r of this.#m)r.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#W({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#H(e){const{currentLayer:r}=this;if(r.hasTextLayer(e))return r;for(const n of this.#n.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e=""){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:o}=r,l=r.toString(),d=this.#W(r).closest(".textLayer"),u=this.getSelectionBoxes(d);if(!u)return;r.empty();const h=this.#H(d),f=this.#S===or.NONE,m=()=>{h?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:o,text:l}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(or.HIGHLIGHT,m);return}m()}#Z(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#W(e).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(this.#j||=new Nle(this),this.#j.show(n,s,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#s&&!this.#s.has(e.id)&&this.#s.setValue(e.id,e)}#J(){const e=document.getSelection();if(!e||e.isCollapsed){this.#I&&(this.#j?.hide(),this.#I=null,this.#_({hasSelectedText:!1}));return}const{anchorNode:r}=e;if(r===this.#I)return;const s=this.#W(e).closest(".textLayer");if(!s){this.#I&&(this.#j?.hide(),this.#I=null,this.#_({hasSelectedText:!1}));return}if(this.#j?.hide(),this.#I=r,this.#_({hasSelectedText:!0}),!(this.#S!==or.HIGHLIGHT&&this.#S!==or.NONE)&&(this.#S===or.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const i=this.#S===or.HIGHLIGHT?this.#H(s):null;i?.toggleDrawing();const o=new AbortController,l=this.combinedSignal(o),c=d=>{d.type==="pointerup"&&d.button!==0||(o.abort(),i?.toggleDrawing(!0),d.type==="pointerup"&&this.#q("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}}#q(e=""){this.#S===or.HIGHLIGHT?this.highlightSelection(e):this.#f&&this.#Z()}#ee(){document.addEventListener("selectionchange",this.#J.bind(this),{signal:this._signal})}#te(){if(this.#b)return;this.#b=new AbortController;const e=this.combinedSignal(this.#b);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#re(){this.#b?.abort(),this.#b=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#q("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const r of this.#y)if(r.div.contains(e)){this.#k=[r,e],r._focusEventsAllowed=!1;break}}focus(){if(!this.#k)return;const[e,r]=this.#k;this.#k=null,r.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}#G(){if(this.#A)return;this.#A=new AbortController;const e=this.combinedSignal(this.#A);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ne(){this.#A?.abort(),this.#A=null}#K(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#X(){this.#d?.abort(),this.#d=null}#ae(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#G(),this.#K()}removeEditListeners(){this.#ne(),this.#X()}dragOver(e){for(const{type:r}of e.dataTransfer.items)for(const n of this.#h)if(n.isHandlingMimeForPasting(r)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const r of e.dataTransfer.items)for(const n of this.#h)if(n.isHandlingMimeForPasting(r.type)){n.paste(r,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const r=[];for(const n of this.#y){const s=n.serialize(!0);s&&r.push(s)}r.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:r}=e;for(const i of r.items)for(const o of this.#h)if(o.isHandlingMimeForPasting(i.type)){o.paste(i,this.currentLayer);return}let n=r.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){dr(`paste: "${i.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const i=[];for(const c of n){const d=await s.deserialize(c);if(!d)return;i.push(d)}const o=()=>{for(const c of i)this.#Y(c);this.#Q(i)},l=()=>{for(const c of i)c.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(i){dr(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#S!==or.NONE&&!this.isEditorHandlingKeyboard&&dd._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#q("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#_(e){Object.entries(e).some(([n,s])=>this.#V[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#V,e)}),this.#S===or.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#$([[Yt.HIGHLIGHT_FREE,!0]]))}#$(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#te(),this.#K(),this.#_({isEditing:this.#S!==or.NONE,isEmpty:this.#z(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#re(),this.#X(),this.#_({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#h){this.#h=e;for(const r of this.#h)this.#$(r.defaultPropertiesToUpdate)}}getId(){return this.#P.id}get currentLayer(){return this.#n.get(this.#c)}getLayer(e){return this.#n.get(e)}get currentPageIndex(){return this.#c}addLayer(e){this.#n.set(e.pageIndex,e),this.#C?e.enable():e.disable()}removeLayer(e){this.#n.delete(e.pageIndex)}async updateMode(e,r=null,n=!1){if(this.#S!==e&&!(this.#O&&(await this.#O.promise,!this.#O))){if(this.#O=Promise.withResolvers(),this.#S=e,e===or.NONE){this.setEditingState(!1),this.#ie(),this.#O.resolve();return}this.setEditingState(!0),await this.#se(),this.unselectAll();for(const s of this.#n.values())s.updateMode(e);if(!r){n&&this.addNewEditorFromKeyboard(),this.#O.resolve();return}for(const s of this.#r.values())s.annotationElementId===r?(this.setSelected(s),s.enterInEditMode()):s.unselect();this.#O.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#S&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,r){if(this.#h){switch(e){case Yt.CREATE:this.currentLayer.addNewEditor();return;case Yt.HIGHLIGHT_DEFAULT_COLOR:this.#T?.updateColor(r);break;case Yt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#D||=new Map).set(e,r),this.showAllEditors("highlight",r);break}for(const n of this.#y)n.updateParams(e,r);for(const n of this.#h)n.updateDefaultParams(e,r)}}showAllEditors(e,r,n=!1){for(const i of this.#r.values())i.editorType===e&&i.show(r);(this.#D?.get(Yt.HIGHLIGHT_SHOW_ALL)??!0)!==r&&this.#$([[Yt.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(e=!1){if(this.#N!==e){this.#N=e;for(const r of this.#n.values())e?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",e)}}async#se(){if(!this.#C){this.#C=!0;const e=[];for(const r of this.#n.values())e.push(r.enable());await Promise.all(e);for(const r of this.#r.values())r.enable()}}#ie(){if(this.unselectAll(),this.#C){this.#C=!1;for(const e of this.#n.values())e.disable();for(const e of this.#r.values())e.disable()}}getEditors(e){const r=[];for(const n of this.#r.values())n.pageIndex===e&&r.push(n);return r}getEditor(e){return this.#r.get(e)}addEditor(e){this.#r.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.focusMainContainer(),this.#v=null},0)),this.#r.delete(e.id),this.unselect(e),(!e.annotationElementId||!this.#u.has(e.annotationElementId))&&this.#s?.remove(e.id)}addDeletedAnnotationElement(e){this.#u.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#u.has(e)}removeDeletedAnnotationElement(e){this.#u.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#Y(e){const r=this.#n.get(e.pageIndex);r?r.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#$(e.propertiesToUpdate))}get#oe(){let e=null;for(e of this.#y);return e}updateUI(e){this.#oe===e&&this.#$(e.propertiesToUpdate)}toggleSelected(e){if(this.#y.has(e)){this.#y.delete(e),e.unselect(),this.#_({hasSelectedEditor:this.hasSelection});return}this.#y.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#_({hasSelectedEditor:!0})}setSelected(e){for(const r of this.#y)r!==e&&r.unselect();this.#y.clear(),this.#y.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#_({hasSelectedEditor:!0})}isSelected(e){return this.#y.has(e)}get firstSelectedEditor(){return this.#y.values().next().value}unselect(e){e.unselect(),this.#y.delete(e),this.#_({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#y.size!==0}get isEnterHandled(){return this.#y.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#_({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#z()})}redo(){this.#o.redo(),this.#_({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#z()})}addCommands(e){this.#o.add(e),this.#_({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#z()})}#z(){if(this.#r.size===0)return!0;if(this.#r.size===1)for(const e of this.#r.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#y],r=()=>{for(const s of e)s.remove()},n=()=>{for(const s of e)this.#Y(s)};this.addCommands({cmd:r,undo:n,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#Q(e){for(const r of this.#y)r.unselect();this.#y.clear();for(const r of e)r.isEmpty()||(this.#y.add(r),r.select());this.#_({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#y)e.commit();this.#Q(this.#r.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#S!==or.NONE))&&this.hasSelection){for(const e of this.#y)e.unselect();this.#y.clear(),this.#_({hasSelectedEditor:!1})}}translateSelectedEditors(e,r,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#B[0]+=e,this.#B[1]+=r;const[s,i]=this.#B,o=[...this.#y],l=1e3;this.#M&&clearTimeout(this.#M),this.#M=setTimeout(()=>{this.#M=null,this.#B[0]=this.#B[1]=0,this.addCommands({cmd:()=>{for(const c of o)this.#r.has(c.id)&&c.translateInPage(s,i)},undo:()=>{for(const c of o)this.#r.has(c.id)&&c.translateInPage(-s,-i)},mustExec:!1})},l);for(const c of o)c.translateInPage(e,r)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#i=new Map;for(const e of this.#y)this.#i.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#i)return!1;this.disableUserSelect(!1);const e=this.#i;this.#i=null;let r=!1;for(const[{x:s,y:i,pageIndex:o},l]of e)l.newX=s,l.newY=i,l.newPageIndex=o,r||=s!==l.savedX||i!==l.savedY||o!==l.savedPageIndex;if(!r)return!1;const n=(s,i,o,l)=>{if(this.#r.has(s.id)){const c=this.#n.get(l);c?s._setParentAndPosition(c,i,o):(s.pageIndex=l,s.x=i,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:i,newY:o,newPageIndex:l}]of e)n(s,i,o,l)},undo:()=>{for(const[s,{savedX:i,savedY:o,savedPageIndex:l}]of e)n(s,i,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,r){if(this.#i)for(const n of this.#i.keys())n.drag(e,r)}rebuild(e){if(e.parent===null){const r=this.getLayer(e.pageIndex);r?(r.changeParent(e),r.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#y.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#S}get imageManager(){return Er(this,"imageManager",new mT)}getSelectionBoxes(e){if(!e)return null;const r=document.getSelection();for(let d=0,u=r.rangeCount;d<u;d++)if(!e.contains(r.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:s,width:i,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,u,h,f)=>({x:(u-s)/o,y:1-(d+h-n)/i,width:f/o,height:h/i});break;case"180":l=(d,u,h,f)=>({x:1-(d+h-n)/i,y:1-(u+f-s)/o,width:h/i,height:f/o});break;case"270":l=(d,u,h,f)=>({x:1-(u+f-s)/o,y:(d-n)/i,width:f/o,height:h/i});break;default:l=(d,u,h,f)=>({x:(d-n)/i,y:(u-s)/o,width:h/i,height:f/o});break}const c=[];for(let d=0,u=r.rangeCount;d<u;d++){const h=r.getRangeAt(d);if(!h.collapsed)for(const{x:f,y:m,width:x,height:p}of h.getClientRects())x===0||p===0||c.push(l(f,m,x,p))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:r}){(this.#l||=new Map).set(e,r)}removeChangedExistingAnnotation({annotationElementId:e}){this.#l?.delete(e)}renderAnnotationElement(e){const r=this.#l?.get(e.data.id);if(!r)return;const n=this.#s.getRawValue(r);n&&(this.#S===or.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}}class qo{#e=null;#t=!1;#r=null;#n=null;#a=null;#s=null;#l=!1;#o=null;#d=null;#c=null;#u=null;#i=!1;static#h=null;static _l10n=null;constructor(e){this.#d=e,this.#i=e._uiManager.useNewAltTextFlow,qo.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){qo._l10n??=e}async render(){const e=this.#r=document.createElement("button");e.className="altText",e.tabIndex="0";const r=this.#n=document.createElement("span");e.append(r),this.#i?(e.classList.add("new"),e.setAttribute("data-l10n-id",qo.#h.missing),r.setAttribute("data-l10n-id",qo.#h["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#d._uiManager._signal;e.addEventListener("contextmenu",Ui,{signal:n}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:n});const s=i=>{i.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#i&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(this.#l=!0,s(i))},{signal:n}),await this.#f(),e}get#m(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#i?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#i?this.#e!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(e){this.#e===null&&(this.#c=e,this.#u=await qo._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#f())}toggleAltTextBadge(e=!1){if(!this.#i||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const r=this.#o=document.createElement("div");r.className="noAltTextBadge",this.#d.div.append(r)}this.#o.classList.toggle("hidden",!e)}serialize(e){let r=this.#e;return!e&&this.#c===r&&(r=this.#u),{altText:r,decorative:this.#t,guessedText:this.#c,textWithDisclaimer:this.#u}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:r,guessedText:n,textWithDisclaimer:s,cancel:i=!1}){n&&(this.#c=n,this.#u=s),!(this.#e===e&&this.#t===r)&&(i||(this.#e=e,this.#t=r),this.#f())}toggle(e=!1){this.#r&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r.disabled=!e)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#f(){const e=this.#r;if(!e)return;if(this.#i){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",qo.#h[this.#m]),this.#n?.setAttribute("data-l10n-id",qo.#h[`${this.#m}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=this.#a;if(!r){this.#a=r=document.createElement("span"),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${this.#d.id}`;const s=100,i=this.#d._uiManager._signal;i.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:i}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:i})}this.#t?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=this.#e),r.parentNode||e.append(r),this.#d.getImageForAltText()?.setAttribute("aria-describedby",r.id)}}class Xt{#e=null;#t=null;#r=null;#n=!1;#a=!1;#s=null;#l=null;#o=null;#d="";#c=!1;#u=null;#i=!1;#h=!1;#m=!1;#f=null;#x=0;#g=0;#p=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#v=!1;#b=Xt._zIndex++;static _borderLineWidth=-1;static _colorManager=new pT;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Xt.prototype._resizeWithKeyboard,r=dd.TRANSLATE_SMALL,n=dd.TRANSLATE_BIG;return Er(this,"_resizerKeyboardManager",new d0([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Xt.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:r,rawDims:{pageWidth:n,pageHeight:s,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[i,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Er(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const r=new Cle({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});r.annotationElementId=e.annotationElementId,r.deleted=!0,r._uiManager.addToAnnotationStorage(r)}static initialize(e,r){if(Xt._l10n??=e,Xt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Xt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Xt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,r){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,r){ln("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#v}set _isDraggable(e){this.#v=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,r]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*r/(e*2),this.y+=this.width*e/(r*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*r/(e*2),this.y-=this.width*e/(r*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#b}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#D(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#c?this.#c=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,r,n,s){const[i,o]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(e+n)/i,this.y=(r+s)/o,this.fixAndSetPosition()}#E([e,r],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/e,this.y+=s/r,this.fixAndSetPosition()}translate(e,r){this.#E(this.parentDimensions,e,r)}translateInPage(e,r){this.#u||=[this.x,this.y],this.#E(this.pageDimensions,e,r),this.div.scrollIntoView({block:"nearest"})}drag(e,r){this.#u||=[this.x,this.y];const[n,s]=this.parentDimensions;if(this.x+=e/n,this.y+=r/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:o}=this;const[l,c]=this.getBaseTranslation();i+=l,o+=c,this.div.style.left=`${(100*i).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}getBaseTranslation(){const[e,r]=this.parentDimensions,{_borderLineWidth:n}=Xt,s=n/e,i=n/r;switch(this.rotation){case 90:return[-s,i];case 180:return[s,i];case 270:return[s,-i];default:return[-s,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[r,n]=this.pageDimensions;let{x:s,y:i,width:o,height:l}=this;if(o*=r,l*=n,s*=r,i*=n,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(r-o,s)),i=Math.max(0,Math.min(n-l,i));break;case 90:s=Math.max(0,Math.min(r-l,s)),i=Math.min(n,Math.max(o,i));break;case 180:s=Math.min(r,Math.max(o,s)),i=Math.min(n,Math.max(l,i));break;case 270:s=Math.min(r,Math.max(l,s)),i=Math.max(0,Math.min(n-o,i));break}this.x=s/=r,this.y=i/=n;const[c,d]=this.getBaseTranslation();s+=c,i+=d;const{style:u}=this.div;u.left=`${(100*s).toFixed(2)}%`,u.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}static#w(e,r,n){switch(n){case 90:return[r,-e];case 180:return[-e,-r];case 270:return[-r,e];default:return[e,r]}}screenToPageTranslation(e,r){return Xt.#w(e,r,this.parentRotation)}pageTranslationToScreen(e,r){return Xt.#w(e,r,360-this.parentRotation)}#j(e){switch(e){case 90:{const[r,n]=this.pageDimensions;return[0,-r/n,n/r,0]}case 180:return[-1,0,0,-1];case 270:{const[r,n]=this.pageDimensions;return[0,r/n,-n/r,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[r,n]}=this;return[r*e,n*e]}setDims(e,r){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*r/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:r,width:n}=e,s=n.endsWith("%"),i=!this.#a&&r.endsWith("%");if(s&&i)return;const[o,l]=this.parentDimensions;s||(e.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),!this.#a&&!i&&(e.height=`${(100*parseFloat(r)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#P(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(const n of e){const s=document.createElement("div");this.#s.append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",this.#C.bind(this,n),{signal:r}),s.addEventListener("contextmenu",Ui,{signal:r}),s.tabIndex=-1}this.div.prepend(this.#s)}#C(e,r){r.preventDefault();const{isMac:n}=fs.platform;if(r.button!==0||r.ctrlKey&&n)return;this.#r?.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const i=new AbortController,o=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#A.bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",Ui,{signal:o});const l=this.x,c=this.y,d=this.width,u=this.height,h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(r.target).cursor;const m=()=>{i.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=h,this.div.style.cursor=f,this.#N(l,c,d,u)};window.addEventListener("pointerup",m,{signal:o}),window.addEventListener("blur",m,{signal:o})}#N(e,r,n,s){const i=this.x,o=this.y,l=this.width,c=this.height;i===e&&o===r&&l===n&&c===s||this.addCommands({cmd:()=>{this.width=l,this.height=c,this.x=i,this.y=o;const[d,u]=this.parentDimensions;this.setDims(d*l,u*c),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=e,this.y=r;const[d,u]=this.parentDimensions;this.setDims(d*n,u*s),this.fixAndSetPosition()},mustExec:!0})}#A(e,r){const[n,s]=this.parentDimensions,i=this.x,o=this.y,l=this.width,c=this.height,d=Xt.MIN_SIZE/n,u=Xt.MIN_SIZE/s,h=C=>Math.round(C*1e4)/1e4,f=this.#j(this.rotation),m=(C,D)=>[f[0]*C+f[2]*D,f[1]*C+f[3]*D],x=this.#j(360-this.rotation),p=(C,D)=>[x[0]*C+x[2]*D,x[1]*C+x[3]*D];let v,g,w=!1,N=!1;switch(e){case"topLeft":w=!0,v=(C,D)=>[0,0],g=(C,D)=>[C,D];break;case"topMiddle":v=(C,D)=>[C/2,0],g=(C,D)=>[C/2,D];break;case"topRight":w=!0,v=(C,D)=>[C,0],g=(C,D)=>[0,D];break;case"middleRight":N=!0,v=(C,D)=>[C,D/2],g=(C,D)=>[0,D/2];break;case"bottomRight":w=!0,v=(C,D)=>[C,D],g=(C,D)=>[0,0];break;case"bottomMiddle":v=(C,D)=>[C/2,D],g=(C,D)=>[C/2,0];break;case"bottomLeft":w=!0,v=(C,D)=>[0,D],g=(C,D)=>[C,0];break;case"middleLeft":N=!0,v=(C,D)=>[0,D/2],g=(C,D)=>[C,D/2];break}const j=v(l,c),b=g(l,c);let S=m(...b);const A=h(i+S[0]),E=h(o+S[1]);let P=1,O=1,[k,L]=this.screenToPageTranslation(r.movementX,r.movementY);if([k,L]=p(k/n,L/s),w){const C=Math.hypot(l,c);P=O=Math.max(Math.min(Math.hypot(b[0]-j[0]-k,b[1]-j[1]-L)/C,1/l,1/c),d/l,u/c)}else N?P=Math.max(d,Math.min(1,Math.abs(b[0]-j[0]-k)))/l:O=Math.max(u,Math.min(1,Math.abs(b[1]-j[1]-L)))/c;const R=h(l*P),_=h(c*O);S=m(...g(R,_));const B=A-S[0],I=E-S[1];this.width=R,this.height=_,this.x=B,this.y=I,this.setDims(n*R,s*_),this.fixAndSetPosition()}altTextFinish(){this.#r?.finish()}async addEditToolbar(){return this._editToolbar||this.#h?this._editToolbar:(this._editToolbar=new ix(this),this.div.append(this._editToolbar.render()),this.#r&&await this._editToolbar.addAltText(this.#r),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#r?.destroy())}addContainer(e){const r=this._editToolbar?.div;r?r.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#r||(qo.initialize(Xt._l10n),this.#r=new qo(this),this.#e&&(this.#r.data=this.#e,this.#e=null),await this.addEditToolbar())}get altTextData(){return this.#r?.data}set altTextData(e){this.#r&&(this.#r.data=e)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(e){await this.#r?.setGuessedText(e)}serializeAltText(e){return this.#r?.serialize(e)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#n?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#R();const[e,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/r).toFixed(2)}%`);const[n,s]=this.getInitialTranslation();return this.translate(n,s),bb(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:r}=fs.platform;if(e.button!==0||e.ctrlKey&&r){e.preventDefault();return}if(this.#c=!0,this._isDraggable){this.#T(e);return}this.#k(e)}get isSelected(){return this._uiManager.isSelected(this)}#k(e){const{isMac:r}=fs.platform;e.ctrlKey&&!r||e.shiftKey||e.metaKey&&r?this.parent.toggleSelected(this):this.parent.setSelected(this)}#T(e){const{isSelected:r}=this;this._uiManager.setUpDragSession();const n=new AbortController,s=this._uiManager.combinedSignal(n);if(r){this.div.classList.add("moving"),this.#x=e.clientX,this.#g=e.clientY;const o=l=>{const{clientX:c,clientY:d}=l,[u,h]=this.screenToPageTranslation(c-this.#x,d-this.#g);this.#x=c,this.#g=d,this._uiManager.dragSelectedEditors(u,h)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:s})}const i=()=>{n.abort(),r&&this.div.classList.remove("moving"),this.#c=!1,this._uiManager.endDragSession()||this.#k(e)};window.addEventListener("pointerup",i,{signal:s}),window.addEventListener("blur",i,{signal:s})}moveInDOM(){this.#f&&clearTimeout(this.#f),this.#f=setTimeout(()=>{this.#f=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,r,n){e.changeParent(this),this.x=r,this.y=n,this.fixAndSetPosition()}getRect(e,r,n=this.rotation){const s=this.parentScale,[i,o]=this.pageDimensions,[l,c]=this.pageTranslation,d=e/s,u=r/s,h=this.x*i,f=this.y*o,m=this.width*i,x=this.height*o;switch(n){case 0:return[h+d+l,o-f-u-x+c,h+d+m+l,o-f-u+c];case 90:return[h+u+l,o-f+d+c,h+u+x+l,o-f+d+m+c];case 180:return[h-d-m+l,o-f+u+c,h-d+l,o-f+u+x+c];case 270:return[h-u-x+l,o-f-d-m+c,h-u+l,o-f-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,r){const[n,s,i,o]=e,l=i-n,c=o-s;switch(this.rotation){case 0:return[n,r-o,l,c];case 90:return[n,r-s,c,l];case 180:return[i,r-s,l,c];case 270:return[i,r-o,c,l];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#R(){if(this.#o||!this.div)return;this.#o=new AbortController;const e=this._uiManager.combinedSignal(this.#o);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#R()}rotate(e){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,r=null){ln("An editor must be serializable")}static async deserialize(e,r,n){const s=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:n});s.rotation=e.rotation,s.#e=e.accessibilityData;const[i,o]=s.pageDimensions,[l,c,d,u]=s.getRectInCurrentCoords(e.rect,o);return s.x=l/i,s.y=c/o,s.width=d/i,s.height=u/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#o?.abort(),this.#o=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#f&&(clearTimeout(this.#f),this.#f=null),this.#D(),this.removeEditToolbar(),this.#p){for(const e of this.#p.values())clearTimeout(e);this.#p=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#P(),this.#s.classList.remove("hidden"),bb(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const r=this.#s.children;if(!this.#t){this.#t=Array.from(r);const o=this.#S.bind(this),l=this.#y.bind(this),c=this._uiManager._signal;for(const d of this.#t){const u=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:c}),d.addEventListener("blur",l,{signal:c}),d.addEventListener("focus",this.#I.bind(this,u),{signal:c}),d.setAttribute("data-l10n-id",Xt._l10nResizer[u])}}const n=this.#t[0];let s=0;for(const o of r){if(o===n)break;s++}const i=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(i!==s){if(i<s)for(let l=0;l<s-i;l++)this.#s.append(this.#s.firstChild);else if(i>s)for(let l=0;l<i-s;l++)this.#s.firstChild.before(this.#s.lastChild);let o=0;for(const l of r){const d=this.#t[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",Xt._l10nResizer[d])}}this.#F(0),this.#m=!0,this.#s.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#S(e){Xt._resizerKeyboardManager.exec(this,e)}#y(e){this.#m&&e.relatedTarget?.parentNode!==this.#s&&this.#D()}#I(e){this.#d=this.#m?e:""}#F(e){if(this.#t)for(const r of this.#t)r.tabIndex=e}_resizeWithKeyboard(e,r){this.#m&&this.#A(this.#d,{movementX:e,movementY:r})}#D(){if(this.#m=!1,this.#F(-1),this.#l){const{savedX:e,savedY:r,savedWidth:n,savedHeight:s}=this.#l;this.#N(e,r,n,s),this.#l=null}}_stopResizingWithKeyboard(){this.#D(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0)}updateParams(e,r){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#i}set isEditing(e){this.#i=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,r){this.#a=!0;const n=e/r,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,r=!1){if(r){this.#p||=new Map;const{action:n}=e;let s=this.#p.get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),this.#p.delete(n),this.#p.size===0&&(this.#p=null)},Xt._telemetryTimeout),this.#p.set(n,s);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#n=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#n=!0}renderAnnotationElement(e){let r=e.container.querySelector(".annotationContent");if(!r)r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),e.container.prepend(r);else if(r.nodeName==="CANVAS"){const n=r;r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),n.before(r)}return r}resetAnnotationElement(e){const{firstChild:r}=e.container;r?.nodeName==="DIV"&&r.classList.contains("annotationContent")&&r.remove()}}class Cle extends Xt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const AF=3285377520,mi=4294901760,Lo=65535;class sz{constructor(e){this.h1=e?e&4294967295:AF,this.h2=e?e&4294967295:AF}update(e){let r,n;if(typeof e=="string"){r=new Uint8Array(e.length*2),n=0;for(let p=0,v=e.length;p<v;p++){const g=e.charCodeAt(p);g<=255?r[n++]=g:(r[n++]=g>>>8,r[n++]=g&255)}}else if(ArrayBuffer.isView(e))r=e.slice(),n=r.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,i=n-s*4,o=new Uint32Array(r.buffer,0,s);let l=0,c=0,d=this.h1,u=this.h2;const h=3432918353,f=461845907,m=h&Lo,x=f&Lo;for(let p=0;p<s;p++)p&1?(l=o[p],l=l*h&mi|l*m&Lo,l=l<<15|l>>>17,l=l*f&mi|l*x&Lo,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(c=o[p],c=c*h&mi|c*m&Lo,c=c<<15|c>>>17,c=c*f&mi|c*x&Lo,u^=c,u=u<<13|u>>>19,u=u*5+3864292196);switch(l=0,i){case 3:l^=r[s*4+2]<<16;case 2:l^=r[s*4+1]<<8;case 1:l^=r[s*4],l=l*h&mi|l*m&Lo,l=l<<15|l>>>17,l=l*f&mi|l*x&Lo,s&1?d^=l:u^=l}this.h1=d,this.h2=u}hexdigest(){let e=this.h1,r=this.h2;return e^=r>>>1,e=e*3981806797&mi|e*36045&Lo,r=r*4283543511&mi|((r<<16|e>>>16)*2950163797&mi)>>>16,e^=r>>>1,e=e*444984403&mi|e*60499&Lo,r=r*3301882366&mi|((r<<16|e>>>16)*3120437893&mi)>>>16,e^=r>>>1,(e>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}const eA=Object.freeze({map:null,hash:"",transfer:void 0});class xT{#e=!1;#t=null;#r=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,r){const n=this.#r.get(e);return n===void 0?r:Object.assign(r,n)}getRawValue(e){return this.#r.get(e)}remove(e){if(this.#r.delete(e),this.#r.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const r of this.#r.values())if(r instanceof Xt)return;this.onAnnotationEditor(null)}}setValue(e,r){const n=this.#r.get(e);let s=!1;if(n!==void 0)for(const[i,o]of Object.entries(r))n[i]!==o&&(s=!0,n[i]=o);else s=!0,this.#r.set(e,r);s&&this.#n(),r instanceof Xt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(r.constructor._type)}has(e){return this.#r.has(e)}getAll(){return this.#r.size>0?cT(this.#r):null}setAll(e){for(const[r,n]of Object.entries(e))this.setValue(r,n)}get size(){return this.#r.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new iz(this)}get serializable(){if(this.#r.size===0)return eA;const e=new Map,r=new sz,n=[],s=Object.create(null);let i=!1;for(const[o,l]of this.#r){const c=l instanceof Xt?l.serialize(!1,s):l;c&&(e.set(o,c),r.update(`${o}:${JSON.stringify(c)}`),i||=!!c.bitmap)}if(i)for(const o of e.values())o.bitmap&&n.push(o.bitmap);return e.size>0?{map:e,hash:r.hexdigest(),transfer:n}:eA}get editorStats(){let e=null;const r=new Map;for(const n of this.#r.values()){if(!(n instanceof Xt))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:i}=s;r.has(i)||r.set(i,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const o=e[i]||=new Map;for(const[l,c]of Object.entries(s)){if(l==="type")continue;let d=o.get(l);d||(d=new Map,o.set(l,d));const u=d.get(c)??0;d.set(c,u+1)}}for(const[n,s]of r)e[n]=s.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const e=[];for(const r of this.#r.values())!(r instanceof Xt)||!r.annotationElementId||!r.serialize()||e.push(r.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}}class iz extends xT{#e;constructor(e){super();const{map:r,hash:n,transfer:s}=e.serializable,i=structuredClone(r,s?{transfer:s}:null);this.#e={map:i,hash:n,transfer:s}}get print(){ln("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Er(this,"modifiedIds",{ids:new Set,hash:""})}}class kle{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:r=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const r=this.styleElement.sheet;r.insertRule(e,r.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(Jn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:i}=e,o=new FontFace(n,s,i);this.addNativeFontFace(o);try{await o.load(),this.#e.add(n),r?.(e)}catch{dr(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}ln("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw dr(`Failed to load font '${n.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const r=e.createFontFaceRule();if(r){if(this.insertRule(r),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Er(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Za||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Er(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function r(){for(Jn(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const i=n.shift();setTimeout(i.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:r,callback:e};return n.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Er(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,r){function n(j,b){return j.charCodeAt(b)<<24|j.charCodeAt(b+1)<<16|j.charCodeAt(b+2)<<8|j.charCodeAt(b+3)&255}function s(j,b,S,A){const E=j.substring(0,b),P=j.substring(b+S);return E+A+P}let i,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let d=0;function u(j,b){if(++d>30){dr("Load test font never loaded."),b();return}if(c.font="30px "+j,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){b();return}setTimeout(u.bind(null,j,b))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,h.length,h);const x=16,p=1482184792;let v=n(f,x);for(i=0,o=h.length-3;i<o;i+=4)v=v-p+n(h,i)|0;i<h.length&&(v=v-p+n(h+"XXX",i)|0),f=s(f,x,4,hle(v));const g=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(w);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const j of[e.loadedName,h]){const b=this._document.createElement("span");b.textContent="Hi",b.style.fontFamily=j,N.append(b)}this._document.body.append(N),u(h,()=>{N.remove(),r.complete()})}}class Ple{constructor(e,{disableFontFace:r=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=r===!0,this._inspectFont=n}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${vle(this.data)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),r}getPathGenerator(e,r){if(this.compiledGlyphs[r]!==void 0)return this.compiledGlyphs[r];let n;try{n=e.get(this.loadedName+"_path_"+r)}catch(i){dr(`getPathGenerator - ignoring character: "${i}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[r]=function(i,o){};const s=[];for(let i=0,o=n.length;i<o;)switch(n[i++]){case xl.BEZIER_CURVE_TO:{const[l,c,d,u,h,f]=n.slice(i,i+6);s.push(m=>m.bezierCurveTo(l,c,d,u,h,f)),i+=6}break;case xl.MOVE_TO:{const[l,c]=n.slice(i,i+2);s.push(d=>d.moveTo(l,c)),i+=2}break;case xl.LINE_TO:{const[l,c]=n.slice(i,i+2);s.push(d=>d.lineTo(l,c)),i+=2}break;case xl.QUADRATIC_CURVE_TO:{const[l,c,d,u]=n.slice(i,i+4);s.push(h=>h.quadraticCurveTo(l,c,d,u)),i+=4}break;case xl.RESTORE:s.push(l=>l.restore());break;case xl.SAVE:s.push(l=>l.save());break;case xl.SCALE:Jn(s.length===2,"Scale command is only valid at the third position.");break;case xl.TRANSFORM:{const[l,c,d,u,h,f]=n.slice(i,i+6);s.push(m=>m.transform(l,c,d,u,h,f)),i+=6}break;case xl.TRANSLATE:{const[l,c]=n.slice(i,i+2);s.push(d=>d.translate(l,c)),i+=2}break}return this.compiledGlyphs[r]=function(o,l){s[0](o),s[1](o),o.scale(l,-l);for(let c=2,d=s.length;c<d;c++)s[c](o)}}}class oz{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,r){if(e<=0||r<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,r);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,r,n){if(!e.canvas)throw new Error("Canvas is not specified");if(r<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=r,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,r){ln("Abstract method `_createCanvas` called.")}}class Tle extends oz{constructor({ownerDocument:e=globalThis.document,enableHWA:r=!1}){super({enableHWA:r}),this._document=e}_createCanvas(e,r){const n=this._document.createElement("canvas");return n.width=e,n.height=r,n}}class lz{constructor({baseUrl:e=null,isCompressed:r=!0}){this.baseUrl=e,this.isCompressed=r}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const r=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(r).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})}async _fetch(e){ln("Abstract method `_fetch` called.")}}class cz extends lz{async _fetch(e){const r=await Ij(e,this.isCompressed?"arraybuffer":"text");return r instanceof ArrayBuffer?new Uint8Array(r):Rj(r)}}class dz{addFilter(e){return"none"}addHCMFilter(e,r){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,r,n,s,i){return"none"}destroy(e=!1){}}class Ole extends dz{#e;#t;#r;#n;#a;#s;#l=0;constructor({docId:e,ownerDocument:r=globalThis.document}){super(),this.#n=e,this.#a=r}get#o(){return this.#t||=new Map}get#d(){return this.#s||=new Map}get#c(){if(!this.#r){const e=this.#a.createElement("div"),{style:r}=e;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const n=this.#a.createElementNS(wl,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#r=this.#a.createElementNS(wl,"defs"),e.append(n),n.append(this.#r),this.#a.body.append(e)}return this.#r}#u(e){if(e.length===1){const c=e[0],d=new Array(256);for(let h=0;h<256;h++)d[h]=c[h]/255;const u=d.join(",");return[u,u,u]}const[r,n,s]=e,i=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)i[c]=r[c]/255,o[c]=n[c]/255,l[c]=s[c]/255;return[i.join(","),o.join(","),l.join(",")]}#i(e){if(this.#e===void 0){this.#e="";const r=this.#a.URL;r!==this.#a.baseURI&&(Fj(r)?dr('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=r.split("#",1)[0])}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let r=this.#o.get(e);if(r)return r;const[n,s,i]=this.#u(e),o=e.length===1?n:`${n}${s}${i}`;if(r=this.#o.get(o),r)return this.#o.set(e,r),r;const l=`g_${this.#n}_transfer_map_${this.#l++}`,c=this.#i(l);this.#o.set(e,c),this.#o.set(o,c);const d=this.#f(l);return this.#g(n,s,i,d),c}addHCMFilter(e,r){const n=`${e}-${r}`,s="base";let i=this.#d.get(s);if(i?.key===n||(i?(i.filter?.remove(),i.key=n,i.url="none",i.filter=null):(i={key:n,url:"none",filter:null},this.#d.set(s,i)),!e||!r))return i.url;const o=this.#v(e);e=Ct.makeHexColor(...o);const l=this.#v(r);if(r=Ct.makeHexColor(...l),this.#c.style.color="",e==="#000000"&&r==="#ffffff"||e===r)return i.url;const c=new Array(256);for(let m=0;m<=255;m++){const x=m/255;c[m]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const d=c.join(","),u=`g_${this.#n}_hcm_filter`,h=i.filter=this.#f(u);this.#g(d,d,d,h),this.#m(h);const f=(m,x)=>{const p=o[m]/255,v=l[m]/255,g=new Array(x+1);for(let w=0;w<=x;w++)g[w]=p+w/x*(v-p);return g.join(",")};return this.#g(f(0,5),f(1,5),f(2,5),h),i.url=this.#i(u),i.url}addAlphaFilter(e){let r=this.#o.get(e);if(r)return r;const[n]=this.#u([e]),s=`alpha_${n}`;if(r=this.#o.get(s),r)return this.#o.set(e,r),r;const i=`g_${this.#n}_alpha_map_${this.#l++}`,o=this.#i(i);this.#o.set(e,o),this.#o.set(s,o);const l=this.#f(i);return this.#p(n,l),o}addLuminosityFilter(e){let r=this.#o.get(e||"luminosity");if(r)return r;let n,s;if(e?([n]=this.#u([e]),s=`luminosity_${n}`):s="luminosity",r=this.#o.get(s),r)return this.#o.set(e,r),r;const i=`g_${this.#n}_luminosity_map_${this.#l++}`,o=this.#i(i);this.#o.set(e,o),this.#o.set(s,o);const l=this.#f(i);return this.#h(l),e&&this.#p(n,l),o}addHighlightHCMFilter(e,r,n,s,i){const o=`${r}-${n}-${s}-${i}`;let l=this.#d.get(e);if(l?.key===o||(l?(l.filter?.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},this.#d.set(e,l)),!r||!n))return l.url;const[c,d]=[r,n].map(this.#v.bind(this));let u=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[f,m]=[s,i].map(this.#v.bind(this));h<u&&([u,h,f,m]=[h,u,m,f]),this.#c.style.color="";const x=(g,w,N)=>{const j=new Array(256),b=(h-u)/N,S=g/255,A=(w-g)/(255*N);let E=0;for(let P=0;P<=N;P++){const O=Math.round(u+P*b),k=S+P*A;for(let L=E;L<=O;L++)j[L]=k;E=O+1}for(let P=E;P<256;P++)j[P]=j[E-1];return j.join(",")},p=`g_${this.#n}_hcm_${e}_filter`,v=l.filter=this.#f(p);return this.#m(v),this.#g(x(f[0],m[0],5),x(f[1],m[1],5),x(f[2],m[2],5),v),l.url=this.#i(p),l.url}destroy(e=!1){e&&this.#d.size!==0||(this.#r&&(this.#r.parentNode.parentNode.remove(),this.#r=null),this.#t&&(this.#t.clear(),this.#t=null),this.#l=0)}#h(e){const r=this.#a.createElementNS(wl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(r)}#m(e){const r=this.#a.createElementNS(wl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(r)}#f(e){const r=this.#a.createElementNS(wl,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",e),this.#c.append(r),r}#x(e,r,n){const s=this.#a.createElementNS(wl,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",n),e.append(s)}#g(e,r,n,s){const i=this.#a.createElementNS(wl,"feComponentTransfer");s.append(i),this.#x(i,"feFuncR",e),this.#x(i,"feFuncG",r),this.#x(i,"feFuncB",n)}#p(e,r){const n=this.#a.createElementNS(wl,"feComponentTransfer");r.append(n),this.#x(n,"feFuncA",e)}#v(e){return this.#c.style.color=e,fT(getComputedStyle(this.#c).getPropertyValue("color"))}}class uz{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load font data at: ${r}`)})}async _fetch(e){ln("Abstract method `_fetch` called.")}}class hz extends uz{async _fetch(e){const r=await Ij(e,"arraybuffer");return new Uint8Array(r)}}if(Za){var tA=Promise.withResolvers(),rA=null;(async()=>{const e=await Rc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Rc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Rc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Rc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let i,o;return new Map(Object.entries({fs:e,http:r,https:n,url:s,canvas:i,path2d:o}))})().then(e=>{rA=e,tA.resolve()},e=>{dr(`loadPackages: ${e}`),rA=new Map,tA.resolve()})}class ud{static get promise(){return tA.promise}static get(e){return rA?.get(e)}}async function fz(t){const r=await ud.get("fs").promises.readFile(t);return new Uint8Array(r)}class _le extends dz{}class Rle extends oz{_createCanvas(e,r){return ud.get("canvas").createCanvas(e,r)}}class Ile extends lz{async _fetch(e){return fz(e)}}class Fle extends uz{async _fetch(e){return fz(e)}}const ls={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function nA(t,e){if(!e)return;const r=e[2]-e[0],n=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],r,n),t.clip(s)}class gT{getPattern(){ln("Abstract method `getPattern` called.")}}class Dle extends gT{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let r;this._type==="axial"?r=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(r=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)r.addColorStop(n[0],n[1]);return r}getPattern(e,r,n,s){let i;if(s===ls.STROKE||s===ls.FILL){const o=r.current.getClippedPathBoundingBox(s,mn(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,d=r.cachedCanvases.getCanvas("pattern",l,c),u=d.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),n=Ct.transform(n,[1,0,0,1,o[0],o[1]]),u.transform(...r.baseTransform),this.matrix&&u.transform(...this.matrix),nA(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),i=e.createPattern(d.canvas,"no-repeat");const h=new DOMMatrix(n);i.setTransform(h)}else nA(e,this._bbox),i=this._createGradient(e);return i}}function v2(t,e,r,n,s,i,o,l){const c=e.coords,d=e.colors,u=t.data,h=t.width*4;let f;c[r+1]>c[n+1]&&(f=r,r=n,n=f,f=i,i=o,o=f),c[n+1]>c[s+1]&&(f=n,n=s,s=f,f=o,o=l,l=f),c[r+1]>c[n+1]&&(f=r,r=n,n=f,f=i,i=o,o=f);const m=(c[r]+e.offsetX)*e.scaleX,x=(c[r+1]+e.offsetY)*e.scaleY,p=(c[n]+e.offsetX)*e.scaleX,v=(c[n+1]+e.offsetY)*e.scaleY,g=(c[s]+e.offsetX)*e.scaleX,w=(c[s+1]+e.offsetY)*e.scaleY;if(x>=w)return;const N=d[i],j=d[i+1],b=d[i+2],S=d[o],A=d[o+1],E=d[o+2],P=d[l],O=d[l+1],k=d[l+2],L=Math.round(x),R=Math.round(w);let _,B,I,C,D,W,K,H;for(let G=L;G<=R;G++){if(G<v){const q=G<x?0:(x-G)/(x-v);_=m-(m-p)*q,B=N-(N-S)*q,I=j-(j-A)*q,C=b-(b-E)*q}else{let q;G>w?q=1:v===w?q=0:q=(v-G)/(v-w),_=p-(p-g)*q,B=S-(S-P)*q,I=A-(A-O)*q,C=E-(E-k)*q}let ee;G<x?ee=0:G>w?ee=1:ee=(x-G)/(x-w),D=m-(m-g)*ee,W=N-(N-P)*ee,K=j-(j-O)*ee,H=b-(b-k)*ee;const Q=Math.round(Math.min(_,D)),te=Math.round(Math.max(_,D));let U=h*G+Q*4;for(let q=Q;q<=te;q++)ee=(_-q)/(_-D),ee<0?ee=0:ee>1&&(ee=1),u[U++]=B-(B-W)*ee|0,u[U++]=I-(I-K)*ee|0,u[U++]=C-(C-H)*ee|0,u[U++]=255}}function Mle(t,e,r){const n=e.coords,s=e.colors;let i,o;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(n.length/l)-1,d=l-1;for(i=0;i<c;i++){let u=i*l;for(let h=0;h<d;h++,u++)v2(t,r,n[u],n[u+1],n[u+l],s[u],s[u+1],s[u+l]),v2(t,r,n[u+l+1],n[u+1],n[u+l],s[u+l+1],s[u+1],s[u+l])}break;case"triangles":for(i=0,o=n.length;i<o;i+=3)v2(t,r,n[i],n[i+1],n[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}class Lle extends gT{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,r,n){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,u=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),m=d/h,x=u/f,p={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/m,scaleY:1/x},v=h+2*2,g=f+2*2,w=n.getCanvas("mesh",v,g),N=w.context,j=N.createImageData(h,f);if(r){const S=j.data;for(let A=0,E=S.length;A<E;A+=4)S[A]=r[0],S[A+1]=r[1],S[A+2]=r[2],S[A+3]=255}for(const S of this._figures)Mle(j,S,p);return N.putImageData(j,2,2),{canvas:w.canvas,offsetX:l-2*m,offsetY:c-2*x,scaleX:m,scaleY:x}}getPattern(e,r,n,s){nA(e,this._bbox);let i;if(s===ls.SHADING)i=Ct.singularValueDecompose2dScale(mn(e));else if(i=Ct.singularValueDecompose2dScale(r.baseTransform),this.matrix){const l=Ct.singularValueDecompose2dScale(this.matrix);i=[i[0]*l[0],i[1]*l[1]]}const o=this._createMeshCanvas(i,s===ls.SHADING?null:this._background,r.cachedCanvases);return s!==ls.SHADING&&(e.setTransform(...r.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class Ble extends gT{getPattern(){return"hotpink"}}function $le(t){switch(t[0]){case"RadialAxial":return new Dle(t);case"Mesh":return new Lle(t);case"Dummy":return new Ble}throw new Error(`Unknown IR type: ${t[0]}`)}const CF={COLORED:1,UNCOLORED:2};class vT{static MAX_PATTERN_SIZE=3e3;constructor(e,r,n,s,i){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=r,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=i}createPatternCanvas(e){const{bbox:r,operatorList:n,paintType:s,tilingType:i,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:d}=this;c=Math.abs(c),d=Math.abs(d),Oj("TilingType: "+i);const u=r[0],h=r[1],f=r[2],m=r[3],x=f-u,p=m-h,v=Ct.singularValueDecompose2dScale(this.matrix),g=Ct.singularValueDecompose2dScale(this.baseTransform),w=v[0]*g[0],N=v[1]*g[1];let j=x,b=p,S=!1,A=!1;const E=Math.ceil(c*w),P=Math.ceil(d*N),O=Math.ceil(x*w),k=Math.ceil(p*N);E>=O?j=c:S=!0,P>=k?b=d:A=!0;const L=this.getSizeAndScale(j,this.ctx.canvas.width,w),R=this.getSizeAndScale(b,this.ctx.canvas.height,N),_=e.cachedCanvases.getCanvas("pattern",L.size,R.size),B=_.context,I=l.createCanvasGraphics(B);if(I.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(I,s,o),B.translate(-L.scale*u,-R.scale*h),I.transform(L.scale,0,0,R.scale,0,0),B.save(),this.clipBbox(I,u,h,f,m),I.baseTransform=mn(I.ctx),I.executeOperatorList(n),I.endDrawing(),B.restore(),S||A){const C=_.canvas;S&&(j=c),A&&(b=d);const D=this.getSizeAndScale(j,this.ctx.canvas.width,w),W=this.getSizeAndScale(b,this.ctx.canvas.height,N),K=D.size,H=W.size,G=e.cachedCanvases.getCanvas("pattern-workaround",K,H),ee=G.context,Q=S?Math.floor(x/c):0,te=A?Math.floor(p/d):0;for(let U=0;U<=Q;U++)for(let q=0;q<=te;q++)ee.drawImage(C,K*U,H*q,K,H,0,0,K,H);return{canvas:G.canvas,scaleX:D.scale,scaleY:W.scale,offsetX:u,offsetY:h}}return{canvas:_.canvas,scaleX:L.scale,scaleY:R.scale,offsetX:u,offsetY:h}}getSizeAndScale(e,r,n){const s=Math.max(vT.MAX_PATTERN_SIZE,r);let i=Math.ceil(e*n);return i>=s?i=s:n=i/e,{scale:n,size:i}}clipBbox(e,r,n,s,i){const o=s-r,l=i-n;e.ctx.rect(r,n,o,l),e.current.updateRectMinMax(mn(e.ctx),[r,n,s,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,r,n){const s=e.ctx,i=e.current;switch(r){case CF.COLORED:const o=this.ctx;s.fillStyle=o.fillStyle,s.strokeStyle=o.strokeStyle,i.fillColor=o.fillStyle,i.strokeColor=o.strokeStyle;break;case CF.UNCOLORED:const l=Ct.makeHexColor(n[0],n[1],n[2]);s.fillStyle=l,s.strokeStyle=l,i.fillColor=l,i.strokeColor=l;break;default:throw new ule(`Unsupported paint type: ${r}`)}}getPattern(e,r,n,s){let i=n;s!==ls.SHADING&&(i=Ct.transform(i,r.baseTransform),this.matrix&&(i=Ct.transform(i,this.matrix)));const o=this.createPatternCanvas(r);let l=new DOMMatrix(i);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}function Ule({src:t,srcPos:e=0,dest:r,width:n,height:s,nonBlackColor:i=4294967295,inverseDecode:o=!1}){const l=fs.isLittleEndian?4278190080:255,[c,d]=o?[i,l]:[l,i],u=n>>3,h=n&7,f=t.length;r=new Uint32Array(r.buffer);let m=0;for(let x=0;x<s;x++){for(const v=e+u;e<v;e++){const g=e<f?t[e]:255;r[m++]=g&128?d:c,r[m++]=g&64?d:c,r[m++]=g&32?d:c,r[m++]=g&16?d:c,r[m++]=g&8?d:c,r[m++]=g&4?d:c,r[m++]=g&2?d:c,r[m++]=g&1?d:c}if(h===0)continue;const p=e<f?t[e++]:255;for(let v=0;v<h;v++)r[m++]=p&1<<7-v?d:c}return{srcPos:e,destPos:m}}const kF=16,PF=100,Vle=15,TF=10,OF=1e3,js=16;function zle(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,s){e.translate(n,s),this.__originalTranslate(n,s)},t.scale=function(n,s){e.scale(n,s),this.__originalScale(n,s)},t.transform=function(n,s,i,o,l,c){e.transform(n,s,i,o,l,c),this.__originalTransform(n,s,i,o,l,c)},t.setTransform=function(n,s,i,o,l,c){e.setTransform(n,s,i,o,l,c),this.__originalSetTransform(n,s,i,o,l,c)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(r,n){e.moveTo(r,n),this.__originalMoveTo(r,n)},t.lineTo=function(r,n){e.lineTo(r,n),this.__originalLineTo(r,n)},t.bezierCurveTo=function(r,n,s,i,o,l){e.bezierCurveTo(r,n,s,i,o,l),this.__originalBezierCurveTo(r,n,s,i,o,l)},t.rect=function(r,n,s,i){e.rect(r,n,s,i),this.__originalRect(r,n,s,i)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Wle{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,r,n){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,r,n)):(s=this.canvasFactory.create(r,n),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const r=this.cache[e];this.canvasFactory.destroy(r),delete this.cache[e]}}}function dv(t,e,r,n,s,i,o,l,c,d){const[u,h,f,m,x,p]=mn(t);if(h===0&&f===0){const w=o*u+x,N=Math.round(w),j=l*m+p,b=Math.round(j),S=(o+c)*u+x,A=Math.abs(Math.round(S)-N)||1,E=(l+d)*m+p,P=Math.abs(Math.round(E)-b)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(m),N,b),t.drawImage(e,r,n,s,i,0,0,A,P),t.setTransform(u,h,f,m,x,p),[A,P]}if(u===0&&m===0){const w=l*f+x,N=Math.round(w),j=o*h+p,b=Math.round(j),S=(l+d)*f+x,A=Math.abs(Math.round(S)-N)||1,E=(o+c)*h+p,P=Math.abs(Math.round(E)-b)||1;return t.setTransform(0,Math.sign(h),Math.sign(f),0,N,b),t.drawImage(e,r,n,s,i,0,0,P,A),t.setTransform(u,h,f,m,x,p),[P,A]}t.drawImage(e,r,n,s,i,o,l,c,d);const v=Math.hypot(u,h),g=Math.hypot(f,m);return[v*c,g*d]}function qle(t){const{width:e,height:r}=t;if(e>OF||r>OF)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=e+1;let o=new Uint8Array(i*(r+1)),l,c,d;const u=e+7&-8;let h=new Uint8Array(u*r),f=0;for(const g of t.data){let w=128;for(;w>0;)h[f++]=g&w?0:255,w>>=1}let m=0;for(f=0,h[f]!==0&&(o[0]=1,++m),c=1;c<e;c++)h[f]!==h[f+1]&&(o[c]=h[f]?2:1,++m),f++;for(h[f]!==0&&(o[c]=2,++m),l=1;l<r;l++){f=l*u,d=l*i,h[f-u]!==h[f]&&(o[d]=h[f]?1:8,++m);let g=(h[f]?4:0)+(h[f-u]?8:0);for(c=1;c<e;c++)g=(g>>2)+(h[f+1]?4:0)+(h[f-u+1]?8:0),s[g]&&(o[d+c]=s[g],++m),f++;if(h[f-u]!==h[f]&&(o[d+c]=h[f]?2:4,++m),m>n)return null}for(f=u*(r-1),d=l*i,h[f]!==0&&(o[d]=8,++m),c=1;c<e;c++)h[f]!==h[f+1]&&(o[d+c]=h[f]?4:8,++m),f++;if(h[f]!==0&&(o[d+c]=4,++m),m>n)return null;const x=new Int32Array([0,i,-1,0,-i,0,0,0,1]),p=new Path2D;for(l=0;m&&l<=r;l++){let g=l*i;const w=g+e;for(;g<w&&!o[g];)g++;if(g===w)continue;p.moveTo(g%i,l);const N=g;let j=o[g];do{const b=x[j];do g+=b;while(!o[g]);const S=o[g];S!==5&&S!==10?(j=S,o[g]=0):(j=S&51*j>>4,o[g]&=j>>2|j<<2),p.lineTo(g%i,g/i|0),o[g]||--m}while(N!==g);--l}return h=null,o=null,function(g){g.save(),g.scale(1/e,-1/r),g.translate(0,-r),g.fill(p),g.beginPath(),g.restore()}}class _F{constructor(e,r){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=tz,this.textMatrixScale=1,this.fontMatrix=YS,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ua.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,r])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,r){this.x=e,this.y=r}updatePathMinMax(e,r,n){[r,n]=Ct.applyTransform([r,n],e),this.minX=Math.min(this.minX,r),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,r),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,r){const n=Ct.applyTransform(r,e),s=Ct.applyTransform(r.slice(2),e),i=Ct.applyTransform([r[0],r[3]],e),o=Ct.applyTransform([r[2],r[1]],e);this.minX=Math.min(this.minX,n[0],s[0],i[0],o[0]),this.minY=Math.min(this.minY,n[1],s[1],i[1],o[1]),this.maxX=Math.max(this.maxX,n[0],s[0],i[0],o[0]),this.maxY=Math.max(this.maxY,n[1],s[1],i[1],o[1])}updateScalingPathMinMax(e,r){Ct.scaleMinMax(e,r),this.minX=Math.min(this.minX,r[0]),this.minY=Math.min(this.minY,r[1]),this.maxX=Math.max(this.maxX,r[2]),this.maxY=Math.max(this.maxY,r[3])}updateCurvePathMinMax(e,r,n,s,i,o,l,c,d,u){const h=Ct.bezierBoundingBox(r,n,s,i,o,l,c,d,u);u||this.updateRectMinMax(e,h)}getPathBoundingBox(e=ls.FILL,r=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===ls.STROKE){r||ln("Stroke bounding box must include transform.");const s=Ct.singularValueDecompose2dScale(r),i=s[0]*this.lineWidth/2,o=s[1]*this.lineWidth/2;n[0]-=i,n[1]-=o,n[2]+=i,n[3]+=o}return n}updateClipFromPath(){const e=Ct.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=ls.FILL,r=null){return Ct.intersect(this.clipBox,this.getPathBoundingBox(e,r))}}function RF(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const r=e.height,n=e.width,s=r%js,i=(r-s)/js,o=s===0?i:i+1,l=t.createImageData(n,js);let c=0,d;const u=e.data,h=l.data;let f,m,x,p;if(e.kind===uy.GRAYSCALE_1BPP){const v=u.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),w=g.length,N=n+7>>3,j=4294967295,b=fs.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(x=f<i?js:s,d=0,m=0;m<x;m++){const S=v-c;let A=0;const E=S>N?n:S*8-7,P=E&-8;let O=0,k=0;for(;A<P;A+=8)k=u[c++],g[d++]=k&128?j:b,g[d++]=k&64?j:b,g[d++]=k&32?j:b,g[d++]=k&16?j:b,g[d++]=k&8?j:b,g[d++]=k&4?j:b,g[d++]=k&2?j:b,g[d++]=k&1?j:b;for(;A<E;A++)O===0&&(k=u[c++],O=128),g[d++]=k&O?j:b,O>>=1}for(;d<w;)g[d++]=0;t.putImageData(l,0,f*js)}}else if(e.kind===uy.RGBA_32BPP){for(m=0,p=n*js*4,f=0;f<i;f++)h.set(u.subarray(c,c+p)),c+=p,t.putImageData(l,0,m),m+=js;f<o&&(p=n*s*4,h.set(u.subarray(c,c+p)),t.putImageData(l,0,m))}else if(e.kind===uy.RGB_24BPP)for(x=js,p=n*x,f=0;f<o;f++){for(f>=i&&(x=s,p=n*x),d=0,m=p;m--;)h[d++]=u[c++],h[d++]=u[c++],h[d++]=u[c++],h[d++]=255;t.putImageData(l,0,f*js)}else throw new Error(`bad image kind: ${e.kind}`)}function IF(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const r=e.height,n=e.width,s=r%js,i=(r-s)/js,o=s===0?i:i+1,l=t.createImageData(n,js);let c=0;const d=e.data,u=l.data;for(let h=0;h<o;h++){const f=h<i?js:s;({srcPos:c}=Ule({src:d,srcPos:c,dest:u,width:n,height:f,nonBlackColor:0})),t.putImageData(l,0,h*js)}}function ep(t,e){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of r)t[n]!==void 0&&(e[n]=t[n]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function uv(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!Za){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function FF(t,e){if(e)return!0;const r=Ct.singularValueDecompose2dScale(t);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*_f.PDF_TO_CSS_UNITS);return r[0]<=n&&r[1]<=n}const Hle=["butt","round","square"],Gle=["miter","round","bevel"],Kle={},DF={};class nf{constructor(e,r,n,s,i,{optionalContentConfig:o,markedContentStack:l=null},c,d){this.ctx=e,this.current=new _F(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=s,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new Wle(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,r=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):r}beginDrawing({transform:e,viewport:r,transparency:n=!1,background:s=null}){const i=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,i,o),this.ctx.fillStyle=l,n){const c=this.cachedCanvases.getCanvas("transparent",i,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...mn(this.compositeCtx))}this.ctx.save(),uv(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...r.transform),this.viewportScale=r.scale,this.baseTransform=mn(this.ctx)}executeOperatorList(e,r,n,s){const i=e.argsArray,o=e.fnArray;let l=r||0;const c=i.length;if(c===l)return l;const d=c-l>TF&&typeof n=="function",u=d?Date.now()+Vle:0;let h=0;const f=this.commonObjs,m=this.objs;let x;for(;;){if(s!==void 0&&l===s.nextBreakPoint)return s.breakIt(l,n),l;if(x=o[l],x!==so.dependency)this[x].apply(this,i[l]);else for(const p of i[l]){const v=p.startsWith("g_")?f:m;if(!v.has(p))return v.get(p,n),l}if(l++,l===c)return l;if(d&&++h>TF){if(Date.now()>u)return n(),l;h=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const r of e.values())typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&(r.width=r.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const r=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=r}}}_scaleImage(e,r){const n=e.width??e.displayWidth,s=e.height??e.displayHeight;let i=Math.max(Math.hypot(r[0],r[1]),1),o=Math.max(Math.hypot(r[2],r[3]),1),l=n,c=s,d="prescale1",u,h;for(;i>2&&l>1||o>2&&c>1;){let f=l,m=c;i>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),i/=l/f),o>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/m),u=this.cachedCanvases.getCanvas(d,f,m),h=u.context,h.clearRect(0,0,f,m),h.drawImage(e,0,0,l,c,0,0,f,m),e=u.canvas,l=f,c=m,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const r=this.ctx,{width:n,height:s}=e,i=this.current.fillColor,o=this.current.patternFill,l=mn(r);let c,d,u,h;if((e.bitmap||e.data)&&e.count>1){const E=e.bitmap||e.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),i]),c=this._cachedBitmapsMap.get(E),c||(c=new Map,this._cachedBitmapsMap.set(E,c));const P=c.get(d);if(P&&!o){const O=Math.round(Math.min(l[0],l[2])+l[4]),k=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:P,offsetX:O,offsetY:k}}u=P}u||(h=this.cachedCanvases.getCanvas("maskCanvas",n,s),IF(h.context,e));let f=Ct.transform(l,[1/n,0,0,-1/s,0,0]);f=Ct.transform(f,[1,0,0,1,0,-s]);const[m,x,p,v]=Ct.getAxialAlignedBoundingBox([0,0,n,s],f),g=Math.round(p-m)||1,w=Math.round(v-x)||1,N=this.cachedCanvases.getCanvas("fillCanvas",g,w),j=N.context,b=m,S=x;j.translate(-b,-S),j.transform(...f),u||(u=this._scaleImage(h.canvas,gl(j)),u=u.img,c&&o&&c.set(d,u)),j.imageSmoothingEnabled=FF(mn(j),e.interpolate),dv(j,u,0,0,u.width,u.height,0,0,n,s),j.globalCompositeOperation="source-in";const A=Ct.transform(gl(j),[1,0,0,1,-b,-S]);return j.fillStyle=o?i.getPattern(r,this,A,ls.FILL):i,j.fillRect(0,0,n,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,N.canvas)),{canvas:N.canvas,offsetX:Math.round(b),offsetY:Math.round(S)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Hle[e]}setLineJoin(e){this.ctx.lineJoin=Gle[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,r){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=r)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[r,n]of e)switch(r){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,r=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,e,r);this.suspendedCtx=this.ctx,this.ctx=s.context;const i=this.ctx;i.setTransform(...mn(this.suspendedCtx)),ep(this.suspendedCtx,i),zle(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ep(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const r=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,r,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,r,n,s){const i=s[0],o=s[1],l=s[2]-i,c=s[3]-o;l===0||c===0||(this.genericComposeSMask(r.context,n,l,c,r.subtype,r.backdrop,r.transferMap,i,o,r.offsetX,r.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,r,n,s,i,o,l,c,d,u,h){let f=e.canvas,m=c-u,x=d-h;if(o){const v=Ct.makeHexColor(...o);if(m<0||x<0||m+n>f.width||x+s>f.height){const g=this.cachedCanvases.getCanvas("maskExtension",n,s),w=g.context;w.drawImage(f,-m,-x),w.globalCompositeOperation="destination-atop",w.fillStyle=v,w.fillRect(0,0,n,s),w.globalCompositeOperation="source-over",f=g.canvas,m=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const g=new Path2D;g.rect(m,x,n,s),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=v,e.fillRect(m,x,n,s),e.restore()}}r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0),i==="Alpha"&&l?r.filter=this.filterFactory.addAlphaFilter(l):i==="Luminosity"&&(r.filter=this.filterFactory.addLuminosityFilter(l));const p=new Path2D;p.rect(c,d,n,s),r.clip(p),r.globalCompositeOperation="destination-in",r.drawImage(f,m,x,n,s,c,d,n,s),r.restore()}save(){this.inSMaskMode?(ep(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ep(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,r,n,s,i,o){this.ctx.transform(e,r,n,s,i,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,r,n){const s=this.ctx,i=this.current;let o=i.x,l=i.y,c,d;const u=mn(s),h=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,f=h?n.slice(0):null;for(let m=0,x=0,p=e.length;m<p;m++)switch(e[m]|0){case so.rectangle:o=r[x++],l=r[x++];const v=r[x++],g=r[x++],w=o+v,N=l+g;s.moveTo(o,l),v===0||g===0?s.lineTo(w,N):(s.lineTo(w,l),s.lineTo(w,N),s.lineTo(o,N)),h||i.updateRectMinMax(u,[o,l,w,N]),s.closePath();break;case so.moveTo:o=r[x++],l=r[x++],s.moveTo(o,l),h||i.updatePathMinMax(u,o,l);break;case so.lineTo:o=r[x++],l=r[x++],s.lineTo(o,l),h||i.updatePathMinMax(u,o,l);break;case so.curveTo:c=o,d=l,o=r[x+4],l=r[x+5],s.bezierCurveTo(r[x],r[x+1],r[x+2],r[x+3],o,l),i.updateCurvePathMinMax(u,c,d,r[x],r[x+1],r[x+2],r[x+3],o,l,f),x+=6;break;case so.curveTo2:c=o,d=l,s.bezierCurveTo(o,l,r[x],r[x+1],r[x+2],r[x+3]),i.updateCurvePathMinMax(u,c,d,o,l,r[x],r[x+1],r[x+2],r[x+3],f),o=r[x+2],l=r[x+3],x+=4;break;case so.curveTo3:c=o,d=l,o=r[x+2],l=r[x+3],s.bezierCurveTo(r[x],r[x+1],o,l,o,l),i.updateCurvePathMinMax(u,c,d,r[x],r[x+1],o,l,o,l,f),x+=4;break;case so.closePath:s.closePath();break}h&&i.updateScalingPathMinMax(u,f),i.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const r=this.ctx,n=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&n?.getPattern?(r.save(),r.strokeStyle=n.getPattern(r,this,gl(r),ls.STROKE),this.rescaleAndStroke(!1),r.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),r.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const r=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let i=!1;s&&(r.save(),r.fillStyle=n.getPattern(r,this,gl(r),ls.FILL),i=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(r.fill("evenodd"),this.pendingEOFill=!1):r.fill()),i&&r.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Kle}eoClip(){this.pendingClip=DF}beginText(){this.current.textMatrix=tz,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,r=this.ctx;if(e===void 0){r.beginPath();return}r.save(),r.beginPath();for(const n of e)r.setTransform(...n.transform),r.translate(n.x,n.y),n.addToPath(r,n.fontSize);r.restore(),r.clip(),r.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,r){const n=this.commonObjs.get(e),s=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=n.fontMatrix||YS,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&dr("Invalid font matrix for font "+e),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=r,n.isType3Font)return;const i=n.loadedName||"sans-serif",o=n.systemFontInfo?.css||`"${i}", ${n.fallbackName}`;let l="normal";n.black?l="900":n.bold&&(l="bold");const c=n.italic?"italic":"normal";let d=r;r<kF?d=kF:r>PF&&(d=PF),this.current.fontSizeScale=r/d,this.ctx.font=`${c} ${l} ${d}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,r){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,r){this.setLeading(-r),this.moveText(e,r)}setTextMatrix(e,r,n,s,i,o){this.current.textMatrix=[e,r,n,s,i,o],this.current.textMatrixScale=Math.hypot(e,r),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,r,n,s){const i=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,u=c&Ua.FILL_STROKE_MASK,h=!!(c&Ua.ADD_TO_PATH_FLAG),f=o.patternFill&&!l.missingFile;let m;(l.disableFontFace||h||f)&&(m=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||f?(i.save(),i.translate(r,n),i.beginPath(),m(i,d),s&&i.setTransform(...s),(u===Ua.FILL||u===Ua.FILL_STROKE)&&i.fill(),(u===Ua.STROKE||u===Ua.FILL_STROKE)&&i.stroke(),i.restore()):((u===Ua.FILL||u===Ua.FILL_STROKE)&&i.fillText(e,r,n),(u===Ua.STROKE||u===Ua.FILL_STROKE)&&i.strokeText(e,r,n)),h&&(this.pendingTextPaths||=[]).push({transform:mn(i),x:r,y:n,fontSize:d,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const r=e.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<r.length;s+=4)if(r[s]>0&&r[s]<255){n=!0;break}return Er(this,"isFontSubpixelAAEnabled",n)}showText(e){const r=this.current,n=r.font;if(n.isType3Font)return this.showType3Text(e);const s=r.fontSize;if(s===0)return;const i=this.ctx,o=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,d=r.fontDirection,u=r.textHScale*d,h=e.length,f=n.vertical,m=f?1:-1,x=n.defaultVMetrics,p=s*r.fontMatrix[0],v=r.textRenderingMode===Ua.FILL&&!n.disableFontFace&&!r.patternFill;i.save(),i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),d>0?i.scale(u,-1):i.scale(u,1);let g;if(r.patternFill){i.save();const S=r.fillColor.getPattern(i,this,gl(i),ls.FILL);g=mn(i),i.restore(),i.fillStyle=S}let w=r.lineWidth;const N=r.textMatrixScale;if(N===0||w===0){const S=r.textRenderingMode&Ua.FILL_STROKE_MASK;(S===Ua.STROKE||S===Ua.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=N;if(o!==1&&(i.scale(o,o),w/=o),i.lineWidth=w,n.isInvalidPDFjsFont){const S=[];let A=0;for(const E of e)S.push(E.unicode),A+=E.width;i.fillText(S.join(""),0,0),r.x+=A*p*u,i.restore(),this.compose();return}let j=0,b;for(b=0;b<h;++b){const S=e[b];if(typeof S=="number"){j+=m*S*s/1e3;continue}let A=!1;const E=(S.isSpace?c:0)+l,P=S.fontChar,O=S.accent;let k,L,R=S.width;if(f){const B=S.vmetric||x,I=-(S.vmetric?B[1]:R*.5)*p,C=B[2]*p;R=B?-B[0]:R,k=I/o,L=(j+C)/o}else k=j/o,L=0;if(n.remeasure&&R>0){const B=i.measureText(P).width*1e3/s*o;if(R<B&&this.isFontSubpixelAAEnabled){const I=R/B;A=!0,i.save(),i.scale(I,1),k/=I}else R!==B&&(k+=(R-B)/2e3*s/o)}if(this.contentVisible&&(S.isInFont||n.missingFile)){if(v&&!O)i.fillText(P,k,L);else if(this.paintChar(P,k,L,g),O){const B=k+s*O.offset.x/o,I=L-s*O.offset.y/o;this.paintChar(O.fontChar,B,I,g)}}const _=f?R*p-E*d:R*p+E*d;j+=_,A&&i.restore()}f?r.y-=j:r.x+=j*u,i.restore(),this.compose()}showType3Text(e){const r=this.ctx,n=this.current,s=n.font,i=n.fontSize,o=n.fontDirection,l=s.vertical?1:-1,c=n.charSpacing,d=n.wordSpacing,u=n.textHScale*o,h=n.fontMatrix||YS,f=e.length,m=n.textRenderingMode===Ua.INVISIBLE;let x,p,v,g;if(!(m||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),r.transform(...n.textMatrix),r.translate(n.x,n.y),r.scale(u,o),x=0;x<f;++x){if(p=e[x],typeof p=="number"){g=l*p*i/1e3,this.ctx.translate(g,0),n.x+=g*u;continue}const w=(p.isSpace?d:0)+c,N=s.charProcOperatorList[p.operatorListId];if(!N){dr(`Type3 character "${p.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=p,this.save(),r.scale(i,i),r.transform(...h),this.executeOperatorList(N),this.restore()),v=Ct.applyTransform([p.width,0],h)[0]*i+w,r.translate(v,0),n.x+=v*u}r.restore(),this.processingType3=null}}setCharWidth(e,r){}setCharWidthAndBounds(e,r,n,s,i,o){this.ctx.rect(n,s,i-n,o-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let r;if(e[0]==="TilingPattern"){const n=e[1],s=this.baseTransform||mn(this.ctx),i={createCanvasGraphics:o=>new nf(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};r=new vT(e,n,this.ctx,i,s)}else r=this._getPattern(e[1],e[2]);return r}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,r,n){this.ctx.strokeStyle=this.current.strokeColor=Ct.makeHexColor(e,r,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,r,n){this.ctx.fillStyle=this.current.fillColor=Ct.makeHexColor(e,r,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,r=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=$le(this.getObject(e)),this.cachedPatterns.set(e,n)),r&&(n.matrix=r),n}shadingFill(e){if(!this.contentVisible)return;const r=this.ctx;this.save();const n=this._getPattern(e);r.fillStyle=n.getPattern(r,this,gl(r),ls.SHADING);const s=gl(r);if(s){const{width:i,height:o}=r.canvas,[l,c,d,u]=Ct.getAxialAlignedBoundingBox([0,0,i,o],s);this.ctx.fillRect(l,c,d-l,u-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ln("Should not call beginInlineImage")}beginImageData(){ln("Should not call beginImageData")}paintFormXObjectBegin(e,r){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=mn(this.ctx),r)){const n=r[2]-r[0],s=r[3]-r[1];this.ctx.rect(r[0],r[1],n,s),this.current.updateRectMinMax(mn(this.ctx),r),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;e.isolated||Oj("TODO: Support non-isolated groups."),e.knockout&&dr("Knockout groups not supported.");const n=mn(r);if(e.matrix&&r.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Ct.getAxialAlignedBoundingBox(e.bbox,mn(r));const i=[0,0,r.canvas.width,r.canvas.height];s=Ct.intersect(s,i)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,d]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(u,c,d),f=h.context;f.translate(-o,-l),f.transform(...n),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),ep(r,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=mn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const i=Ct.getAxialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],s);this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,r,n,s,i){if(this.#e(),uv(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(i&&this.annotationCanvasMap){n=n.slice(),n[4]-=r[0],n[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l;const[c,d]=Ct.singularValueDecompose2dScale(mn(this.ctx)),{viewportScale:u}=this,h=Math.ceil(o*this.outputScaleX*u),f=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:m,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(c,0,0,-d,0,l*d),uv(this.ctx)}else uv(this.ctx),this.endPath(),this.ctx.rect(r[0],r[1],o,l),this.ctx.clip(),this.ctx.beginPath()}this.current=new _F(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const r=e.count;e=this.getObject(e.data,e),e.count=r;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=qle(e)),s.compiled)){s.compiled(n);return}const i=this._createMaskCanvas(e),o=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,r,n=0,s=0,i,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=mn(l);l.transform(r,n,s,i,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let u=0,h=o.length;u<h;u+=2){const f=Ct.transform(c,[r,n,s,i,o[u],o[u+1]]),[m,x]=Ct.applyTransform([0,0],f);l.drawImage(d.canvas,m,x)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const r=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const i of e){const{data:o,width:l,height:c,transform:d}=i,u=this.cachedCanvases.getCanvas("maskCanvas",l,c),h=u.context;h.save();const f=this.getObject(o,i);IF(h,f),h.globalCompositeOperation="source-in",h.fillStyle=s?n.getPattern(h,this,gl(r),ls.FILL):n,h.fillRect(0,0,l,c),h.restore(),r.save(),r.transform(...d),r.scale(1,-1),dv(r,u.canvas,0,0,l,c,0,-1,1,1),r.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){dr("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)}paintImageXObjectRepeat(e,r,n,s){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){dr("Dependent image isn't ready yet");return}const o=i.width,l=i.height,c=[];for(let d=0,u=s.length;d<u;d+=2)c.push({transform:[r,0,0,n,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(i,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:r,width:n,height:s}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,s),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(r,0,0),o.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const r=e.width,n=e.height,s=this.ctx;if(this.save(),!Za){const{filter:l}=s;l!=="none"&&l!==""&&(s.filter="none")}s.scale(1/r,-1/n);let i;if(e.bitmap)i=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)i=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",r,n).context;RF(c,e),i=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(i,gl(s));s.imageSmoothingEnabled=FF(mn(s),e.interpolate),dv(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,r,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,r){if(!this.contentVisible)return;const n=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const i=e.width,o=e.height,c=this.cachedCanvases.getCanvas("inlineImage",i,o).context;RF(c,e),s=this.applyTransferMapsToCanvas(c)}for(const i of r)n.save(),n.transform(...i.transform),n.scale(1,-1),dv(n,s,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,r){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,r){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(r||(this.pendingClip===DF?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=mn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const r=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:r,b:n,c:s,d:i}=this.ctx.getTransform();let o,l;if(n===0&&s===0){const c=Math.abs(r),d=Math.abs(i);if(c===d)if(e===0)o=l=1/c;else{const u=c*e;o=l=u<1?1/u:1}else if(e===0)o=1/c,l=1/d;else{const u=c*e,h=d*e;o=u<1?1/u:1,l=h<1?1/h:1}}else{const c=Math.abs(r*i-n*s),d=Math.hypot(r,n),u=Math.hypot(s,i);if(e===0)o=u/c,l=d/c;else{const h=e*c;o=u>h?u/h:1,l=d>h?d/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:r}=this,{lineWidth:n}=this.current,[s,i]=this.getScaleForStroking();if(r.lineWidth=n||1,s===1&&i===1){r.stroke();return}const o=r.getLineDash();if(e&&r.save(),r.scale(s,i),o.length>0){const l=Math.max(s,i);r.setLineDash(o.map(c=>c/l)),r.lineDashOffset/=l}r.stroke(),e&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in so)nf.prototype[t]!==void 0&&(nf.prototype[so[t]]=nf.prototype[t]);class ox{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}const hv={DATA:1,ERROR:2},In={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ls(t){switch(t instanceof Error||typeof t=="object"&&t!==null||ln('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new zu(t.message);case"MissingPDFException":return new Vu(t.message);case"PasswordException":return new QS(t.message,t.code);case"UnexpectedResponseException":return new _j(t.message,t.status);case"UnknownErrorException":return new ZS(t.message,t.details);default:return new ZS(t.message,t.toString())}}class Op{#e=new AbortController;constructor(e,r,n){this.sourceName=e,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const n=e.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===hv.DATA)s.resolve(e.data);else if(e.callback===hv.ERROR)s.reject(Ls(e.reason));else throw new Error("Unexpected callback case");return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,s=e.sourceName,i=this.comObj;new Promise(function(o){o(r(e.data))}).then(function(o){i.postMessage({sourceName:n,targetName:s,callback:hv.DATA,callbackId:e.callbackId,data:o})},function(o){i.postMessage({sourceName:n,targetName:s,callback:hv.ERROR,callbackId:e.callbackId,reason:Ls(o)})});return}if(e.streamId){this.#r(e);return}r(e.data)}on(e,r){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=r}send(e,r,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:r},n)}sendWithPromise(e,r,n){const s=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:r},n)}catch(o){i.reject(o)}return i.promise}sendWithStream(e,r,n,s){const i=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const u=Promise.withResolvers();return this.streamControllers[i]={controller:d,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:i,data:r,desiredSize:d.desiredSize},s),u.promise},pull:d=>{const u=Promise.withResolvers();return this.streamControllers[i].pullCall=u,c.postMessage({sourceName:o,targetName:l,stream:In.PULL,streamId:i,desiredSize:d.desiredSize}),u.promise},cancel:d=>{Jn(d instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[i].cancelCall=u,this.streamControllers[i].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:In.CANCEL,streamId:i,reason:Ls(d)}),u.promise}},n)}#r(e){const r=e.streamId,n=this.sourceName,s=e.sourceName,i=this.comObj,o=this,l=this.actionHandler[e.action],c={enqueue(d,u=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:s,stream:In.ENQUEUE,streamId:r,chunk:d},h)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:s,stream:In.CLOSE,streamId:r}),delete o.streamSinks[r])},error(d){Jn(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:s,stream:In.ERROR,streamId:r,reason:Ls(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[r]=c,new Promise(function(d){d(l(e.data,c))}).then(function(){i.postMessage({sourceName:n,targetName:s,stream:In.START_COMPLETE,streamId:r,success:!0})},function(d){i.postMessage({sourceName:n,targetName:s,stream:In.START_COMPLETE,streamId:r,reason:Ls(d)})})}#n(e){const r=e.streamId,n=this.sourceName,s=e.sourceName,i=this.comObj,o=this.streamControllers[r],l=this.streamSinks[r];switch(e.stream){case In.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Ls(e.reason));break;case In.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Ls(e.reason));break;case In.PULL:if(!l){i.postMessage({sourceName:n,targetName:s,stream:In.PULL_COMPLETE,streamId:r,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,new Promise(function(c){c(l.onPull?.())}).then(function(){i.postMessage({sourceName:n,targetName:s,stream:In.PULL_COMPLETE,streamId:r,success:!0})},function(c){i.postMessage({sourceName:n,targetName:s,stream:In.PULL_COMPLETE,streamId:r,reason:Ls(c)})});break;case In.ENQUEUE:if(Jn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case In.CLOSE:if(Jn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#a(o,r);break;case In.ERROR:Jn(o,"error should have stream controller"),o.controller.error(Ls(e.reason)),this.#a(o,r);break;case In.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Ls(e.reason)),this.#a(o,r);break;case In.CANCEL:if(!l)break;new Promise(function(c){c(l.onCancel?.(Ls(e.reason)))}).then(function(){i.postMessage({sourceName:n,targetName:s,stream:In.CANCEL_COMPLETE,streamId:r,success:!0})},function(c){i.postMessage({sourceName:n,targetName:s,stream:In.CANCEL_COMPLETE,streamId:r,reason:Ls(c)})}),l.sinkCapability.reject(Ls(e.reason)),l.isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}}async#a(e,r){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[r]}destroy(){this.#e?.abort(),this.#e=null}}class Xle{#e;#t;constructor({parsedData:e,rawData:r}){this.#e=e,this.#t=r}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}getAll(){return cT(this.#e)}has(e){return this.#e.has(e)}}const Nh=Symbol("INTERNAL");class Yle{#e=!1;#t=!1;#r=!1;#n=!0;constructor(e,{name:r,intent:n,usage:s,rbGroups:i}){this.#e=!!(e&Us.DISPLAY),this.#t=!!(e&Us.PRINT),this.name=r,this.intent=n,this.usage=s,this.rbGroups=i}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:e,view:r}=this.usage;return this.#e?r?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,r,n=!1){e!==Nh&&ln("Internal method `_setVisible` called."),this.#r=n,this.#n=r}}class Qle{#e=null;#t=new Map;#r=null;#n=null;constructor(e,r=Us.DISPLAY){if(this.renderingIntent=r,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const n of e.groups)this.#t.set(n.id,new Yle(r,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(Nh,!1);for(const n of e.on)this.#t.get(n)._setVisible(Nh,!0);for(const n of e.off)this.#t.get(n)._setVisible(Nh,!1);this.#r=this.getHash()}}#a(e){const r=e.length;if(r<2)return!0;const n=e[0];for(let s=1;s<r;s++){const i=e[s];let o;if(Array.isArray(i))o=this.#a(i);else if(this.#t.has(i))o=this.#t.get(i).visible;else return dr(`Optional content group not found: ${i}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Oj("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(dr(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const r of e.ids){if(!this.#t.has(r))return dr(`Optional content group not found: ${r}`),!0;if(this.#t.get(r).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const r of e.ids){if(!this.#t.has(r))return dr(`Optional content group not found: ${r}`),!0;if(!this.#t.get(r).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const r of e.ids){if(!this.#t.has(r))return dr(`Optional content group not found: ${r}`),!0;if(!this.#t.get(r).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const r of e.ids){if(!this.#t.has(r))return dr(`Optional content group not found: ${r}`),!0;if(this.#t.get(r).visible)return!1}return!0}return dr(`Unknown optional content policy ${e.policy}.`),!0}return dr(`Unknown group type ${e.type}.`),!0}setVisibility(e,r=!0,n=!0){const s=this.#t.get(e);if(!s){dr(`Optional content group not found: ${e}`);return}if(n&&r&&s.rbGroups.length)for(const i of s.rbGroups)for(const o of i)o!==e&&this.#t.get(o)?._setVisible(Nh,!1,!0);s._setVisible(Nh,!!r,!0),this.#e=null}setOCGState({state:e,preserveRB:r}){let n;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const i=this.#t.get(s);if(i)switch(n){case"ON":this.setVisibility(s,!0,r);break;case"OFF":this.setVisibility(s,!1,r);break;case"Toggle":this.setVisibility(s,!i.visible,r);break}}this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?cT(this.#t):null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new sz;for(const[r,n]of this.#t)e.update(`${r}:${n.visible}`);return this.#e=e.hexdigest()}}class Zle{constructor(e,{disableRange:r=!1,disableStream:n=!1}){Jn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:i,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,i?.length>0){const c=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!r,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:r}){const n=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(n),!0)});Jn(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const r=this._rangeReaders.indexOf(e);r>=0&&this._rangeReaders.splice(r,1)}getFullReader(){Jn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Jle(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new ece(this,e,r);return this._pdfDataRangeTransport.requestDataRange(e,r),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class Jle{constructor(e,r,n=!1,s=null){this._stream=e,this._done=n||!1,this._filename=hT(s)?s:null,this._queuedChunks=r||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ece{constructor(e,r,n){this._stream=e,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function tce(t){let e=!0,r=n("filename\\*","i").exec(t);if(r){r=r[1];let u=l(r);return u=unescape(u),u=c(u),u=d(u),i(u)}if(r=o(t),r){const u=d(r);return i(u)}if(r=n("filename","i").exec(t),r){r=r[1];let u=l(r);return u=d(u),i(u)}function n(u,h){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function s(u,h){if(u){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(u,{fatal:!0}),m=Rj(h);h=f.decode(m),e=!1}catch{}}return h}function i(u){return e&&/[\x80-\xff]/.test(u)&&(u=s("utf-8",u),e&&(u=s("iso-8859-1",u))),u}function o(u){const h=[];let f;const m=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=m.exec(u))!==null;){let[,p,v,g]=f;if(p=parseInt(p,10),p in h){if(p===0)break;continue}h[p]=[v,g]}const x=[];for(let p=0;p<h.length&&p in h;++p){let[v,g]=h[p];g=l(g),v&&(g=unescape(g),p===0&&(g=c(g))),x.push(g)}return x.join("")}function l(u){if(u.startsWith('"')){const h=u.slice(1).split('\\"');for(let f=0;f<h.length;++f){const m=h[f].indexOf('"');m!==-1&&(h[f]=h[f].slice(0,m),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}u=h.join('"')}return u}function c(u){const h=u.indexOf("'");if(h===-1)return u;const f=u.slice(0,h),x=u.slice(h+1).replace(/^[^']*'/,"");return s(f,x)}function d(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,m,x){if(m==="q"||m==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(p,v){return String.fromCharCode(parseInt(v,16))}),s(f,x);try{x=atob(x)}catch{}return s(f,x)})}return""}function yT(t,e){const r=new Headers;if(!t||!e||typeof e!="object")return r;for(const n in e){const s=e[n];s!==void 0&&r.append(n,s)}return r}function bT({responseHeaders:t,isHttp:e,rangeChunkSize:r,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(t.get("Content-Length"),10);return!Number.isInteger(i)||(s.suggestedLength=i,i<=2*r)||n||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function wT(t){const e=t.get("Content-Disposition");if(e){let r=tce(e);if(r.includes("%"))try{r=decodeURIComponent(r)}catch{}if(hT(r))return r}return null}function Dj(t,e){return t===404||t===0&&e.startsWith("file:")?new Vu('Missing PDF "'+e+'".'):new _j(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function mz(t){return t===200||t===206}function pz(t,e,r){return{method:"GET",headers:t,signal:r.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function xz(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(dr(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class MF{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=yT(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Jn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new rce(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new nce(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class rce{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange;const n=new Headers(e.headers),s=r.url;fetch(s,pz(n,this._withCredentials,this._abortController)).then(i=>{if(!mz(i.status))throw Dj(i.status,s);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=i.headers,{allowRangeRequests:l,suggestedLength:c}=bT({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=wT(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new zu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:xz(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class nce{constructor(e,r,n){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${r}-${n-1}`);const o=s.url;fetch(o,pz(i,this._withCredentials,this._abortController)).then(l=>{if(!mz(l.status))throw Dj(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:xz(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const y2=200,b2=206;function ace(t){const e=t.response;return typeof e!="string"?e:Rj(e).buffer}class sce{constructor({url:e,httpHeaders:r,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=yT(this.isHttp,r),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,r,n){const s={begin:e,end:r};for(const i in n)s[i]=n[i];return this.request(s)}requestFull(e){return this.request(e)}request(e){const r=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:r};r.open("GET",this.url),r.withCredentials=this.withCredentials;for(const[i,o]of this.headers)r.setRequestHeader(i,o);return this.isHttp&&"begin"in e&&"end"in e?(r.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=b2):s.expectedStatus=y2,r.responseType="arraybuffer",e.onError&&(r.onerror=function(i){e.onError(r.status)}),r.onreadystatechange=this.onStateChange.bind(this,n),r.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,r.send(null),n}onProgress(e,r){const n=this.pendingRequests[e];n&&n.onProgress?.(r)}onStateChange(e,r){const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){n.onError?.(s.status);return}const i=s.status||y2;if(!(i===y2&&n.expectedStatus===b2)&&i!==n.expectedStatus){n.onError?.(s.status);return}const l=ace(s);if(i===b2){const c=s.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);n.onDone({begin:parseInt(d[1],10),chunk:l})}else l?n.onDone({begin:0,chunk:l}):n.onError?.(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const r=this.pendingRequests[e].xhr;delete this.pendingRequests[e],r.abort()}}class ice{constructor(e){this._source=e,this._manager=new sce(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const r=this._rangeRequestReaders.indexOf(e);r>=0&&this._rangeRequestReaders.splice(r,1)}getFullReader(){return Jn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new oce(this._manager,this._source),this._fullRequestReader}getRangeReader(e,r){const n=new lce(this._manager,e,r);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class oce{constructor(e,r){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,r=this._manager.getRequestXhr(e),n=new Headers(r.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]})),{allowRangeRequests:s,suggestedLength:i}=bT({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=wT(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Dj(e,this._url),this._headersCapability.reject(this._storedError);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class lce{constructor(e,r,n){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(r,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const r=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Dj(e,this._url);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const cce=/^[a-z][a-z0-9\-+.]+:/i;function dce(t){if(cce.test(t))return new URL(t);const e=ud.get("url");return new URL(e.pathToFileURL(t))}function gz(t,e,r){return t.protocol==="http:"?ud.get("http").request(t,{headers:e},r):ud.get("https").request(t,{headers:e},r)}class uce{constructor(e){this.source=e,this.url=dce(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=yT(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Jn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new mce(this):new hce(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=this.isFsUrl?new pce(this,e,r):new fce(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class vz{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=e.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new zu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class yz{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class hce extends vz{constructor(e){super(e);const r=Object.fromEntries(e.headers),n=s=>{if(s.statusCode===404){const c=new Vu(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(s);const i=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:l}=bT({responseHeaders:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=wT(i)};this._request=gz(this._url,r,n),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class fce extends yz{constructor(e,r,n){super(e);const s=Object.fromEntries(e.headers);s.Range=`bytes=${r}-${n-1}`;const i=o=>{if(o.statusCode===404){const l=new Vu(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(o)};this._request=gz(this._url,s,i),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class mce extends vz{constructor(e){super(e);const r=ud.get("fs");r.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Vu(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class pce extends yz{constructor(e,r,n){super(e);const s=ud.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:r,end:n-1}))}}const xce=1e5,ws=30,gce=.8;let aA=class yi{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#l=0;#o=0;#d=null;#c=null;#u=0;#i=0;#h=Object.create(null);#m=[];#f=null;#x=[];#g=new WeakMap;#p=null;static#v=new Map;static#b=new Map;static#E=new WeakMap;static#w=null;static#j=new Set;constructor({textContentSource:e,container:r,viewport:n}){if(e instanceof ReadableStream)this.#f=e;else if(typeof e=="object")this.#f=new ReadableStream({start(c){c.enqueue(e),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#c=r,this.#i=n.scale*(globalThis.devicePixelRatio||1),this.#u=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:i,pageX:o,pageY:l}=n.rawDims;this.#p=[1,0,0,-1,-o,l+i],this.#o=s,this.#l=i,yi.#T(),ju(r,n),this.#e.promise.finally(()=>{yi.#j.delete(this),this.#s=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:r}=fs.platform;return Er(this,"fontFamilyMap",new Map([["sans-serif",`${e&&r?"Calibri, ":""}sans-serif`],["monospace",`${e&&r?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#d.read().then(({value:r,done:n})=>{if(n){this.#e.resolve();return}this.#a??=r.lang,Object.assign(this.#h,r.styles),this.#P(r.items),e()},this.#e.reject)};return this.#d=this.#f.getReader(),yi.#j.add(this),e(),this.#e.promise}update({viewport:e,onBefore:r=null}){const n=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==this.#u&&(r?.(),this.#u=s,ju(this.#c,{rotation:s})),n!==this.#i){r?.(),this.#i=n;const i={div:null,properties:null,ctx:yi.#A(this.#a)};for(const o of this.#x)i.properties=this.#g.get(o),i.div=o,this.#N(i)}}cancel(){const e=new zu("TextLayer task cancelled.");this.#d?.cancel(e).catch(()=>{}),this.#d=null,this.#e.reject(e)}get textDivs(){return this.#x}get textContentItemsStr(){return this.#m}#P(e){if(this.#r)return;this.#s.ctx??=yi.#A(this.#a);const r=this.#x,n=this.#m;for(const s of e){if(r.length>xce){dr("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const i=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),s.id!==null&&this.#t.setAttribute("id",`${s.id}`),i.append(this.#t)}else s.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(s.str),this.#C(s)}}#C(e){const r=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#x.push(r);const s=Ct.transform(this.#p,e.transform);let i=Math.atan2(s[1],s[0]);const o=this.#h[e.fontName];o.vertical&&(i+=Math.PI/2);let l=this.#n&&o.fontSubstitution||o.fontFamily;l=yi.fontFamilyMap.get(l)||l;const c=Math.hypot(s[2],s[3]),d=c*yi.#R(l,this.#a);let u,h;i===0?(u=s[4],h=s[5]-d):(u=s[4]+d*Math.sin(i),h=s[5]-d*Math.cos(i));const f="calc(var(--scale-factor)*",m=r.style;this.#t===this.#c?(m.left=`${(100*u/this.#o).toFixed(2)}%`,m.top=`${(100*h/this.#l).toFixed(2)}%`):(m.left=`${f}${u.toFixed(2)}px)`,m.top=`${f}${h.toFixed(2)}px)`),m.fontSize=`${f}${(yi.#w*c).toFixed(2)}px)`,m.fontFamily=l,n.fontSize=c,r.setAttribute("role","presentation"),r.textContent=e.str,r.dir=e.dir,this.#n&&(r.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),i!==0&&(n.angle=i*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const p=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);p!==v&&Math.max(p,v)/Math.min(p,v)>1.5&&(x=!0)}if(x&&(n.canvasWidth=o.vertical?e.height:e.width),this.#g.set(r,n),this.#s.div=r,this.#s.properties=n,this.#N(this.#s),n.hasText&&this.#t.append(r),n.hasEOL){const p=document.createElement("br");p.setAttribute("role","presentation"),this.#t.append(p)}}#N(e){const{div:r,properties:n,ctx:s}=e,{style:i}=r;let o="";if(yi.#w>1&&(o=`scale(${1/yi.#w})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=i,{canvasWidth:c,fontSize:d}=n;yi.#k(s,d*this.#i,l);const{width:u}=s.measureText(r.textContent);u>0&&(o=`scaleX(${c*this.#i/u}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(i.transform=o)}static cleanup(){if(!(this.#j.size>0)){this.#v.clear();for(const{canvas:e}of this.#b.values())e.remove();this.#b.clear()}}static#A(e=null){let r=this.#b.get(e||="");if(!r){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),r=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(e,r),this.#E.set(r,{size:0,family:""})}return r}static#k(e,r,n){const s=this.#E.get(e);r===s.size&&n===s.family||(e.font=`${r}px ${n}`,s.size=r,s.family=n)}static#T(){if(this.#w!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#w=e.getBoundingClientRect().height,e.remove()}static#R(e,r){const n=this.#v.get(e);if(n)return n;const s=this.#A(r);s.canvas.width=s.canvas.height=ws,this.#k(s,ws,e);const i=s.measureText("");let o=i.fontBoundingBoxAscent,l=Math.abs(i.fontBoundingBoxDescent);if(o){const u=o/(o+l);return this.#v.set(e,u),s.canvas.width=s.canvas.height=0,u}s.strokeStyle="red",s.clearRect(0,0,ws,ws),s.strokeText("g",0,0);let c=s.getImageData(0,0,ws,ws).data;l=0;for(let u=c.length-1-3;u>=0;u-=4)if(c[u]>0){l=Math.ceil(u/4/ws);break}s.clearRect(0,0,ws,ws),s.strokeText("A",0,ws),c=s.getImageData(0,0,ws,ws).data,o=0;for(let u=0,h=c.length;u<h;u+=4)if(c[u]>0){o=ws-Math.floor(u/4/ws);break}s.canvas.width=s.canvas.height=0;const d=o?o/(o+l):gce;return this.#v.set(e,d),d}};class Xx{static textContent(e){const r=[],n={items:r,styles:Object.create(null)};function s(i){if(!i)return;let o=null;const l=i.name;if(l==="#text")o=i.value;else if(Xx.shouldBuildText(l))i?.attributes?.textContent?o=i.attributes.textContent:i.value&&(o=i.value);else return;if(o!==null&&r.push({str:o}),!!i.children)for(const c of i.children)s(c)}return s(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const vce=65536,yce=100,bce=5e3,wce=Za?Rle:Tle,jce=Za?Ile:cz,Nce=Za?_le:Ole,Ece=Za?Fle:hz;function Sce(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new jT,{docId:r}=e,n=t.url?Ace(t.url):null,s=t.data?Cce(t.data):null,i=t.httpHeaders||null,o=t.withCredentials===!0,l=t.password??null,c=t.range instanceof bz?t.range:null,d=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:vce;let u=t.worker instanceof ca?t.worker:null;const h=t.verbosity,f=typeof t.docBaseUrl=="string"&&!Fj(t.docBaseUrl)?t.docBaseUrl:null,m=typeof t.cMapUrl=="string"?t.cMapUrl:null,x=t.cMapPacked!==!1,p=t.CMapReaderFactory||jce,v=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,g=t.StandardFontDataFactory||Ece,w=t.stopAtErrors!==!0,N=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,j=t.isEvalSupported!==!1,b=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Za,S=typeof t.isChrome=="boolean"?t.isChrome:!fs.platform.isFirefox&&typeof window<"u"&&!!window?.chrome,A=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,E=typeof t.disableFontFace=="boolean"?t.disableFontFace:Za,P=t.fontExtraProperties===!0,O=t.enableXfa===!0,k=t.ownerDocument||globalThis.document,L=t.disableRange===!0,R=t.disableStream===!0,_=t.disableAutoFetch===!0,B=t.pdfBug===!0,I=t.CanvasFactory||wce,C=t.FilterFactory||Nce,D=t.enableHWA===!0,W=c?c.length:t.length??NaN,K=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Za&&!E,H=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:p===cz&&g===hz&&m&&v&&Tp(m,document.baseURI)&&Tp(v,document.baseURI);t.canvasFactory&&SF("`canvasFactory`-instance option, please use `CanvasFactory` instead."),t.filterFactory&&SF("`filterFactory`-instance option, please use `FilterFactory` instead.");const G=null;ole(h);const ee={canvasFactory:new I({ownerDocument:k,enableHWA:D}),filterFactory:new C({docId:r,ownerDocument:k}),cMapReaderFactory:H?null:new p({baseUrl:m,isCompressed:x}),standardFontDataFactory:H?null:new g({baseUrl:v})};if(!u){const U={verbosity:h,port:ox.workerPort};u=U.port?ca.fromPort(U):new ca(U),e._worker=u}const Q={docId:r,apiVersion:"4.8.69",data:s,password:l,disableAutoFetch:_,rangeChunkSize:d,length:W,docBaseUrl:f,enableXfa:O,evaluatorOptions:{maxImageSize:N,disableFontFace:E,ignoreErrors:w,isEvalSupported:j,isOffscreenCanvasSupported:b,isChrome:S,canvasMaxAreaInBytes:A,fontExtraProperties:P,useSystemFonts:K,cMapUrl:H?m:null,standardFontDataUrl:H?v:null}},te={disableFontFace:E,fontExtraProperties:P,ownerDocument:k,pdfBug:B,styleElement:G,loadingParams:{disableAutoFetch:_,enableXfa:O}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const U=u.messageHandler.sendWithPromise("GetDocRequest",Q,s?[s.buffer]:null);let q;if(c)q=new Zle(c,{disableRange:L,disableStream:R});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");let ne;Za?ne=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Tp(n)?MF:uce:ne=Tp(n)?MF:ice,q=new ne({url:n,length:W,httpHeaders:i,withCredentials:o,rangeChunkSize:d,disableRange:L,disableStream:R})}return U.then(ne=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const fe=new Op(r,ne,u.port),pe=new Oce(fe,e,q,te,ee);e._transport=pe,fe.send("Ready",null)})}).catch(e._capability.reject),e}function Ace(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(Za&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Cce(t){if(Za&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Rj(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function LF(t){return typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0}class jT{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${jT.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}let bz=class{constructor(e,r,n=!1,s=null){this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,r){for(const n of this._rangeListeners)n(e,r)}onDataProgress(e,r){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,r)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,r){ln("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class kce{constructor(e,r){this._pdfInfo=e,this._transport=r}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Er(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(r)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Pce{#e=null;#t=!1;constructor(e,r,n,s=!1){this._pageIndex=e,this._pageInfo=r,this._transport=n,this._stats=s?new EF:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new wz,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:i=!1}={}){return new c0({viewBox:this.view,scale:e,rotation:r,offsetX:n,offsetY:s,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Er(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:r,intent:n="display",annotationMode:s=Tc.ENABLE,transform:i=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:u=null,isEditing:h=!1}){this._stats?.time("Overall");const f=this._transport.getRenderingIntent(n,s,u,h),{renderingIntent:m,cacheKey:x}=f;this.#t=!1,this.#n(),l||=this._transport.getOptionalContentConfig(m);let p=this._intentStates.get(x);p||(p=Object.create(null),this._intentStates.set(x,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const v=!!(m&Us.PRINT);p.displayReadyCapability||(p.displayReadyCapability=Promise.withResolvers(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(f));const g=j=>{p.renderTasks.delete(w),(this._maybeCleanupAfterRender||v)&&(this.#t=!0),this.#r(!v),j?(w.capability.reject(j),this._abortOperatorList({intentState:p,reason:j instanceof Error?j:new Error(j)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new Bh({callback:g,params:{canvasContext:e,viewport:r,transform:i,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:d});(p.renderTasks||=new Set).add(w);const N=w.task;return Promise.all([p.displayReadyCapability.promise,l]).then(([j,b])=>{if(this.destroyed){g();return}if(this._stats?.time("Rendering"),!(b.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:j,optionalContentConfig:b}),w.operatorListChanged()}).catch(g),N}getOperatorList({intent:e="display",annotationMode:r=Tc.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){function i(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,r,n,s,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=i,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||=new Set).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Xx.textContent(n));const r=this.streamTextContent(e);return new Promise(function(n,s){function i(){o.read().then(function({value:c,done:d}){if(d){n(l);return}l.lang??=c.lang,Object.assign(l.styles,c.styles),l.items.push(...c.items),i()},s)}const o=r.getReader(),l={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const n of r.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,this.#n(),Promise.all(e)}cleanup(e=!1){this.#t=!0;const r=this.#r(!1);return e&&r&&(this._stats&&=new EF),r}#r(e=!1){if(this.#n(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#r(!1)},bce),!1;for(const{renderTasks:r,operatorList:n}of this._intentStates.values())if(r.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#n(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,r){const n=this._intentStates.get(r);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,r){for(let n=0,s=e.length;n<s;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(const n of r.renderTasks)n.operatorListChanged();e.lastChunk&&this.#r(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:n,modifiedIds:s}){const{map:i,transfer:o}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:i,modifiedIds:s},o).getReader(),d=this._intentStates.get(r);d.streamReader=c;const u=()=>{c.read().then(({value:h,done:f})=>{if(f){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,d),u())},h=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const f of d.renderTasks)f.operatorListChanged();this.#r(!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(h);else if(d.opListReadCapability)d.opListReadCapability.reject(h);else throw h}})};u()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(r instanceof uT){let s=yce;r.extraDelay>0&&r.extraDelay<1e3&&(s+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},s);return}}if(e.streamReader.cancel(new zu(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,i]of this._intentStates)if(i===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}class Tce{#e=new Map;#t=Promise.resolve();postMessage(e,r){const n={data:structuredClone(e,r?{transfer:r}:null)};this.#t.then(()=>{for(const[s]of this.#e)s.call(this,n)})}addEventListener(e,r,n=null){let s=null;if(n?.signal instanceof AbortSignal){const{signal:i}=n;if(i.aborted){dr("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,r);s=()=>i.removeEventListener("abort",o),i.addEventListener("abort",o)}this.#e.set(r,s)}removeEventListener(e,r){this.#e.get(r)?.(),this.#e.delete(r)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}class ca{static#e=0;static#t=!1;static#r;static{Za&&(this.#t=!0,ox.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,r)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const s=new URL(r,n);return n.origin===s.origin},this._createCDNWrapper=e=>{const r=`await import("${e}");`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))}}constructor({name:e=null,port:r=null,verbosity:n=lle()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,r){if(ca.#r?.has(r))throw new Error("Cannot use more than one PDFWorker per port.");(ca.#r||=new WeakMap).set(r,this),this._initializeFromPort(r);return}this._initialize()}get promise(){return Za?Promise.all([ud.promise,this._readyCapability.promise]):this._readyCapability.promise}#n(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Op("main","worker",e),this._messageHandler.on("ready",function(){}),this.#n()}_initialize(){if(ca.#t||ca.#a){this._setupFakeWorker();return}let{workerSrc:e}=ca;try{ca._isSameOrigin(window.location.href,e)||(e=ca._createCDNWrapper(new URL(e,window.location).href));const r=new Worker(e,{type:"module"}),n=new Op("main","worker",r),s=()=>{i.abort(),n.destroy(),r.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController;r.addEventListener("error",()=>{this._webWorker||s()},{signal:i.signal}),n.on("test",l=>{if(i.abort(),this.destroyed||!l){s();return}this._messageHandler=n,this._port=r,this._webWorker=r,this.#n()}),n.on("ready",l=>{if(i.abort(),this.destroyed){s();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};o();return}catch{Oj("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){ca.#t||(dr("Setting up fake worker."),ca.#t=!0),ca._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const r=new Tce;this._port=r;const n=`fake${ca.#e++}`,s=new Op(n+"_worker",n,r);e.setup(s,r),this._messageHandler=new Op(n,n+"_worker",r),this.#n()}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ca.#r?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const r=this.#r?.get(e.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new ca(e)}static get workerSrc(){if(ox.workerSrc)return ox.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#a(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Er(this,"_setupFakeWorkerGlobal",(async()=>this.#a?this.#a:(await import(this.workerSrc)).WorkerMessageHandler)())}}class Oce{#e=new Map;#t=new Map;#r=new Map;#n=new Map;#a=null;constructor(e,r,n,s,i){this.messageHandler=e,this.loadingTask=r,this.commonObjs=new wz,this.fontLoader=new kle({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(e,r=null){const n=this.#e.get(e);if(n)return n;const s=this.messageHandler.sendWithPromise(e,r);return this.#e.set(e,s),s}get annotationStorage(){return Er(this,"annotationStorage",new xT)}getRenderingIntent(e,r=Tc.ENABLE,n=null,s=!1,i=!1){let o=Us.DISPLAY,l=eA;switch(e){case"any":o=Us.ANY;break;case"display":break;case"print":o=Us.PRINT;break;default:dr(`getRenderingIntent - invalid intent: ${e}`)}const c=o&Us.PRINT&&n instanceof iz?n:this.annotationStorage;switch(r){case Tc.DISABLE:o+=Us.ANNOTATIONS_DISABLE;break;case Tc.ENABLE:break;case Tc.ENABLE_FORMS:o+=Us.ANNOTATIONS_FORMS;break;case Tc.ENABLE_STORAGE:o+=Us.ANNOTATIONS_STORAGE,l=c.serializable;break;default:dr(`getRenderingIntent - invalid annotationMode: ${r}`)}s&&(o+=Us.IS_EDITING),i&&(o+=Us.OPLIST);const{ids:d,hash:u}=c.modifiedIds,h=[o,l.hash,u];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),aA.cleanup(),this._networkStream?.cancelAllRequests(new zu("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,s)=>{Jn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},s.onPull=()=>{this._fullReader.read().then(function({value:i,done:o}){if(o){s.close();return}Jn(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{s.error(i)})},s.onCancel=i=>{this._fullReader.cancel(i),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:i,contentLength:o}=this._fullReader;return(!s||!i)&&(this._lastProgress&&r.onProgress?.(this._lastProgress),this._fullReader.onProgress=l=>{r.onProgress?.({loaded:l.loaded,total:l.total})}),{isStreamingSupported:s,isRangeSupported:i,contentLength:o}}),e.on("GetRangeReader",(n,s)=>{Jn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(n.begin,n.end);if(!i){s.close();return}s.onPull=()=>{i.read().then(function({value:o,done:l}){if(l){s.close();return}Jn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{i.cancel(o),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new kce(n,this))}),e.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new QS(n.message,n.code);break;case"InvalidPDFException":s=new rz(n.message);break;case"MissingPDFException":s=new Vu(n.message);break;case"UnexpectedResponseException":s=new _j(n.message,n.status);break;case"UnknownErrorException":s=new ZS(n.message,n.details);break;default:ln("DocException - expected a valid Error.")}r._capability.reject(s)}),e.on("PasswordRequest",n=>{if(this.#a=Promise.withResolvers(),r.onPassword){const s=i=>{i instanceof Error?this.#a.reject(i):this.#a.resolve({password:i})};try{r.onPassword(s,n.code)}catch(i){this.#a.reject(i)}}else this.#a.reject(new QS(n.message,n.code));return this.#a.promise}),e.on("DataLoaded",n=>{r.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,s,i])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in i){const f=i.error;dr(`Error during font loading: ${f}`),this.commonObjs.resolve(n,f);break}const d=c&&globalThis.FontInspector?.enabled?(f,m)=>globalThis.FontInspector.fontAdded(f,m):null,u=new Ple(i,{disableFontFace:o,inspectFont:d});this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&u.data&&(u.data=null),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":const{imageRef:h}=i;Jn(h,"The imageRef must be defined.");for(const f of this.#t.values())for(const[,m]of f.objs)if(m?.ref===h)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,i);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([n,s,i,o])=>{if(this.destroyed)return;const l=this.#t.get(s);if(!l.objs.has(n)){if(l._intentStates.size===0){o?.bitmap?.close();return}switch(i){case"Image":l.objs.resolve(n,o),o?.dataLen>nle&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",n=>{this.destroyed||r.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&dr("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=e-1,n=this.#r.get(r);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&this.#n.set(i.refStr,e);const o=new Pce(r,i,this,this._params.pdfBug);return this.#t.set(r,o),o});return this.#r.set(r,s),s}getPageIndex(e){return LF(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(r=>new Qle(r,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",r=this.#e.get(e);if(r)return r;const n=this.messageHandler.sendWithPromise(e,null).then(s=>({info:s[0],metadata:s[1]?new Xle(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of this.#t.values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),aA.cleanup()}}cachedPageNumber(e){if(!LF(e))return null;const r=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(r)??null}}const fv=Symbol("INITIAL_DATA");class wz{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:fv}}get(e,r=null){if(r){const s=this.#t(e);return s.promise.then(()=>r(s.data)),null}const n=this.#e[e];if(!n||n.data===fv)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const r=this.#e[e];return!!r&&r.data!==fv}resolve(e,r=null){const n=this.#t(e);n.data=r,n.resolve()}clear(){for(const e in this.#e){const{data:r}=this.#e[e];r?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:r}=this.#e[e];r!==fv&&(yield[e,r])}}}class _ce{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:r}=this.#e;return e.form||e.canvas&&r?.size>0}}class Bh{#e=null;static#t=new WeakSet;constructor({callback:e,params:r,objs:n,commonObjs:s,annotationCanvasMap:i,operatorList:o,pageIndex:l,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:f=null}){this.callback=e,this.params=r,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new _ce(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){if(this.cancelled)return;if(this._canvas){if(Bh.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Bh.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:i,background:o}=this.params;this.gfx=new nf(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:s,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,r=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Bh.#t.delete(this._canvas),this.callback(e||new uT(`Rendering cancelled, page ${this._pageIndex+1}`,r))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Bh.#t.delete(this._canvas),this.callback())))}}const Rce="4.8.69",Ice="3634dab10";function BF(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function tp(t){return Math.max(0,Math.min(255,255*t))}class $F{static CMYK_G([e,r,n,s]){return["G",1-Math.min(1,.3*e+.59*n+.11*r+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=tp(e),[e,e,e]}static G_HTML([e]){const r=BF(e);return`#${r}${r}${r}`}static RGB_G([e,r,n]){return["G",.3*e+.59*r+.11*n]}static RGB_rgb(e){return e.map(tp)}static RGB_HTML(e){return`#${e.map(BF).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,r,n,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,n+s),1-Math.min(1,r+s)]}static CMYK_rgb([e,r,n,s]){return[tp(1-Math.min(1,e+s)),tp(1-Math.min(1,n+s)),tp(1-Math.min(1,r+s))]}static CMYK_HTML(e){const r=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(r)}static RGB_CMYK([e,r,n]){const s=1-e,i=1-r,o=1-n,l=Math.min(s,i,o);return["CMYK",s,i,o,l]}}class Fce{create(e,r,n=!1){if(e<=0||r<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${r}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${r}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ln("Abstract method `_createSVG` called.")}}class NT extends Fce{_createSVG(e){return document.createElementNS(wl,e)}}class jz{static setupStorage(e,r,n,s,i){const o=s.getValue(r,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),i==="print")break;e.addEventListener("input",l=>{s.setValue(r,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",l=>{s.setValue(r,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),i==="print")break;e.addEventListener("input",l=>{s.setValue(r,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of n.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;s.setValue(r,{value:d})});break}}static setAttributes({html:e,element:r,storage:n=null,intent:s,linkService:i}){const{attributes:o}=r,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[c,d]of Object.entries(o))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}l&&i.addLinkAttributes(e,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(e,o.dataId,r,n)}static render(e){const r=e.annotationStorage,n=e.linkService,s=e.xfaHtml,i=e.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:i,linkService:n});const l=i!=="richText",c=e.div;if(c.append(o),e.viewport){const h=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=h}l&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const h=document.createTextNode(s.value);o.append(h),l&&Xx.shouldBuildText(s.name)&&d.push(h)}return{textDivs:d}}const u=[[s,-1,o]];for(;u.length>0;){const[h,f,m]=u.at(-1);if(f+1===h.children.length){u.pop();continue}const x=h.children[++u.at(-1)[1]];if(x===null)continue;const{name:p}=x;if(p==="#text"){const g=document.createTextNode(x.value);d.push(g),m.append(g);continue}const v=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,p):document.createElement(p);if(m.append(v),x.attributes&&this.setAttributes({html:v,element:x,storage:r,intent:i,linkService:n}),x.children?.length>0)u.push([x,-1,v]);else if(x.value){const g=document.createTextNode(x.value);l&&Xx.shouldBuildText(p)&&d.push(g),v.append(g)}}for(const h of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const r=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=r,e.div.hidden=!1}}const u0=1e3,Dce=9,Nu=new WeakSet;function Dl(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class Mce{static create(e){switch(e.data.annotationType){case qn.LINK:return new Nz(e);case qn.TEXT:return new Lce(e);case qn.WIDGET:switch(e.data.fieldType){case"Tx":return new Bce(e);case"Btn":return e.data.radioButton?new Ez(e):e.data.checkBox?new Uce(e):new Vce(e);case"Ch":return new zce(e);case"Sig":return new $ce(e)}return new Wu(e);case qn.POPUP:return new sA(e);case qn.FREETEXT:return new Sz(e);case qn.LINE:return new qce(e);case qn.SQUARE:return new Hce(e);case qn.CIRCLE:return new Gce(e);case qn.POLYLINE:return new Az(e);case qn.CARET:return new Xce(e);case qn.INK:return new ET(e);case qn.POLYGON:return new Kce(e);case qn.HIGHLIGHT:return new Cz(e);case qn.UNDERLINE:return new Yce(e);case qn.SQUIGGLY:return new Qce(e);case qn.STRIKEOUT:return new Zce(e);case qn.STAMP:return new kz(e);case qn.FILEATTACHMENT:return new Jce(e);default:return new _n(e)}}}class _n{#e=null;#t=!1;#r=null;constructor(e,{isRenderable:r=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,r&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:r,richText:n}){return!!(e?.str||r?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return _n._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:r}=e;r&&this.#n(r),this.#r?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:r},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:l,pageY:c}}}}=this;n?.splice(0,4,...e);const{width:d,height:u}=Dl(e);r.left=`${100*(e[0]-l)/i}%`,r.top=`${100*(o-e[3]+c)/o}%`,s===0?(r.width=`${100*d/i}%`,r.height=`${100*u/o}%`):this.setRotation(s)}_createContainer(e){const{data:r,parent:{page:n,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",r.id),this instanceof Wu||(i.tabIndex=u0);const{style:o}=i;if(o.zIndex=this.parent.zIndex++,r.alternativeText&&(i.title=r.alternativeText),r.noRotate&&i.classList.add("norotate"),!r.rect||this instanceof sA){const{rotation:p}=r;return!r.hasOwnCanvas&&p!==0&&this.setRotation(p,i),i}const{width:l,height:c}=Dl(r.rect);if(!e&&r.borderStyle.width>0){o.borderWidth=`${r.borderStyle.width}px`;const p=r.borderStyle.horizontalCornerRadius,v=r.borderStyle.verticalCornerRadius;if(p>0||v>0){const w=`calc(${p}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;o.borderRadius=w}else if(this instanceof Ez){const w=`calc(${l}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;o.borderRadius=w}switch(r.borderStyle.style){case Jm.SOLID:o.borderStyle="solid";break;case Jm.DASHED:o.borderStyle="dashed";break;case Jm.BEVELED:dr("Unimplemented border style: beveled");break;case Jm.INSET:dr("Unimplemented border style: inset");break;case Jm.UNDERLINE:o.borderBottomStyle="solid";break}const g=r.borderColor||null;g?(this.#t=!0,o.borderColor=Ct.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):o.borderWidth=0}const d=Ct.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:h,pageX:f,pageY:m}=s.rawDims;o.left=`${100*(d[0]-f)/u}%`,o.top=`${100*(d[1]-m)/h}%`;const{rotation:x}=r;return r.hasOwnCanvas||x===0?(o.width=`${100*l/u}%`,o.height=`${100*c/h}%`):this.setRotation(x,i),i}setRotation(e,r=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:i,height:o}=Dl(this.data.rect);let l,c;e%180===0?(l=100*i/n,c=100*o/s):(l=100*o/n,c=100*i/s),r.style.width=`${l}%`,r.style.height=`${c}%`,r.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(r,n,s)=>{const i=s.detail[r],o=i[0],l=i.slice(1);s.target.style[n]=$F[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:$F[`${o}_rgb`](l)})};return Er(this,"_commonActions",{display:r=>{const{display:n}=r.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:r=>{this.annotationStorage.setValue(this.data.id,{noPrint:!r.detail.print})},hidden:r=>{const{hidden:n}=r.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.target.disabled=r.detail.readonly},required:r=>{this._setRequired(r.target,r.detail.required)},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)},rotation:r=>{const n=r.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,r){const n=this._commonActions;for(const s of Object.keys(r.detail))(e[s]||n[s])?.(r)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const n=this._commonActions;for(const[s,i]of Object.entries(r)){const o=n[s];if(o){const l={detail:{[s]:i},target:e};o(l),delete r[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[r,n,s,i]=this.data.rect.map(p=>Math.fround(p));if(e.length===8){const[p,v,g,w]=e.subarray(2,6);if(s===p&&i===v&&r===g&&n===w)return}const{style:o}=this.container;let l;if(this.#t){const{borderColor:p,borderWidth:v}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${p}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const c=s-r,d=i-n,{svgFactory:u}=this,h=u.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=u.createElement("defs");h.append(f);const m=u.createElement("clipPath"),x=`clippath_${this.data.id}`;m.setAttribute("id",x),m.setAttribute("clipPathUnits","objectBoundingBox"),f.append(m);for(let p=2,v=e.length;p<v;p+=8){const g=e[p],w=e[p+1],N=e[p+2],j=e[p+3],b=u.createElement("rect"),S=(N-r)/c,A=(i-w)/d,E=(g-N)/c,P=(w-j)/d;b.setAttribute("x",S),b.setAttribute("y",A),b.setAttribute("width",E),b.setAttribute("height",P),m.append(b),l?.push(`<rect vector-effect="non-scaling-stroke" x="${S}" y="${A}" width="${E}" height="${P}"/>`)}this.#t&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(h),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:e}=this,r=this.#r=new sA({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]});this.parent.div.append(r.render())}render(){ln("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:i,id:o,exportValues:l}of s){if(i===-1||o===r)continue;const c=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!Nu.has(d)){dr(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:c,domElement:d})}return n}for(const s of document.getElementsByName(e)){const{exportValue:i}=s,o=s.getAttribute("data-element-id");o!==r&&Nu.has(s)&&n.push({id:o,exportValue:i,domElement:s})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const r of e)r.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:r}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:r})})}}class Nz extends _n{constructor(e,r=null){super(e,{isRenderable:!0,ignoreBorder:!!r?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:r}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let s=!1;return e.url?(r.addLinkAttributes(n,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(n,e.action),s=!0):e.attachment?(this.#t(n,e.attachment,e.attachmentDest),s=!0):e.setOCGState?(this.#r(n,e.setOCGState),s=!0):e.dest?(this._bindLink(n,e.dest),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),s=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(n,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(n),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,r){e.href=this.linkService.getDestinationHash(r),e.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&this.#e()}_bindNamedAction(e,r){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(r),!1),this.#e()}#t(e,r,n=null){e.href=this.linkService.getAnchorUrl(""),r.description&&(e.title=r.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(r.content,r.filename,n),!1),this.#e()}#r(e,r){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(r),!1),this.#e()}_bindJSAction(e,r){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const i=n.get(s);i&&(e[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,r){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){dr('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:s,refs:i,include:o}=r,l=[];if(s.length!==0||i.length!==0){const u=new Set(i);for(const h of s){const f=this._fieldObjects[h]||[];for(const{id:m}of f)u.add(m)}for(const h of Object.values(this._fieldObjects))for(const f of h)u.has(f.id)===o&&l.push(f)}else for(const u of Object.values(this._fieldObjects))l.push(...u);const c=this.annotationStorage,d=[];for(const u of l){const{id:h}=u;switch(d.push(h),u.type){case"text":{const m=u.defaultValue||"";c.setValue(h,{value:m});break}case"checkbox":case"radiobutton":{const m=u.defaultValue===u.exportValues;c.setValue(h,{value:m});break}case"combobox":case"listbox":{const m=u.defaultValue||"";c.setValue(h,{value:m});break}default:continue}const f=document.querySelector(`[data-element-id="${h}"]`);if(f){if(!Nu.has(f)){dr(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;f.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class Lce extends _n{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Wu extends _n{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return fs.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,r,n,s,i){n.includes("mouse")?e.addEventListener(n,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(n,o=>{if(n==="blur"){if(!r.focused||!o.relatedTarget)return;r.focused=!1}else if(n==="focus"){if(r.focused)return;r.focused=!0}i&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(o)}})})}_setEventListeners(e,r,n,s){for(const[i,o]of n)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(r||={focused:!1}),this._setEventListener(e,r,i,o,s),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,r,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,r,"focus","Focus",null))}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=r===null?"transparent":Ct.makeHexColor(r[0],r[1],r[2])}_setTextStyle(e){const r=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||Dce,i=e.style;let o;const l=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),u=Math.round(d/(p2*s))||1,h=d/u;o=Math.min(s,c(h/p2))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(s,c(d/p2))}i.fontSize=`calc(${o}px * var(--scale-factor))`,i.color=Ct.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(i.textAlign=r[this.data.textAlignment])}_setRequired(e,r){r?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",r)}}class Bce extends Wu{constructor(e){const r=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:r})}setPropertyOnSiblings(e,r,n,s){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[r]=n),i.setValue(o.id,{[s]:n})}render(){const e=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=e.getValue(r,{value:this.data.fieldValue});let i=s.value||"";const o=e.getValue(r,{charLimit:this.data.maxLen}).charLimit;o&&i.length>o&&(i=i.slice(0,o));let l=s.formattedValue||this.data.textContent?.join(`
`)||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:i,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=l??i,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",l??i),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Nu.add(n),n.setAttribute("data-element-id",r),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=u0,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",u=>{e.setValue(r,{value:u.target.value}),this.setPropertyOnSiblings(n,"value",u.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue??"";n.value=c.userValue=h,c.formattedValue=null});let d=u=>{const{formattedValue:h}=c;h!=null&&(u.target.value=h),u.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",h=>{if(c.focused)return;const{target:f}=h;c.userValue&&(f.value=c.userValue),c.lastCommittedValue=f.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",h=>{this.showElementAndHideCanvas(h.target);const f={value(m){c.userValue=m.detail.value??"",e.setValue(r,{value:c.userValue.toString()}),m.target.value=c.userValue},formattedValue(m){const{formattedValue:x}=m.detail;c.formattedValue=x,x!=null&&m.target!==document.activeElement&&(m.target.value=x),e.setValue(r,{formattedValue:x})},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{const{charLimit:x}=m.detail,{target:p}=m;if(x===0){p.removeAttribute("maxLength");return}p.setAttribute("maxLength",x);let v=c.userValue;!v||v.length<=x||(v=v.slice(0,x),p.value=c.userValue=v,e.setValue(r,{value:v}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:p.selectionStart,selEnd:p.selectionEnd}}))}};this._dispatchEventFromSandbox(f,h)}),n.addEventListener("keydown",h=>{c.commitKey=1;let f=-1;if(h.key==="Escape"?f=0:h.key==="Enter"&&!this.data.multiLine?f=2:h.key==="Tab"&&(c.commitKey=3),f===-1)return;const{value:m}=h.target;c.lastCommittedValue!==m&&(c.lastCommittedValue=m,c.userValue=m,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:m,willCommit:!0,commitKey:f,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}}))});const u=d;d=null,n.addEventListener("blur",h=>{if(!c.focused||!h.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{value:f}=h.target;c.userValue=f,c.lastCommittedValue!==f&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:f,willCommit:!0,commitKey:c.commitKey,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}}),u(h)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",h=>{c.lastCommittedValue=null;const{data:f,target:m}=h,{value:x,selectionStart:p,selectionEnd:v}=m;let g=p,w=v;switch(h.inputType){case"deleteWordBackward":{const N=x.substring(0,p).match(/\w*[^\w]*$/);N&&(g-=N[0].length);break}case"deleteWordForward":{const N=x.substring(p).match(/^[^\w]*\w*/);N&&(w+=N[0].length);break}case"deleteContentBackward":p===v&&(g-=1);break;case"deleteContentForward":p===v&&(w+=1);break}h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:x,change:f||"",willCommit:!1,selStart:g,selEnd:w}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.value)}if(d&&n.addEventListener("blur",d),this.data.comb){const h=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${h}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class $ce extends Wu{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Uce extends Wu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,n=r.id;let s=e.getValue(n,{value:r.exportValue===r.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Nu.add(i),i.setAttribute("data-element-id",n),i.disabled=r.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=r.fieldName,s&&i.setAttribute("checked",!0),i.setAttribute("exportValue",r.exportValue),i.tabIndex=u0,i.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const d of this._getElementsByName(l,n)){const u=c&&d.exportValue===r.exportValue;d.domElement&&(d.domElement.checked=u),e.setValue(d.id,{value:u})}e.setValue(n,{value:c})}),i.addEventListener("resetform",o=>{const l=r.defaultFieldValue||"Off";o.target.checked=l===r.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",o=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Ez extends Wu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,r=this.data,n=r.id;let s=e.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if(typeof s=="string"&&(s=s!==r.buttonValue,e.setValue(n,{value:s})),s)for(const o of this._getElementsByName(r.fieldName,n))e.setValue(o.id,{value:!1});const i=document.createElement("input");if(Nu.add(i),i.setAttribute("data-element-id",n),i.disabled=r.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=r.fieldName,s&&i.setAttribute("checked",!0),i.tabIndex=u0,i.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const d of this._getElementsByName(l,n))e.setValue(d.id,{value:!1});e.setValue(n,{value:c})}),i.addEventListener("resetform",o=>{const l=r.defaultFieldValue;o.target.checked=l!=null&&l===r.buttonValue}),this.enableScripting&&this.hasJSActions){const o=r.buttonValue;i.addEventListener("updatefromsandbox",l=>{const c={value:d=>{const u=o===d.detail.value;for(const h of this._getElementsByName(d.target.name)){const f=u&&h.id===n;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Vce extends Nz{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const r=e.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class zce extends Wu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,r=this.data.id,n=e.getValue(r,{value:this.data.fieldValue}),s=document.createElement("select");Nu.add(s),s.setAttribute("data-element-id",r),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=u0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",u=>{const h=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===h});for(const u of this.data.options){const h=document.createElement("option");h.textContent=u.displayValue,h.value=u.exportValue,n.value.includes(u.exportValue)&&(h.setAttribute("selected",!0),i=!1),s.append(h)}let o=null;if(i){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),s.prepend(u),o=()=>{u.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const l=u=>{const h=u?"value":"textContent",{options:f,multiple:m}=s;return m?Array.prototype.filter.call(f,x=>x.selected).map(x=>x[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=l(!1);const d=u=>{const h=u.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",u=>{const h={value(f){o?.();const m=f.detail.value,x=new Set(Array.isArray(m)?m:[m]);for(const p of s.options)p.selected=x.has(p.value);e.setValue(r,{value:l(!0)}),c=l(!1)},multipleSelection(f){s.multiple=!0},remove(f){const m=s.options,x=f.detail.remove;m[x].selected=!1,s.remove(x),m.length>0&&Array.prototype.findIndex.call(m,v=>v.selected)===-1&&(m[0].selected=!0),e.setValue(r,{value:l(!0),items:d(f)}),c=l(!1)},clear(f){for(;s.length!==0;)s.remove(0);e.setValue(r,{value:null,items:[]}),c=l(!1)},insert(f){const{index:m,displayValue:x,exportValue:p}=f.detail.insert,v=s.children[m],g=document.createElement("option");g.textContent=x,g.value=p,v?v.before(g):s.append(g),e.setValue(r,{value:l(!0),items:d(f)}),c=l(!1)},items(f){const{items:m}=f.detail;for(;s.length!==0;)s.remove(0);for(const x of m){const{displayValue:p,exportValue:v}=x,g=document.createElement("option");g.textContent=p,g.value=v,s.append(g)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(r,{value:l(!0),items:d(f)}),c=l(!1)},indices(f){const m=new Set(f.detail.indices);for(const x of f.target.options)x.selected=m.has(x.index);e.setValue(r,{value:l(!0)}),c=l(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,u)}),s.addEventListener("input",u=>{const h=l(!0),f=l(!1);e.setValue(r,{value:h}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):s.addEventListener("input",function(u){e.setValue(r,{value:l(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class sA extends _n{constructor(e){const{data:r,elements:n}=e;super(e,{isRenderable:_n._hasPopupData(r)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Wce({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",r.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(n=>`${dT}${n}`).join(",")),this.container}}class Wce{#e=this.#P.bind(this);#t=this.#k.bind(this);#r=this.#A.bind(this);#n=this.#N.bind(this);#a=null;#s=null;#l=null;#o=null;#d=null;#c=null;#u=null;#i=!1;#h=null;#m=null;#f=null;#x=null;#g=null;#p=null;#v=!1;constructor({container:e,color:r,elements:n,titleObj:s,modificationDate:i,contentsObj:o,richText:l,parent:c,rect:d,parentRect:u,open:h}){this.#s=e,this.#g=s,this.#l=o,this.#x=l,this.#c=c,this.#a=r,this.#f=d,this.#u=u,this.#d=n,this.#o=az.toDateObject(i),this.trigger=n.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",this.#n),f.addEventListener("mouseenter",this.#r),f.addEventListener("mouseleave",this.#t),f.classList.add("popupTriggerArea");for(const f of n)f.container?.addEventListener("keydown",this.#e);this.#s.hidden=!0,h&&this.#N()}render(){if(this.#h)return;const e=this.#h=document.createElement("div");if(e.className="popup",this.#a){const i=e.style.outlineColor=Ct.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`:e.style.backgroundColor=Ct.makeHexColor(...this.#a.map(l=>Math.floor(.7*(255-l)+l)))}const r=document.createElement("span");r.className="header";const n=document.createElement("h1");if(r.append(n),{dir:n.dir,str:n.textContent}=this.#g,e.append(r),this.#o){const i=document.createElement("span");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),r.append(i)}const s=this.#b;if(s)jz.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(this.#l);e.append(i)}this.#s.append(e)}get#b(){const e=this.#x,r=this.#l;return e?.str&&(!r?.str||r.str===e.str)&&this.#x.html||null}get#E(){return this.#b?.attributes?.style?.fontSize||0}get#w(){return this.#b?.attributes?.style?.color||null}#j(e){const r=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},s={style:{color:this.#w,fontSize:this.#E?`calc(${this.#E}px * var(--scale-factor))`:""}};for(const i of e.split(`
`))r.push({name:"span",value:i,attributes:s});return n}_formatContents({str:e,dir:r}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=r;const s=e.split(/(?:\r\n?|\n)/);for(let i=0,o=s.length;i<o;++i){const l=s[i];n.append(document.createTextNode(l)),i<o-1&&n.append(document.createElement("br"))}return n}#P(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#i)&&this.#N()}updateEdited({rect:e,popupContent:r}){this.#p||={contentsObj:this.#l,richText:this.#x},e&&(this.#m=null),r&&(this.#x=this.#j(r),this.#l=null),this.#h?.remove(),this.#h=null}resetEdited(){this.#p&&({contentsObj:this.#l,richText:this.#x}=this.#p,this.#p=null,this.#h?.remove(),this.#h=null,this.#m=null)}#C(){if(this.#m!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:r,pageHeight:n,pageX:s,pageY:i}}}=this.#c;let o=!!this.#u,l=o?this.#u:this.#f;for(const x of this.#d)if(!l||Ct.intersect(x.data.rect,l)!==null){l=x.data.rect,o=!0;break}const c=Ct.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),u=o?l[2]-l[0]+5:0,h=c[0]+u,f=c[1];this.#m=[100*(h-s)/r,100*(f-i)/n];const{style:m}=this.#s;m.left=`${this.#m[0]}%`,m.top=`${this.#m[1]}%`}#N(){this.#i=!this.#i,this.#i?(this.#A(),this.#s.addEventListener("click",this.#n),this.#s.addEventListener("keydown",this.#e)):(this.#k(),this.#s.removeEventListener("click",this.#n),this.#s.removeEventListener("keydown",this.#e))}#A(){this.#h||this.render(),this.isVisible?this.#i&&this.#s.classList.add("focused"):(this.#C(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#k(){this.#s.classList.remove("focused"),!(this.#i||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#s.hidden=!0)}maybeShow(){this.#v&&(this.#h||this.#A(),this.#v=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class Sz extends _n{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=or.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const r of this.textContent){const n=document.createElement("span");n.textContent=r,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class qce extends _n{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:r,height:n}=Dl(e.rect),s=this.svgFactory.create(r,n,!0),i=this.#e=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),s.append(i),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Hce extends _n{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:r,height:n}=Dl(e.rect),s=this.svgFactory.create(r,n,!0),i=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",r-i),o.setAttribute("height",n-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Gce extends _n{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:r,height:n}=Dl(e.rect),s=this.svgFactory.create(r,n,!0),i=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",r/2),o.setAttribute("cy",n/2),o.setAttribute("rx",r/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Az extends _n{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:r,borderStyle:n,popupRef:s}}=this;if(!r)return this.container;const{width:i,height:o}=Dl(e),l=this.svgFactory.create(i,o,!0);let c=[];for(let u=0,h=r.length;u<h;u+=2){const f=r[u]-e[0],m=e[3]-r[u+1];c.push(`${f},${m}`)}c=c.join(" ");const d=this.#e=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",c),d.setAttribute("stroke-width",n.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Kce extends Az{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Xce extends _n{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ET extends _n{#e=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?or.HIGHLIGHT:or.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:r,borderStyle:n,popupRef:s}}=this,{width:i,height:o}=Dl(e),l=this.svgFactory.create(i,o,!0);for(const c of r){let d=[];for(let h=0,f=c.length;h<f;h+=2){const m=c[h]-e[0],x=e[3]-c[h+1];d.push(`${m},${x}`)}d=d.join(" ");const u=this.svgFactory.createElement(this.svgElementName);this.#e.push(u),u.setAttribute("points",d),u.setAttribute("stroke-width",n.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Cz extends _n{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=or.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Yce extends _n{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Qce extends _n{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Zce extends _n{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class kz extends _n{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=or.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Jce extends _n{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:r}=this.data;this.filename=r.filename,this.content=r.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:r}=this;let n;r.hasAppearance||r.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:s}=fs.platform;return e.addEventListener("keydown",i=>{i.key==="Enter"&&(s?i.metaKey:i.ctrlKey)&&this.#t()}),!r.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let ede=class{#e=null;#t=null;#r=new Map;#n=null;constructor({div:e,accessibilityManager:r,annotationCanvasMap:n,annotationEditorUIManager:s,page:i,viewport:o,structTreeLayer:l}){this.div=e,this.#e=r,this.#t=n,this.#n=l||null,this.page=i,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return this.#r.size>0}async#a(e,r){const n=e.firstChild||e,s=n.id=`${dT}${r}`,i=await this.#n?.getAriaAttributes(s);if(i)for(const[o,l]of i)n.setAttribute(o,l);this.div.append(e),this.#e?.moveElementInDOM(this.div,e,n,!1)}async render(e){const{annotations:r}=e,n=this.div;ju(n,this.viewport);const s=new Map,i={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new NT,annotationStorage:e.annotationStorage||new xT,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of r){if(o.noHTML)continue;const l=o.annotationType===qn.POPUP;if(l){const u=s.get(o.id);if(!u)continue;i.elements=u}else{const{width:u,height:h}=Dl(o.rect);if(u<=0||h<=0)continue}i.data=o;const c=Mce.create(i);if(!c.isRenderable)continue;if(!l&&o.popupRef){const u=s.get(o.popupRef);u?u.push(c):s.set(o.popupRef,[c])}const d=c.render();o.hidden&&(d.style.visibility="hidden"),await this.#a(d,o.id),c._isEditable&&(this.#r.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}this.#s()}update({viewport:e}){const r=this.div;this.viewport=e,ju(r,{rotation:e.rotation}),this.#s(),r.hidden=!1}#s(){if(!this.#t)return;const e=this.div;for(const[r,n]of this.#t){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:i}=s;i?i.nodeName==="CANVAS"?i.replaceWith(n):i.classList.contains("annotationContent")?i.after(n):i.before(n):s.append(n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#r.values())}getEditableAnnotation(e){return this.#r.get(e)}};const mv=/\r\n?|\n/g;class Kn extends Xt{#e;#t="";#r=`${this.id}-editor`;#n=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Kn.prototype,r=i=>i.isEmpty(),n=dd.TRANSLATE_SMALL,s=dd.TRANSLATE_BIG;return Er(this,"_keyboardManager",new d0([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:r}]]))}static _type="freetext";static _editorType=or.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#e=e.color||Kn._defaultColor||Xt._defaultLineColor,this.#a=e.fontSize||Kn._defaultFontSize}static initialize(e,r){Xt.initialize(e,r);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,r){switch(e){case Yt.FREETEXT_SIZE:Kn._defaultFontSize=r;break;case Yt.FREETEXT_COLOR:Kn._defaultColor=r;break}}updateParams(e,r){switch(e){case Yt.FREETEXT_SIZE:this.#s(r);break;case Yt.FREETEXT_COLOR:this.#l(r);break}}static get defaultPropertiesToUpdate(){return[[Yt.FREETEXT_SIZE,Kn._defaultFontSize],[Yt.FREETEXT_COLOR,Kn._defaultColor||Xt._defaultLineColor]]}get propertiesToUpdate(){return[[Yt.FREETEXT_SIZE,this.#a],[Yt.FREETEXT_COLOR,this.#e]]}#s(e){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-this.#a)*this.parentScale),this.#a=s,this.#d()},n=this.#a;this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Yt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(e){const r=s=>{this.#e=this.editorDiv.style.color=s},n=this.#e;this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Yt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,r){this._uiManager.translateSelectedEditors(e,r,!0)}getInitialTranslation(){const e=this.parentScale;return[-Kn._internalPadding*e,-(Kn._internalPadding+this.#a)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(or.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#n=new AbortController;const e=this._uiManager.combinedSignal(this.#n);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#r),this._isDraggable=!0,this.#n?.abort(),this.#n=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const e=[];this.editorDiv.normalize();let r=null;for(const n of this.editorDiv.childNodes)r?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(Kn.#c(n)),r=n);return e.join(`
`)}#d(){const[e,r]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:s,div:i}=this,o=i.style.display,l=i.classList.contains("hidden");i.classList.remove("hidden"),i.style.display="hidden",s.div.append(this.div),n=i.getBoundingClientRect(),i.remove(),i.style.display=o,i.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/r):(this.width=n.height/e,this.height=n.width/r),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#t,r=this.#t=this.#o().trimEnd();if(e===r)return;const n=s=>{if(this.#t=s,!s){this.remove();return}this.#u(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{n(r)},undo:()=>{n(e)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Kn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,r;this.width&&(e=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#r),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#a}px * var(--scale-factor))`,n.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bb(this,this.div,["dblclick","keydown"]),this.width){const[s,i]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,u]=this.pageDimensions,[h,f]=this.pageTranslation;let m,x;switch(this.rotation){case 0:m=e+(o[0]-h)/d,x=r+this.height-(o[1]-f)/u;break;case 90:m=e+(o[0]-h)/d,x=r-(o[1]-f)/u,[l,c]=[c,-l];break;case 180:m=e-this.width+(o[0]-h)/d,x=r-(o[1]-f)/u,[l,c]=[-l,-c];break;case 270:m=e+(o[0]-h-this.height*u)/d,x=r+(o[1]-f-this.width*d)/u,[l,c]=[-c,l];break}this.setAt(m*s,x*i,l,c)}else this.setAt(e*s,r*i,this.width*s,this.height*i);this.#u(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(mv,"")}editorDivPaste(e){const r=e.clipboardData||window.clipboardData,{types:n}=r;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const s=Kn.#h(r.getData("text")||"").replaceAll(mv,`
`);if(!s)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const o=i.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),i.collapseToStart();return}const{startContainer:l,startOffset:c}=o,d=[],u=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(u.push(l.nodeValue.slice(c).replaceAll(mv,"")),m!==this.editorDiv){let x=d;for(const p of this.editorDiv.childNodes){if(p===m){x=u;continue}x.push(Kn.#c(p))}}d.push(l.nodeValue.slice(0,c).replaceAll(mv,""))}else if(l===this.editorDiv){let m=d,x=0;for(const p of this.editorDiv.childNodes)x++===c&&(m=u),m.push(Kn.#c(p))}this.#t=`${d.join(`
`)}${s}${u.join(`
`)}`,this.#u();const h=new Range;let f=d.reduce((m,x)=>m+x.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const x=m.nodeValue.length;if(f<=x){h.setStart(m,f),h.setEnd(m,f);break}f-=x}i.removeAllRanges(),i.addRange(h)}#u(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const e of this.#t.split(`
`)){const r=document.createElement("div");r.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(r)}}#i(){return this.#t.replaceAll(""," ")}static#h(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(e,r,n){let s=null;if(e instanceof Sz){const{data:{defaultAppearanceData:{fontSize:o,fontColor:l},rect:c,rotation:d,id:u,popupRef:h},textContent:f,textPosition:m,parent:{page:{pageNumber:x}}}=e;if(!f||f.length===0)return null;s=e={annotationType:or.FREETEXT,color:Array.from(l),fontSize:o,value:f.join(`
`),position:m,pageIndex:x-1,rect:c.slice(0),rotation:d,id:u,deleted:!1,popupRef:h}}const i=await super.deserialize(e,r,n);return i.#a=e.fontSize,i.#e=Ct.makeHexColor(...e.color),i.#t=Kn.#h(e.value),i.annotationElementId=e.id||null,i._initialData=s,i}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Kn._internalPadding*this.parentScale,n=this.getRect(r,r),s=Xt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),i={annotationType:or.FREETEXT,color:s,fontSize:this.#a,value:this.#i(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?i:this.annotationElementId&&!this.#m(i)?null:(i.id=this.annotationElementId,i)}#m(e){const{value:r,fontSize:n,color:s,pageIndex:i}=this._initialData;return this._hasBeenMoved||e.value!==r||e.fontSize!==n||e.color.some((o,l)=>o!==s[l])||e.pageIndex!==i}renderAnnotationElement(e){const r=super.renderAnnotationElement(e);if(this.deleted)return r;const{style:n}=r;n.fontSize=`calc(${this.#a}px * var(--scale-factor))`,n.color=this.#e,r.replaceChildren();for(const i of this.#t.split(`
`)){const o=document.createElement("div");o.append(i?document.createTextNode(i):document.createElement("br")),r.append(o)}const s=Kn._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(s,s),popupContent:this.#t}),r}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Pz{toSVGPath(){ln("Abstract method `toSVGPath` must be implemented.")}get box(){ln("Abstract getter `box` must be implemented.")}serialize(e,r){ln("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ln("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ln("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}class Qd{#e;#t=[];#r;#n;#a=[];#s=new Float64Array(18);#l;#o;#d;#c;#u;#i;#h=[];static#m=8;static#f=2;static#x=Qd.#m+Qd.#f;constructor({x:e,y:r},n,s,i,o,l=0){this.#e=n,this.#i=i*s,this.#n=o,this.#s.set([NaN,NaN,NaN,NaN,e,r],6),this.#r=l,this.#c=Qd.#m*s,this.#d=Qd.#x*s,this.#u=s,this.#h.push(e,r)}isEmpty(){return isNaN(this.#s[8])}#g(){const e=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[n,s,i,o]=this.#e;return[(this.#l+(e[0]-r[0])/2-n)/i,(this.#o+(e[1]-r[1])/2-s)/o,(this.#l+(r[0]-e[0])/2-n)/i,(this.#o+(r[1]-e[1])/2-s)/o]}add({x:e,y:r}){this.#l=e,this.#o=r;const[n,s,i,o]=this.#e;let[l,c,d,u]=this.#s.subarray(8,12);const h=e-d,f=r-u,m=Math.hypot(h,f);if(m<this.#d)return!1;const x=m-this.#c,p=x/m,v=p*h,g=p*f;let w=l,N=c;l=d,c=u,d+=v,u+=g,this.#h?.push(e,r);const j=-g/x,b=v/x,S=j*this.#i,A=b*this.#i;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([d+S,u+A],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([d-S,u-A],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([l+S,c+A],2),this.#a.push(NaN,NaN,NaN,NaN,(l+S-n)/i,(c+A-s)/o),this.#s.set([l-S,c-A],14),this.#t.push(NaN,NaN,NaN,NaN,(l-S-n)/i,(c-A-s)/o)),this.#s.set([w,N,l,c,d,u],6),!this.isEmpty()):(this.#s.set([w,N,l,c,d,u],6),Math.abs(Math.atan2(N-c,w-l)-Math.atan2(g,v))<Math.PI/2?([l,c,d,u]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((l+d)/2-n)/i,((c+u)/2-s)/o),[l,c,w,N]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((w+l)/2-n)/i,((N+c)/2-s)/o),!0):([w,N,l,c,d,u]=this.#s.subarray(0,6),this.#a.push(((w+5*l)/6-n)/i,((N+5*c)/6-s)/o,((5*l+d)/6-n)/i,((5*c+u)/6-s)/o,((l+d)/2-n)/i,((c+u)/2-s)/o),[d,u,l,c,w,N]=this.#s.subarray(12,18),this.#t.push(((w+5*l)/6-n)/i,((N+5*c)/6-s)/o,((5*l+d)/6-n)/i,((5*c+u)/6-s)/o,((l+d)/2-n)/i,((c+u)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,r=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#p();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);this.#b(n);for(let s=r.length-6;s>=6;s-=6)isNaN(r[s])?n.push(`L${r[s+4]} ${r[s+5]}`):n.push(`C${r[s]} ${r[s+1]} ${r[s+2]} ${r[s+3]} ${r[s+4]} ${r[s+5]}`);return this.#v(n),n.join(" ")}#p(){const[e,r,n,s]=this.#e,[i,o,l,c]=this.#g();return`M${(this.#s[2]-e)/n} ${(this.#s[3]-r)/s} L${(this.#s[4]-e)/n} ${(this.#s[5]-r)/s} L${i} ${o} L${l} ${c} L${(this.#s[16]-e)/n} ${(this.#s[17]-r)/s} L${(this.#s[14]-e)/n} ${(this.#s[15]-r)/s} Z`}#v(e){const r=this.#t;e.push(`L${r[4]} ${r[5]} Z`)}#b(e){const[r,n,s,i]=this.#e,o=this.#s.subarray(4,6),l=this.#s.subarray(16,18),[c,d,u,h]=this.#g();e.push(`L${(o[0]-r)/s} ${(o[1]-n)/i} L${c} ${d} L${u} ${h} L${(l[0]-r)/s} ${(l[1]-n)/i}`)}newFreeDrawOutline(e,r,n,s,i,o){return new Tz(e,r,n,s,i,o)}getOutlines(){const e=this.#a,r=this.#t,n=this.#s,[s,i,o,l]=this.#e,c=new Float64Array((this.#h?.length??0)+2);for(let h=0,f=c.length-2;h<f;h+=2)c[h]=(this.#h[h]-s)/o,c[h+1]=(this.#h[h+1]-i)/l;if(c[c.length-2]=(this.#l-s)/o,c[c.length-1]=(this.#o-i)/l,isNaN(n[6])&&!this.isEmpty())return this.#E(c);const d=new Float64Array(this.#a.length+24+this.#t.length);let u=e.length;for(let h=0;h<u;h+=2){if(isNaN(e[h])){d[h]=d[h+1]=NaN;continue}d[h]=e[h],d[h+1]=e[h+1]}u=this.#j(d,u);for(let h=r.length-6;h>=6;h-=6)for(let f=0;f<6;f+=2){if(isNaN(r[h+f])){d[u]=d[u+1]=NaN,u+=2;continue}d[u]=r[h+f],d[u+1]=r[h+f+1],u+=2}return this.#w(d,u),this.newFreeDrawOutline(d,c,this.#e,this.#u,this.#r,this.#n)}#E(e){const r=this.#s,[n,s,i,o]=this.#e,[l,c,d,u]=this.#g(),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(r[2]-n)/i,(r[3]-s)/o,NaN,NaN,NaN,NaN,(r[4]-n)/i,(r[5]-s)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,(r[16]-n)/i,(r[17]-s)/o,NaN,NaN,NaN,NaN,(r[14]-n)/i,(r[15]-s)/o],0),this.newFreeDrawOutline(h,e,this.#e,this.#u,this.#r,this.#n)}#w(e,r){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],r),r+=6}#j(e,r){const n=this.#s.subarray(4,6),s=this.#s.subarray(16,18),[i,o,l,c]=this.#e,[d,u,h,f]=this.#g();return e.set([NaN,NaN,NaN,NaN,(n[0]-i)/l,(n[1]-o)/c,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(s[0]-i)/l,(s[1]-o)/c],r),r+=24}}class Tz extends Pz{#e;#t=null;#r;#n;#a;#s;#l;constructor(e,r,n,s,i,o){super(),this.#l=e,this.#a=r,this.#e=n,this.#s=s,this.#r=i,this.#n=o,this.#c(o);const{x:l,y:c,width:d,height:u}=this.#t;for(let h=0,f=e.length;h<f;h+=2)e[h]=(e[h]-l)/d,e[h+1]=(e[h+1]-c)/u;for(let h=0,f=r.length;h<f;h+=2)r[h]=(r[h]-l)/d,r[h+1]=(r[h+1]-c)/u}toSVGPath(){const e=[`M${this.#l[4]} ${this.#l[5]}`];for(let r=6,n=this.#l.length;r<n;r+=6){if(isNaN(this.#l[r])){e.push(`L${this.#l[r+4]} ${this.#l[r+5]}`);continue}e.push(`C${this.#l[r]} ${this.#l[r+1]} ${this.#l[r+2]} ${this.#l[r+3]} ${this.#l[r+4]} ${this.#l[r+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,r,n,s],i){const o=n-e,l=s-r;let c,d;switch(i){case 0:c=this.#o(this.#l,e,s,o,-l),d=this.#o(this.#a,e,s,o,-l);break;case 90:c=this.#d(this.#l,e,r,o,l),d=this.#d(this.#a,e,r,o,l);break;case 180:c=this.#o(this.#l,n,r,-o,l),d=this.#o(this.#a,n,r,-o,l);break;case 270:c=this.#d(this.#l,n,s,-o,-l),d=this.#d(this.#a,n,s,-o,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}#o(e,r,n,s,i){const o=new Float64Array(e.length);for(let l=0,c=e.length;l<c;l+=2)o[l]=r+e[l]*s,o[l+1]=n+e[l+1]*i;return o}#d(e,r,n,s,i){const o=new Float64Array(e.length);for(let l=0,c=e.length;l<c;l+=2)o[l]=r+e[l+1]*s,o[l+1]=n+e[l]*i;return o}#c(e){const r=this.#l;let n=r[4],s=r[5],i=n,o=s,l=n,c=s,d=n,u=s;const h=e?Math.max:Math.min;for(let v=6,g=r.length;v<g;v+=6){if(isNaN(r[v]))i=Math.min(i,r[v+4]),o=Math.min(o,r[v+5]),l=Math.max(l,r[v+4]),c=Math.max(c,r[v+5]),u<r[v+5]?(d=r[v+4],u=r[v+5]):u===r[v+5]&&(d=h(d,r[v+4]));else{const w=Ct.bezierBoundingBox(n,s,...r.slice(v,v+6));i=Math.min(i,w[0]),o=Math.min(o,w[1]),l=Math.max(l,w[2]),c=Math.max(c,w[3]),u<w[3]?(d=w[2],u=w[3]):u===w[3]&&(d=h(d,w[2]))}n=r[v+4],s=r[v+5]}const f=i-this.#r,m=o-this.#r,x=l-i+2*this.#r,p=c-o+2*this.#r;this.#t={x:f,y:m,width:x,height:p,lastPoint:[d,u]}}get box(){return this.#t}newOutliner(e,r,n,s,i,o=0){return new Qd(e,r,n,s,i,o)}getNewOutline(e,r){const{x:n,y:s,width:i,height:o}=this.#t,[l,c,d,u]=this.#e,h=i*d,f=o*u,m=n*d+l,x=s*u+c,p=this.newOutliner({x:this.#a[0]*h+m,y:this.#a[1]*f+x},this.#e,this.#s,e,this.#n,r??this.#r);for(let v=2;v<this.#a.length;v+=2)p.add({x:this.#a[v]*h+m,y:this.#a[v+1]*f+x});return p.getOutlines()}get mustRemoveSelfIntersections(){return!0}}class UF{#e;#t=[];#r=[];constructor(e,r=0,n=0,s=!0){let i=1/0,o=-1/0,l=1/0,c=-1/0;const d=10**-4;for(const{x:v,y:g,width:w,height:N}of e){const j=Math.floor((v-r)/d)*d,b=Math.ceil((v+w+r)/d)*d,S=Math.floor((g-r)/d)*d,A=Math.ceil((g+N+r)/d)*d,E=[j,S,A,!0],P=[b,S,A,!1];this.#t.push(E,P),i=Math.min(i,j),o=Math.max(o,b),l=Math.min(l,S),c=Math.max(c,A)}const u=o-i+2*n,h=c-l+2*n,f=i-n,m=l-n,x=this.#t.at(s?-1:-2),p=[x[0],x[2]];for(const v of this.#t){const[g,w,N]=v;v[0]=(g-f)/u,v[1]=(w-m)/h,v[2]=(N-m)/h}this.#e={x:f,y:m,width:u,height:h,lastPoint:p}}getOutlines(){this.#t.sort((r,n)=>r[0]-n[0]||r[1]-n[1]||r[2]-n[2]);const e=[];for(const r of this.#t)r[3]?(e.push(...this.#o(r)),this.#s(r)):(this.#l(r),e.push(...this.#o(r)));return this.#n(e)}#n(e){const r=[],n=new Set;for(const o of e){const[l,c,d]=o;r.push([l,c,o],[l,d,o])}r.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=r.length;o<l;o+=2){const c=r[o][2],d=r[o+1][2];c.push(d),d.push(c),n.add(c),n.add(d)}const s=[];let i;for(;n.size>0;){const o=n.values().next().value;let[l,c,d,u,h]=o;n.delete(o);let f=l,m=c;for(i=[l,d],s.push(i);;){let x;if(n.has(u))x=u;else if(n.has(h))x=h;else break;n.delete(x),[l,c,d,u,h]=x,f!==l&&(i.push(f,m,l,m===c?c:d),f=l),m=m===c?d:c}i.push(f,m)}return new tde(s,this.#e)}#a(e){const r=this.#r;let n=0,s=r.length-1;for(;n<=s;){const i=n+s>>1,o=r[i][0];if(o===e)return i;o<e?n=i+1:s=i-1}return s+1}#s([,e,r]){const n=this.#a(e);this.#r.splice(n,0,[e,r])}#l([,e,r]){const n=this.#a(e);for(let s=n;s<this.#r.length;s++){const[i,o]=this.#r[s];if(i!==e)break;if(i===e&&o===r){this.#r.splice(s,1);return}}for(let s=n-1;s>=0;s--){const[i,o]=this.#r[s];if(i!==e)break;if(i===e&&o===r){this.#r.splice(s,1);return}}}#o(e){const[r,n,s]=e,i=[[r,n,s]],o=this.#a(s);for(let l=0;l<o;l++){const[c,d]=this.#r[l];for(let u=0,h=i.length;u<h;u++){const[,f,m]=i[u];if(!(d<=f||m<=c)){if(f>=c){if(m>d)i[u][1]=d;else{if(h===1)return[];i.splice(u,1),u--,h--}continue}i[u][2]=c,m>d&&i.push([r,d,m])}}}return i}}class tde extends Pz{#e;#t;constructor(e,r){super(),this.#t=e,this.#e=r}toSVGPath(){const e=[];for(const r of this.#t){let[n,s]=r;e.push(`M${n} ${s}`);for(let i=2;i<r.length;i+=2){const o=r[i],l=r[i+1];o===n?(e.push(`V${l}`),s=l):l===s&&(e.push(`H${o}`),n=o)}e.push("Z")}return e.join(" ")}serialize([e,r,n,s],i){const o=[],l=n-e,c=s-r;for(const d of this.#t){const u=new Array(d.length);for(let h=0;h<d.length;h+=2)u[h]=e+d[h]*l,u[h+1]=s-d[h+1]*c;o.push(u)}return o}get box(){return this.#e}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}class iA extends Qd{newFreeDrawOutline(e,r,n,s,i,o){return new rde(e,r,n,s,i,o)}get classNamesForDrawing(){return["highlight","free"]}}class rde extends Tz{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,r,n,s,i,o=0){return new iA(e,r,n,s,i,o)}}class wi{#e=null;#t=null;#r;#n=null;#a=!1;#s=!1;#l=null;#o;#d=null;#c=null;#u;static#i=null;static get _keyboardManager(){return Er(this,"_keyboardManager",new d0([[["Escape","mac+Escape"],wi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],wi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],wi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],wi.prototype._moveToPrevious],[["Home","mac+Home"],wi.prototype._moveToBeginning],[["End","mac+End"],wi.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:r=null}){e?(this.#s=!1,this.#u=Yt.HIGHLIGHT_COLOR,this.#l=e):(this.#s=!0,this.#u=Yt.HIGHLIGHT_DEFAULT_COLOR),this.#c=e?._uiManager||r,this.#o=this.#c._eventBus,this.#r=e?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",wi.#i||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const r=this.#c._signal;e.addEventListener("click",this.#x.bind(this),{signal:r}),e.addEventListener("keydown",this.#f.bind(this),{signal:r});const n=this.#t=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#r,e.append(n),e}renderMainDropdown(){const e=this.#n=this.#h();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#h(){const e=document.createElement("div"),r=this.#c._signal;e.addEventListener("contextmenu",Ui,{signal:r}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of this.#c.highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",s),i.title=n,i.setAttribute("data-l10n-id",wi.#i[n]);const o=document.createElement("span");i.append(o),o.className="swatch",o.style.backgroundColor=s,i.setAttribute("aria-selected",s===this.#r),i.addEventListener("click",this.#m.bind(this,s),{signal:r}),e.append(i)}return e.addEventListener("keydown",this.#f.bind(this),{signal:r}),e}#m(e,r){r.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:this.#u,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#x(e);return}const r=e.target.getAttribute("data-color");r&&this.#m(r,e)}_moveToNext(e){if(!this.#p){this.#x(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#x(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#x(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#p){this.#x(e);return}this.#n.lastChild?.focus()}#f(e){wi._keyboardManager.exec(this,e)}#x(e){if(this.#p){this.hideDropdown();return}if(this.#a=e.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#c.combinedSignal(this.#d)})),this.#n){this.#n.classList.remove("hidden");return}const r=this.#n=this.#h();this.#e.append(r)}#g(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#d?.abort(),this.#d=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#l?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const r=this.#c.highlightColors.values();for(const n of this.#n.children)n.setAttribute("aria-selected",r.next().value===e)}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class An extends Xt{#e=null;#t=0;#r;#n=null;#a=null;#s=null;#l=null;#o=0;#d=null;#c=null;#u=null;#i=!1;#h=null;#m;#f=null;#x="";#g;#p="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=or.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=An.prototype;return Er(this,"_keyboardManager",new d0([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||An._defaultColor,this.#g=e.thickness||An._defaultThickness,this.#m=e.opacity||An._defaultOpacity,this.#r=e.boxes||null,this.#p=e.methodOfCreation||"",this.#x=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#i=!0,this.#b(e),this.#C()):this.#r&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#l=e.focusNode,this.#o=e.focusOffset,this.#v(),this.#C(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#i?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#p}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#v(){const e=new UF(this.#r,.001);this.#c=e.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#c.box;const r=new UF(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#s=r.getOutlines();const{lastPoint:n}=this.#s.box;this.#h=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#b({highlightOutlines:e,highlightId:r,clipPathId:n}){this.#c=e;const s=1.5;if(this.#s=e.getNewOutline(this.#g/2+s,.0025),r>=0)this.#u=r,this.#n=n,this.parent.drawLayer.finalizeLine(r,e),this.#f=this.parent.drawLayer.drawOutline(this.#s);else if(this.parent){const u=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#u,e),this.parent.drawLayer.updateBox(this.#u,An.#N(this.#c.box,(u-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#f,this.#s),this.parent.drawLayer.updateBox(this.#f,An.#N(this.#s.box,u))}const{x:i,y:o,width:l,height:c}=e.box;switch(this.rotation){case 0:this.x=i,this.y=o,this.width=l,this.height=c;break;case 90:{const[u,h]=this.parentDimensions;this.x=o,this.y=1-i,this.width=l*h/u,this.height=c*u/h;break}case 180:this.x=1-i,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[u,h]=this.parentDimensions;this.x=1-o,this.y=i,this.width=l*h/u,this.height=c*u/h;break}}const{lastPoint:d}=this.#s.box;this.#h=[(d[0]-i)/l,(d[1]-o)/c]}static initialize(e,r){Xt.initialize(e,r),An._defaultColor||=r.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,r){switch(e){case Yt.HIGHLIGHT_DEFAULT_COLOR:An._defaultColor=r;break;case Yt.HIGHLIGHT_THICKNESS:An._defaultThickness=r;break}}translateInPage(e,r){}get toolbarPosition(){return this.#h}updateParams(e,r){switch(e){case Yt.HIGHLIGHT_COLOR:this.#E(r);break;case Yt.HIGHLIGHT_THICKNESS:this.#w(r);break}}static get defaultPropertiesToUpdate(){return[[Yt.HIGHLIGHT_DEFAULT_COLOR,An._defaultColor],[Yt.HIGHLIGHT_THICKNESS,An._defaultThickness]]}get propertiesToUpdate(){return[[Yt.HIGHLIGHT_COLOR,this.color||An._defaultColor],[Yt.HIGHLIGHT_THICKNESS,this.#g||An._defaultThickness],[Yt.HIGHLIGHT_FREE,this.#i]]}#E(e){const r=(i,o)=>{this.color=i,this.parent?.drawLayer.changeColor(this.#u,i),this.#a?.updateColor(i),this.#m=o,this.parent?.drawLayer.changeOpacity(this.#u,o)},n=this.color,s=this.#m;this.addCommands({cmd:r.bind(this,e,An._defaultOpacity),undo:r.bind(this,n,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Yt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#w(e){const r=this.#g,n=s=>{this.#g=s,this.#j(s)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Yt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#a=new wi({editor:this}),e.addColorPicker(this.#a)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#T())}getBaseTranslation(){return[0,0]}getRect(e,r){return super.getRect(e,r,this.#T())}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#P(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#C(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let r=!1;this.parent&&!e?this.#P():e&&(this.#C(e),r=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),r&&this.select()}#j(e){if(!this.#i)return;this.#b({highlightOutlines:this.#c.getNewOutline(e/2)}),this.fixAndSetPosition();const[r,n]=this.parentDimensions;this.setDims(this.width*r,this.height*n)}#P(){this.#u===null||!this.parent||(this.parent.drawLayer.remove(this.#u),this.#u=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#C(e=this.parent){this.#u===null&&({id:this.#u,clipPathId:this.#n}=e.drawLayer.draw(this.#c,this.color,this.#m),this.#f=e.drawLayer.drawOutline(this.#s),this.#d&&(this.#d.style.clipPath=this.#n))}static#N({x:e,y:r,width:n,height:s},i){switch(i){case 90:return{x:1-r-s,y:e,width:s,height:n};case 180:return{x:1-e-n,y:1-r-s,width:n,height:s};case 270:return{x:r,y:1-e-n,width:s,height:n}}return{x:e,y:r,width:n,height:s}}rotate(e){const{drawLayer:r}=this.parent;let n;this.#i?(e=(e-this.rotation+360)%360,n=An.#N(this.#c.box,e)):n=An.#N(this,e),r.rotate(this.#u,e),r.rotate(this.#f,e),r.updateBox(this.#u,n),r.updateBox(this.#f,An.#N(this.#s.box,e))}render(){if(this.div)return this.div;const e=super.render();this.#x&&(e.setAttribute("aria-label",this.#x),e.setAttribute("role","mark")),this.#i?e.classList.add("free"):this.div.addEventListener("keydown",this.#A.bind(this),{signal:this._uiManager._signal});const r=this.#d=document.createElement("div");e.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=this.#n;const[n,s]=this.parentDimensions;return this.setDims(this.width*n,this.height*s),bb(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(this.#f,"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(this.#f,"hovered")}#A(e){An._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#k(!0);break;case 1:case 3:this.#k(!1);break}}#k(e){if(!this.#e)return;const r=window.getSelection();e?r.setPosition(this.#e,this.#t):r.setPosition(this.#l,this.#o)}select(){super.select(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"hovered"),this.parent?.drawLayer.addClass(this.#f,"selected"))}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"selected"),this.#i||this.#k(!1))}get _mustFixPosition(){return!this.#i}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#u,e),this.parent.drawLayer.show(this.#f,e))}#T(){return this.#i?this.rotation:0}#R(){if(this.#i)return null;const[e,r]=this.pageDimensions,[n,s]=this.pageTranslation,i=this.#r,o=new Float32Array(i.length*8);let l=0;for(const{x:c,y:d,width:u,height:h}of i){const f=c*e+n,m=(1-d-h)*r+s;o[l]=o[l+4]=f,o[l+1]=o[l+3]=m,o[l+2]=o[l+6]=f+u*e,o[l+5]=o[l+7]=m+h*r,l+=8}return o}#S(e){return this.#c.serialize(e,this.#T())}static startHighlighting(e,r,{target:n,x:s,y:i}){const{x:o,y:l,width:c,height:d}=n.getBoundingClientRect(),u=new AbortController,h=e.combinedSignal(u),f=x=>{x.preventDefault(),x.stopPropagation()},m=x=>{u.abort(),this.#I(e,x)};window.addEventListener("blur",m,{signal:h}),window.addEventListener("pointerup",m,{signal:h}),window.addEventListener("pointerdown",f,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Ui,{signal:h}),n.addEventListener("pointermove",this.#y.bind(this,e),{signal:h}),this._freeHighlight=new iA({x:s,y:i},[o,l,c,d],e.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#y(e,r){this._freeHighlight.add(r)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#I(e,r){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,r,n){let s=null;if(e instanceof Cz){const{data:{quadPoints:x,rect:p,rotation:v,id:g,color:w,opacity:N,popupRef:j},parent:{page:{pageNumber:b}}}=e;s=e={annotationType:or.HIGHLIGHT,color:Array.from(w),opacity:N,quadPoints:x,boxes:null,pageIndex:b-1,rect:p.slice(0),rotation:v,id:g,deleted:!1,popupRef:j}}else if(e instanceof ET){const{data:{inkLists:x,rect:p,rotation:v,id:g,color:w,borderStyle:{rawWidth:N},popupRef:j},parent:{page:{pageNumber:b}}}=e;s=e={annotationType:or.HIGHLIGHT,color:Array.from(w),thickness:N,inkLists:x,boxes:null,pageIndex:b-1,rect:p.slice(0),rotation:v,id:g,deleted:!1,popupRef:j}}const{color:i,quadPoints:o,inkLists:l,opacity:c}=e,d=await super.deserialize(e,r,n);d.color=Ct.makeHexColor(...i),d.#m=c||1,l&&(d.#g=e.thickness),d.annotationElementId=e.id||null,d._initialData=s;const[u,h]=d.pageDimensions,[f,m]=d.pageTranslation;if(o){const x=d.#r=[];for(let p=0;p<o.length;p+=8)x.push({x:(o[p]-f)/u,y:1-(o[p+1]-m)/h,width:(o[p+2]-o[p])/u,height:(o[p+1]-o[p+5])/h});d.#v(),d.#C(),d.rotate(d.rotation)}else if(l){d.#i=!0;const x=l[0],p={x:x[0]-f,y:h-(x[1]-m)},v=new iA(p,[0,0,u,h],1,d.#g/2,!0,.001);for(let N=0,j=x.length;N<j;N+=2)p.x=x[N]-f,p.y=h-(x[N+1]-m),v.add(p);const{id:g,clipPathId:w}=r.drawLayer.draw(v,d.color,d._defaultOpacity,!0);d.#b({highlightOutlines:v.getOutlines(),highlightId:g,clipPathId:w}),d.#C()}return d}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),n=Xt._colorManager.convert(this.color),s={annotationType:or.HIGHLIGHT,color:n,opacity:this.#m,thickness:this.#g,quadPoints:this.#R(),outlines:this.#S(r),pageIndex:this.pageIndex,rect:r,rotation:this.#T(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#F(s)?null:(s.id=this.annotationElementId,s)}#F(e){const{color:r}=this._initialData;return e.color.some((n,s)=>n!==r[s])}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class ba extends Xt{#e=0;#t=0;#r=null;#n=new Path2D;#a=!1;#s=null;#l=!1;#o=!1;#d=null;#c=null;#u=0;#i=0;#h=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=or.INK;constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,r){Xt.initialize(e,r)}static updateDefaultParams(e,r){switch(e){case Yt.INK_THICKNESS:ba._defaultThickness=r;break;case Yt.INK_COLOR:ba._defaultColor=r;break;case Yt.INK_OPACITY:ba._defaultOpacity=r/100;break}}updateParams(e,r){switch(e){case Yt.INK_THICKNESS:this.#m(r);break;case Yt.INK_COLOR:this.#f(r);break;case Yt.INK_OPACITY:this.#x(r);break}}static get defaultPropertiesToUpdate(){return[[Yt.INK_THICKNESS,ba._defaultThickness],[Yt.INK_COLOR,ba._defaultColor||Xt._defaultLineColor],[Yt.INK_OPACITY,Math.round(ba._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Yt.INK_THICKNESS,this.thickness||ba._defaultThickness],[Yt.INK_COLOR,this.color||ba._defaultColor||Xt._defaultLineColor],[Yt.INK_OPACITY,Math.round(100*(this.opacity??ba._defaultOpacity))]]}#m(e){const r=s=>{this.thickness=s,this.#O()},n=this.thickness;this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Yt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#f(e){const r=s=>{this.color=s,this.#N()},n=this.color;this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Yt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#x(e){const r=s=>{this.opacity=s,this.#N()};e/=100;const n=this.opacity;this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Yt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#R(),this.#S()),this.isAttachedToDOM||(this.parent.add(this),this.#y()),this.#O()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#r&&(clearTimeout(this.#r),this.#r=null),this.#d?.disconnect(),this.#d=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,r]=this.parentDimensions,n=this.width*e,s=this.height*r;this.setDimensions(n,s)}enableEditMode(){this.#a||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.#A())}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#k())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#g(){const{parentRotation:e,parentDimensions:[r,n]}=this;switch(e){case 90:return[0,n,n,r];case 180:return[r,n,r,n];case 270:return[r,0,n,r];default:return[0,0,r,n]}}#p(){const{ctx:e,color:r,opacity:n,thickness:s,parentScale:i,scaleFactor:o}=this;e.lineWidth=s*i/o,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${r}${Ele(n)}`}#v(e,r){this.canvas.addEventListener("contextmenu",Ui,{signal:this._uiManager._signal}),this.#k(),this.#s=new AbortController;const n=this._uiManager.combinedSignal(this.#s);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:n}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:n}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:n}),this.isEditing=!0,this.#o||(this.#o=!0,this.#y(),this.thickness||=ba._defaultThickness,this.color||=ba._defaultColor||Xt._defaultLineColor,this.opacity??=ba._defaultOpacity),this.currentPath.push([e,r]),this.#l=!1,this.#p(),this.#h=()=>{this.#j(),this.#h&&window.requestAnimationFrame(this.#h)},window.requestAnimationFrame(this.#h)}#b(e,r){const[n,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&r===s)return;const i=this.currentPath;let o=this.#n;if(i.push([e,r]),this.#l=!0,i.length<=2){o.moveTo(...i[0]),o.lineTo(e,r);return}i.length===3&&(this.#n=o=new Path2D,o.moveTo(...i[0])),this.#P(o,...i.at(-3),...i.at(-2),e,r)}#E(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);this.#n.lineTo(...e)}#w(e,r){this.#h=null,e=Math.min(Math.max(e,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),this.#b(e,r),this.#E();let n;if(this.currentPath.length!==1)n=this.#C();else{const c=[e,r];n=[[c,c.slice(),c.slice(),c]]}const s=this.#n,i=this.currentPath;this.currentPath=[],this.#n=new Path2D;const o=()=>{this.allRawPaths.push(i),this.paths.push(n),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#R(),this.#S()),this.#O())};this.addCommands({cmd:o,undo:l,mustExec:!0})}#j(){if(!this.#l)return;this.#l=!1;const e=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),n=r.map(o=>o[0]),s=r.map(o=>o[1]);Math.min(...n)-e,Math.max(...n)+e,Math.min(...s)-e,Math.max(...s)+e;const{ctx:i}=this;i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)i.stroke(o);i.stroke(this.#n),i.restore()}#P(e,r,n,s,i,o,l){const c=(r+s)/2,d=(n+i)/2,u=(s+o)/2,h=(i+l)/2;e.bezierCurveTo(c+2*(s-c)/3,d+2*(i-d)/3,u+2*(s-u)/3,h+2*(i-h)/3,u,h)}#C(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const r=[];let n,[s,i]=e[0];for(n=1;n<e.length-2;n++){const[f,m]=e[n],[x,p]=e[n+1],v=(f+x)/2,g=(m+p)/2,w=[s+2*(f-s)/3,i+2*(m-i)/3],N=[v+2*(f-v)/3,g+2*(m-g)/3];r.push([[s,i],w,N,[v,g]]),[s,i]=[v,g]}const[o,l]=e[n],[c,d]=e[n+1],u=[s+2*(o-s)/3,i+2*(l-i)/3],h=[c+2*(o-c)/3,d+2*(l-d)/3];return r.push([[s,i],u,h,[c,d]]),r}#N(){if(this.isEmpty()){this.#F();return}this.#p();const{canvas:e,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height),this.#F();for(const n of this.bezierPath2D)r.stroke(n)}commit(){this.#a||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#a=!0,this.div.classList.add("disabled"),this.#O(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}#A(){if(this.#c)return;this.#c=new AbortController;const e=this._uiManager.combinedSignal(this.#c);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}#k(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||this.#a||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#v(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#b(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#T(e)}canvasPointerleave(e){this.#T(e)}#T(e){this.#s?.abort(),this.#s=null,this.#A(),this.#r&&clearTimeout(this.#r),this.#r=setTimeout(()=>{this.#r=null,this.canvas.removeEventListener("contextmenu",Ui)},10),this.#w(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#R(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#S(){this.#d=new ResizeObserver(e=>{const r=e[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)}),this.#d.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#d?.disconnect(),this.#d=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#a}render(){if(this.div)return this.div;let e,r;this.width&&(e=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,s,i,o]=this.#g();if(this.setAt(n,s,0,0),this.setDims(i,o),this.#R(),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(e*l,r*c,this.width*l,this.height*c),this.#o=!0,this.#y(),this.setDims(this.width*l,this.height*c),this.#N(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#S(),this.div}#y(){if(!this.#o)return;const[e,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*r),this.#F()}setDimensions(e,r){const n=Math.round(e),s=Math.round(r);if(this.#u===n&&this.#i===s)return;this.#u=n,this.#i=s,this.canvas.style.visibility="hidden";const[i,o]=this.parentDimensions;this.width=e/i,this.height=r/o,this.fixAndSetPosition(),this.#a&&this.#I(e,r),this.#y(),this.#N(),this.canvas.style.visibility="visible",this.fixDims()}#I(e,r){const n=this.#U(),s=(e-n)/this.#t,i=(r-n)/this.#e;this.scaleFactor=Math.min(s,i)}#F(){const e=this.#U()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#D(e){const r=new Path2D;for(let n=0,s=e.length;n<s;n++){const[i,o,l,c]=e[n];n===0&&r.moveTo(...i),r.bezierCurveTo(o[0],o[1],l[0],l[1],c[0],c[1])}return r}static#V(e,r,n){const[s,i,o,l]=r;switch(n){case 0:for(let c=0,d=e.length;c<d;c+=2)e[c]+=s,e[c+1]=l-e[c+1];break;case 90:for(let c=0,d=e.length;c<d;c+=2){const u=e[c];e[c]=e[c+1]+s,e[c+1]=u+i}break;case 180:for(let c=0,d=e.length;c<d;c+=2)e[c]=o-e[c],e[c+1]+=i;break;case 270:for(let c=0,d=e.length;c<d;c+=2){const u=e[c];e[c]=o-e[c+1],e[c+1]=l-u}break;default:throw new Error("Invalid rotation")}return e}static#B(e,r,n){const[s,i,o,l]=r;switch(n){case 0:for(let c=0,d=e.length;c<d;c+=2)e[c]-=s,e[c+1]=l-e[c+1];break;case 90:for(let c=0,d=e.length;c<d;c+=2){const u=e[c];e[c]=e[c+1]-i,e[c+1]=u-s}break;case 180:for(let c=0,d=e.length;c<d;c+=2)e[c]=o-e[c],e[c+1]-=i;break;case 270:for(let c=0,d=e.length;c<d;c+=2){const u=e[c];e[c]=l-e[c+1],e[c+1]=o-u}break;default:throw new Error("Invalid rotation")}return e}#M(e,r,n,s){const i=[],o=this.thickness/2,l=e*r+o,c=e*n+o;for(const d of this.paths){const u=[],h=[];for(let f=0,m=d.length;f<m;f++){const[x,p,v,g]=d[f];if(x[0]===g[0]&&x[1]===g[1]&&m===1){const O=e*x[0]+l,k=e*x[1]+c;u.push(O,k),h.push(O,k);break}const w=e*x[0]+l,N=e*x[1]+c,j=e*p[0]+l,b=e*p[1]+c,S=e*v[0]+l,A=e*v[1]+c,E=e*g[0]+l,P=e*g[1]+c;f===0&&(u.push(w,N),h.push(w,N)),u.push(j,b,S,A,E,P),h.push(j,b),f===m-1&&h.push(E,P)}i.push({bezier:ba.#V(u,s,this.rotation),points:ba.#V(h,s,this.rotation)})}return i}#L(){let e=1/0,r=-1/0,n=1/0,s=-1/0;for(const i of this.paths)for(const[o,l,c,d]of i){const u=Ct.bezierBoundingBox(...o,...l,...c,...d);e=Math.min(e,u[0]),n=Math.min(n,u[1]),r=Math.max(r,u[2]),s=Math.max(s,u[3])}return[e,n,r,s]}#U(){return this.#a?Math.ceil(this.thickness*this.parentScale):0}#O(e=!1){if(this.isEmpty())return;if(!this.#a){this.#N();return}const r=this.#L(),n=this.#U();this.#t=Math.max(Xt.MIN_SIZE,r[2]-r[0]),this.#e=Math.max(Xt.MIN_SIZE,r[3]-r[1]);const s=Math.ceil(n+this.#t*this.scaleFactor),i=Math.ceil(n+this.#e*this.scaleFactor),[o,l]=this.parentDimensions;this.width=s/o,this.height=i/l,this.setAspectRatio(s,i);const c=this.translationX,d=this.translationY;this.translationX=-r[0],this.translationY=-r[1],this.#y(),this.#N(),this.#u=s,this.#i=i,this.setDims(s,i);const u=e?n/this.scaleFactor/2:0;this.translate(c-this.translationX-u,d-this.translationY-u)}static async deserialize(e,r,n){if(e instanceof ET)return null;const s=await super.deserialize(e,r,n);s.thickness=e.thickness,s.color=Ct.makeHexColor(...e.color),s.opacity=e.opacity;const[i,o]=s.pageDimensions,l=s.width*i,c=s.height*o,d=s.parentScale,u=e.thickness/2;s.#a=!0,s.#u=Math.round(l),s.#i=Math.round(c);const{paths:h,rect:f,rotation:m}=e;for(let{bezier:p}of h){p=ba.#B(p,f,m);const v=[];s.paths.push(v);let g=d*(p[0]-u),w=d*(p[1]-u);for(let j=2,b=p.length;j<b;j+=6){const S=d*(p[j]-u),A=d*(p[j+1]-u),E=d*(p[j+2]-u),P=d*(p[j+3]-u),O=d*(p[j+4]-u),k=d*(p[j+5]-u);v.push([[g,w],[S,A],[E,P],[O,k]]),g=O,w=k}const N=this.#D(v);s.bezierPath2D.push(N)}const x=s.#L();return s.#t=Math.max(Xt.MIN_SIZE,x[2]-x[0]),s.#e=Math.max(Xt.MIN_SIZE,x[3]-x[1]),s.#I(l,c),s}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),r=Xt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:or.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:this.#M(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class ST extends Xt{#e=null;#t=null;#r=null;#n=null;#a=null;#s="";#l=null;#o=null;#d=null;#c=!1;#u=!1;static _type="stamp";static _editorType=or.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#a=e.bitmapFile}static initialize(e,r){Xt.initialize(e,r)}static get supportedTypes(){return Er(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Er(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,r){r.pasteEditor(or.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const r=e.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}#i(e,r=!1){if(!e){this.remove();return}this.#e=e.bitmap,r||(this.#t=e.id,this.#c=e.isSvg),e.file&&(this.#s=e.file.name),this.#f()}#h(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:i,height:o}=e||this.copyCanvas(null,null,!0).imageData,l=await n.guess({name:"altText",request:{data:s,width:i,height:o,channels:s.length/(i*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#m(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#i(n,!0)).finally(()=>this.#h());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(n).then(s=>this.#i(s)).finally(()=>this.#h());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(n).then(s=>this.#i(s)).finally(()=>this.#h());return}const e=document.createElement("input");e.type="file",e.accept=ST.supportedTypesStr;const r=this._uiManager._signal;this.#r=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#i(s)}n()},{signal:r}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:r})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#l?.remove(),this.#l=null,this.#o?.disconnect(),this.#o=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#m();return}super.rebuild(),this.div!==null&&(this.#t&&this.#l===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#a||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,r;if(this.width&&(e=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#e?this.#f():this.#m(),this.width&&!this.annotationElementId){const[n,s]=this.parentDimensions;this.setAt(e*n,r*s,this.width*n,this.height*s)}return this.div}#f(){const{div:e}=this;let{width:r,height:n}=this.#e;const[s,i]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,n=this.height*i;else if(r>o*s||n>o*i){const u=Math.min(o*s/r,o*i/n);r*=u,n*=u}const[l,c]=this.parentDimensions;this.setDims(r*l/s,n*c/i),this._uiManager.enableWaiting(!1);const d=this.#l=document.createElement("canvas");d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(r,n),this.#b(),this.#u||(this.parent.addUndoableEditor(this),this.#u=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&d.setAttribute("aria-label",this.#s)}copyCanvas(e,r,n=!1){e||(e=224);const{width:s,height:i}=this.#e,o=new JS;let l=this.#e,c=s,d=i,u=null;if(r){if(s>r||i>r){const S=Math.min(r/s,r/i);c=Math.floor(s*S),d=Math.floor(i*S)}u=document.createElement("canvas");const f=u.width=Math.ceil(c*o.sx),m=u.height=Math.ceil(d*o.sy);this.#c||(l=this.#g(f,m));const x=u.getContext("2d");x.filter=this._uiManager.hcmFilter;let p="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(p="#8f8f9d",v="#42414d");const g=15,w=g*o.sx,N=g*o.sy,j=new OffscreenCanvas(w*2,N*2),b=j.getContext("2d");b.fillStyle=p,b.fillRect(0,0,w*2,N*2),b.fillStyle=v,b.fillRect(0,0,w,N),b.fillRect(w,N,w,N),x.fillStyle=x.createPattern(j,"repeat"),x.fillRect(0,0,f,m),x.drawImage(l,0,0,l.width,l.height,0,0,f,m)}let h=null;if(n){let f,m;if(o.symmetric&&l.width<e&&l.height<e)f=l.width,m=l.height;else if(l=this.#e,s>e||i>e){const v=Math.min(e/s,e/i);f=Math.floor(s*v),m=Math.floor(i*v),this.#c||(l=this.#g(f,m))}const p=new OffscreenCanvas(f,m).getContext("2d",{willReadFrequently:!0});p.drawImage(l,0,0,l.width,l.height,0,0,f,m),h={width:f,height:m,data:p.getImageData(0,0,f,m).data}}return{canvas:u,width:c,height:d,imageData:h}}#x(e,r){const[n,s]=this.parentDimensions;this.width=e/n,this.height=r/s,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#d!==null&&clearTimeout(this.#d);const i=200;this.#d=setTimeout(()=>{this.#d=null,this.#p(e,r)},i)}#g(e,r){const{width:n,height:s}=this.#e;let i=n,o=s,l=this.#e;for(;i>2*e||o>2*r;){const c=i,d=o;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const u=new OffscreenCanvas(i,o);u.getContext("2d").drawImage(l,0,0,c,d,0,0,i,o),l=u.transferToImageBitmap()}return l}#p(e,r){const n=new JS,s=Math.ceil(e*n.sx),i=Math.ceil(r*n.sy),o=this.#l;if(!o||o.width===s&&o.height===i)return;o.width=s,o.height=i;const l=this.#c?this.#e:this.#g(s,i),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,s,i)}getImageForAltText(){return this.#l}#v(e){if(e){if(this.#c){const s=this._uiManager.imageManager.getSvgUrl(this.#t);if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=this.#e,r.getContext("2d").drawImage(this.#e,0,0),r.toDataURL()}if(this.#c){const[r,n]=this.pageDimensions,s=Math.round(this.width*r*_f.PDF_TO_CSS_UNITS),i=Math.round(this.height*n*_f.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,i);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,s,i),o.transferToImageBitmap()}return structuredClone(this.#e)}#b(){this._uiManager._signal&&(this.#o=new ResizeObserver(e=>{const r=e[0].contentRect;r.width&&r.height&&this.#x(r.width,r.height)}),this.#o.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#o?.disconnect(),this.#o=null},{once:!0}))}static async deserialize(e,r,n){let s=null;if(e instanceof kz){const{data:{rect:x,rotation:p,id:v,structParent:g,popupRef:w},container:N,parent:{page:{pageNumber:j}}}=e,b=N.querySelector("canvas"),S=n.imageManager.getFromCanvas(N.id,b);b.remove();const A=(await r._structTree.getAriaAttributes(`${dT}${v}`))?.get("aria-label")||"";s=e={annotationType:or.STAMP,bitmapId:S.id,bitmap:S.bitmap,pageIndex:j-1,rect:x.slice(0),rotation:p,id:v,deleted:!1,accessibilityData:{decorative:!1,altText:A},isSvg:!1,structParent:g,popupRef:w}}const i=await super.deserialize(e,r,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:u,accessibilityData:h}=e;d&&n.imageManager.isValidId(d)?(i.#t=d,l&&(i.#e=l)):i.#n=c,i.#c=u;const[f,m]=i.pageDimensions;return i.width=(o[2]-o[0])/f,i.height=(o[3]-o[1])/m,i.annotationElementId=e.id||null,h&&(i.altTextData=h),i._initialData=s,i.#u=!!s,i}serialize(e=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:or.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#v(!0),n.accessibilityData=this.serializeAltText(!0),n;const{decorative:s,altText:i}=this.serializeAltText(!1);if(!s&&i&&(n.accessibilityData={type:"Figure",alt:i}),this.annotationElementId){const l=this.#E(n);if(l.isSame)return null;l.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,r===null)return n;r.stamps||=new Map;const o=this.#c?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!r.stamps.has(this.#t))r.stamps.set(this.#t,{area:o,serialized:n}),n.bitmap=this.#v(!1);else if(this.#c){const l=r.stamps.get(this.#t);o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=this.#v(!1))}return n}#E(e){const{rect:r,pageIndex:n,accessibilityData:{altText:s}}=this._initialData,i=e.rect.every((c,d)=>Math.abs(c-r[d])<1),o=e.pageIndex===n,l=(e.accessibilityData?.alt||"")===s;return{isSame:i&&o&&l,isSameAltText:l}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}class Nl{#e;#t=!1;#r=null;#n=null;#a=null;#s=new Map;#l=!1;#o=!1;#d=!1;#c=null;#u=null;#i;static _initialized=!1;static#h=new Map([Kn,ba,ST,An].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:r,div:n,structTreeLayer:s,accessibilityManager:i,annotationLayer:o,drawLayer:l,textLayer:c,viewport:d,l10n:u}){const h=[...Nl.#h.values()];if(!Nl._initialized){Nl._initialized=!0;for(const f of h)f.initialize(u,e)}e.registerEditorTypes(h),this.#i=e,this.pageIndex=r,this.div=n,this.#e=i,this.#r=o,this.viewport=d,this.#c=c,this.drawLayer=l,this._structTree=s,this.#i.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#i.getMode()===or.NONE}updateToolbar(e){this.#i.updateToolbar(e)}updateMode(e=this.#i.getMode()){switch(this.#p(),e){case or.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case or.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case or.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;for(const n of Nl.#h.values())r.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#c?.div}addInkEditorIfNeeded(e){if(this.#i.getMode()!==or.INK)return;if(!e){for(const n of this.#s.values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){this.#i.setEditingState(e)}addCommands(e){this.#i.addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of this.#s.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#i.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!this.#r)return;const r=this.#r.getEditableAnnotations();for(const n of r){if(n.hide(),this.#i.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){this.#d=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,r=new Map;for(const s of this.#s.values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else r.set(s.annotationElementId,s);this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#r){const s=this.#r.getEditableAnnotations();for(const i of s){const{id:o}=i.data;if(this.#i.isDeletedAnnotationElement(o))continue;let l=r.get(o);if(l){l.resetAnnotationElement(i),l.show(!1),i.show();continue}l=e.get(o),l&&(this.#i.addChangedExistingAnnotation(l),l.renderAnnotationElement(i)&&l.show(!1)),i.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of Nl.#h.values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#d=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#i.getActive()!==e&&this.#i.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#c?.div&&!this.#u){this.#u=new AbortController;const e=this.#i.combinedSignal(this.#u);this.#c.div.addEventListener("pointerdown",this.#m.bind(this),{signal:e}),this.#c.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#c?.div&&this.#u&&(this.#u.abort(),this.#u=null,this.#c.div.classList.remove("highlighting"))}#m(e){this.#i.unselectAll();const{target:r}=e;if(r===this.#c.div||(r.getAttribute("role")==="img"||r.classList.contains("endOfContent"))&&this.#c.div.contains(r)){const{isMac:n}=fs.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i.showAllEditors("highlight",!0,!0),this.#c.div.classList.add("free"),this.toggleDrawing(),An.startHighlighting(this,this.#i.direction==="ltr",{target:this.#c.div,x:e.x,y:e.y}),this.#c.div.addEventListener("pointerup",()=>{this.#c.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#i._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#i.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:r}=e;r&&this.#i.isDeletedAnnotationElement(r)&&this.#i.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#d&&e.annotationElementId&&this.#i.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#i.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#o||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#i.addDeletedAnnotationElement(e.annotationElementId),Xt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#i.addEditor(e),this.attach(e),!e.isAttachedToDOM){const r=e.render();this.div.append(r),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#i.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#i._signal}),r.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const r=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:r,undo:n,mustExec:!1})}getNextId(){return this.#i.getId()}get#f(){return Nl.#h.get(this.#i.getMode())}combinedSignal(e){return this.#i.combinedSignal(e)}#x(e){const r=this.#f;return r?new r.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#f?.canCreateNewEmptyEditor()}pasteEditor(e,r){this.#i.updateToolbar(e),this.#i.updateMode(e);const{offsetX:n,offsetY:s}=this.#g(),i=this.getNextId(),o=this.#x({parent:this,id:i,x:n,y:s,uiManager:this.#i,isCentered:!0,...r});o&&this.add(o)}async deserialize(e){return await Nl.#h.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#i)||null}createAndAddNewEditor(e,r,n={}){const s=this.getNextId(),i=this.#x({parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:this.#i,isCentered:r,...n});return i&&this.add(i),i}#g(){const{x:e,y:r,width:n,height:s}=this.div.getBoundingClientRect(),i=Math.max(0,e),o=Math.max(0,r),l=Math.min(window.innerWidth,e+n),c=Math.min(window.innerHeight,r+s),d=(i+l)/2-e,u=(o+c)/2-r,[h,f]=this.viewport.rotation%180===0?[d,u]:[u,d];return{offsetX:h,offsetY:f}}addNewEditor(){this.createAndAddNewEditor(this.#g(),!0)}setSelected(e){this.#i.setSelected(e)}toggleSelected(e){this.#i.toggleSelected(e)}unselect(e){this.#i.unselect(e)}pointerup(e){const{isMac:r}=fs.platform;if(!(e.button!==0||e.ctrlKey&&r)&&e.target===this.div&&this.#l){if(this.#l=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===or.STAMP){this.#i.unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(this.#i.getMode()===or.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}const{isMac:r}=fs.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div)return;this.#l=!0;const n=this.#i.getActive();this.#t=!n||n.isEmpty()}findNewParent(e,r,n){const s=this.#i.findParent(r,n);return s===null||s===this?!1:(s.changeParent(e),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#i.removeLayer(this)}#p(){this.#o=!0;for(const e of this.#s.values())e.isEmpty()&&e.remove();this.#o=!1}render({viewport:e}){this.viewport=e,ju(this.div,e);for(const r of this.#i.getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:e}){this.#i.commitOrRemove(),this.#p();const r=this.viewport.rotation,n=e.rotation;if(this.viewport=e,ju(this.div,{rotation:n}),r!==n)for(const s of this.#s.values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:r}=this.viewport.rawDims;return[e,r]}get scale(){return this.#i.viewParameters.realScale}}class Va{#e=null;#t=0;#r=new Map;#n=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#r.size>0)for(const r of this.#r.values())r.remove(),e.append(r);this.#e=e}}static get _svgFactory(){return Er(this,"_svgFactory",new NT)}static#a(e,{x:r=0,y:n=0,width:s=1,height:i=1}={}){const{style:o}=e;o.top=`${100*n}%`,o.left=`${100*r}%`,o.width=`${100*s}%`,o.height=`${100*i}%`}#s(e){const r=Va._svgFactory.create(1,1,!0);return this.#e.append(r),r.setAttribute("aria-hidden",!0),Va.#a(r,e),r}#l(e,r){const n=Va._svgFactory.createElement("clipPath");e.append(n);const s=`clip_${r}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const i=Va._svgFactory.createElement("use");return n.append(i),i.setAttribute("href",`#${r}`),i.classList.add("clip"),s}draw(e,r,n,s=!1){const i=this.#t++,o=this.#s(e.box);o.classList.add(...e.classNamesForDrawing);const l=Va._svgFactory.createElement("defs");o.append(l);const c=Va._svgFactory.createElement("path");l.append(c);const d=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",d),c.setAttribute("d",e.toSVGPath()),s&&this.#n.set(i,c);const u=this.#l(l,d),h=Va._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",r),o.setAttribute("fill-opacity",n),h.setAttribute("href",`#${d}`),this.#r.set(i,o),{id:i,clipPathId:`url(#${u})`}}drawOutline(e){const r=this.#t++,n=this.#s(e.box);n.classList.add(...e.classNamesForOutlining);const s=Va._svgFactory.createElement("defs");n.append(s);const i=Va._svgFactory.createElement("path");s.append(i);const o=`path_p${this.pageIndex}_${r}`;i.setAttribute("id",o),i.setAttribute("d",e.toSVGPath()),i.setAttribute("vector-effect","non-scaling-stroke");let l;if(e.mustRemoveSelfIntersections){const u=Va._svgFactory.createElement("mask");s.append(u),l=`mask_p${this.pageIndex}_${r}`,u.setAttribute("id",l),u.setAttribute("maskUnits","objectBoundingBox");const h=Va._svgFactory.createElement("rect");u.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=Va._svgFactory.createElement("use");u.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=Va._svgFactory.createElement("use");n.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const d=c.cloneNode();return n.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.#r.set(r,n),r}finalizeLine(e,r){const n=this.#n.get(e);this.#n.delete(e),this.updateBox(e,r.box),n.setAttribute("d",r.toSVGPath())}updateLine(e,r){this.#r.get(e).firstChild.firstChild.setAttribute("d",r.toSVGPath())}updatePath(e,r){this.#n.get(e).setAttribute("d",r.toSVGPath())}updateBox(e,r){Va.#a(this.#r.get(e),r)}show(e,r){this.#r.get(e).classList.toggle("hidden",!r)}rotate(e,r){this.#r.get(e).setAttribute("data-main-rotation",r)}changeColor(e,r){this.#r.get(e).setAttribute("fill",r)}changeOpacity(e,r){this.#r.get(e).setAttribute("fill-opacity",r)}addClass(e,r){this.#r.get(e).classList.add(r)}removeClass(e,r){this.#r.get(e).classList.remove(r)}getSVGRoot(e){return this.#r.get(e)}remove(e){this.#n.delete(e),this.#e!==null&&(this.#r.get(e).remove(),this.#r.delete(e))}destroy(){this.#e=null;for(const e of this.#r.values())e.remove();this.#r.clear(),this.#n.clear()}}var nde=tr.AbortException,ade=tr.AnnotationEditorLayer,sde=tr.AnnotationEditorParamsType,ide=tr.AnnotationEditorType,ode=tr.AnnotationEditorUIManager,Oz=tr.AnnotationLayer,_z=tr.AnnotationMode,lde=tr.ColorPicker,cde=tr.DOMSVGFactory,dde=tr.DrawLayer,ude=tr.FeatureTest,Mj=tr.GlobalWorkerOptions,hde=tr.ImageKind,fde=tr.InvalidPDFException,mde=tr.MissingPDFException,pde=tr.OPS,xde=tr.OutputScale,gde=tr.PDFDataRangeTransport,vde=tr.PDFDateString,yde=tr.PDFWorker,bde=tr.PasswordResponses,wde=tr.PermissionFlag,jde=tr.PixelsPerInch,Nde=tr.RenderingCancelledException,Rz=tr.TextLayer,Ede=tr.UnexpectedResponseException,Sde=tr.Util,Ade=tr.VerbosityLevel,Cde=tr.XfaLayer,kde=tr.build,Pde=tr.createValidAbsoluteUrl,Tde=tr.fetchData,Iz=tr.getDocument,Ode=tr.getFilenameFromUrl,_de=tr.getPdfFilenameFromUrl,Rde=tr.getXfaPageViewport,Ide=tr.isDataScheme,Fde=tr.isPdfFile,Dde=tr.noContextMenu,Mde=tr.normalizeUnicode,Lde=tr.setLayerDimensions,Bde=tr.shadow,Fz=tr.version;const $de=Object.freeze(Object.defineProperty({__proto__:null,AbortException:nde,AnnotationEditorLayer:ade,AnnotationEditorParamsType:sde,AnnotationEditorType:ide,AnnotationEditorUIManager:ode,AnnotationLayer:Oz,AnnotationMode:_z,ColorPicker:lde,DOMSVGFactory:cde,DrawLayer:dde,FeatureTest:ude,GlobalWorkerOptions:Mj,ImageKind:hde,InvalidPDFException:fde,MissingPDFException:mde,OPS:pde,OutputScale:xde,PDFDataRangeTransport:gde,PDFDateString:vde,PDFWorker:yde,PasswordResponses:bde,PermissionFlag:wde,PixelsPerInch:jde,RenderingCancelledException:Nde,TextLayer:Rz,UnexpectedResponseException:Ede,Util:Sde,VerbosityLevel:Ade,XfaLayer:Cde,build:kde,createValidAbsoluteUrl:Pde,fetchData:Tde,getDocument:Iz,getFilenameFromUrl:Ode,getPdfFilenameFromUrl:_de,getXfaPageViewport:Rde,isDataScheme:Ide,isPdfFile:Fde,noContextMenu:Dde,normalizeUnicode:Mde,setLayerDimensions:Lde,shadow:Bde,version:Fz},Symbol.toStringTag,{value:"Module"}));var oa=function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Ude=["onCopy","onCut","onPaste"],Vde=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],zde=["onFocus","onBlur"],Wde=["onInput","onInvalid","onReset","onSubmit"],qde=["onLoad","onError"],Hde=["onKeyDown","onKeyPress","onKeyUp"],Gde=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Kde=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Xde=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Yde=["onSelect"],Qde=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Zde=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Jde=["onScroll"],eue=["onWheel"],tue=["onAnimationStart","onAnimationEnd","onAnimationIteration"],rue=["onTransitionEnd"],nue=["onToggle"],aue=["onChange"],sue=oa(oa(oa(oa(oa(oa(oa(oa(oa(oa(oa(oa(oa(oa(oa(oa(oa(oa([],Ude,!0),Vde,!0),zde,!0),Wde,!0),qde,!0),Hde,!0),Gde,!0),Kde,!0),Xde,!0),Yde,!0),Qde,!0),Zde,!0),Jde,!0),eue,!0),tue,!0),rue,!0),aue,!0),nue,!0);function Dz(t,e){var r={};return sue.forEach(function(n){var s=t[n];s&&(e?r[n]=function(i){return s(i,e(n))}:r[n]=s)}),r}function h0(t){var e=!1,r=new Promise(function(n,s){t.then(function(i){return!e&&n(i)}).catch(function(i){return!e&&s(i)})});return{promise:r,cancel:function(){e=!0}}}var iue="Invariant failed";function Pr(t,e){if(!t)throw new Error(iue)}var oue=function(){},lue=oue;const Qa=Mr(lue);var VF=Object.prototype.hasOwnProperty;function zF(t,e,r){for(r of t.keys())if(af(r,e))return r}function af(t,e){var r,n,s;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&af(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if(s=n,s&&typeof s=="object"&&(s=zF(e,s),!s)||!e.has(s))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if(s=n[0],s&&typeof s=="object"&&(s=zF(e,s),!s)||!af(n[1],e.get(s)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(VF.call(t,r)&&++n&&!VF.call(e,r)||!(r in e)||!af(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}const Mz=y.createContext(null);function sf({children:t,type:e}){return a.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const cue="noopener noreferrer nofollow";class due{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Pr(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Pr(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(r=>{Pr(this.pdfDocument),Pr(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(r):Array.isArray(e)?r(e):e.then(r)}).then(r=>{Pr(Array.isArray(r));const n=r[0];new Promise(s=>{Pr(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(i=>{s(i)}).catch(()=>{Pr(!1)}):typeof n=="number"?s(n):Pr(!1)}).then(s=>{const i=s+1;Pr(this.pdfViewer),Pr(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:r,pageIndex:s,pageNumber:i})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const r=e-1;Pr(this.pdfViewer),Pr(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:r,pageNumber:e})}addLinkAttributes(e,r,n){e.href=r,e.rel=this.externalLinkRel||cue,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const WF={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Lj=typeof window<"u",Lz=Lj&&window.location.protocol==="file:";function uue(t){return typeof t<"u"}function Rd(t){return uue(t)&&t!==null}function hue(t){return typeof t=="string"}function fue(t){return t instanceof ArrayBuffer}function mue(t){return Pr(Lj),t instanceof Blob}function oA(t){return hue(t)&&/^data:/.test(t)}function qF(t){Pr(oA(t));const[e="",r=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(r):unescape(r)}function pue(){return Lj&&window.devicePixelRatio||1}const Bz="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function HF(){Qa(!Lz,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Bz}`)}function xue(){Qa(!Lz,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Bz}`)}function Eu(t){t?.cancel&&t.cancel()}function lA(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function gue(t){return t.name==="RenderingCancelledException"}function vue(t){return new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return r(new Error("Error while reading a file."));e(n.result)},n.onerror=s=>{if(!s.target)return r(new Error("Error while reading a file."));const{error:i}=s.target;if(!i)return r(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return r(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return r(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return r(new Error("Error while reading a file: Aborted."));default:return r(new Error("Error while reading a file."))}},n.readAsArrayBuffer(t)})}function yue(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function Rf(){return y.useReducer(yue,{value:void 0,error:void 0})}var bue=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})},GF=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const{PDFDataRangeTransport:wue}=$de,jue=(t,e)=>{switch(e){case WF.NEED_PASSWORD:{const r=prompt("Enter the password to open this PDF file.");t(r);break}case WF.INCORRECT_PASSWORD:{const r=prompt("Invalid password. Please try again.");t(r);break}}};function KF(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const Nue=y.forwardRef(function(e,r){var{children:n,className:s,error:i="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:l,file:c,inputRef:d,imageResourcesPath:u,loading:h="Loading PDF",noData:f="No PDF file specified.",onItemClick:m,onLoadError:x,onLoadProgress:p,onLoadSuccess:v,onPassword:g=jue,onSourceError:w,onSourceSuccess:N,options:j,renderMode:b,rotate:S}=e,A=GF(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[E,P]=Rf(),{value:O,error:k}=E,[L,R]=Rf(),{value:_,error:B}=L,I=y.useRef(new due),C=y.useRef([]),D=y.useRef(void 0),W=y.useRef(void 0);c&&c!==D.current&&KF(c)&&(Qa(!af(c,D.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),D.current=c),j&&j!==W.current&&(Qa(!af(j,W.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),W.current=j);const K=y.useRef({scrollPageIntoView:Ne=>{const{dest:J,pageNumber:le,pageIndex:we=le-1}=Ne;if(m){m({dest:J,pageIndex:we,pageNumber:le});return}const De=C.current[we];if(De){De.scrollIntoView();return}Qa(!1,`An internal link leading to page ${le} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});y.useImperativeHandle(r,()=>({linkService:I,pages:C,viewer:K}),[]);function H(){N&&N()}function G(){k&&(Qa(!1,k.toString()),w&&w(k))}function ee(){P({type:"RESET"})}y.useEffect(ee,[c,P]);const Q=y.useCallback(()=>bue(this,void 0,void 0,function*(){if(!c)return null;if(typeof c=="string")return oA(c)?{data:qF(c)}:(HF(),{url:c});if(c instanceof wue)return{range:c};if(fue(c))return{data:c};if(Lj&&mue(c))return{data:yield vue(c)};if(Pr(typeof c=="object"),Pr(KF(c)),"url"in c&&typeof c.url=="string"){if(oA(c.url)){const{url:Ne}=c,J=GF(c,["url"]),le=qF(Ne);return Object.assign({data:le},J)}HF()}return c}),[c]);y.useEffect(()=>{const Ne=h0(Q());return Ne.promise.then(J=>{P({type:"RESOLVE",value:J})}).catch(J=>{P({type:"REJECT",error:J})}),()=>{Eu(Ne)}},[Q,P]),y.useEffect(()=>{if(!(typeof O>"u")){if(O===!1){G();return}H()}},[O]);function te(){_&&(v&&v(_),C.current=new Array(_.numPages),I.current.setDocument(_))}function U(){B&&(Qa(!1,B.toString()),x&&x(B))}y.useEffect(function(){R({type:"RESET"})},[R,O]),y.useEffect(function(){if(!O)return;const J=j?Object.assign(Object.assign({},O),j):O,le=Iz(J);p&&(le.onProgress=p),g&&(le.onPassword=g);const we=le,De=we.promise.then(ue=>{R({type:"RESOLVE",value:ue})}).catch(ue=>{we.destroyed||R({type:"REJECT",error:ue})});return()=>{De.finally(()=>we.destroy())}},[j,R,O]),y.useEffect(()=>{if(!(typeof _>"u")){if(_===!1){U();return}te()}},[_]),y.useEffect(function(){I.current.setViewer(K.current),I.current.setExternalLinkRel(o),I.current.setExternalLinkTarget(l)},[o,l]);const q=y.useCallback((Ne,J)=>{C.current[Ne]=J},[]),ne=y.useCallback(Ne=>{delete C.current[Ne]},[]),fe=y.useMemo(()=>({imageResourcesPath:u,linkService:I.current,onItemClick:m,pdf:_,registerPage:q,renderMode:b,rotate:S,unregisterPage:ne}),[u,m,_,q,b,S,ne]),pe=y.useMemo(()=>Dz(A,()=>_),[A,_]);function ye(){return a.jsx(Mz.Provider,{value:fe,children:n})}function Z(){return c?_==null?a.jsx(sf,{type:"loading",children:typeof h=="function"?h():h}):_===!1?a.jsx(sf,{type:"error",children:typeof i=="function"?i():i}):ye():a.jsx(sf,{type:"no-data",children:typeof f=="function"?f():f})}return a.jsx("div",Object.assign({className:ur("react-pdf__Document",s),ref:d,style:{"--scale-factor":"1"}},pe,{children:Z()}))});function $z(){return y.useContext(Mz)}function Uz(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.filter(Boolean);if(r.length<=1){var n=r[0];return n||null}return function(i){r.forEach(function(o){typeof o=="function"?o(i):o&&(o.current=i)})}}const Vz=y.createContext(null),zz={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Eue=/^H(\d+)$/;function Sue(t){return t in zz}function Bj(t){return"children"in t}function Wz(t){return Bj(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function Aue(t){const e={};if(Bj(t)){const{role:r}=t,n=r.match(Eue);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(Sue(r)){const s=zz[r];s&&(e.role=s)}}return e}function qz(t){const e={};if(Bj(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),Wz(t)){const[r]=t.children;if(r){const n=qz(r);return Object.assign(Object.assign({},e),n)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function Cue(t){return t?Object.assign(Object.assign({},Aue(t)),qz(t)):null}function Hz({className:t,node:e}){const r=y.useMemo(()=>Cue(e),[e]),n=y.useMemo(()=>!Bj(e)||Wz(e)?null:e.children.map((s,i)=>a.jsx(Hz,{node:s},i)),[e]);return a.jsx("span",Object.assign({className:t},r,{children:n}))}function $j(){return y.useContext(Vz)}function kue(){const t=$j();Pr(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:r}=t,[n,s]=Rf(),{value:i,error:o}=n,{customTextRenderer:l,page:c}=t;function d(){i&&r&&r(i)}function u(){o&&(Qa(!1,o.toString()),e&&e(o))}return y.useEffect(function(){s({type:"RESET"})},[s,c]),y.useEffect(function(){if(l||!c)return;const f=h0(c.getStructTree()),m=f;return f.promise.then(x=>{s({type:"RESOLVE",value:x})}).catch(x=>{s({type:"REJECT",error:x})}),()=>Eu(m)},[l,c,s]),y.useEffect(()=>{if(i!==void 0){if(i===!1){u();return}d()}},[i]),i?a.jsx(Hz,{className:"react-pdf__Page__structTree structTree",node:i}):null}const XF=_z;function Pue(t){const e=$j();Pr(e);const r=Object.assign(Object.assign({},e),t),{_className:n,canvasBackground:s,devicePixelRatio:i=pue(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:d,renderTextLayer:u,rotate:h,scale:f}=r,{canvasRef:m}=t;Pr(c);const x=y.useRef(null);function p(){c&&l&&l(lA(c,f))}function v(j){gue(j)||(Qa(!1,j.toString()),o&&o(j))}const g=y.useMemo(()=>c.getViewport({scale:f*i,rotation:h}),[i,c,h,f]),w=y.useMemo(()=>c.getViewport({scale:f,rotation:h}),[c,h,f]);y.useEffect(function(){if(!c)return;c.cleanup();const{current:b}=x;if(!b)return;b.width=g.width,b.height=g.height,b.style.width=`${Math.floor(w.width)}px`,b.style.height=`${Math.floor(w.height)}px`,b.style.visibility="hidden";const S={annotationMode:d?XF.ENABLE_FORMS:XF.ENABLE,canvasContext:b.getContext("2d",{alpha:!1}),viewport:g};s&&(S.background=s);const A=c.render(S),E=A;return A.promise.then(()=>{b.style.visibility="",p()}).catch(v),()=>Eu(E)},[s,c,d,g,w]);const N=y.useCallback(()=>{const{current:j}=x;j&&(j.width=0,j.height=0)},[]);return y.useEffect(()=>N,[N]),a.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:Uz(m,x),style:{display:"block",userSelect:"none"},children:u?a.jsx(kue,{}):null})}function Tue(t){return"str"in t}function Oue(){const t=$j();Pr(t);const{customTextRenderer:e,onGetTextError:r,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:i,page:o,pageIndex:l,pageNumber:c,rotate:d,scale:u}=t;Pr(o);const[h,f]=Rf(),{value:m,error:x}=h,p=y.useRef(null);Qa(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function v(){m&&n&&n(m)}function g(){x&&(Qa(!1,x.toString()),r&&r(x))}y.useEffect(function(){f({type:"RESET"})},[o,f]),y.useEffect(function(){if(!o)return;const E=h0(o.getTextContent()),P=E;return E.promise.then(O=>{f({type:"RESOLVE",value:O})}).catch(O=>{f({type:"REJECT",error:O})}),()=>Eu(P)},[o,f]),y.useEffect(()=>{if(m!==void 0){if(m===!1){g();return}v()}},[m]);const w=y.useCallback(()=>{i&&i()},[i]),N=y.useCallback(A=>{Qa(!1,A.toString()),s&&s(A)},[s]);function j(){const A=p.current;A&&A.classList.add("selecting")}function b(){const A=p.current;A&&A.classList.remove("selecting")}const S=y.useMemo(()=>o.getViewport({scale:u,rotation:d}),[o,d,u]);return y.useLayoutEffect(function(){if(!o||!m)return;const{current:E}=p;if(!E)return;E.innerHTML="";const P=o.streamTextContent({includeMarkedContent:!0}),O={container:E,textContentSource:P,viewport:S},k=new Rz(O),L=k;return k.render().then(()=>{const R=document.createElement("div");R.className="endOfContent",E.append(R);const _=E.querySelectorAll('[role="presentation"]');if(e){let B=0;m.items.forEach((I,C)=>{if(!Tue(I))return;const D=_[B];if(!D)return;const W=e(Object.assign({pageIndex:l,pageNumber:c,itemIndex:C},I));D.innerHTML=W,B+=I.str&&I.hasEOL?2:1})}w()}).catch(N),()=>Eu(L)},[e,N,w,o,l,c,m,S]),a.jsx("div",{className:ur("react-pdf__Page__textContent","textLayer"),onMouseUp:b,onMouseDown:j,ref:p})}function _ue(){const t=$z(),e=$j();Pr(e);const r=Object.assign(Object.assign({},t),e),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:i,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:d,pdf:u,renderForms:h,rotate:f,scale:m=1}=r;Pr(u),Pr(d),Pr(s);const[x,p]=Rf(),{value:v,error:g}=x,w=y.useRef(null);Qa(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function N(){v&&o&&o(v)}function j(){g&&(Qa(!1,g.toString()),i&&i(g))}y.useEffect(function(){p({type:"RESET"})},[p,d]),y.useEffect(function(){if(!d)return;const P=h0(d.getAnnotations()),O=P;return P.promise.then(k=>{p({type:"RESOLVE",value:k})}).catch(k=>{p({type:"REJECT",error:k})}),()=>{Eu(O)}},[p,d]),y.useEffect(()=>{if(v!==void 0){if(v===!1){j();return}N()}},[v]);function b(){c&&c()}function S(E){Qa(!1,`${E}`),l&&l(E)}const A=y.useMemo(()=>d.getViewport({scale:m,rotation:f}),[d,f,m]);return y.useEffect(function(){if(!u||!d||!s||!v)return;const{current:P}=w;if(!P)return;const O=A.clone({dontFlip:!0}),k={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:P,l10n:null,page:d,structTreeLayer:null,viewport:O},L={annotations:v,annotationStorage:u.annotationStorage,div:P,imageResourcesPath:n,linkService:s,page:d,renderForms:h,viewport:O};P.innerHTML="";try{new Oz(k).render(L),b()}catch(R){S(R)}return()=>{}},[v,n,s,d,u,h,A]),a.jsx("div",{className:ur("react-pdf__Page__annotations","annotationLayer"),ref:w})}var Rue=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const YF=1;function Iue(t){const e=$z(),r=Object.assign(Object.assign({},e),t),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:i,canvasRef:o,children:l,className:c,customRenderer:d,customTextRenderer:u,devicePixelRatio:h,error:f="Failed to load the page.",height:m,inputRef:x,loading:p="Loading page",noData:v="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:w,onGetStructTreeError:N,onGetStructTreeSuccess:j,onGetTextError:b,onGetTextSuccess:S,onLoadError:A,onLoadSuccess:E,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:O,onRenderError:k,onRenderSuccess:L,onRenderTextLayerError:R,onRenderTextLayerSuccess:_,pageIndex:B,pageNumber:I,pdf:C,registerPage:D,renderAnnotationLayer:W=!0,renderForms:K=!1,renderMode:H="canvas",renderTextLayer:G=!0,rotate:ee,scale:Q=YF,unregisterPage:te,width:U}=r,q=Rue(r,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ne,fe]=Rf(),{value:pe,error:ye}=ne,Z=y.useRef(null);Pr(C);const Ne=Rd(I)?I-1:B??null,J=I??(Rd(B)?B+1:null),le=ee??(pe?pe.rotate:null),we=y.useMemo(()=>{if(!pe)return null;let re=1;const oe=Q??YF;if(U||m){const ce=pe.getViewport({scale:1,rotation:le});U?re=U/ce.width:m&&(re=m/ce.height)}return oe*re},[m,pe,le,Q,U]);y.useEffect(function(){return()=>{Rd(Ne)&&s&&te&&te(Ne)}},[s,C,Ne,te]);function De(){if(E){if(!pe||!we)return;E(lA(pe,we))}if(s&&D){if(!Rd(Ne)||!Z.current)return;D(Ne,Z.current)}}function ue(){ye&&(Qa(!1,ye.toString()),A&&A(ye))}y.useEffect(function(){fe({type:"RESET"})},[fe,C,Ne]),y.useEffect(function(){if(!C||!J)return;const oe=h0(C.getPage(J)),ce=oe;return oe.promise.then(Ee=>{fe({type:"RESOLVE",value:Ee})}).catch(Ee=>{fe({type:"REJECT",error:Ee})}),()=>Eu(ce)},[fe,C,J]),y.useEffect(()=>{if(pe!==void 0){if(pe===!1){ue();return}De()}},[pe,we]);const Y=y.useMemo(()=>pe&&Rd(Ne)&&J&&Rd(le)&&Rd(we)?{_className:n,canvasBackground:i,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:g,onGetAnnotationsSuccess:w,onGetStructTreeError:N,onGetStructTreeSuccess:j,onGetTextError:b,onGetTextSuccess:S,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:O,onRenderError:k,onRenderSuccess:L,onRenderTextLayerError:R,onRenderTextLayerSuccess:_,page:pe,pageIndex:Ne,pageNumber:J,renderForms:K,renderTextLayer:G,rotate:le,scale:we}:null,[n,i,u,h,g,w,N,j,b,S,P,O,k,L,R,_,pe,Ne,J,K,G,le,we]),V=y.useMemo(()=>Dz(q,()=>pe&&(we?lA(pe,we):void 0)),[q,pe,we]),$=`${Ne}@${we}/${le}`;function X(){switch(H){case"custom":return Pr(d),a.jsx(d,{},`${$}_custom`);case"none":return null;case"canvas":default:return a.jsx(Pue,{canvasRef:o},`${$}_canvas`)}}function me(){return G?a.jsx(Oue,{},`${$}_text`):null}function z(){return W?a.jsx(_ue,{},`${$}_annotations`):null}function T(){return a.jsxs(Vz.Provider,{value:Y,children:[X(),me(),z(),l]})}function M(){return J?C===null||pe===void 0||pe===null?a.jsx(sf,{type:"loading",children:typeof p=="function"?p():p}):C===!1||pe===!1?a.jsx(sf,{type:"error",children:typeof f=="function"?f():f}):T():a.jsx(sf,{type:"no-data",children:typeof v=="function"?v():v})}return a.jsx("div",Object.assign({className:ur(n,c),"data-page-number":J,ref:Uz(x,Z),style:{"--scale-factor":`${we}`,backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},V,{children:M()}))}xue();Mj.workerSrc="pdf.worker.mjs";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cA=function(t,e){return cA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},cA(t,e)};function Je(t,e){cA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ht=function(){return Ht=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ht.apply(this,arguments)};function Fue(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function rr(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,[])).next())})}function nr(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],s=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Nr(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,s++)n[s]=i[o];return n}var $h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_p=new Uint8Array(256);for(var pv=0;pv<$h.length;pv++)_p[$h.charCodeAt(pv)]=pv;var Due=function(t){for(var e="",r=t.length,n=0;n<r;n+=3)e+=$h[t[n]>>2],e+=$h[(t[n]&3)<<4|t[n+1]>>4],e+=$h[(t[n+1]&15)<<2|t[n+2]>>6],e+=$h[t[n+2]&63];return r%3===2?e=e.substring(0,e.length-1)+"=":r%3===1&&(e=e.substring(0,e.length-2)+"=="),e},QF=function(t){var e=t.length*.75,r=t.length,n,s=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=new Uint8Array(e);for(n=0;n<r;n+=4)i=_p[t.charCodeAt(n)],o=_p[t.charCodeAt(n+1)],l=_p[t.charCodeAt(n+2)],c=_p[t.charCodeAt(n+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return d},Mue=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,Lue=function(t){var e=t.trim(),r=e.substring(0,100),n=r.match(Mue);if(!n)return QF(e);var s=n[0],i=e.substring(s.length);return QF(i)},Wt=function(t){return t.charCodeAt(0)},Bue=function(t){return t.codePointAt(0)},f0=function(t,e){return uo(t.toString(16),e,"0").toUpperCase()},Uj=function(t){return f0(t,2)},Ml=function(t){return String.fromCharCode(t)},$ue=function(t){return Ml(parseInt(t,16))},uo=function(t,e,r){for(var n="",s=0,i=e-t.length;s<i;s++)n+=r;return n+t},ka=function(t,e,r){for(var n=t.length,s=0;s<n;s++)e[r++]=t.charCodeAt(s);return n},Uue=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},m0=function(t){return t.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},Vue=["\\n","\\f","\\r","\\u000B"],Gz=function(t){return/^[\n\f\r\u000B]$/.test(t)},Kz=function(t){return t.split(/[\n\f\r\u000B]/)},Xz=function(t){return t.replace(/[\n\f\r\u000B]/g," ")},Yz=function(t,e){var r=t.charCodeAt(e),n,s=e+1,i=1;return r>=55296&&r<=56319&&t.length>s&&(n=t.charCodeAt(s),n>=56320&&n<=57343&&(i=2)),[t.slice(e,e+i),i]},zue=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=Yz(t,r),i=s[0],o=s[1];e.push(i),r+=o}return e},Wue=function(t){for(var e=Vue.join("|"),r=["$"],n=0,s=t.length;n<s;n++){var i=t[n];if(Gz(i))throw new TypeError("`wordBreak` must not include "+e);r.push(i===""?".":Uue(i))}var o=r.join("|");return new RegExp("("+e+")|((.*?)("+o+"))","gm")},que=function(t,e,r,n){for(var s=Wue(e),i=m0(t).match(s),o="",l=0,c=[],d=function(){o!==""&&c.push(o),o="",l=0},u=0,h=i.length;u<h;u++){var f=i[u];if(Gz(f))d();else{var m=n(f);l+m>r&&d(),o+=f,l+=m}}return d(),c},Hue=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,Qz=function(t){var e=t.match(Hue);if(e){var r=e[1],n=e[2],s=n===void 0?"01":n,i=e[3],o=i===void 0?"01":i,l=e[4],c=l===void 0?"00":l,d=e[5],u=d===void 0?"00":d,h=e[6],f=h===void 0?"00":h,m=e[7],x=m===void 0?"Z":m,p=e[8],v=p===void 0?"00":p,g=e[9],w=g===void 0?"00":g,N=x==="Z"?"Z":""+x+v+":"+w,j=new Date(r+"-"+s+"-"+o+"T"+c+":"+u+":"+f+N);return j}},AT=function(t,e){for(var r,n=0,s;n<t.length;){var i=t.substring(n).match(e);if(!i)return{match:s,pos:n};s=i,n+=((r=i.index)!==null&&r!==void 0?r:0)+i[0].length}return{match:s,pos:n}},wb=function(t){return t[t.length-1]},dA=function(t){if(t instanceof Uint8Array)return t;for(var e=t.length,r=new Uint8Array(e),n=0;n<e;n++)r[n]=t.charCodeAt(n);return r},Gue=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length,n=[],s=0;s<r;s++){var i=t[s];n[s]=i instanceof Uint8Array?i:dA(i)}for(var o=0,s=0;s<r;s++)o+=t[s].length;for(var l=new Uint8Array(o),c=0,d=0;d<r;d++)for(var u=n[d],h=0,f=u.length;h<f;h++)l[c++]=u[h];return l},Kue=function(t){for(var e=0,r=0,n=t.length;r<n;r++)e+=t[r].length;for(var s=new Uint8Array(e),i=0,r=0,n=t.length;r<n;r++){var o=t[r];s.set(o,i),i+=o.length}return s},Zz=function(t){for(var e="",r=0,n=t.length;r<n;r++)e+=Ml(t[r]);return e},Xue=function(t,e){return t.id-e.id},Yue=function(t,e){for(var r=[],n=0,s=t.length;n<s;n++){var i=t[n],o=t[n-1];(n===0||e(i)!==e(o))&&r.push(i)}return r},dh=function(t){for(var e=t.length,r=0,n=Math.floor(e/2);r<n;r++){var s=r,i=e-r-1,o=t[r];t[s]=t[i],t[i]=o}return t},Que=function(t){for(var e=0,r=0,n=t.length;r<n;r++)e+=t[r];return e},Zue=function(t,e){for(var r=new Array(e-t),n=0,s=r.length;n<s;n++)r[n]=t+n;return r},Jue=function(t,e){for(var r=new Array(e.length),n=0,s=e.length;n<s;n++)r[n]=t[e[n]];return r},ehe=function(t){return t instanceof Uint8Array||t instanceof ArrayBuffer||typeof t=="string"},rp=function(t){if(typeof t=="string")return Lue(t);if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return t;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},If=function(){return new Promise(function(t){setTimeout(function(){return t()},0)})},the=function(t,e){e===void 0&&(e=!0);var r=[];e&&r.push(65279);for(var n=0,s=t.length;n<s;){var i=t.codePointAt(n);if(i<65536)r.push(i),n+=1;else if(i<1114112)r.push(Jz(i),eW(i)),n+=2;else throw new Error("Invalid code point: 0x"+Uj(i))}return new Uint16Array(r)},rhe=function(t){return t>=0&&t<=65535},nhe=function(t){return t>=65536&&t<=1114111},Jz=function(t){return Math.floor((t-65536)/1024)+55296},eW=function(t){return(t-65536)%1024+56320},Zc;(function(t){t.BigEndian="BigEndian",t.LittleEndian="LittleEndian"})(Zc||(Zc={}));var np="".codePointAt(0),tW=function(t,e){if(e===void 0&&(e=!0),t.length<=1)return String.fromCodePoint(np);for(var r=e?she(t):Zc.BigEndian,n=e?2:0,s=[];t.length-n>=2;){var i=JF(t[n++],t[n++],r);if(ahe(i))if(t.length-n<2)s.push(np);else{var o=JF(t[n++],t[n++],r);ZF(o)?s.push(i,o):s.push(np)}else ZF(i)?(n+=2,s.push(np)):s.push(i)}return n<t.length&&s.push(np),String.fromCodePoint.apply(String,s)},ahe=function(t){return t>=55296&&t<=56319},ZF=function(t){return t>=56320&&t<=57343},JF=function(t,e,r){if(r===Zc.LittleEndian)return e<<8|t;if(r===Zc.BigEndian)return t<<8|e;throw new Error("Invalid byteOrder: "+r)},she=function(t){return rW(t)?Zc.BigEndian:nW(t)?Zc.LittleEndian:Zc.BigEndian},rW=function(t){return t[0]===254&&t[1]===255},nW=function(t){return t[0]===255&&t[1]===254},aW=function(t){return rW(t)||nW(t)},ihe=function(t){var e=String(t);if(Math.abs(t)<1){var r=parseInt(t.toString().split("e-")[1]);if(r){var n=t<0;n&&(t*=-1),t*=Math.pow(10,r-1),e="0."+new Array(r).join("0")+t.toString().substring(2),n&&(e="-"+e)}}else{var r=parseInt(t.toString().split("+")[1]);r>20&&(r-=20,t/=Math.pow(10,r),e=t.toString()+new Array(r+1).join("0"))}return e},hy=function(t){return Math.ceil(t.toString(2).length/8)},uh=function(t){for(var e=new Uint8Array(hy(t)),r=1;r<=e.length;r++)e[r-1]=t>>(e.length-r)*8;return e},p0=function(t){throw new Error(t)},rc={};(function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(i,o){return Object.prototype.hasOwnProperty.call(i,o)}t.assign=function(i){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var l=o.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var c in l)r(l,c)&&(i[c]=l[c])}}return i},t.shrinkBuf=function(i,o){return i.length===o?i:i.subarray?i.subarray(0,o):(i.length=o,i)};var n={arraySet:function(i,o,l,c,d){if(o.subarray&&i.subarray){i.set(o.subarray(l,l+c),d);return}for(var u=0;u<c;u++)i[d+u]=o[l+u]},flattenChunks:function(i){var o,l,c,d,u,h;for(c=0,o=0,l=i.length;o<l;o++)c+=i[o].length;for(h=new Uint8Array(c),d=0,o=0,l=i.length;o<l;o++)u=i[o],h.set(u,d),d+=u.length;return h}},s={arraySet:function(i,o,l,c,d){for(var u=0;u<c;u++)i[d+u]=o[l+u]},flattenChunks:function(i){return[].concat.apply([],i)}};t.setTyped=function(i){i?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(e)})(rc);var x0={},hl={},ym={},ohe=rc,lhe=4,eD=0,tD=1,che=2;function bm(t){for(var e=t.length;--e>=0;)t[e]=0}var dhe=0,sW=1,uhe=2,hhe=3,fhe=258,CT=29,g0=256,Yx=g0+1+CT,of=30,kT=19,iW=2*Yx+1,Zd=15,w2=16,mhe=7,PT=256,oW=16,lW=17,cW=18,uA=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],fy=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],phe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],dW=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xhe=512,Al=new Array((Yx+2)*2);bm(Al);var lx=new Array(of*2);bm(lx);var Qx=new Array(xhe);bm(Qx);var Zx=new Array(fhe-hhe+1);bm(Zx);var TT=new Array(CT);bm(TT);var jb=new Array(of);bm(jb);function j2(t,e,r,n,s){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=t&&t.length}var uW,hW,fW;function N2(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function mW(t){return t<256?Qx[t]:Qx[256+(t>>>7)]}function Jx(t,e){t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255}function Cs(t,e,r){t.bi_valid>w2-r?(t.bi_buf|=e<<t.bi_valid&65535,Jx(t,t.bi_buf),t.bi_buf=e>>w2-t.bi_valid,t.bi_valid+=r-w2):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function Ko(t,e,r){Cs(t,r[e*2],r[e*2+1])}function pW(t,e){var r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1}function ghe(t){t.bi_valid===16?(Jx(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function vhe(t,e){var r=e.dyn_tree,n=e.max_code,s=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,l=e.stat_desc.extra_base,c=e.stat_desc.max_length,d,u,h,f,m,x,p=0;for(f=0;f<=Zd;f++)t.bl_count[f]=0;for(r[t.heap[t.heap_max]*2+1]=0,d=t.heap_max+1;d<iW;d++)u=t.heap[d],f=r[r[u*2+1]*2+1]+1,f>c&&(f=c,p++),r[u*2+1]=f,!(u>n)&&(t.bl_count[f]++,m=0,u>=l&&(m=o[u-l]),x=r[u*2],t.opt_len+=x*(f+m),i&&(t.static_len+=x*(s[u*2+1]+m)));if(p!==0){do{for(f=c-1;t.bl_count[f]===0;)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[c]--,p-=2}while(p>0);for(f=c;f!==0;f--)for(u=t.bl_count[f];u!==0;)h=t.heap[--d],!(h>n)&&(r[h*2+1]!==f&&(t.opt_len+=(f-r[h*2+1])*r[h*2],r[h*2+1]=f),u--)}}function xW(t,e,r){var n=new Array(Zd+1),s=0,i,o;for(i=1;i<=Zd;i++)n[i]=s=s+r[i-1]<<1;for(o=0;o<=e;o++){var l=t[o*2+1];l!==0&&(t[o*2]=pW(n[l]++,l))}}function yhe(){var t,e,r,n,s,i=new Array(Zd+1);for(r=0,n=0;n<CT-1;n++)for(TT[n]=r,t=0;t<1<<uA[n];t++)Zx[r++]=n;for(Zx[r-1]=n,s=0,n=0;n<16;n++)for(jb[n]=s,t=0;t<1<<fy[n];t++)Qx[s++]=n;for(s>>=7;n<of;n++)for(jb[n]=s<<7,t=0;t<1<<fy[n]-7;t++)Qx[256+s++]=n;for(e=0;e<=Zd;e++)i[e]=0;for(t=0;t<=143;)Al[t*2+1]=8,t++,i[8]++;for(;t<=255;)Al[t*2+1]=9,t++,i[9]++;for(;t<=279;)Al[t*2+1]=7,t++,i[7]++;for(;t<=287;)Al[t*2+1]=8,t++,i[8]++;for(xW(Al,Yx+1,i),t=0;t<of;t++)lx[t*2+1]=5,lx[t*2]=pW(t,5);uW=new j2(Al,uA,g0+1,Yx,Zd),hW=new j2(lx,fy,0,of,Zd),fW=new j2(new Array(0),phe,0,kT,mhe)}function gW(t){var e;for(e=0;e<Yx;e++)t.dyn_ltree[e*2]=0;for(e=0;e<of;e++)t.dyn_dtree[e*2]=0;for(e=0;e<kT;e++)t.bl_tree[e*2]=0;t.dyn_ltree[PT*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function vW(t){t.bi_valid>8?Jx(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function bhe(t,e,r,n){vW(t),Jx(t,r),Jx(t,~r),ohe.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function rD(t,e,r,n){var s=e*2,i=r*2;return t[s]<t[i]||t[s]===t[i]&&n[e]<=n[r]}function E2(t,e,r){for(var n=t.heap[r],s=r<<1;s<=t.heap_len&&(s<t.heap_len&&rD(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!rD(e,n,t.heap[s],t.depth));)t.heap[r]=t.heap[s],r=s,s<<=1;t.heap[r]=n}function nD(t,e,r){var n,s,i=0,o,l;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+i*2]<<8|t.pending_buf[t.d_buf+i*2+1],s=t.pending_buf[t.l_buf+i],i++,n===0?Ko(t,s,e):(o=Zx[s],Ko(t,o+g0+1,e),l=uA[o],l!==0&&(s-=TT[o],Cs(t,s,l)),n--,o=mW(n),Ko(t,o,r),l=fy[o],l!==0&&(n-=jb[o],Cs(t,n,l)));while(i<t.last_lit);Ko(t,PT,e)}function hA(t,e){var r=e.dyn_tree,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,i=e.stat_desc.elems,o,l,c=-1,d;for(t.heap_len=0,t.heap_max=iW,o=0;o<i;o++)r[o*2]!==0?(t.heap[++t.heap_len]=c=o,t.depth[o]=0):r[o*2+1]=0;for(;t.heap_len<2;)d=t.heap[++t.heap_len]=c<2?++c:0,r[d*2]=1,t.depth[d]=0,t.opt_len--,s&&(t.static_len-=n[d*2+1]);for(e.max_code=c,o=t.heap_len>>1;o>=1;o--)E2(t,r,o);d=i;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],E2(t,r,1),l=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=l,r[d*2]=r[o*2]+r[l*2],t.depth[d]=(t.depth[o]>=t.depth[l]?t.depth[o]:t.depth[l])+1,r[o*2+1]=r[l*2+1]=d,t.heap[1]=d++,E2(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],vhe(t,e),xW(r,c,t.bl_count)}function aD(t,e,r){var n,s=-1,i,o=e[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)i=o,o=e[(n+1)*2+1],!(++l<c&&i===o)&&(l<d?t.bl_tree[i*2]+=l:i!==0?(i!==s&&t.bl_tree[i*2]++,t.bl_tree[oW*2]++):l<=10?t.bl_tree[lW*2]++:t.bl_tree[cW*2]++,l=0,s=i,o===0?(c=138,d=3):i===o?(c=6,d=3):(c=7,d=4))}function sD(t,e,r){var n,s=-1,i,o=e[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),n=0;n<=r;n++)if(i=o,o=e[(n+1)*2+1],!(++l<c&&i===o)){if(l<d)do Ko(t,i,t.bl_tree);while(--l!==0);else i!==0?(i!==s&&(Ko(t,i,t.bl_tree),l--),Ko(t,oW,t.bl_tree),Cs(t,l-3,2)):l<=10?(Ko(t,lW,t.bl_tree),Cs(t,l-3,3)):(Ko(t,cW,t.bl_tree),Cs(t,l-11,7));l=0,s=i,o===0?(c=138,d=3):i===o?(c=6,d=3):(c=7,d=4)}}function whe(t){var e;for(aD(t,t.dyn_ltree,t.l_desc.max_code),aD(t,t.dyn_dtree,t.d_desc.max_code),hA(t,t.bl_desc),e=kT-1;e>=3&&t.bl_tree[dW[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e}function jhe(t,e,r,n){var s;for(Cs(t,e-257,5),Cs(t,r-1,5),Cs(t,n-4,4),s=0;s<n;s++)Cs(t,t.bl_tree[dW[s]*2+1],3);sD(t,t.dyn_ltree,e-1),sD(t,t.dyn_dtree,r-1)}function Nhe(t){var e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return eD;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return tD;for(r=32;r<g0;r++)if(t.dyn_ltree[r*2]!==0)return tD;return eD}var iD=!1;function Ehe(t){iD||(yhe(),iD=!0),t.l_desc=new N2(t.dyn_ltree,uW),t.d_desc=new N2(t.dyn_dtree,hW),t.bl_desc=new N2(t.bl_tree,fW),t.bi_buf=0,t.bi_valid=0,gW(t)}function yW(t,e,r,n){Cs(t,(dhe<<1)+(n?1:0),3),bhe(t,e,r)}function She(t){Cs(t,sW<<1,3),Ko(t,PT,Al),ghe(t)}function Ahe(t,e,r,n){var s,i,o=0;t.level>0?(t.strm.data_type===che&&(t.strm.data_type=Nhe(t)),hA(t,t.l_desc),hA(t,t.d_desc),o=whe(t),s=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&e!==-1?yW(t,e,r,n):t.strategy===lhe||i===s?(Cs(t,(sW<<1)+(n?1:0),3),nD(t,Al,lx)):(Cs(t,(uhe<<1)+(n?1:0),3),jhe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),nD(t,t.dyn_ltree,t.dyn_dtree)),gW(t),n&&vW(t)}function Che(t,e,r){return t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(Zx[r]+g0+1)*2]++,t.dyn_dtree[mW(e)*2]++),t.last_lit===t.lit_bufsize-1}ym._tr_init=Ehe;ym._tr_stored_block=yW;ym._tr_flush_block=Ahe;ym._tr_tally=Che;ym._tr_align=She;function khe(t,e,r,n){for(var s=t&65535|0,i=t>>>16&65535|0,o=0;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+e[n++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0}var bW=khe;function Phe(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e}var The=Phe();function Ohe(t,e,r,n){var s=The,i=n+r;t^=-1;for(var o=n;o<i;o++)t=t>>>8^s[(t^e[o])&255];return t^-1}var wW=Ohe,OT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},cs=rc,Ii=ym,jW=bW,yc=wW,_he=OT,qu=0,Rhe=1,Ihe=3,Jc=4,oD=5,Xo=0,lD=1,Fi=-2,Fhe=-3,S2=-5,Dhe=-1,Mhe=1,xv=2,Lhe=3,Bhe=4,$he=0,Uhe=2,Vj=8,Vhe=9,zhe=15,Whe=8,qhe=29,Hhe=256,fA=Hhe+1+qhe,Ghe=30,Khe=19,Xhe=2*fA+1,Yhe=15,jr=3,Mc=258,wo=Mc+jr+1,Qhe=32,zj=42,mA=69,my=73,py=91,xy=103,Jd=113,Rp=666,ea=1,v0=2,Su=3,wm=4,Zhe=3;function Lc(t,e){return t.msg=_he[e],e}function cD(t){return(t<<1)-(t>4?9:0)}function Oc(t){for(var e=t.length;--e>=0;)t[e]=0}function bc(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(cs.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))}function Pa(t,e){Ii._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,bc(t.strm)}function Rr(t,e){t.pending_buf[t.pending++]=e}function ap(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255}function Jhe(t,e,r,n){var s=t.avail_in;return s>n&&(s=n),s===0?0:(t.avail_in-=s,cs.arraySet(e,t.input,t.next_in,s,r),t.state.wrap===1?t.adler=jW(t.adler,e,s,r):t.state.wrap===2&&(t.adler=yc(t.adler,e,s,r)),t.next_in+=s,t.total_in+=s,s)}function NW(t,e){var r=t.max_chain_length,n=t.strstart,s,i,o=t.prev_length,l=t.nice_match,c=t.strstart>t.w_size-wo?t.strstart-(t.w_size-wo):0,d=t.window,u=t.w_mask,h=t.prev,f=t.strstart+Mc,m=d[n+o-1],x=d[n+o];t.prev_length>=t.good_match&&(r>>=2),l>t.lookahead&&(l=t.lookahead);do if(s=e,!(d[s+o]!==x||d[s+o-1]!==m||d[s]!==d[n]||d[++s]!==d[n+1])){n+=2,s++;do;while(d[++n]===d[++s]&&d[++n]===d[++s]&&d[++n]===d[++s]&&d[++n]===d[++s]&&d[++n]===d[++s]&&d[++n]===d[++s]&&d[++n]===d[++s]&&d[++n]===d[++s]&&n<f);if(i=Mc-(f-n),n=f-Mc,i>o){if(t.match_start=e,o=i,i>=l)break;m=d[n+o-1],x=d[n+o]}}while((e=h[e&u])>c&&--r!==0);return o<=t.lookahead?o:t.lookahead}function Au(t){var e=t.w_size,r,n,s,i,o;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-wo)){cs.arraySet(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do s=t.head[--r],t.head[r]=s>=e?s-e:0;while(--n);n=e,r=n;do s=t.prev[--r],t.prev[r]=s>=e?s-e:0;while(--n);i+=e}if(t.strm.avail_in===0)break;if(n=Jhe(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=jr)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+jr-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<jr)););}while(t.lookahead<wo&&t.strm.avail_in!==0)}function efe(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Au(t),t.lookahead===0&&e===qu)return ea;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Pa(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-wo&&(Pa(t,!1),t.strm.avail_out===0))return ea}return t.insert=0,e===Jc?(Pa(t,!0),t.strm.avail_out===0?Su:wm):(t.strstart>t.block_start&&(Pa(t,!1),t.strm.avail_out===0),ea)}function A2(t,e){for(var r,n;;){if(t.lookahead<wo){if(Au(t),t.lookahead<wo&&e===qu)return ea;if(t.lookahead===0)break}if(r=0,t.lookahead>=jr&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+jr-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-wo&&(t.match_length=NW(t,r)),t.match_length>=jr)if(n=Ii._tr_tally(t,t.strstart-t.match_start,t.match_length-jr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=jr){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+jr-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=Ii._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Pa(t,!1),t.strm.avail_out===0))return ea}return t.insert=t.strstart<jr-1?t.strstart:jr-1,e===Jc?(Pa(t,!0),t.strm.avail_out===0?Su:wm):t.last_lit&&(Pa(t,!1),t.strm.avail_out===0)?ea:v0}function hh(t,e){for(var r,n,s;;){if(t.lookahead<wo){if(Au(t),t.lookahead<wo&&e===qu)return ea;if(t.lookahead===0)break}if(r=0,t.lookahead>=jr&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+jr-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=jr-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-wo&&(t.match_length=NW(t,r),t.match_length<=5&&(t.strategy===Mhe||t.match_length===jr&&t.strstart-t.match_start>4096)&&(t.match_length=jr-1)),t.prev_length>=jr&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-jr,n=Ii._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-jr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=s&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+jr-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=jr-1,t.strstart++,n&&(Pa(t,!1),t.strm.avail_out===0))return ea}else if(t.match_available){if(n=Ii._tr_tally(t,0,t.window[t.strstart-1]),n&&Pa(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return ea}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Ii._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<jr-1?t.strstart:jr-1,e===Jc?(Pa(t,!0),t.strm.avail_out===0?Su:wm):t.last_lit&&(Pa(t,!1),t.strm.avail_out===0)?ea:v0}function tfe(t,e){for(var r,n,s,i,o=t.window;;){if(t.lookahead<=Mc){if(Au(t),t.lookahead<=Mc&&e===qu)return ea;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=jr&&t.strstart>0&&(s=t.strstart-1,n=o[s],n===o[++s]&&n===o[++s]&&n===o[++s])){i=t.strstart+Mc;do;while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&s<i);t.match_length=Mc-(i-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=jr?(r=Ii._tr_tally(t,1,t.match_length-jr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Ii._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Pa(t,!1),t.strm.avail_out===0))return ea}return t.insert=0,e===Jc?(Pa(t,!0),t.strm.avail_out===0?Su:wm):t.last_lit&&(Pa(t,!1),t.strm.avail_out===0)?ea:v0}function rfe(t,e){for(var r;;){if(t.lookahead===0&&(Au(t),t.lookahead===0)){if(e===qu)return ea;break}if(t.match_length=0,r=Ii._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Pa(t,!1),t.strm.avail_out===0))return ea}return t.insert=0,e===Jc?(Pa(t,!0),t.strm.avail_out===0?Su:wm):t.last_lit&&(Pa(t,!1),t.strm.avail_out===0)?ea:v0}function Bo(t,e,r,n,s){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=s}var Uh;Uh=[new Bo(0,0,0,0,efe),new Bo(4,4,8,4,A2),new Bo(4,5,16,8,A2),new Bo(4,6,32,32,A2),new Bo(4,4,16,16,hh),new Bo(8,16,32,32,hh),new Bo(8,16,128,128,hh),new Bo(8,32,128,256,hh),new Bo(32,128,258,1024,hh),new Bo(32,258,258,4096,hh)];function nfe(t){t.window_size=2*t.w_size,Oc(t.head),t.max_lazy_match=Uh[t.level].max_lazy,t.good_match=Uh[t.level].good_length,t.nice_match=Uh[t.level].nice_length,t.max_chain_length=Uh[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=jr-1,t.match_available=0,t.ins_h=0}function afe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Vj,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new cs.Buf16(Xhe*2),this.dyn_dtree=new cs.Buf16((2*Ghe+1)*2),this.bl_tree=new cs.Buf16((2*Khe+1)*2),Oc(this.dyn_ltree),Oc(this.dyn_dtree),Oc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new cs.Buf16(Yhe+1),this.heap=new cs.Buf16(2*fA+1),Oc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new cs.Buf16(2*fA+1),Oc(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function EW(t){var e;return!t||!t.state?Lc(t,Fi):(t.total_in=t.total_out=0,t.data_type=Uhe,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?zj:Jd,t.adler=e.wrap===2?0:1,e.last_flush=qu,Ii._tr_init(e),Xo)}function SW(t){var e=EW(t);return e===Xo&&nfe(t.state),e}function sfe(t,e){return!t||!t.state||t.state.wrap!==2?Fi:(t.state.gzhead=e,Xo)}function AW(t,e,r,n,s,i){if(!t)return Fi;var o=1;if(e===Dhe&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),s<1||s>Vhe||r!==Vj||n<8||n>15||e<0||e>9||i<0||i>Bhe)return Lc(t,Fi);n===8&&(n=9);var l=new afe;return t.state=l,l.strm=t,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+jr-1)/jr),l.window=new cs.Buf8(l.w_size*2),l.head=new cs.Buf16(l.hash_size),l.prev=new cs.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new cs.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=i,l.method=r,SW(t)}function ife(t,e){return AW(t,e,Vj,zhe,Whe,$he)}function ofe(t,e){var r,n,s,i;if(!t||!t.state||e>oD||e<0)return t?Lc(t,Fi):Fi;if(n=t.state,!t.output||!t.input&&t.avail_in!==0||n.status===Rp&&e!==Jc)return Lc(t,t.avail_out===0?S2:Fi);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===zj)if(n.wrap===2)t.adler=0,Rr(n,31),Rr(n,139),Rr(n,8),n.gzhead?(Rr(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Rr(n,n.gzhead.time&255),Rr(n,n.gzhead.time>>8&255),Rr(n,n.gzhead.time>>16&255),Rr(n,n.gzhead.time>>24&255),Rr(n,n.level===9?2:n.strategy>=xv||n.level<2?4:0),Rr(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Rr(n,n.gzhead.extra.length&255),Rr(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=yc(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=mA):(Rr(n,0),Rr(n,0),Rr(n,0),Rr(n,0),Rr(n,0),Rr(n,n.level===9?2:n.strategy>=xv||n.level<2?4:0),Rr(n,Zhe),n.status=Jd);else{var o=Vj+(n.w_bits-8<<4)<<8,l=-1;n.strategy>=xv||n.level<2?l=0:n.level<6?l=1:n.level===6?l=2:l=3,o|=l<<6,n.strstart!==0&&(o|=Qhe),o+=31-o%31,n.status=Jd,ap(n,o),n.strstart!==0&&(ap(n,t.adler>>>16),ap(n,t.adler&65535)),t.adler=1}if(n.status===mA)if(n.gzhead.extra){for(s=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(t.adler=yc(t.adler,n.pending_buf,n.pending-s,s)),bc(t),s=n.pending,n.pending===n.pending_buf_size));)Rr(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>s&&(t.adler=yc(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=my)}else n.status=my;if(n.status===my)if(n.gzhead.name){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(t.adler=yc(t.adler,n.pending_buf,n.pending-s,s)),bc(t),s=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,Rr(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(t.adler=yc(t.adler,n.pending_buf,n.pending-s,s)),i===0&&(n.gzindex=0,n.status=py)}else n.status=py;if(n.status===py)if(n.gzhead.comment){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(t.adler=yc(t.adler,n.pending_buf,n.pending-s,s)),bc(t),s=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,Rr(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(t.adler=yc(t.adler,n.pending_buf,n.pending-s,s)),i===0&&(n.status=xy)}else n.status=xy;if(n.status===xy&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&bc(t),n.pending+2<=n.pending_buf_size&&(Rr(n,t.adler&255),Rr(n,t.adler>>8&255),t.adler=0,n.status=Jd)):n.status=Jd),n.pending!==0){if(bc(t),t.avail_out===0)return n.last_flush=-1,Xo}else if(t.avail_in===0&&cD(e)<=cD(r)&&e!==Jc)return Lc(t,S2);if(n.status===Rp&&t.avail_in!==0)return Lc(t,S2);if(t.avail_in!==0||n.lookahead!==0||e!==qu&&n.status!==Rp){var c=n.strategy===xv?rfe(n,e):n.strategy===Lhe?tfe(n,e):Uh[n.level].func(n,e);if((c===Su||c===wm)&&(n.status=Rp),c===ea||c===Su)return t.avail_out===0&&(n.last_flush=-1),Xo;if(c===v0&&(e===Rhe?Ii._tr_align(n):e!==oD&&(Ii._tr_stored_block(n,0,0,!1),e===Ihe&&(Oc(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),bc(t),t.avail_out===0))return n.last_flush=-1,Xo}return e!==Jc?Xo:n.wrap<=0?lD:(n.wrap===2?(Rr(n,t.adler&255),Rr(n,t.adler>>8&255),Rr(n,t.adler>>16&255),Rr(n,t.adler>>24&255),Rr(n,t.total_in&255),Rr(n,t.total_in>>8&255),Rr(n,t.total_in>>16&255),Rr(n,t.total_in>>24&255)):(ap(n,t.adler>>>16),ap(n,t.adler&65535)),bc(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Xo:lD)}function lfe(t){var e;return!t||!t.state?Fi:(e=t.state.status,e!==zj&&e!==mA&&e!==my&&e!==py&&e!==xy&&e!==Jd&&e!==Rp?Lc(t,Fi):(t.state=null,e===Jd?Lc(t,Fhe):Xo))}function cfe(t,e){var r=e.length,n,s,i,o,l,c,d,u;if(!t||!t.state||(n=t.state,o=n.wrap,o===2||o===1&&n.status!==zj||n.lookahead))return Fi;for(o===1&&(t.adler=jW(t.adler,e,r,0)),n.wrap=0,r>=n.w_size&&(o===0&&(Oc(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new cs.Buf8(n.w_size),cs.arraySet(u,e,r-n.w_size,n.w_size,0),e=u,r=n.w_size),l=t.avail_in,c=t.next_in,d=t.input,t.avail_in=r,t.next_in=0,t.input=e,Au(n);n.lookahead>=jr;){s=n.strstart,i=n.lookahead-(jr-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[s+jr-1])&n.hash_mask,n.prev[s&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=s,s++;while(--i);n.strstart=s,n.lookahead=jr-1,Au(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=jr-1,n.match_available=0,t.next_in=c,t.input=d,t.avail_in=l,n.wrap=o,Xo}hl.deflateInit=ife;hl.deflateInit2=AW;hl.deflateReset=SW;hl.deflateResetKeep=EW;hl.deflateSetHeader=sfe;hl.deflate=ofe;hl.deflateEnd=lfe;hl.deflateSetDictionary=cfe;hl.deflateInfo="pako deflate (from Nodeca project)";var Hu={},Wj=rc,CW=!0,kW=!0;try{String.fromCharCode.apply(null,[0])}catch{CW=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{kW=!1}var eg=new Wj.Buf8(256);for(var mc=0;mc<256;mc++)eg[mc]=mc>=252?6:mc>=248?5:mc>=240?4:mc>=224?3:mc>=192?2:1;eg[254]=eg[254]=1;Hu.string2buf=function(t){var e,r,n,s,i,o=t.length,l=0;for(s=0;s<o;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Wj.Buf8(l),i=0,s=0;i<l;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};function PW(t,e){if(e<65534&&(t.subarray&&kW||!t.subarray&&CW))return String.fromCharCode.apply(null,Wj.shrinkBuf(t,e));for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}Hu.buf2binstring=function(t){return PW(t,t.length)};Hu.binstring2buf=function(t){for(var e=new Wj.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e};Hu.buf2string=function(t,e){var r,n,s,i,o=e||t.length,l=new Array(o*2);for(n=0,r=0;r<o;){if(s=t[r++],s<128){l[n++]=s;continue}if(i=eg[s],i>4){l[n++]=65533,r+=i-1;continue}for(s&=i===2?31:i===3?15:7;i>1&&r<o;)s=s<<6|t[r++]&63,i--;if(i>1){l[n++]=65533;continue}s<65536?l[n++]=s:(s-=65536,l[n++]=55296|s>>10&1023,l[n++]=56320|s&1023)}return PW(l,n)};Hu.utf8border=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+eg[t[r]]>e?r:e};function dfe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var TW=dfe,cx=hl,dx=rc,pA=Hu,xA=OT,ufe=TW,OW=Object.prototype.toString,hfe=0,C2=4,lf=0,dD=1,uD=2,ffe=-1,mfe=0,pfe=8;function Cu(t){if(!(this instanceof Cu))return new Cu(t);this.options=dx.assign({level:ffe,method:pfe,chunkSize:16384,windowBits:15,memLevel:8,strategy:mfe,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ufe,this.strm.avail_out=0;var r=cx.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==lf)throw new Error(xA[r]);if(e.header&&cx.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(typeof e.dictionary=="string"?n=pA.string2buf(e.dictionary):OW.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=cx.deflateSetDictionary(this.strm,n),r!==lf)throw new Error(xA[r]);this._dict_set=!0}}Cu.prototype.push=function(t,e){var r=this.strm,n=this.options.chunkSize,s,i;if(this.ended)return!1;i=e===~~e?e:e===!0?C2:hfe,typeof t=="string"?r.input=pA.string2buf(t):OW.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new dx.Buf8(n),r.next_out=0,r.avail_out=n),s=cx.deflate(r,i),s!==dD&&s!==lf)return this.onEnd(s),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(i===C2||i===uD))&&(this.options.to==="string"?this.onData(pA.buf2binstring(dx.shrinkBuf(r.output,r.next_out))):this.onData(dx.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&s!==dD);return i===C2?(s=cx.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===lf):(i===uD&&(this.onEnd(lf),r.avail_out=0),!0)};Cu.prototype.onData=function(t){this.chunks.push(t)};Cu.prototype.onEnd=function(t){t===lf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dx.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function _T(t,e){var r=new Cu(e);if(r.push(t,!0),r.err)throw r.msg||xA[r.err];return r.result}function xfe(t,e){return e=e||{},e.raw=!0,_T(t,e)}function gfe(t,e){return e=e||{},e.gzip=!0,_T(t,e)}x0.Deflate=Cu;x0.deflate=_T;x0.deflateRaw=xfe;x0.gzip=gfe;var y0={},To={},gv=30,vfe=12,yfe=function(e,r){var n,s,i,o,l,c,d,u,h,f,m,x,p,v,g,w,N,j,b,S,A,E,P,O,k;n=e.state,s=e.next_in,O=e.input,i=s+(e.avail_in-5),o=e.next_out,k=e.output,l=o-(r-e.avail_out),c=o+(e.avail_out-257),d=n.dmax,u=n.wsize,h=n.whave,f=n.wnext,m=n.window,x=n.hold,p=n.bits,v=n.lencode,g=n.distcode,w=(1<<n.lenbits)-1,N=(1<<n.distbits)-1;e:do{p<15&&(x+=O[s++]<<p,p+=8,x+=O[s++]<<p,p+=8),j=v[x&w];t:for(;;){if(b=j>>>24,x>>>=b,p-=b,b=j>>>16&255,b===0)k[o++]=j&65535;else if(b&16){S=j&65535,b&=15,b&&(p<b&&(x+=O[s++]<<p,p+=8),S+=x&(1<<b)-1,x>>>=b,p-=b),p<15&&(x+=O[s++]<<p,p+=8,x+=O[s++]<<p,p+=8),j=g[x&N];r:for(;;){if(b=j>>>24,x>>>=b,p-=b,b=j>>>16&255,b&16){if(A=j&65535,b&=15,p<b&&(x+=O[s++]<<p,p+=8,p<b&&(x+=O[s++]<<p,p+=8)),A+=x&(1<<b)-1,A>d){e.msg="invalid distance too far back",n.mode=gv;break e}if(x>>>=b,p-=b,b=o-l,A>b){if(b=A-b,b>h&&n.sane){e.msg="invalid distance too far back",n.mode=gv;break e}if(E=0,P=m,f===0){if(E+=u-b,b<S){S-=b;do k[o++]=m[E++];while(--b);E=o-A,P=k}}else if(f<b){if(E+=u+f-b,b-=f,b<S){S-=b;do k[o++]=m[E++];while(--b);if(E=0,f<S){b=f,S-=b;do k[o++]=m[E++];while(--b);E=o-A,P=k}}}else if(E+=f-b,b<S){S-=b;do k[o++]=m[E++];while(--b);E=o-A,P=k}for(;S>2;)k[o++]=P[E++],k[o++]=P[E++],k[o++]=P[E++],S-=3;S&&(k[o++]=P[E++],S>1&&(k[o++]=P[E++]))}else{E=o-A;do k[o++]=k[E++],k[o++]=k[E++],k[o++]=k[E++],S-=3;while(S>2);S&&(k[o++]=k[E++],S>1&&(k[o++]=k[E++]))}}else if(b&64){e.msg="invalid distance code",n.mode=gv;break e}else{j=g[(j&65535)+(x&(1<<b)-1)];continue r}break}}else if(b&64)if(b&32){n.mode=vfe;break e}else{e.msg="invalid literal/length code",n.mode=gv;break e}else{j=v[(j&65535)+(x&(1<<b)-1)];continue t}break}}while(s<i&&o<c);S=p>>3,s-=S,p-=S<<3,x&=(1<<p)-1,e.next_in=s,e.next_out=o,e.avail_in=s<i?5+(i-s):5-(s-i),e.avail_out=o<c?257+(c-o):257-(o-c),n.hold=x,n.bits=p},hD=rc,fh=15,fD=852,mD=592,pD=0,k2=1,xD=2,bfe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],wfe=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],jfe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Nfe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Efe=function(e,r,n,s,i,o,l,c){var d=c.bits,u=0,h=0,f=0,m=0,x=0,p=0,v=0,g=0,w=0,N=0,j,b,S,A,E,P=null,O=0,k,L=new hD.Buf16(fh+1),R=new hD.Buf16(fh+1),_=null,B=0,I,C,D;for(u=0;u<=fh;u++)L[u]=0;for(h=0;h<s;h++)L[r[n+h]]++;for(x=d,m=fh;m>=1&&L[m]===0;m--);if(x>m&&(x=m),m===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,c.bits=1,0;for(f=1;f<m&&L[f]===0;f++);for(x<f&&(x=f),g=1,u=1;u<=fh;u++)if(g<<=1,g-=L[u],g<0)return-1;if(g>0&&(e===pD||m!==1))return-1;for(R[1]=0,u=1;u<fh;u++)R[u+1]=R[u]+L[u];for(h=0;h<s;h++)r[n+h]!==0&&(l[R[r[n+h]]++]=h);if(e===pD?(P=_=l,k=19):e===k2?(P=bfe,O-=257,_=wfe,B-=257,k=256):(P=jfe,_=Nfe,k=-1),N=0,h=0,u=f,E=o,p=x,v=0,S=-1,w=1<<x,A=w-1,e===k2&&w>fD||e===xD&&w>mD)return 1;for(;;){I=u-v,l[h]<k?(C=0,D=l[h]):l[h]>k?(C=_[B+l[h]],D=P[O+l[h]]):(C=96,D=0),j=1<<u-v,b=1<<p,f=b;do b-=j,i[E+(N>>v)+b]=I<<24|C<<16|D|0;while(b!==0);for(j=1<<u-1;N&j;)j>>=1;if(j!==0?(N&=j-1,N+=j):N=0,h++,--L[u]===0){if(u===m)break;u=r[n+l[h]]}if(u>x&&(N&A)!==S){for(v===0&&(v=x),E+=f,p=u-v,g=1<<p;p+v<m&&(g-=L[p+v],!(g<=0));)p++,g<<=1;if(w+=1<<p,e===k2&&w>fD||e===xD&&w>mD)return 1;S=N&A,i[S]=x<<24|p<<16|E-o|0}}return N!==0&&(i[E+N]=u-v<<24|64<<16|0),c.bits=x,0},Ys=rc,gA=bW,$o=wW,Sfe=yfe,ux=Efe,Afe=0,_W=1,RW=2,gD=4,Cfe=5,vv=6,ku=0,kfe=1,Pfe=2,Vi=-2,IW=-3,FW=-4,Tfe=-5,vD=8,DW=1,yD=2,bD=3,wD=4,jD=5,ND=6,ED=7,SD=8,AD=9,CD=10,Nb=11,vl=12,P2=13,kD=14,T2=15,PD=16,TD=17,OD=18,_D=19,yv=20,bv=21,RD=22,ID=23,FD=24,DD=25,MD=26,O2=27,LD=28,BD=29,dn=30,MW=31,Ofe=32,_fe=852,Rfe=592,Ife=15,Ffe=Ife;function $D(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function Dfe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ys.Buf16(320),this.work=new Ys.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function LW(t){var e;return!t||!t.state?Vi:(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=DW,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Ys.Buf32(_fe),e.distcode=e.distdyn=new Ys.Buf32(Rfe),e.sane=1,e.back=-1,ku)}function BW(t){var e;return!t||!t.state?Vi:(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,LW(t))}function $W(t,e){var r,n;return!t||!t.state||(n=t.state,e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?Vi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,BW(t))}function UW(t,e){var r,n;return t?(n=new Dfe,t.state=n,n.window=null,r=$W(t,e),r!==ku&&(t.state=null),r):Vi}function Mfe(t){return UW(t,Ffe)}var UD=!0,_2,R2;function Lfe(t){if(UD){var e;for(_2=new Ys.Buf32(512),R2=new Ys.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ux(_W,t.lens,0,288,_2,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ux(RW,t.lens,0,32,R2,0,t.work,{bits:5}),UD=!1}t.lencode=_2,t.lenbits=9,t.distcode=R2,t.distbits=5}function VW(t,e,r,n){var s,i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Ys.Buf8(i.wsize)),n>=i.wsize?(Ys.arraySet(i.window,e,r-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),Ys.arraySet(i.window,e,r-n,s,i.wnext),n-=s,n?(Ys.arraySet(i.window,e,r-n,n,0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0}function Bfe(t,e){var r,n,s,i,o,l,c,d,u,h,f,m,x,p,v=0,g,w,N,j,b,S,A,E,P=new Ys.Buf8(4),O,k,L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Vi;r=t.state,r.mode===vl&&(r.mode=P2),o=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,d=r.hold,u=r.bits,h=l,f=c,E=ku;e:for(;;)switch(r.mode){case DW:if(r.wrap===0){r.mode=P2;break}for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.wrap&2&&d===35615){r.check=0,P[0]=d&255,P[1]=d>>>8&255,r.check=$o(r.check,P,2,0),d=0,u=0,r.mode=yD;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",r.mode=dn;break}if((d&15)!==vD){t.msg="unknown compression method",r.mode=dn;break}if(d>>>=4,u-=4,A=(d&15)+8,r.wbits===0)r.wbits=A;else if(A>r.wbits){t.msg="invalid window size",r.mode=dn;break}r.dmax=1<<A,t.adler=r.check=1,r.mode=d&512?CD:vl,d=0,u=0;break;case yD:for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==vD){t.msg="unknown compression method",r.mode=dn;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=dn;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&(P[0]=d&255,P[1]=d>>>8&255,r.check=$o(r.check,P,2,0)),d=0,u=0,r.mode=bD;case bD:for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&(P[0]=d&255,P[1]=d>>>8&255,P[2]=d>>>16&255,P[3]=d>>>24&255,r.check=$o(r.check,P,4,0)),d=0,u=0,r.mode=wD;case wD:for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&(P[0]=d&255,P[1]=d>>>8&255,r.check=$o(r.check,P,2,0)),d=0,u=0,r.mode=jD;case jD:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&(P[0]=d&255,P[1]=d>>>8&255,r.check=$o(r.check,P,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=ND;case ND:if(r.flags&1024&&(m=r.length,m>l&&(m=l),m&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Ys.arraySet(r.head.extra,n,i,m,A)),r.flags&512&&(r.check=$o(r.check,n,m,i)),l-=m,i+=m,r.length-=m),r.length))break e;r.length=0,r.mode=ED;case ED:if(r.flags&2048){if(l===0)break e;m=0;do A=n[i+m++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A));while(A&&m<l);if(r.flags&512&&(r.check=$o(r.check,n,m,i)),l-=m,i+=m,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=SD;case SD:if(r.flags&4096){if(l===0)break e;m=0;do A=n[i+m++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A));while(A&&m<l);if(r.flags&512&&(r.check=$o(r.check,n,m,i)),l-=m,i+=m,A)break e}else r.head&&(r.head.comment=null);r.mode=AD;case AD:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(d!==(r.check&65535)){t.msg="header crc mismatch",r.mode=dn;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=vl;break;case CD:for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}t.adler=r.check=$D(d),d=0,u=0,r.mode=Nb;case Nb:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=u,Pfe;t.adler=r.check=1,r.mode=vl;case vl:if(e===Cfe||e===vv)break e;case P2:if(r.last){d>>>=u&7,u-=u&7,r.mode=O2;break}for(;u<3;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=kD;break;case 1:if(Lfe(r),r.mode=yv,e===vv){d>>>=2,u-=2;break e}break;case 2:r.mode=TD;break;case 3:t.msg="invalid block type",r.mode=dn}d>>>=2,u-=2;break;case kD:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",r.mode=dn;break}if(r.length=d&65535,d=0,u=0,r.mode=T2,e===vv)break e;case T2:r.mode=PD;case PD:if(m=r.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;Ys.arraySet(s,n,i,m,o),l-=m,i+=m,c-=m,o+=m,r.length-=m;break}r.mode=vl;break;case TD:for(;u<14;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=dn;break}r.have=0,r.mode=OD;case OD:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.lens[L[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,O={bits:r.lenbits},E=ux(Afe,r.lens,0,19,r.lencode,0,r.work,O),r.lenbits=O.bits,E){t.msg="invalid code lengths set",r.mode=dn;break}r.have=0,r.mode=_D;case _D:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[d&(1<<r.lenbits)-1],g=v>>>24,w=v>>>16&255,N=v&65535,!(g<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(N<16)d>>>=g,u-=g,r.lens[r.have++]=N;else{if(N===16){for(k=g+2;u<k;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(d>>>=g,u-=g,r.have===0){t.msg="invalid bit length repeat",r.mode=dn;break}A=r.lens[r.have-1],m=3+(d&3),d>>>=2,u-=2}else if(N===17){for(k=g+3;u<k;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=g,u-=g,A=0,m=3+(d&7),d>>>=3,u-=3}else{for(k=g+7;u<k;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=g,u-=g,A=0,m=11+(d&127),d>>>=7,u-=7}if(r.have+m>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=dn;break}for(;m--;)r.lens[r.have++]=A}}if(r.mode===dn)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=dn;break}if(r.lenbits=9,O={bits:r.lenbits},E=ux(_W,r.lens,0,r.nlen,r.lencode,0,r.work,O),r.lenbits=O.bits,E){t.msg="invalid literal/lengths set",r.mode=dn;break}if(r.distbits=6,r.distcode=r.distdyn,O={bits:r.distbits},E=ux(RW,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,O),r.distbits=O.bits,E){t.msg="invalid distances set",r.mode=dn;break}if(r.mode=yv,e===vv)break e;case yv:r.mode=bv;case bv:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=u,Sfe(t,f),o=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,d=r.hold,u=r.bits,r.mode===vl&&(r.back=-1);break}for(r.back=0;v=r.lencode[d&(1<<r.lenbits)-1],g=v>>>24,w=v>>>16&255,N=v&65535,!(g<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(w&&!(w&240)){for(j=g,b=w,S=N;v=r.lencode[S+((d&(1<<j+b)-1)>>j)],g=v>>>24,w=v>>>16&255,N=v&65535,!(j+g<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=j,u-=j,r.back+=j}if(d>>>=g,u-=g,r.back+=g,r.length=N,w===0){r.mode=MD;break}if(w&32){r.back=-1,r.mode=vl;break}if(w&64){t.msg="invalid literal/length code",r.mode=dn;break}r.extra=w&15,r.mode=RD;case RD:if(r.extra){for(k=r.extra;u<k;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=ID;case ID:for(;v=r.distcode[d&(1<<r.distbits)-1],g=v>>>24,w=v>>>16&255,N=v&65535,!(g<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(!(w&240)){for(j=g,b=w,S=N;v=r.distcode[S+((d&(1<<j+b)-1)>>j)],g=v>>>24,w=v>>>16&255,N=v&65535,!(j+g<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=j,u-=j,r.back+=j}if(d>>>=g,u-=g,r.back+=g,w&64){t.msg="invalid distance code",r.mode=dn;break}r.offset=N,r.extra=w&15,r.mode=FD;case FD:if(r.extra){for(k=r.extra;u<k;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=dn;break}r.mode=DD;case DD:if(c===0)break e;if(m=f-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=dn;break}m>r.wnext?(m-=r.wnext,x=r.wsize-m):x=r.wnext-m,m>r.length&&(m=r.length),p=r.window}else p=s,x=o-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do s[o++]=p[x++];while(--m);r.length===0&&(r.mode=bv);break;case MD:if(c===0)break e;s[o++]=r.length,c--,r.mode=bv;break;case O2:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=n[i++]<<u,u+=8}if(f-=c,t.total_out+=f,r.total+=f,f&&(t.adler=r.check=r.flags?$o(r.check,s,f,o-f):gA(r.check,s,f,o-f)),f=c,(r.flags?d:$D(d))!==r.check){t.msg="incorrect data check",r.mode=dn;break}d=0,u=0}r.mode=LD;case LD:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(d!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=dn;break}d=0,u=0}r.mode=BD;case BD:E=kfe;break e;case dn:E=IW;break e;case MW:return FW;case Ofe:default:return Vi}return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=u,(r.wsize||f!==t.avail_out&&r.mode<dn&&(r.mode<O2||e!==gD))&&VW(t,t.output,t.next_out,f-t.avail_out),h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,r.total+=f,r.wrap&&f&&(t.adler=r.check=r.flags?$o(r.check,s,f,t.next_out-f):gA(r.check,s,f,t.next_out-f)),t.data_type=r.bits+(r.last?64:0)+(r.mode===vl?128:0)+(r.mode===yv||r.mode===T2?256:0),(h===0&&f===0||e===gD)&&E===ku&&(E=Tfe),E}function $fe(t){if(!t||!t.state)return Vi;var e=t.state;return e.window&&(e.window=null),t.state=null,ku}function Ufe(t,e){var r;return!t||!t.state||(r=t.state,!(r.wrap&2))?Vi:(r.head=e,e.done=!1,ku)}function Vfe(t,e){var r=e.length,n,s,i;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==Nb)?Vi:n.mode===Nb&&(s=1,s=gA(s,e,r,0),s!==n.check)?IW:(i=VW(t,e,r,r),i?(n.mode=MW,FW):(n.havedict=1,ku))}To.inflateReset=BW;To.inflateReset2=$W;To.inflateResetKeep=LW;To.inflateInit=Mfe;To.inflateInit2=UW;To.inflate=Bfe;To.inflateEnd=$fe;To.inflateGetHeader=Ufe;To.inflateSetDictionary=Vfe;To.inflateInfo="pako inflate (from Nodeca project)";var zW={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function zfe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Wfe=zfe,cf=To,hx=rc,gy=Hu,Cn=zW,vA=OT,qfe=TW,Hfe=Wfe,WW=Object.prototype.toString;function Pu(t){if(!(this instanceof Pu))return new Pu(t);this.options=hx.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qfe,this.strm.avail_out=0;var r=cf.inflateInit2(this.strm,e.windowBits);if(r!==Cn.Z_OK)throw new Error(vA[r]);if(this.header=new Hfe,cf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=gy.string2buf(e.dictionary):WW.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=cf.inflateSetDictionary(this.strm,e.dictionary),r!==Cn.Z_OK)))throw new Error(vA[r])}Pu.prototype.push=function(t,e){var r=this.strm,n=this.options.chunkSize,s=this.options.dictionary,i,o,l,c,d,u=!1;if(this.ended)return!1;o=e===~~e?e:e===!0?Cn.Z_FINISH:Cn.Z_NO_FLUSH,typeof t=="string"?r.input=gy.binstring2buf(t):WW.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new hx.Buf8(n),r.next_out=0,r.avail_out=n),i=cf.inflate(r,Cn.Z_NO_FLUSH),i===Cn.Z_NEED_DICT&&s&&(i=cf.inflateSetDictionary(this.strm,s)),i===Cn.Z_BUF_ERROR&&u===!0&&(i=Cn.Z_OK,u=!1),i!==Cn.Z_STREAM_END&&i!==Cn.Z_OK)return this.onEnd(i),this.ended=!0,!1;r.next_out&&(r.avail_out===0||i===Cn.Z_STREAM_END||r.avail_in===0&&(o===Cn.Z_FINISH||o===Cn.Z_SYNC_FLUSH))&&(this.options.to==="string"?(l=gy.utf8border(r.output,r.next_out),c=r.next_out-l,d=gy.buf2string(r.output,l),r.next_out=c,r.avail_out=n-c,c&&hx.arraySet(r.output,r.output,l,c,0),this.onData(d)):this.onData(hx.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(u=!0)}while((r.avail_in>0||r.avail_out===0)&&i!==Cn.Z_STREAM_END);return i===Cn.Z_STREAM_END&&(o=Cn.Z_FINISH),o===Cn.Z_FINISH?(i=cf.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Cn.Z_OK):(o===Cn.Z_SYNC_FLUSH&&(this.onEnd(Cn.Z_OK),r.avail_out=0),!0)};Pu.prototype.onData=function(t){this.chunks.push(t)};Pu.prototype.onEnd=function(t){t===Cn.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hx.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function RT(t,e){var r=new Pu(e);if(r.push(t,!0),r.err)throw r.msg||vA[r.err];return r.result}function Gfe(t,e){return e=e||{},e.raw=!0,RT(t,e)}y0.Inflate=Pu;y0.inflate=RT;y0.inflateRaw=Gfe;y0.ungzip=RT;var Kfe=rc.assign,Xfe=x0,Yfe=y0,Qfe=zW,qW={};Kfe(qW,Xfe,Yfe,Qfe);var Zfe=qW;const qj=Mr(Zfe);var VD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ip=new Uint8Array(256);for(var wv=0;wv<VD.length;wv++)Ip[VD.charCodeAt(wv)]=wv;var Jfe=function(t){var e=t.length*.75,r=t.length,n,s=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=new Uint8Array(e);for(n=0;n<r;n+=4)i=Ip[t.charCodeAt(n)],o=Ip[t.charCodeAt(n+1)],l=Ip[t.charCodeAt(n+2)],c=Ip[t.charCodeAt(n+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return d},eme=function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},HW=function(t){return eme(qj.inflate(Jfe(t)))},tme=function(t,e,r){for(var n="",s=0,i=e-t.length;s<i;s++)n+=r;return n+t};const rme="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",nme="eJyFWdtyGjkQ/RVqnnarcAo7vuE3jEnCxgEvGDtxKg9iRgxaa0ZEF9s4lX/fnrGdTVZ9lBcKTmvU96PW8C0bmqqStc9OsqsPwYlSdnaPDvb6naP+3v5+1s3emNpPRCVpwdAEq6TdOTW6mC61+hpksyBo/euCTrOg89MKUSm9/XUNwddSletGcbOcfo+90Cof1KWmdTu7e4S4N+pBFhfK5+vsxNsgu9lwLazIvbRz2Tw7evCyLmQxM5Won809PTUP2cnnnYOj7s7eQa97fNjvHvd2v3SzBS21WtXywjjllakbRb3eT4LLtcpva+lcdkJPZlfSunZZ1uu9ftXr9UjFxHiVP7my2drGh84f+Z+d3f5xv0uf/V77udt+vm4/jzqDwixlZ751XlauM65zYzfGCi+LV53OQOvOrNnHdWbSSXtHKOkZ0apC1eU8X8s2dO0mcy/qQtjiRUoLh2Lz7jmWB4cUto8vv/Zf97vZwOVNhGx2crhHP8/kj987uxShbO6Ld9fZyfF++/WKvu72Dp/i/EF6q3IKxedv2fVH2qAJ1YQscRtBEfje/R8sH3Itqhj/Ggx5utSxpA7VsglxWceywmgtbIxvpM2bio0EoiKRo/AAC9pcMfsJK2stV0gEHhOu2dHdMk/p4GI0p0YTMbzebtaS8Z5cUYbxxGnh1jH8KK2JUVMzWfL3zEq/tpJZu6JuZVB1x6x16oEB5R3nneRjWivO4Nxow+zhZKWASDcNHCv9GgRTg6WV1IiMm8ReriWJOPeM7YMYOo2hYQydxdAoht7E0NsYehdD4xj6K4bex9B5DH2IoUkMTWPoIob+jqFZDM1j6DKGFjF0FUPXMfQxhj7F0E0MLekQupWep40lyUCfPj8HOSVXKlc2DwyLhoa1HZ0cTIu0/MYbw3DOkukxhn+ZDmK4gGkohuViSMXQPzHE0CvTwky0mK5laG/DhDKGGG5g6IWJfYihuxi6jyGGSbcM6fP1BQphyR2m7fpUNXqlC3jUF+aeiTN/OjfHpW4GlriEmoGO5dktd3astLGKPQ/ALnmwdIznTADbtnGqHTnh1MJHswyKJJUBFNCI241/IwahXzHdsWIKnyY5lmYKUZbckfaEs6PY08DR5E5ayfQ+zUKitGLDkRpdASTjxX/hXQqXiHBaCkL0IwFALrVWG6eYRiVP/doENCk+Hfp8aVMAuNFH5MFzg0vL5CstmXYGfVWJ3HI1vLSSU1wYL3K+3wq6ZUnWf8t2YS4LCig3oYa6FDZUWgRGjSlpyGRYOhesH7LiC3bAjDzGFiua8fih8BwcsFOE8woqIrmgWQ2Cj3czWzLdqYFeg3Bmd2pNusVSyTNJG+N8SlB+AhRNSGdUgtR9whYU6k5x1fwJWDZIdYYADy1SD23BQ669dqEekaktF3yfLHAYBGqGBbAuoAdGWMkZEQR3/0g6mr+8qmBUIcrJQR0IPi6TpAEa1Shg1MvkbkO0G2DVUYInHXDTQUJUQLs2j7IuGcEMqHibdDIkmyQlHKCUWmBIDn29SUTucm0ss9kUaZ+BuM0BXgBrF0hB4CuzfbfhQjvgMDPRFJTgAOGAVqugvdpoZswMwMFL4CCNWl4JXagVc7vaYmqYAD0qVSyjZJklTh0syoEdNaJBlNAJCNAYbNS8eaOBgXv9trTmVtbsHcjKUjkw9b4FyR6nGCVQV/NXkRGoKQscMigyN+CBGxCx55dc4BXYyDMTyhCSgk7ylkejHzwdkWCAxodEVYIAP6LWQLqnKCPo6EGZckgzdmKaHEuAh2dSeyZXnidpf28SjIhNq5hXGgpYZNJz5giFvgATTsvjVMCWCpkxbZ6oV74i3yfr+BwkzltRyEpYxnKZYIUxiNIYFc45sJqCthaaORmamwlocJOqqBpMTYvf5A/ERyKHSsCl5NBzVrmk8kGYJ1M3TVteEEtw/3YYkKIhMCJANi9UzqXhDGxkk95MQH4MwGfpsk5KB2DPAeRofuaagn0eEx0yQqc90n2bdAUMAuNkKwATfPpyY8om37Xh3o9gLg1YRFuhf6vSF1ruIH8ETtXJrSjk+IRQqMdHofkf8ks3ey9tfSGUbf49/vL9XxrnGMA=",ame="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",sme="eJyFWdtSGzkQ/RXXPO1WmZSBEAJvjnESb8AmGENCKg+ypj3Wohk5ugAmlX9fzUCyW6s+ysuUfVqXvh61Zr4XI1PX1PjiuLg6C05U1Ns/Ojx42TsYHB4eFf3irWn8VNQUB4xMsIpsCwatU1DUSm8T+JpUtW7XP6NShToiEy+0ksOm0nHkIP53b9UDlefKy3Vx7G2gfjFaCyukJzundu74wVNTUnlhatE8a/XmjXkojr/s7O33d/YOBv3D3YP+68HB136xiEOtVg2dG6e8Mk1xvLM7GPxHcLlW8rYh54rjOLO4Iuu6YcVgsP9iMBjELabGK/lkymZrWxt6f8g/e7tHr4/68Xk06J673XOve+53z8PesDRL6s23zlPtepNGGrsxVngqX/R6Q617F+1qrndBjuxdRONu4ziqVE01l2vqHNgtMveiKYUtf0rjwJHYvH/26MGrvX7x6ee/l3uv+sXQydZPtjh+tXfUL07o1/+d3YPDfjH35fvrOHO3+3n1/LN19hl5q2T0x5fvxfWnOL/11zQq4jYiuuFH/38wPUgt6hT/Fkw0dKlTSRPqZevnqkllpdFa2BTfkJVtdiYCUUeRi94BGnQBY9YTlhpNKyQC04RrV3S3zCwdXIrKWFQihdfbzZoY66MpyjCWOC3cOoUfyZoUNQ0TJX/PjPRrS8zYVSxZBlV3zFinHhiQ7jjriPdpoziFpdGGWcNRrYBIt1WcbvotCCYHK0uxDhkzvwVyHVOksWd0H6bQmxQapdBJCo1T6G0KvUuh9yk0SaG/UuhDCp2m0FkKTVNolkLnKfQxhS5SaJ5Clym0SKGrFLpOoU8p9DmFblJoGU+iW/I8bSyjDNTp8zzIKVIpqawMDIuGlrRdPDiYEun4jVeG4ZwlU2MM/zIVxHABU1AMy6WQSqG/U4ihV6aEGW8xVcvQ3oZxZQox3MDQC+P7kEJ3KXSfQgyTbhnS5/MLJMKSO0y78bls9EqX8KgvzT3jZ/50bo9L3fYraQq1XR3Ls1vu7FhpYxV7HoBVZLDxGJeMA7uycarrOmHXwnuzCipKagMooBV3C/9GDFy/YqpjxSR+bORYmilFVXFH2hPOtmJPDUcbO7LE1H7shURlxYYjtdj6E2PFv+5dCpfxcF4KXPQrAEBOWquNU0yhRkv92gTUKT4d+nxqRwdwrY+QwXONS8fkK01MOYO6qoW0XA4vLXEbl8YLyddbGa9axNpv2SqU8SoWG26Gu0NTCRtqLQKzjalik8mwtBSsHVTzCTtkWh5jy1Xs8fim8BQcsDOE8xvUkeSCZncQvL/b3pKpTg32NQhnVo+lGa+yMeWZoE1wPAmknwBJE/IRJRC6z1iDUt0pLps/A82GucoQYNIiN2kLJrnu2oVqhHJLLvg6WWA3CFQMC6BdQBPGeJOTSBDc/SNrqPz5voLZClGOBHkgeL9MswpolKOAUS+zq43QaoBVxxmedMBMBwlRgd21eaSmYgQXYIt3WSNDtkhywiEKqQWKSGjrTcZzl2tjmcVmaPcL4Lc5wEug7QJtEPjM7N5tuNA1OExPNAMpOEQ4oNU6aK82mmkzAzDwEhgYWy2vhC7VirldbTE1TME+Kpcs42yaZU4dLJJAjwbRIAroFDhoAhZq37zFhoF7/ba05pYa9g5kqVIOdL3vQLAnOUYJsar5q8gY5JQFBhnkmRsw4QZ47PklF3gFNvZMhzKCpKCzvOVR6wdPRyQYovYhk5XAwY+oNNDeMxQRdPSgSDm0MzZilm1LgIUnpD0TK8+TtL83GUbEqtXMKw0FNDL5PnOMXF+CDqfj8ZjANiYyo9o8k698Rn7I5vEpCJy3oqRaWEZzyrDCBHhpghLnFGgdnbYWmjkZ2psJKHCTy6gGdE2L38QP+IeQQRXg0mjQc1S5oPJOmGdDN8trXkaW4L52GBCiEVAiQDYvleTCcAIWsllrpiA+BuAX+bTOSodgzSHkaL7nmoF1HjMVMkanPdr7NmsKaAQm2VIAKvj85cZUbbwbw70fwVwasCguhb5W5S+03EH+CIxqsktFl+MTQqEaH4f2O+TXfvGBbHMulG2/Hn/98Q/b2xEO",ime="eJyNnVtzG0eyrf8KA0/7RMhzJJK6+U2+zMX2mJYsEuJMzANEtihsgYQMEITaO/Z/P41CV+bKlaug86JQf6uArsrKXNVX8H8m3y9vb7u7+8m3k4t/btazm+7o5PmTZy+PTl88eXk6eTT56/Lu/tfZbTc0+Hu3eOju51ezb75bLq532maxYO2oarPb+aJndRCm3fzm425/Y8N/3M8W86tXdzeLoeXjYXv91/mX7vq3+f3Vx8m396tN92jy/cfZanZ1361+73af/PHLfXd33V2/Wd7O7sY+fvfd8svk239/8+T540ffHB+/ePTk8eOTRy+fHf/n0eR8aLxazO+635br+f18eTf59ptBBuHtx/nVp7tuvZ58+3TgF91qXZpNHj8+/svjx4+Hnfy6HAawG8z3y8/9ajeGo/+6+j9HT16+ePpo9+/z8u/L3b8vH5d/nx+9ul6+745+79f33e366B93V8vV5+Vqdt9d/+Xo6NVicfRm9z3rozfduls9DNTDOF8fzY7uV7Pr7na2+nS0/HD0y/xued9/7r4ZGi2OXv3taHZ3/X+Xq6P58AXrzfv1/Ho+W8279V+Gzv447Op6fnfz+9XHrsxA6cnv98NHZqvrqg4Nv599/vs4Ic+fvHg0eVe3np4cP5q8Wl/tAr0axR862/7m+PHzR5Pf76//Pp18+2QnDv+/2P3/9PF+vv7Z3a/mV0NA//0/k+m7ybfHz4dGvw5dWX+eDXH830d7fHJyssfdl6vF7Nb46fPTPf9jsxzi9X5hytOnz/bK3eb2/W6ibu6ydr1cLGYr4y+GiSn8c7e62qV7FZ4fH++F2e0grYf4mGQdLj0oM557/Xm26u4W3YeWRB+r3Zitd9+4/uQdfzEO9/Nis85duBqqdJZ38bH//LG7y82HocyXYiTrxWz9MQfrz261zHR512V4vxUt7z+uOtH2w3KzEnT+INqu518E7B46MbddiKmnw/xOpNXVcrG8y3jd3c6jZDOw2NlAot0fm9ki45tVN5SzD/PZkyc1abp1sZqqvHz+dJx7kX2vMvouo+8z+sH3/Oz5Hv2YO/NX/2BNhb/l7/p7Tph/5DD/lD/4c97jL156NeT/zB/8NffrLA/ot9zqdf6uN/mDv+d+vc0fPM8fvPBZOx0neppbvcvoMu/xXzn53g+L2afuPtiGhfz9oMU65c9FT7FUnK2v5vOr+epqc5tnbbOz7fWw/nR5j8XfQmfsY7M8nve51VVudZ1bieL8kD94k9HH3OV5Rv+d9/gpt/IStiXhNu/xLqNlRp9F1WerFxa4zpG4z9+1yR98yJWwza2Ek/aOdsc9xfRzV3f5FRPh+MXjmpWrRvtD2Xg/X1w3l/rr5VaYe1idPWL35TjNk+NJrbgPuwND9Fkfs1o7PiyWq7ng667xLVeb1bCMX3kAj0+wbNbzcuCaoluPWnRZ3Wzmg3K7vNdHDju5fPFX5Bh6S5wPc8HE8dNwKCcPB65nNzedSNs9x0MxOuDYzV236kTtD8dCs5vV7DOY2tOaWcNJRCd80MP7frY+EOHD6kofK9gERH04KRg/Pxxizz+v52shDWO9/7jchGPFtOyH5PaZW80eRD3Mrjb36tClePmHRfcla43Kup1drdThzvtVp3Z8vbyfXYWKc2k+zCQGwJQV1qF3trseQqqOUTd3N7PV5nYx24jdLG+Gw8xP4utmOA6Yl9uQsy688sOek+cjW66uPwzHeeHA0I9Q4iLrByCR+x7OYA/Pntoebgen2yxwF7ayzMRie70r+vVaLGCLuGNfeSK3I5KlGNRQn8Mp8ZD34hziH2lK3QliBvryH/PGlyY5qf51cfb86Cj3oC4X1/OHOSS0fyT2zA+YRXF4txsfOj/0ob4Rg3U596IygaHmr/T9hVJx3J6IGdWDfyb2zmeCPuBnAWknfs4weASchBxXJ1YDfX7yvIrjVQ+xK3IdXztjHvgodVx+VR3w8mjlaDRVP9KXw7FTqda3RWOFcCarhAzRw1yzJ/rha9z76ct66rn8s7u7EZn7Ju7Cz+LUID05DhbJocx9xQuJHc02xnrFY/Xznxw5i+rbj8uVGNUZ7d3DQFVgJ3pU8Kd1EaOwWTXRDjxienErFzjWm3KUsxL9jSnoUWzxaKtmgrebxf3886IX/WqU/9s4QEuk4Xjrfj5bXM8/fMhz1bet4de4H09YkSxeGwfT7MCq05auGuO9a9lgK2N+jQHyxZDqHy+/DUcMeA3OToFWy0/dHZ4ImTmuupv5Oh76eonGyYblONdFPdRYb4aqDucjHmw6hrTCbERm2Ur1fzU+8C+q8NOX9di1XOmK18Eszj/ef8zw+6YBLpRv2VjuGybTNVfHlvCqdfhwICtjgP18uVUavG9zhdaMtJae1jK6bu0517Ht++BhCa+Y9bigW9wLA78PJu2euF0ecMTUNfu6240YSWMNX8rjTK8FPvixq0/xCOfFySn4+JDAqyGR1/n7fud8Pa2Tv2gsJD8fXH9/iRPnpxJ2X0eZYrIFt4wYJuetGv8ldtviMETt42wBS0Mt8t2pSaxwnwu1BJgvx8MmT7WvTGCjFLrWgG6imeKAxmlVs6rPRn6XB4iWwbLnlhDXg010KmMbS/731AlbuMhtTs3Or+dXymh/iF8EB2aHDnd/pcNa625j3t4czuuD+3rV+M5XTZOOpwM2A/F73IgPHFD+2Fruad9+iVie3dkBWTwSsG87WAo0QeaXB/e0WN7s5vtuKcK9bJvpJq9jNYOGr2pU8s3Bye1gJfeYN9L3Tq7jdnHnLh80u+e3lrsfN7u7kf95NPm5W939NpuvdveQ/z15tbtbPXn0zenj/zwat/buEdC+nxGNpo7wb8PWU9/au0pAODAUzsL3nOUu4NIbuE1VoPv6Dyg4T1DGkAW2vzoU0L5wEL0OW2+HrZe+VWOGKIzehfMQi/M6ekBh9MBh9EDr6AHR6EGx0QMb6zqwYidILoatF7Y1Hbae2dblsPXkiW/WISGDvgPeDJsnvlU/CCjEAjh8H9AaC0AUC1AsFsAsFsDGWDh5CJmwDVoft/KI+tzzsRGWpiEqDuNUpM65UqsC5WqIata4LNyqnuXv5hI2rurYxFzMJlFFG9dlbTLXtglU4Mapyit/nRHUuyEqeueq8qt6niPKHmBcGYGJ2Q1MIkswrn3BZDYHE9ghTIg2UTF4RUVgGBWhaxhj6zBB+EfVwEQMUd0ZV3ZiYrsy2ViMa3cxmS3GBPYZE6LZVPyQE3KbW/UCNQIhXGg0A3QhQ1TfxsmFnLMLVQVcyBC5kHHpQlU9y9/NLmRcuZCJ2YVMIhcyrl3IZHYhE8iFjJMLVf46I3AhQ+RCzpULVfU8R5RdyLhyIROzC5lELmRcu5DJ7EImsAuZEF2oYnChisCFKkIXMsYuZIJwoaqBCxmi4jOuXMjEdmWyCxnXLmQyu5AJ7EImRBeq+CEn5Da36gVqBEK4EIYGrShyqvQokimRyM4UZLCnyMmjoiiNKjQ5a+yPLSuKyrdii2xeUScHi6K2sdiGvSyqZGhRJFcL4usGB3+LnEyOROV0ocl5Y17Y86KojC+2yO4XdbLAKGofjG3YDKPKjhjVaItBA28MHAwycHTJKLBVRlX4ZWgAphk5GUYUlX3GFl/xFTbSKGo3jW3YUqPKvhrVaK5Be2jUxbbRvm/xQ/ETrusEPRcpGRVK5LdBYrcFEbwWKTktStJnocGZ3A97LErKYVHP/ooquStK2luxBTsrauSrKJGrgvRaUnBUpOSnQVJuCg3OZezZSVFSPop6dlFUyUNR0g6KLdg/UWP3RC16JyjgnEDBN4GiayJmz0RNOCbI4JdIqdpRUl6J+kEvYJ9ESbsktmCPRI0dErXoj6A8yAzfyra9pu1ICVccR4+WaIhMxTiZoXN2wqqADRoiDzQuDbCqZ/m72fqMK98zMZueSeR4xrXdmcxeZwIZnXFyucpfZwT+ZojMzblytqqe54iypxlXhmZidjOTyMqMax8zmU3MBHYwE6J9VQzeVREYV0XoWsbYskwQflU1MCtDVH/GlU2Z2K5MNijj2p1MZmsygX3JhGhKFT/khNzmVr1AjUAIF6p9RRtyRhXuAhkRCOxEJoEVOSMvckGakcln4vvZjlxQfuRqNiTXyJFc0JbkOnuSK2RKLpArmfBaMPAlZ2RMIChnMvlcxJe9yQVlTq5md3KN7MkF7U+us0G5wg7lSrQo4+BRxsCkjKFLOWSbckX4lIlgVM6oQF1QVuXqgfpls3JBu5XrbFeusF+5Eg3L+IPI1a1o1yvWiolwrdoxdC1nZAQukGuBwK5lEriWM3ItF6RrmXwmvp9dywXlWq5m13KNXMsF7Vqus2u5Qq7lArmWCa8FA9dyRq4FgnItk89FfNm1XFCu5Wp2LdfItVzQruU6u5Yr7FquRNcyDq5lDFzLGLqWQ3YtV4RrmQiu5Ywq1AXlWq4eqF92LRe0a7nOruUKu5Yr0bWMP4hc3Yp2vWKtmAjXWo2/6OG7q4RMoGLyK8PsVqMAXlUJOVXF0qdG8Sx9L3tUxcqhqpb9qSrkThVrb6oqO1Pl5EsVkyuN+HUi4EiVkB8ZVm40iucphuxEFSsfqlp2oaqQB1WsHaiq7D+Vs/tUHr1npOA8IwHfGQm6TkXsOZULxxkl8JtKqLIqVl5TtWbNsc9UrF2mquwxlbPDVB79ZaQPKeu2qU2fiR69cJUx19FWDFHhGidjcc7OUhWwFkPkLcaluVT1LH8324tx5S8mZoMxiRzGuLYYk9ljTCCTMU4uU/nrjMBnDJHROFdOU9XzHFH2GuPKbEzMbmMS2Y1x7Tcms+GYwI5jQrScisFzKgLTqQhdxxjbjgnCd6oGxmOIas+4sh4T25XJ5mNcu4/JbD8msP+YEA2o4oeckNvcqheoEYjsQt8N9FXcip8tqDoGIBHSwvUeYiALoiAVRvEpLISmkFq+jnbV9cS3LJ0che4CxwRzWrsLiKYcFBsIMBsIsHEge/LDGPdT34pu+gPGHZDw1h8o7kCjo/4Q4g7Mugts7C6QaJs/jCXvW9OwtSv0575VRwcIuux0/3tsdXJ3ZPzJNUOj/2L4DFEMjVMgjatomphDahLF1TgH1wSOsAkxzIYp1pVfZDTNCEJviOJvPE9ClWgmKk7TUV4IjNNREU9H5TwdlcvpqKKYjirxdFSepqMKaTqqQNNRMU/HyC8ymmaE01ERT0flYjpGiadjxDQdfx1n4oVv1V0BqvEHFEIPHDoEtAYckMUamIUZ2BhhIDW4jnbjPPatOgJAdQSAwgiAwwiA1hEAshEAsxEAG0cApI7AUZ2tJ48N2UyN7Kdxqo59Kw70J5wqQGKgP9FUAY0D/SlMFTAa6E8wVUDiQH+CgTqxcTraxK08zE1jTBs5pk0eEx+SgSJGuxGj3YTR/jzZn/Kc+FY8LipIHAQVng6CCo0HQQXJA8mi0OFRYfV8BlA8Ftqhctzy1LbsWMhRPYFBFA6PnOPhEVB7TTRgO2py5MdGzvzYyNhyNwLfskg7ipF2jpF2apF2xJF2xSPtzCLtyCJtaBPivsn5oc47fp6oU46fJ+ls42eR1aCI/ODTi58nfGaxI70tUGUrLtEFpYU2vIsf6oIECgGpKhrUJAeGGlCMSNXhokYcOZKpyEileosqJD8JVIWkUkGyKmqTmuQy5Qa5YqkFFS+pXMckc0lHGaqbBCp0UlXNU5Nc/tSAnIBUbQrUiP2BZLIKUsk1orppJRJ7CalfLyThMNTgYCE1fIcaHS6k5EYkR2OKIngUCWRXpCbn+mWC1/DKVrx8t0fiyt1O2B3ej5eddptTO0bdbZULWce+aSUODOvScfwFzUE6jZLgfo3nl0m6vPPLRF3Z+SW/o+qIgnDwHVVTMRz4BueLiDAw+Q1OFkSIqtaKU9BbYp8DwWFrv/X4S8wriCAJFEdWVTRjG4xpVCCyUcD4ksJRJlnEOrZoRVy0Otykb4WS56BdwGOD0V5xDgxR9J2ruFcVI14ZxLoijLIxjq8JIrJVa8U06C2xz4HgCBpPsRuO08oJ5lPfirccCop3gwoSNyAKT/ceCo23HQqiWwqF0d2EwsKNhELqeunorZn5Gc45ojDdLlyE75mGrXdhy6/QnE3SxZmzibous6P13Nd3aee+I6oWA9NgiObCOE2IcTUrJuapMYnmxzhPkgk8UybE6TJMc4brDoWBZ6+x7pB6kb97mtG7jGBa00LEPE9wlWiWK+apDi9TwXxHTpMeRZr5KKrpjy1yDkSdEiGKnA1R5ZSIasyLqFFypPc6VfQ4TQ6916maXDT2N23wdw0O+aNfb5RizqSgUzoFjXMKXkSBjEJK+YQSZRNKKpdQz5mEKuURSpxFqHEOoRYzCBXKH3qHLceJc6f9DltucCH3M5X0naSQMerVLiHlbAGVcgUUzpT6pgCkiSHKEeOUIMZVdpiYU8MkygvjnBQmcEaYENPBMOUCvuxDYeAsaLzsQ+pF/u5pRu8ygmlP78YwzxNeJZrtinmq47k5zjgrNPEs0/yzrNKA2+Rs4BaUFCxzbrDOKcJ6zBRWKWFIftuMKadPklUWUaOL5n6nTeVdU4EMY4USjeWcb9SC0o5Uzj57uh/yzhllnAuUay6oLHM155drlFkucE65wtnkSswj55RB4UUejghnTetFHpYvxPdPBXsnGORFft8lCTkXTKMsMM7zX083YfoN0ewbp8k3rubexDz1JtHMG+eJN4Hn3YQ47YZp1vEaBIWB57xxDYLUi/zd04zeZQTTnS5KMM+TXSWa64p5qutTYzDVhmiqjdNUG1dTbWKeapNoqo3zVJvAU21CnGrDNNX44CeFgae68eAnqRf5u6cZvcsIpjo9J8k8T3WVaKorpqn+bZzl8cmE33CGkdXZRUZP1rkQHq1z7M/WOYNH6BzCM3QO7SE6R3UGgflzMmUrXjErKD7RWJC4q1J4uq5WaLx/UhDdDymMboIUFu58FBLvKv4G8zZeTdyh2KDLg7L7iIj0oDo5qHCbEHAeayfG2omxLkOK2f0+QOKRr8LTrZxC44NeBcmHw4tCT38VFh8JLyg+2/UbVscY/dcTfMS0bMVHTAsSj5gWnh4xLTQ+YlqQfMS0KPSIaWH0iGlh4RHT155GPow6tD15M9nfzYet+GxOQeLZnMLTszmFxmdzCpLP5hSFns0prE4RoPjY0ZvRn2GrZj6i4MounMetPN7zxnjP5XjP83h5IkER4z2nZ5HewEQ68WXkzQQfMnwzrhSuXcal+Q2tDyOtVzFh9g1RSIyruJiYg2MSRci4DpPJHCsTKEGMU5bgdWhGlC+N69CkngvUiJXMIRPbseJsMn44VimvTODkMiFmWL7UbghyDa+rUyvOOnVdfZTqg8SQeoYonMZVOE3M4TSJwmlch9NkDqcJlHrGKfUqfysQpZ5zlXpVPReoESuZeia2Y8WpZ/xwrFLqmcCpZ0JMPXy0nTIEUg8fbadWnHrq0fYqpefYjqXAoT3wHJtuIsKsn2PTaiPkjefYtMypqp9jk+rbpsDJe+h5B9nmvCkcjLlO6tjkazFPCR7V/5+Y52SPckr5KFPipwdBZJZiEaTnQOQnUkE0nwLZNximu5z9vfSt+g2A6hkToDApwGEPQGv4AVk4gVkMgY2BA1Lz15G/oPoWSxiQONV4S8UKNJ5qvBVlCQqdarzFAgQUTzV2aHeO98K34rsaBcV3NQoS72oUnt7VKDS+q1EQvatRGL2rUVh4V6OQ+K7GDl0tFzTyeu7qbXafeOZbdZSAqrEgwlECh1EihVNXwHXwgGzwwGzwzj72nz925Zzr2NgyjGqZZ2vZmJqlnJplnho+nQVFTJqdzgLKM2Sns45WcSsPZBW93IV1dzvPU74JpbjJ9rFpeMVGesUmewU/kgqKcJGNcJFNcpFtmPA+buUk7XPm4buILwlRENK7iMxVhNS7iCxRrPK7iCxwbPhdRMbktXj8fkqIXFcfv7OY/TcdvzPXTpyP31kgT07H78TBxQxRrRgnnzauHMHEbAsmkTcYZxswgQ3chOjihsko/LXPhQodmXrFXa4Ftnfj5PHOhdGb2K45Zfmmke8bZ/M3gVeAKqRloArLHAxeEIwfygGxNJjUyIHGImFyK0V4uTDeSAVeOCpfCdQYul5HqioWkyrBimKo4ahybTGx7Zy8yhjXS43JLWNNi44J2li3Odt6gRrlpFajcKCPa1IUOI5R5fUpqjLWsYmIeGzAcY9qCm+UU5CjTKGOIq9k6XLAqRR4VTtwOUA3ESucvhyg1cZq17gcoGVe+fTlAKmi7UeBiz6qvCJGVXpibCKcMTZgf4xqssEop/UyyrRqRpENM6jsaCTGdTS+SNeq5bSmRpVXVlLV+hqbfM1L5FobW/CKG9W07kY5rb5BzmtwfMmuFc60Hkf16xmo1ubY4GAGttbp2OhwmqY1O6oHEzGt30FdNYWDYWus6KGNWtdDA1zdo3BwbdIrfWzytdUnrfpRbaz9sdHhJSofB0T50BK1bdVA3xQOWkM+Sjif4BM953g8ACg+x3OeVn7g6XriOa7xgOiZnfOwmgMLT+qc47rtqNroiRH6IZR6PRnH2nj1xjmN+tCrNy7m8TdevXHOkWi9euNCjEnj1RvjFJ30ysrIG6+sEKdgHXplhUQVtq+8skI6BfDgKyukcigPvLJCGgVVvr2hIsjhlW9vBEqhbb+9ESQV1oNvbwSVQnrg7Y2gcTibb28EhUIpXm3IseIw5lcbHFEAG682OFeha7/a4BIFrfVqgwscLv1qg2MKFL8SQKHgEDVfCUgKBezwKwFJVuH76isBqQUF8yuvBCSdQ3vwlYCkUqAbz8LruHLYxbPwwCjUrWfhQVDhPfAsPGgU0uaz8KBwGBvPwgOn0KVHxzkqHC77iW0IlzMKlwsULhdUuFzN4XKNwuUCh8sVDpcrMVzOKVwmULiMc7jGXw6GYFVCoaqYAlWxClPVcpCqQiGqmANUOYen8hicSik0I6bAjJTCcjGG5IVvxdOVCwwFIHG2d0EhABrP6y7C0IHRNYQLGDKQeJK2Q/6zzGUrzlxB8SzLhbO4FVOhIDHfhae5LjTOc0Hy94KLQrNfWD0/BRSnd4d20/rMt+IpS0E1BIDEdYvC0ylNofH6Q0F00aEwutJQ2DhjQOoIHMXT2YtJekR7h+Kguzw5dqUGkZ6vTs5XuBADOE9jJyarozLdMbu44tm5u6Dy0rfiKXlB4jy88HTyXWg84y5InmYXhc6tC6s5Biheyr2Y5Ke2dyxfiNjRTZjZTc7GTSP1NjL1Njn1+DICKCIpNyIpNyEpp6PrwVbs9RRdD5AYyJRcD2gcyDS4HjDq7hRcD0isoekEH7iboncBEo95Tcm7gMYHuqbCu0ChR7em6F2A4oNx09G7Tn0r3gyYoncBEjcFpuRdQOPl/2nwLmD0q7VT8C4g8Vr+FLzrCRC8Cj0drWv/I2VTtC5A9nYJoPwLbVOyLqT4donj+BNt02BdwPztEmNmXT7UZUi4ZS6SZaMilrIilrki2LpAEbVi1gUoFwZdqJ2Sc/m87Zzr1MZvzgUoJp5zTDynlniO+GaTK56SzjwlndWUNNKHeupz3fepvi9Hwxt/qekSHQ+ZvZEGLL6IAwK+iQPYXsUB5m/cAPRXbgDWd24A2RtpznbW99y34ot8l8n6gKd3+y7R+gDRxIFigwFW8xJQ7bajmS2wl2h9gOLN4stkfcDTscElWh8gOgK4DNYHLFxHv0Trc1RL6CmQW/xl5svR+174VjyfuETvQ5TPJy7J+5CC9wGOpxmXwfuA0WnG5Wh0MARzOmTq1cxL8jrE9GrmpXA7lPitzUv0O2T0hublJP8Y9iVZns/XJjbaiIFuWgPd6IFuxEDZ91BSA3XnQxhfT7206/RgBukmRBLY0/RtiKQKd0s3IpKQfC7fikgKOV66GcECeF96x4y5ckH1jhlL5Ietd8xYZmdM75gxJ4+sHIzSELmlcbJM48o3TczmaRI5qHG2URPYS02IhmqYXNVvMoVS5XtPXANgc4bIaY2T3ToXnmtiNl6XsvuaRhZsnH3YBDbjKizFoJMtmyAty1ThW6axeZnQcDDTk42ZwqZtAjt3upPIgvDwKm1E8+TmJhyMj/J101rxaTm86c34ZK83hQyfbvlVJ1T3/JTGzt+866caCP9X9/2UllYBeedPibQWqHt/QoMVASktCiipdQH1vDSgSqsDSnqBwBa8RqBGywRKtFKABIsFUlovUKIlAyW1aqCeFw5Uae1AiZcP1HgFQS0uIqjQOhJuBgfHELeJRYGBaSOlNQUlWlaCJFYW1PPiEtS8vqBMSwxKvMqgxgsNaEsdkrTcoCYdFRsIU0WZfRW1hrVik+SuKPIChBqvQepRAaGJlQjUjf5QWo9Q+1oA1aqE8oEAttYmbHIogHmFQjEuUkM5TfxXQsqW/66PoXj/yYXd3yTc/5WH3dY2bPl1nrIVr/MUlK7zVNfDHhmibhmXfasqdLCibUZ97gH313ju9Ngx7LQh6rRx2emqQqcr2mbU5x5wp43nTodnlaDnkVP3oyjHEJrAQALfNnjf6B+PK4p5cJDuMDSkNDCU5LCgAQwK6FbSXvaJh4NSHkx9zAdGYoiGYVyOoaowgIq2GfW5B9xv47nT9tgH9NoZddsF2W+ToePGtoL1oh/cdxdy5+0hDOi8M+q8C7Lz4c/Tjx0Nf56eWS/6wZ2Xf55+1MYHJaDrlVDHK5bdhr96PXYQ/up1JH3aN3dX/NXrUam/QAe9NUTdNS77i38kd+we/pFcQn3uAfdZ/ZHcvfR+oAvbc9ny4wRDqpdF8IObijbhq+nv4b1PxxrAZd/o7+G9FwcUoNCN0Pfh8AFY+LWK92OkfauPW3kMOY5XA/VA7LY+Be2T+gGRqzH4sBX3dZWDD0K8xXs1dtx70MeZvKKOj7QeC3zMCIZgSPamqguBaETGD38RjQ2PbaiTPEp1bDNK9uJrRjBUQ7KHVV0IREM1fviLaKj4viR1koeq3pes0nBat1jMaLAGcbgOdT9NX0jIg3bla1/HAzelV11Og3clD39/cjRZf55d7T5yOtJywp3/bM1xlhta/MLh9GxybTstW1f7v10LyE38Ovj3dR2ob9kIHeHQ9nTcA+7YEO298of86W1GvUDUI+OpW7uKG4O03zleSj028hA+sA1bX8JWH7diR1J97yldpx87whd2jyN+yJ/fZvQlo14g6qb0or1EPz4w9pVfTz+O+CF/fpvRl4x6gaiv0kxGSbwmUjus3hI5FtpD4+u2Df6lwfsW5+G0zqpGPV+IG0ckrsEcJ+VBftFW0i+S9prSKBonU1X1a3M8CFB4FCA96O/aavxF476BeSio5bHQayHjOPitkOOIH/Lntxl9yagXiPqrzgdHiV8PGDub3g44Jv4gvmIr2BfBesWoy/I0cNT4Gf2xz+kR/WPiD+IrtoJ9EaxXjPosz/722ocJXiSvpItb8aigoHotHFH+AePC05HDnuKflHUcf9e4IPr14sLo14t3bGlHOWUrHjIVJE6KCk8nGoXGk6KC5ElRUeikqLB46FVQfDr0wyRcgq6IDp1OohDozX6unvjGOGwg40whgTgA9jAg9GkCOsYGSA0AoDpHjvykXVxeaF5aqO1gpEbicA3HMTvOAzctjd6VFAKTYhwMUzCMU0TyZeCbxmXgm4OXgSOEMOkfgdBiDNmBn4DQLVL42j8AoRvEUDZ+/kGrFNao3rTCxCEmVQW6/knNY9+KNsN/SHNPP43utHfcT+hOgKJ9Ok+W/QndCRDfA3LFHdSZXVVyZHfK9ij/SoYWaCyHfiVDN8kjbPxKhlb1uFu/kqFlikbjVzL26iKszouwBi/y6ruQ6+4inwct8knPonHSs2if9MQrAvj1+QchtEC7av8gxNig/v2XbUa9QPT16u/P7qXbCV7pLFux2goSi3rhqQoLjYt6QXJRLwot6oXRlc7CwpXO2wn+2d1bHDEg6N2e3k3qTWXbikddd2mwwNMh1t0k3DA2JP9GxN0k3h42RkdZdxO8GVzJ7uD11LbcHsU9FH335C4+4RURBaH1fFcUczjE012R68CoZ7uiwCHKT3YFDMHKt5LvUrUzz7HD37t7Qohip3/vjsUcu/R7d8x17PLv3bHAsePfuyMMscNLLhQIjp265FKl9JtCT6TAcTzwm0K6iYip/k0hrTbi2/hNIS2nWMvfFJIixj0tITKUaQ6aS8jYoN47gzkwRNE3ruJuYo64SRRr4zrKJnN8TeDImhBjivcbTyPqcyA4gu2bi8sJ3llbhnV4t+V/uGkZdrXMe1nqHaB3EYJd4UXck9iqzx/kPbcdbpmucCoOHUlXOE9E+77xPdyvrzw3Aoeu2DV5uRIpdEs++xEodengsx9LvGpHCLqCV+1OYqs+f5B70H6Kg47FsRekQGdIgT6R0je/jXvIcu5ouF7IDDoXrheeULtefJa7cuCxkXrWgX3IB9OGoAd4fE0f5P2r4+tRQksiBLuvCHafjWvZMK5l27g+T/D84DN+FlA6K6gXzFp3GKPeEuM9RvoqU1+4uug+3Ncv3f//m9NnptYPXscPGa73DIXmN3wjjnGMmrrpG1vEa49BC3ERY1jFsBiuHVJavRostdBZ0WI3t88ErjtUWvzFUtLqTWuthu6oFnnyq+SFMgRp96wHbsUJK6j2EpF1DuB4/f2ZkeugW/o4urF6KFt2KcsRXb8ywV569y9bxq08EHXlvPBU1IXGk+yC5El2Uegku7CYvQXFK+c7ZFfOPWx/hAbrMO51NJcVZhEimx+EjVje11s5ZSO0cv5QL0yu9oYHG+GC7Cra3QjtdrsPzRBNlHFKO+ece3Qvv0ay4uvcklPRnqn2uBiipDQuo2lPSFF6Vr4UqDF+ma0m5pQ1ifLWuE5ekzmDTaA0Nk65zM9O8DT8kZuuc+A4v41TkjvnTHfl0AR5bhtRiQ8nDZTJfSaxDsS5wKjY8xweEUOUDMapGJxzMfBfqngW8XVuycVQORSDISoG4zLW6Y9H0A6WAjXGL4tB/e0IlqgYWn87gmUuhvS3I5hTMaS/HUHT8Eduus6B42IwTsXgnIvBlUMT5PluRBUDXMGiTO4zicUgLl9VJVxUwZKIAidGVLk8SE1FEnUqlSBetz6Vyibfr3uqBC6hg/frVJtUTukGlxYORlAXWPMGl27AxXbwBpdulApP3+DSKhdhUFMpBvWP1sfWrWlIxRlVLlFSU6GS/vU0gLqMXJYuXwqV1de3OBVz6zroXo/Xi2qYEOUHEj0gATbuAcJLjXQKPG6Vv905vuhnyJ/1IU63yIN6YadQlUwT2f0JyvHM3JAlB3G8EBClevY+npa/yOKo7PN3mMOJO1rZigVeUDUbQKLQC0/VXWgs6YKoRAuj+4mFhfuJhcT6fADrfWFk518nvhVvOj4kpwKebkY+oCcBIiMCxX9xzVm1HEB1HI7op8u2MLRTI27N2+zH24YJb6XzbrPdbpseuxXGus1uus0WusWh7Qeyu4Ls9x3KVry1UVB8rm6P8o2OwtM9jj1Nz9UVHO96FER3NAqjmxn9WCsnvhXzqsdaASRSradaARpTrQ+1Asx/ws/ZWCtAYo71qVb6MA99noc+z0PfmIdezkOv56HP89CLeegb81CK4KltWRE4ikXgHIvAqRWBIy4CV7wInFkROLIiMET1XRdEzCpDlFrGKb+MqyQzMWeaSZRuxjnnTODEMyFmn2FKQb7MQqGAdDBEGWmc0tK5yE0Tc4K6lLPUNEpV45yvJnDShms3TyOi9G1cuyExJ3K+dkNcp7S4dkMCJXe+dhM5pzncpINMR0rJjhLlO0oq5VHPWY8qJT5KnPuocfqjFisAFSqC/C6IiBWkG1KqBpSoIIIkagL1XBZBzZWBMhUHSlwfqHGJgAZVgpQKBSVVK6jnckGVKgYlXTTYgusGNSodlKh6xGtAY1L8OYHnmP+EHAASnlj+k2ccMJ9n/UnzCzQ8hfwnziag+Lzxn+DjTGKn2cUTzt0XHp6UNBB2cMY0pOTfI68nm10mcVyG47gc53GZlsblShqXSXFchmlcxmlc+JJUp2kcX5DiGKOUxxn0NNaopvEGOY45SDTuoMHY//O//w/7Vd1G",ome="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",lme="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",cme="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",dme="eJyFnVtzG0eShf8KA0+7EfKseJXkN9nj0Vj0yNaNEHZiHkCySWEJsmmAIA1PzH/fRqMr8+TJU9CLQv2dYqMrK/NU9Q349+jH9va2uXsYfT86+8dqOb1u9o72Tw5P9o4PTk72R89Gf2vvHt5Nb5uuwafZbbP87od2frnhq/kc+V7h09vZfI1KB8fN7Prr5jOGRj8/TOezi9d31/Ou1fNue/m32R/N5W+zh4uvo+8fFqvm2ejHr9PF9OKhWXxsNn/50x8Pzd1lc/mhvZ3eDcf1ww/tH6Pv//nd/snLZ98d7L98tv/8+fNnrw6P//Vs9LlrvJjP7prf2uXsYdbejb7/rpNB+PR1dnFz1yyXo++PO37WLJZ9s9Hz5wd/6XbUfci79mF2senIj+39erHpw95/Xfz33v6rl8fPNv++6P99tfn31fP+38P+3xd7ry/b82bv43r50Nwu936+u2gX9+1i+tBc/mVv7/V8vvdhs7fl3odm2SweO7oN4my5N917WEwvm9vp4mavvdr7ZXbXPqzvm+/+3nR/9frN3vTu8n/axd6s++Pl6nw5u5xNF7Nm+ZfucH/qPuZydnf98eJr08e/P4qPD92fTBeXRe0a/ji9//swJCcvTp6NvpSto5P9Z6PXy4tNqBed+PLw2eivjW13QX7xbPTx4fLv467tUf/fs+6/+4evtgP2j+ZhMbvoIvrPf4/GX0bfH2wi+647kuX9tAvkf55t8eHh4RY3f1zMp7fGj4+Pt/z3VduF6nzuyvNhR3er2/PNSF3fZe2ync+nC+N9NvTCfbO42CR5UV6Wz5/edtKyi08+tP4Q+jHP2v100dzNm6uaFP/Mjm+63OxxeePKi3KA89XSqAXtoqvNaf6Ir+v7r81dbt51ZdZ6Tw5evBxiP58uv+aj+bNZtJm2d02GD0+i5cPXRSPaXrWrhaCzR9F2OftDwOaxEYPb6Jjeze5EXl208/Yu42VzO4uSjcB8YwSJNr+vpvOMrxdNV8qim7+vmmVvNkV5dVjG3o/9xcHBlr02dHLyYot+yK1+zOiv+Q9/crS/v0V/8z8sqfAmo797mDon69HPuWNv8x+e5oP4xfu9cYcN+kc++nd5X7/mo/8tt3qf9/UBvONkiz7m4/qU//BzRmfCOca52ZeMJvkj/zdn33k3n900D8E3rEjPOy0WKv8dmcrL/WIqF7PZxWxxsbrNw7ba+Paym3xEjfQGFw7GjSpH9dzQURnai9zqMrcSn3yVP/E67+trDtIs7+v/8h/e5D/0Gjbrv81/KFynza3uM/o9d9vNwcpqmY/+Ie9rlQ/iMWfcU24lrHSdj+tPP4hXR55fMREODp6XrFxU2lM2HjyHbHyYzS+rk/1l+yTiHKZnnwoe+qWaJ8d+Ka+rzdoQjdb7rCaPq3m7mAm+bCp7uVgtunn8Yp1TqS+b5axfuwr/365bdFldr2adcts+6KXDRu53/A2ZQl8S52ommFhBdWs5uR64nF5fqzlty3ExRiuOzdg1i8Zr//io6N0S/noxvQdTK3963p0/NKKXHt7z6XJHhHerlQWYDUDU3e67NfbsfjlbCqnr68PXdhUWi2neD8ntI7eYPop6mF6sHtTapffyq3nzR9YqlXU7vVio9c75olEffNk+TC9Cxbk060YSA2DKAuvQD7a57EKqFqmru+vpYnU7n67Ex7TX3TrzRuxuiv2AcbkNOevCa1/3HJpnLy6vuoVeWBn6EiVOsr4Cidw/4Vf4hEP/hNvO6VZz/Ajz5qkzc43LTdEvl7OszCvL85YOtOy9hbQvZd7VZ3dW3OU9jJst5tKQ+tQcM9Cn/5g3PjXJQfXdxdHz1VE6AltIX84eZ5cihJN4ZL5iFsXhh135o8+7/mhNVWiTdX/yRWUCXc279M8LpeI4h8GOnOrB/4ZGyEaC/sBPA9KH+ElD5xFwFhLPMqmjL45eFHG48CE+ilzH14UxD7yXOi7v1AF4edRyNJqqL/Vld+xcqra3aKwQzmyVniGhm8DJE335Gj/9qCyo5u2fzd21yNwPVFF2Gqc66cmxs0h2Ze7r2pAu4oHAUFNf/fwnR85O7T59bReiV7/Sp3sYKlXwMfKTF0P7y4oRfaYP8IjFyS1c4Viu+lXOQhxvTEGPYo2TrRYTvF3NH2b387U4LuqgJ3kcjpJI3XrrYTadX86uxCnWum4N7+LneMKKZPHa2JlmO2adunRRGei7mg3WMuZdpTZ/ph3h9bduxYAX4ewUaNHeNHd4ImTmuGiuZ8u49PUSpbWXT8e5LuxsZNVVdTgf8WDHnPLCrBhaS5Hxuqyk1P+SaR+9KmvX/lJXvBBmcf7pQaxQfqwa4FxOqvvDaD5UTKapzo414XVt+bAjKysB/rNWGvzZ5gq1EalNPbx4t3mk9sm5ju2zdy5LaMbcL+uCZv4gLvg8BJN2T3xqdzhiXuKU3d2uRE/iEXmo5DrTa4FC71ef4grnxTH6eJfAiy6RxaF9TCcxNjFX5t9Tlcd+ihEHzk8l7MaOMsX6QuNnOn80XqvxX+iwSxy6qH2dzmFqKEW+OTWhS902FsrlzZfjsslT7RsDSOsgCwLPz3beHs0UOzQMqxrVqZzrP8oFomWwPsWxayGdTaibHm1lyv+xchAryvwyEF2CzC6U0f614o2Lncvdd3F8/HAr4/Zhd17v/KzXlX2+rpp0PB2wEYj7cSMWE6cvRSrTfc0pbuQC2hZkYSXge9tZCnQIdsVm5yfN2+vNeN+14mJVWzfTVZZKBnW7qlTytTwSu8ICM7nHvJK+d2pXfv3lLi+a3fNrNf7TanM78l/PRqfN4u636WyxuYv8z9Hrze3q0bPvjo//9WzY2rpHQNvjjGgwdYRv4tbWVQLCjqHwa7d15FvlEABBcgRuQxXotv4DCs4TlCFkgW2vDgW0LRxE78PWp27rlW+VmCEKvXfh8yYWz23LBsBR6D1w6D3Q0ntA1HtQrPfAhroOrLcTJGfd1r53f7zZPDR1stl87pulU8jg6AHfd5sHtlt4TuDZdy+OCl6FQ1nlkK0qIVvJkK1yyFbVkK1EyFYiZKsUssfY06dNFtjWOnRwXboECA59oEMjLGFDVMfGqZidc0UX5Y1AVNvGZYEXFarcEJW6cVXvJuaiN4kq37guf5PZA0wgIzBOblD4+4zAFwyROThXDlFUsAlDlPjGVfabmEvAJKoD47oYTOaKMIHLwoRYGwWjpxSGxlIYuosxthgThM8UDcymIOU4RVvlQ2bvMb5rCIQLmVQZgoofmVwbguRMJugheBRRAqMqaJ2Dw5ZlPPvWYB/oW4bIt4yTbzln3yrKG4HIt4xL3yoq+JYh8i3jyrdMzL5lEvmWce1bJrNvmUC+ZZx8q/D3GYFvGSLfcq58q6jgW4aoaIyrojExF41JVDTGddGYzEVjAheNCbFoCkbfKgx9qzD0LWPsWyYI3yoa+FZByreKtsqHzL5lfNcQCN8yqTIEFd8yuTYEybdM0EPwKKIEvlXQOgeHfct49i2MDZpX5ORgUSQbI5G9LMhvapxcLYrS2kIT8LfIyeSiqJwutsh2F3XyvChq44tt2P2iShYYRfLBIL6vcHDEyMkWSVTeGJqAQUZOJRpFVaexRS7WqFPFRlGXbWzDtRtVLuCoxioOGrppENBSg4C+GgU216gKhw0NwGYDV14bGqwqXWPXjeI3h1T4b9R3DWnFiWObnUOaPDmqO4b0sRZhsOjA15XAsllHMTu2E/RrpOTWKJFXB4mdGsQ3mpJLoyQ9GhqAQyMlf0ZJuTPq2ZtRJWdGSfsytmBXRo08GSVyZJDeSwpujJS8OEjKiaEB+DBSKlmUVMGinssVVSpWlHSpYgsuVNS4TFGLRQoKui5g9FzA6LiI2W9RE24LMngtUOW0IK9kV9hlUfrGkAmHRbU+ZBV3xRY7hiw5K2rVIXvUkQRPBbqWAWQ/RSm76dB9tFJD5KPGyUSds4MW5Y1A5J3GpXEWFVzTEFmmceWXJmazNImc0ri2SZPZI00ggzRO7lj4+4zAFw2RKTpXjlhUsENDVFjGVVWZmEvKJKon47qYTOZKMoHLyIRYQwWj5xWGhlcYup0xtjoThM8VDUyuIOVwRVvlQ2ZvM75rCISrmVQZgoqfmVwbguRkJugheBRRAgMraJ2Dw9ZlPPtWOVg0LmfkXC6QdYHA3mXSG8XIvVyQ9mUy+JczMjAXlIO5mi3MNfIwF7SJuc4u5grZmAvkYya8FwyczBlZGQjKy0wGM3NGpeSCqiVXczG5RtXkgi4n17meXOGCciVWlHF0NYNoawbR1xyysbkinM1EsDZjyttMXIlDZ3dzYeeQCH9zrTYkFYdzvTokyeNcqQzJo4oY2JyxtQgUG50L2enKkaHTOSOnc4GcDgR2OpPeKEZO54J0OpPB6ZyR07mgnM7V7HSukdO5oJ3OdXY6V8jpXCCnM+G9YOB0zsjpQFBOZzI4nTMqKxdUWbmay8o1KisXdFm5zmXlCpeVK7GsjKPTGUSnM4hO55CdzhXhdCaC0xlTTmfiShw6O50LO4dEOJ1rtSGpOJ3r1SFJTudKZUgeVcTA6YxtnO6QAmVOlwTo9qAthi9bcTsphFyuYPI4w+xwg/AmE3K3gqW3DSI4WyHkawUrVyta9rSikKMVrP2sqOxmhZOXFUxONuD3iYCLFUIeZlg52CCCfxVCpVKwKpSi5TIpChVJwbpEisoFUjiXR+GxOAaKbjUg9KoBoVMVxD5VuHCpQQKPGohyqEFapUNldyp4R8iFMxVFh7ziSkWthDw5UuEy5I85MuBFA1mngPCKq+C83hpqA23IEPmQcTIi5+xERXkjEHmRcWlGRQU3MkR2ZFz5kYnZkEwiRzKuLclk9iQTyJSMkysV/j4j8CVDZEzOlTMVFazJEBWKcVUpJuZSMYlqxbguFpO5WkzgcjEh1kvB6FGFoUkVhi5ljG3KBOFTRQOjKkg5VdFW+ZDZq4zvGgLhViZVhqDiVybXhiA5lgl6CB5FlMC0Clrn4LBtGU++9UNHX2/WUs9ty5ZejorHAAoxBY7rM6clkoAsSsAsQMCG2AApBe/ocx8p2/L0MxQOF3hISKPlcAHRmINiHQFmHQE2dGRL/lrifmxbFndHFndHMe7OMe5OLe6OPO7OPO7OStydWNwNbUziyPozDluTuGWziyOcO4wO367XecEWDf6MwTJEETNOYTOuYmdiDqBJFEXjHEoTOJ4mxKAapsgWDuEtaJzRRCCKtvEc8iKluPfveMa4F8RxL5zjXriMexFF3IvEcS88xb0IKe5FoLgXzHEfOMZ9QOOMJgJx3AsXcR8kivvfhpC/8q2yT0Al0IBCjIHDJwMtkQVkQQVm8QQ2hBJIiaKjqc3l/VbpAaDSA0ChB8ChB0BLDwBZD4BZD4ANPQBSeuBo+52gXZ8OCol6k/vUlKUkIt2nRvYJXk4OOHe1EV1tRFfbuJWPua0cYCsPsM1H0tK8CIo4xras4QHl2FtJ7G/nyrdhjfI2r1He5jXK28oa5a1co7zNa5S3Yo3yVqxR3qY1ytu8Rnk71MT+sW3ZGsVR6QGguGxxjssWp7ZsceSLE2e+OHFWFidOSg8c0VbugVUAIt2DRvYgVADg3LFGdKwRHWvjVj7mtnKArTzANh8JVwAo4hitAgDlSNOksEGr0GCVO7KqdGQlO7LKHeHTGlBER1Yi2KuQRaej7XWGbQn0W7FseyRqtOepRnsaa7RHdNSgUPX2rIQfUCzV02D1p9nqT7PVn1as/lRa/am2+tNs9afC6k+F1Z8Gqz/NVn9asfpTafWn2epPq1Z/Kqz+NFv9abb605DVpzmrTytZfSqz+jRn9Wk1q09FVp+KrD6VWb054z7yrXjhrEfpslj4KpNQFyRQiZCqqoWa5MKhBlRDpOpyokZcWSRTkZFK9RZVSA8SKKNJpYJkVaQ+NclVwA1yxVILKhlSuUZI5pKOclsVdoZF1jw1+VbH2QlI1aZAjXb3na2CVHKNqIKBkEBeQqqyFWqSHYYakNmQqn2HGrEFkcxuRHI0piiCR5FAdkVqcq5fRsOF8wPbsmvmgOLlchPOwtY4bE3ilp3nOsKTV6Pxy4fLGsmUgoeTh1+GWBxbZywAgPAi8JaGt/YPIqL+197aj+pZRuOMJgJRYNTr7CRVQiTfbC9xwhe6KQYcMfVC9yDFbILgkUAhZFUFMrY5qwnjmjCpChRgUnOYY4NKsEUjDnmuWBlFDn+9YocGg59i+A1R4J2rkBf1LKNxRhOBKLTGc1CLVAlnkDmQRVznGHDwjKewvRttLzNsP7DfssnVkV24chQnWec4szq16dSRT4/OfD3grFy4cmJz4xaVwnwtEPXFOHXIuOqViblrJlH/jHMnTeCemhC7a5j6jDcIGFGf0w0C5qrP6gYBS9TnfIOABe4z3yBgzH0ODvC6KnD/o8pRiKqMRWwiIhIbcFyimqIT5RSjKFOkokjxKvc/XwtEMTJO0TGu4mJijohJFAvjHAUTuP8mxJ4bjn3+dejukW/FmxO/YicBxcc9nKdbGL9irwD5AxzOrC/Ahm4AsSc5DH2KW2XyQhTmLRc2U9axbY3D1pfQchI0m7EApUcEfkWjPSJEYU5Gy1wFXBktSxT6bLQs8CCw0TKm4cAVMSMamMqKmNSzHM9xRl/yH05yKx42tUgepPCmOAxg5DSKUaShjKIaz9giD2rUaWSjyMMbVR7jqMaBjhqNdvrCC8lp3Hd94YVqclYZlXGFf6nsZ1Jpz1lR/dKHQYeXXiExkFJaoERJgZJKCdRzQqBK6YASJwNqnAqoxURAhdKA3rMXlFKg/p59bnAmIz+W9Ivcw0S25WGvvHs+qOV1QRhxQzTcxmmsjauBNjGPskk0xMZ5fE3gwTUhjqxhGlZ8R5gRDWjlHWFSz3I8xxl9yX84ya14+NT7tIMUL7LhELJCI8kyDSjLaly5TR5ebkGjzDIPNus85qzHoWeVMoDkT3WF8iHJKi2o0Vl1xMZV5Ut1b5Pq33DmsJwTyF6hg9RxRknjAqWLCypRXM0p4holhwucFq5wQrgSU8E5JUF4wzYxGvjaG7Ysn4nojgX7Iv52ItrxoMq3UAetXN2B0TREg2mcxtK4GkoT80iaRANpnMfRBB5GE+IoGqZBxKt9jGgIK1f7SD3L8Rxn9CX/4SS34sFTFwAHCU/SjwjR2KWTdOZq7NRJOks0dvkknQUeOz5JZ0xjh28mMKKxq7yZQOpZjuc4oy/5Dye5FY+deop/K/02DNv2mfLfcMQAlcECFMYJeHpO/TccHUA2MMBsTIANwwGkjISj/gkt648/oeXIntByJB4s73l6sLyn8cHyHtHj4z2jx8d7Fh4f74k9N2QoPrW4IX5BqN+KF7t6ZHfOAeVLXD1PV7e2FG+MO47Xu3pEl7p6Rle5NqyNW/mY28oBtvIA23wk6a61K+IY/f60o3ixbYP4qcX3I3wvod+KGdUjkT49T+nT05g+PZLvJfQKJVbPKLF6FhLr/Sg9ffZhhM+r9FvxIZUeiSdTep4eR+lpfAalR/LBk16hp016Fh8x6VF8ruRDcNUP2VA/1Lz0wzBwvp/Pub+fK/39LPv7OfeXBw4U0d/P9NTpBxg4J735H5etje8f2tYkbsVH+D+Qqw+0XESD0TdEITGu4mJiDo5JFCHjOkwmc6xMoAQxTlmSL2o6onzZeVHT1M9535w+xnfFSiSSSZVYVVLK5FqsUnKZEDMsXLeNGTLOSTMRiLJOXaQdpHLnC1LPEIXTuAqniTmcJlE4jetwmszhNIFSzzilXuGQeoYo9Zyr1Cvq57xvTj3ju2IlUs+kSqwqqWdyLVYp9UyIqYdvRB3HDBnnpJkIRKmn3ogqUuVJTRY4tN98UpObiDDvelKT1UrIdz6pyTKn6q4nNUnFtNXP9lRUmcKhzefaZ6Z0juq3Y65SOzbYGfNamsdGu2OeUz7KlPjpoadjlaXjWvpOqgIXRPWhp22DbrjhxbR+y57tcRRfTOuReDGt5+nFtJ7GF9N6RC+m9YxeTOtZeDGtJ/HFtE9DNe+/tC1bkDuKC3LnuCB3agtyR7wgd8UX5M7sdRBHdlpnyE/p+q34TFWP7EsgHMWX3p3jybtTe9Xdkb/G7szj7qzE3Unpgf/hRTuHs/Qt2Z6qOoldanIv7VQVUcgu57KX4VQVGufON6Lzjej81/X91yYe0iwM3Syn2MxPwoy1YRdt7ntb6Sie8gK1MnJEeQmKF5izkpeArJoM2YmiF9giDOkiXgXqURlERGFKcGHZ3M5y5qzCMaxyrFaVWK1krFY5VvzsNigiViuRF6tUFE+hD/6dV/2WebGj9D1XZVpFF04PujEnP9YPurGYnTk96MacPTo/6MZCdOv0oBtx8O10GsBcObg6DWCJvLx2GsAyu3o6DWBO/l44mLwhym3jZPfGleebmC3RJDJA4+yCJnDKmxDz3jDNCIVTcTsOc0PBIhI8SxinqcK5sAYT6xFSM4dpleilOcSEWvR4Nil8lrOF5xXjPLkUoc275WnG+K4giQnHJHJS49pOTWZPNYEmIeM0ExXO01Hhi5xKPDEZp9nJuZqiiirmqSKt8mHyjGV8V9jF3GVSJeyVWczkWtjTfGaCLu6n3GuY3gzRHGdcTHTp6eYyoPrpZq3y1Lfj6WbdREyD+ulmraYpsfJ0s5ZpetRPN0sVp0p9wUKrctqsXrDQDXgK3XnBQjdK06m+YKFVnlqDihNsFLggo8qTbVTllBubiGklNuAJJKppGolyqtYoU81GkafloLKjkRin6Pgya+0D03QdVZ60SVX2GJt8K9JyGo8tdo5FntKjvHss0vQe1Fktb9NUH9U04Qe5rX1cmvyj+u1gq4VAbMDzUlQrs1NslOaoKPMCIaq8TAhqWiwEdVFL7bRwiCovH0iVi4jQRi0lQoNVrUNpWRHVbw+oWmLEBjsHtLbciI12D2heekR5l5k91SKGi5Eo8JIkqmlh8nlYjZw8t62yB0BlugAUYg8cPgFoiTIgixowCxWwIT5ASg04Ks59bMRKYUD4cssJIepwermFueq6ermFJQpCfrmFBQ4Hv9zCmAJTOEWnYA5ReofkRHEKln6HRIoqbNV3SKROAay8QyJVDqV8h0RqFNQgUmSDxuGl9zBOMqXQqvcwhKTCWnkPQ6gUUvkehtA4nOI9DKFQKEGiQILCYcQ3G04IUQDTmw3MVejUmw0sUdDymw0scLj4zQbGFKjCKUoFc4jECwQnWqGA1V4gqMgqfDteIKi0oGBWXyCo6BzaygsEFZUCTTLFm1QOe3js/oQZhTo/dp8EFV752H3SKKTisfukcBjTY/eJU+hMoKAZ53DZz19AuJxRuFygcLmgwuVqDpdrFC4XOFyucLhcieFyTuEygcLlv8NC4Rq+pR+CVQiFqmAKVMEqTEXLQSoKhahgDlDhHJ7CY3AKpdAMmAJTfvohhuVsCMn+9ob+GcYDmT3kDCxeHAIBLwkBtgtBwPzKDkA/ewVYnkgFZFd2nG1+DOHQema/gwAonm+54L9+0G/ZywWOxG8e9Dx9O1JP4y8d9Ej+yEGv0O8b9Cz+tEGP4q8abJBfv+q34ulej+ySpyNx2tfzdK7X03iC1yM6YesZnaX1LJya9SSefp+N/IoSkm3i7h+8Kqgf5ec2Vv41o8DKaXZg8UlqF8Kj1IDxq0aB+zPWzuBRaofwLLVBu8SzPRPdoM11ncMXtmXnnI7iY0vO8QTUqT2g5MgfOHLmTxkZa+OxtiKybS2KrY5iK6KVvhAVJBVI/0pUYP5ugzF/wN5rAi+XeFat4lauFHU1pOeyLFa5LPTFjl4RBcOXNXoWCmZcvHn7yP04eDMw82ZgcchAwCEDbEMGzMcFoCc4wOLNgGysnPU3IXwrvvgwTg4LPL34MEaHBSRffBgHhwXmOWYovj4zHhz25Ni2bLHgyBYKjuIiwTkuEJza4sCRLwyc+aLAWVkQOLHFgKFSC8dA8JWg8WCw/hdN7qXZKyLdy0b2Mngr4Nz5RnS+EZ03X9262XiE18vHo3SRfDzKV8bHgwW+sL2aAwKKb6Q5xzfSnNobaY4oL0Hxd9WclbwEZC+mGfJr1TaIaHw+2P6jOGM0PkDip3DGZHxA4w/gjIXxgUI/ezMOxgcs/NjNhmwu0J74Vlyj9ygttifFL/d90zIAmPklsOg8IKD1ADbvAeYWA9DzDWDxS0BmPM76p8yPbSs+mztJfgk8Pag7Qb8ExI8uu0I/pzFBvwQUfyxjMvjlS98qRw2oxB9Q6Ahw6AjQ0hFAdrjALPTAhsgDKT1wFNcOk+SXk8Ev9/f3bdPzzJktSJHFPHMBrQQorkehtVmMIzcSZ5B8BumG42SEq9HJKK1GJ6O8cJwMrgm7bUUE2lpvw8IRsFeVM57SQYKCc2iTOjAvLmNkn5ORWjdORrhunIzSunGS7BN4WjdORmndOBH2CQqtGyejvG6cjHjdOLH7GeAn6WZNEtgW9e2apAqDTDdskpCsMt+ySQqZZrppwwLYZ35BkbgyUvmCIklkqdUXFElmc80vKBInmy0cvNYQGa5xcl3jynpNzP5rEpmwcXZiE9iOTYiebJiM2W/GhQrle3SEseqNsVWZwI7tgjIyU7N3uyQM3ERyceNs5SYkPy8Km3rh4OyGyN6Ns8cXoRWfl9zehJ2RUr5vGpu/CZUZwPQ0DZjCc4EJPCGkW7oURzE1FGklEE0SxtVMYWKeLkyiOcO4njhM5tnDBJ5CTIjzCN1xLQarbrkqjSeU6k1X1UBMK+q2q9LS5CJvvCqRphh161VoMNEgpbkGJTXdoJ5nHFRp0kFJzzvYgqce1Gj2QYkmIJBgDkJK0xBKNBOhpCYj1PN8hCpNSSjxrIQaT0yoxbkJFZqewr34YBTiLn1W0IwQs8+ixrNV0JQNY4M8ZwVVTFuo08yFEk9eqKX5C0SewkCCWQwpTWQo8VwGWqs/Ps1oqH0rmmpeQ5mnNtQqsxs2SRMcijzHocbTnHosJIdbTHagrjSlKQ8lNeuhnic+VGnuQ0lPf9iCZ0DUeBJELcyDXcX2P7u8/a2Z4myIBkdDFB5lAg6fArQ8iQLI7vsDs5vbwOC37AeCPxW9Refd1vmoXNU+x+E/MrQZ2APfKgMKSHzD0jkNIND4DUvnYsBAoW9YOg8DBCx8zfn50Mntb90M5pp+K+Ioq0XaXiTtwtA/KLrdzeXF8COsjprwOQ0mwIDKiyuIOAEGTglQqBsuYsyLAYW8GFjIiy27gunGSfcx82a5nNlMfjXY64FttXHL0sCR+P2oKzJBoPGXoq6E5YFCvwl1hQYHKP760xXms/eV8mB7afmKUmCbAdd5D9elpplXnhjfquX3RmDL5hVHOFv0dFaGrj/GWUiwLcrZtOWcTVsa0maLYtpsWUybnt2UtYhvxft0N2HlASjfuruhdQbScJ/dcLyjdxOWE8DoC8tuyqx+bFsx6Dd5DneeBuMmzNiO5G933cT52Vn8Sc+bMBsbWsetfNQ5VW7yWzVDFCpv1WiVRnDXWzW6SR7XHW/V6BY02rW3arTMOZDfcJHx4szY9YaLbvKtEeHU2f2Gi27ECVV5w0WrlGb5vQct7AxMzsNiJdv1wx1a1oBwTiwo7BQEXLJsURtsqS3z8XYrG6QhaFXxzMihvfRSpNA2O6whaEUPvD5WFfgbYdTOoF350tzHjKAVBpaQtyqTWFo6bWfHKEet/MW8uSqPSm/3yUK0I1bjd6iyKuyImyQ74gbRbFgls2GZzIbl8GWZLMYnSnpVB2tHpHaE6Vsx2h2gHdHZFZpdcakH5dsRgf9/d3Jo6pByI//60YiHFbvSQsqKXS70ny3i2U/UytwptfB0qWjhD+5FHC9mRK18oNS6mXg+n9bU+LCraHE/vegv5Bwl6dE60AVpdLEZsJe2FZ+s6ZEtKQDZwQEM18AWZQ1jepN33eRd0xLFOeY5UFyMOI6vpi/issMZPTO0YZ7a/VYszB7F0LtATy1tkM/0/VaciXtkAQAU9+9CnP8XZTVkh97mALeVaLYymm0OW1rWuCIC2sYX9hdh1WLoPoTNT7SeG/s9tPcprlQvJq0h6r1xyjHnnMP6jqNhsW9O6Xy/kbkYDnW3MUk5zdPNRuY8PuJmYxSuc5w5/43LIkg3LYdKKBwS3RDVhHEqDOeqOkylEgl3OmNnuVgq9zlJrA8R1071JifJtVHiUsp3OCO/z8OQKqsIv+c/hxqz72XyVoYoaMYp351zjfGXPg01hl/6RC25xtKXPiUuBlB96VOSco2lL31izqOXv/SJhOscZ64x47LG0rdHDTVWONSMIaox41RjzlWNmUo1hl85RZ3lGtNfOcVifYi4xmpfOcVybZS4xtJXThG/z8OQaqwIv+c/xxqLX68CbaPAAYwqVwCpqfbkd7qUCsxXn9RfpWqsXH3Sqhr2+tUn3UBUaeXqk1RTLtSuPin5ujaCqYajqitZf11MqeegYpVGgWs7qlzhpMo6j2242vPVOBWoVPm7rsbJJt9KhOQFu6/GyUa7cyG5Q+VqnFLva8Oc/SLIv9d26N4xnNj1Fxm2l2qMlKATtq+0iji+HBA1fEEgKvaSQMT+OkDk/kpA5OW1gEjtG6oC/jQqr3MasRNnwuIV0CJuvk37KOx3nNpM0mdPdEwnKUDdAMFPCvVb8XpPj6JN9Ehc3+l5uq7T03g9p0d0HadndP2mZ+G6TU/i9ZpHmBS8T1Fvcp/ojsNjNnrnsk/ihsJj8HFHoqt8v+Cx2JJv5WPmFx+NywNs85Hktx5NEcfYxvfRHoN9GDJreNGjpzQcT6FrT7lrT5WuPcmuPeWuPVW79iS69pS79pS79pS7tk5dW4dMW+dMW+dMW1cybS0zba0zbZ0zbS0ybS0ybT3Ce+prHA5A4p76moYDaLynvhbDAQrdU1/jcACK99TXYjj4wscwJuHCR2zJo5MvfDAX4yQvfLCURyxf+CDOYycufEQBRjFdHmCuxlNdHmCJRrZ2eYBlHuN0eYA5jXa6FjAMuXh2cRh1fnYxteexl08uCklkQOW5RaXmPFCPLQqJs0E/tpg0yAn1MKGQVGZUHiUUKuXHjgcJRQvOEvUYoZAoV9RDhF26/Os//w8s8zdF",ume="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",hme="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",fme="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",mme="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",pme="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var xme={Courier:sme,"Courier-Bold":rme,"Courier-Oblique":ame,"Courier-BoldOblique":nme,Helvetica:cme,"Helvetica-Bold":ime,"Helvetica-Oblique":lme,"Helvetica-BoldOblique":ome,"Times-Roman":fme,"Times-Bold":dme,"Times-Italic":hme,"Times-BoldItalic":ume,Symbol:mme,ZapfDingbats:pme},tg;(function(t){t.Courier="Courier",t.CourierBold="Courier-Bold",t.CourierOblique="Courier-Oblique",t.CourierBoldOblique="Courier-BoldOblique",t.Helvetica="Helvetica",t.HelveticaBold="Helvetica-Bold",t.HelveticaOblique="Helvetica-Oblique",t.HelveticaBoldOblique="Helvetica-BoldOblique",t.TimesRoman="Times-Roman",t.TimesRomanBold="Times-Bold",t.TimesRomanItalic="Times-Italic",t.TimesRomanBoldItalic="Times-BoldItalic",t.Symbol="Symbol",t.ZapfDingbats="ZapfDingbats"})(tg||(tg={}));var zD={},gme=function(){function t(){var e=this;this.getWidthOfGlyph=function(r){return e.CharWidths[r]},this.getXAxisKerningForPair=function(r,n){return(e.KernPairXAmounts[r]||{})[n]}}return t.load=function(e){var r=zD[e];if(r)return r;var n=HW(xme[e]),s=Object.assign(new t,JSON.parse(n));return s.CharWidths=s.CharMetrics.reduce(function(i,o){return i[o.N]=o.WX,i},{}),s.KernPairXAmounts=s.KernPairs.reduce(function(i,o){var l=o[0],c=o[1],d=o[2];return i[l]||(i[l]={}),i[l][c]=d,i},{}),zD[e]=s,s},t}();const vme="eJztWsuy48iN/Ret74KZfHtX47meqfGjPHaXx4/wgpJ4JbooUU1JVXXb0f9u4JwESF13R7TD29koIpFi8gCJBHDA/Pvm+nraTuPmZ3/f5HHzs7/k8WlzvXS7fvPXp02eqyR/2vRfd2N3gqhUUfm0Od9P236+DoczxLWK66fNpZ93/fkGWaOy5mnTnUR67c57lRaZSItM/tnN/XnsX/DfIqg0JOk8HI4UK4BCAFzG+xWCQgXF02Y3nU4dJJVKKrx5mPgKBVMImOvYXY+QKJRCoHzXzxMErQrap810hqaloioF1e0L5kvFUwqe23Hu+Q+1TinWeZnuMwSKrRRsL8Nn/kOxlYLtOnzFWE1Viqmu/eceVioVaylYe1OwVKilQD0PCYgiLRtVcJz4kEItW13mNLi0UsCVAB77KyxTKeJKEPff3rsREkVcCeLD3He3HqArBV0J6G/v/fU2cK1WH23l0e3c7T71N9uUVv/c5i73bWlVs1Y0u5/3srO7aQb2EPUB+eUTva0TYgG5mGbbzZSUkJTpn75ygF4PThhq1SMGMds4HYZdN54n/rdWc8rv02bfH9I2hbqGsKbPnIYzHSc0qmTIxI6nuwpiAIQmU8F4Gy7jK8RwntAI1v3wedj39FmFECp508s4zUOyGmwpKrwbL8eOIlVU//Yf/S1J9C212Pa/uuSwbVDYlWzxf/aj/UtfWgm258t1GG1X1BVawfdnX0xdoRbjPCdBVGs1svo3R/tPVD1r2YL3k0kUfC04f9ldLkmk0NVwv+pO232SKXa126/vHAO5wPxNGivsRsZ/HDhWzLVg/iBuOSfMUTGrTX+b/qSIG0H8u+NEl1J4jcD7/XBI9kDcUYN/0/FNCDuNAP64skYOeLrykUsjElWC9+cmAEAB9NtrEijCplaE/YHvKuC5Iup8zxBAWtFrayakC2QC8uCbhggSskx9zXYNQSRkeuZWQBFKQowabNIfS/qeqOgSOFTINcC4DKcnE70H2zqElJAJ3k++dwgrIRPA47J5iCwr724RWELINFBTAAWiCL7SOogrIQj6abWBOH8hCPoL/4a4EoJgn9MWIq40lcY52cJAGbCHMgkpA3g9t7e0sRWgB1HnvjJYRez6yrSTlYJvRZmdCQhe80Pa24roNYL75uLo10WyKYHVeFLjYnImilM0qPDOJOKWNGlFCJsIrw/qsNv7OPY3SnNYSQ9DP46DLHylvGCcEFU08Nz6JIVx9Chd+93ENNhEWroSuC8SAi0WNznNpqH9+c5k1RQ0nIbi9/LnTzdmoKZAaAwaib/0g0Ti29wxG8gUgLey/O8eHmmqt4eiKTNYo416LPrLkcIWa2u06eZ5+mLBXCaoTp4m7pckBm41P8Qe0mUG6DUCYWY/fTmnCQbwkCa2043vrhA2gqakncwM3aGfe9GAj1Vw9qiuzPW2o4Or4PcxhmUu4atwAGKMy8wCscJhiDFfJh1lhY2K6mo250DrTJXOC82EUgVIkTMmOd0moqC5Dd24H15e0hRKJS0Cvg7Xm9RKgz9ErdWrTpfb6zV5Wx2ytwlDZLplUQ/8Ye72Qyq5RI5kqY4t6fe0iHOItdCYbo8zKOi0vLjvjrdjZ2IYRAPUZZ72910SI7vEiL9LaHSvrZFkipKOf02y8gc9vEbmKHQjRP95uH6ShZI9c9pao41otTPLICMETXSC5jLNupbP8bxo2Dy/DOfh9prk8BKNk935MPIo1jiKUSNQqiVSVSozBWYan5nmNMGz1+r6AleO8KJJwXdk2H8XwgVVP31AticBhdvqIZPwNPcvqWhqah74iIB6GsYuvbdGeYFS93yY775hPNh6giUlzNNXr/eaJmNYKrnLKznOt4ZsEQ6f5ZCfWVvJFK2Xs5BcP8ND23r5uJqDyaPmM90Oscl9a87aIC3HLCxz+uOzNFgOhA+P4XRq8hPTjP3Xhzn4oiYIm1svybSpOX03zDuJX4kqyAx3rrKZdZ3XNMggGh9lsUt/Fm+7m+1bGCxqOttPN/fOFiExKh+xnb1d0gz8qiiXmS0r5YxLaaULN/TaOsu4WEgTS3Fd1TCvlsvj9F1/PvQpPzHAZqiN9yZEntcyaDfet0mGOKLl5LGX6EMhU5ZGkf3QnVIWqvJA5FoG7KbLK1BcBcyLTfNYZGr7g8ar+WEWm63VgmSefX/q5k+r6Rplrdo/Heb+q00gKzcWUiVy3pY5RkGL7kept7/zSRS8Uc+Kw+nOV5ukqeu1KqtZ2Ds2a6yrWZghX/NS7q3OwQZ5WM0tgGCBPK7muPM6B2fP8wditayKMKG5YzW7rIvzkJcPs8vKOBGaRJxo+boMocrFfe407G0SJlJS7pO+KOrwqKkAcw4lp28Xi28vU7AM2Lfz9gUITKM8fJlcnoRtlJIvkwsSRtD2kXkuC8M2ytbX08vSME4ZHqd9cTQgojL5hXr60uhDxDJfTy7WQ3kXy2I9q+t+L7V+d3nZD+fDtrtdf7iZ8gPUNhVNSLOdFKmrqgg5UGR5ktUWkERW4ETnYSnQpK5PsqU2k3I5yZbCTGhJki0lmbJ2ypxOd8rYKXM23Slnp6yxclZkVZK1li1EVlMWmY0yyJokC5bIRdYm6sDCW/9X54knZEYnurpKJCEzNtHVdYqTmdGJrm6SiJRMsdWJmTS1MYWuSZwAHg3D5dSJO6tnpqPiNXIHapSQHkL9WNCyDwEZymTtQzyGcfx/rQVukWUP4RgGS29oG5RieEMSVKm67GISoHZUs0g6TKImlZMdbde2cDMFUCZBSBWevKlNIlRrBNQkEVpt0CXUSYTWGvzG1q5TldeFIklgFfiMvQ6tNXgMtk5IM+qSAjbJSpOh4wdUtYnQYgOqxkRosgFVayK02SJsYCJ02tRw9HkVodUG00UTodcG4+UmQrdN0dPhVYR2m8KPBhX1t/bkumgaofzWplwXDT2Oo9K2Lhp6dogUvT+HBpGC98fQxlDs/lSVCr/OVGZ7CGY3lXEIKyD3fylyrQS63P4VjTl0uRkGJxB+l5th2CBS5LkZhg0iRZ6bYdgPUqC5aYMEh8CSmzrsCinU3PRBKkNYyQ0qTgSiSmFQcSAQVAqDimSFmFIYVPaKFGphUNktUqiFQUVaUvLVFbaHSEZK47vC0LNfpOgLQ8+OkaIvDD2SjZbOXWHokWBQgJeGHkmlwaEz9EglKHFKQ48og8qmNPQgJEp0u9LQg4mAjJeGnm0rRV8aeratFH1p6EE8tBnQlYYebSutwLrS0KNrhRZYZegRbpV3dpWhR8tKSU9XGXr2rJTsdJXBTz0ruLjhT00rVaAyBVLTSjWoTIPUs1IVKlOBbSulAV1lOrBzpZS2q0wJNq8yhH7TovIOb1cb5tSXUny14Ut9KUYQUyS1phRgbaDZmEIiFrKThCnpIMMYGrZh0JBo7M01e+H65sZeUpPp6ZsbX4+dcH1xa1YgxYsIAWYF9rXBI1p/L9tiiL6ZmYGtrYpZybaz8caUCA1iA4iIPcEN0ZAQIuq70g2ZPCOQ7R+yE5riIjTojfMRESbsge1zHMhgsSlk5PR4u0WnQDraMOdEE7JTj7dbhAqpw4K3W4wKGZv3eHtempBkA+nHQldgrwXHM1jwCgj0pB7BwlcIbI7BnhbAAmsvHNJgISyw+MIxDRbEAqsvHNRgYSyw/GqZSE0j1l84rMFCWWABhuMaLJgFVmA4sMHCWUi8CRpZQAvkSzizwUJaIE/CoQ0W1ALpEU5tsLDGDzqg6yI0jaKzfxGaRuRBOLjBglsgAcpYHZhG5D04usECXCDdQd0WLMQFshwc6GBBLqQOETSyMBdIa3DMgwW6QD6Dcx4s1AXyDpSRYmoTsrpmzWKQyDJw0GWjTci2GCBZIAtkFDj+wSJZIJPA+Q8WygIJRCQkw8meFCJAsGAWCu8BiNAsjzTAXkKwEBfYg2IQqM3y7EFFauT/ZAcUGlk0DAU7nyzETPeSHBIa1aZmSe4IjWpTsyRphEa1qVmSTFMjU7Mki4ZGreEsSZ+hUWO6s7+bc4/8cdJlaNSYQdjTRbEbM3+c5BgaWTgOSA7stkSLiqFiCwbgLUiHinQX4C1Kh4pEl+BN94oEl+DNdBWJLcH74yS0AG8RPeCjRmRZ3JiR0ZWKrItbW7MmZWVlbG+vSVWxHY2tyW+lJTUy0yEVgdTKmmYlNplKagSDCMFlTIaH8GmVMWkpIj6sMsQv+Ae3UmUIX3AP6q0yRC94x/IOBC84B4+VyhC7yHTIELQRhGgM32hchmAM14hMRCpEMIZrNC6DJvAMWkxl0ASOQYOpDJqACrX+EmgCX9EQ8f3T5stwlggXf/otCfss8O19uvX7LfqmP3Z1AiRPP2JPY2pA/vTbFIhHqhFedB2s0/2v3bIAG1z14yH8CVcvwJFFoePr5cgbDv9/G+Pfvo2BUIP6ix0r8EO9ZYARuKFeMMAIvFA/gWMESqifiTACG9QrBTpCBFGK9wuMQKz0UgJGoH+C7L8xAvPTL40Y4au7gPkfjEAB9SYBRmB/eokAIxA/vT6AETifXh7ACHRPrwroqAFX0i/5GIEmCZb/xQj8Tu8LYARqp5cFMAKr03sCGIHQ6SUBjMDlBMsfMLIP//+HERicXlzACORNsPxJR2iW4I4FRj92EQa8TTuGInY3/vHrMSBwuoPX3TDot4c7osKPXJtBm0XLvsPc0XfRZkHNhxE4nLZsMQJ902/jDOQIkriXkAL7JhEyNh1ZemtZ98IxCZvebeCYZE3AHjkmUdMPGRyTpAm6v3FMgqY3EjgmOdPPZhyTmOlFBIwZxHEPgWNeJ9BbBxyz+af9c45J2PRMcEyyph8EOSZP03PMMTmaXjLgmN0+vWLAMfBpFfeZY7838AVjNilxLYJj4NOy7ZVjUju9zcHxv3/FiVcKULCpf9yGcb9qEOPL/6pp7GyO2cU+S7N2AaOzDMHKBXxO4/goyYBiZ3S7+yxxf0fNKud0r31a0gnddp4+9WfTpHJOt/r4yfIlfVDq5z7dgWABg8amf4SBnLxZQ9A0718keFqMZSGDNurhPoxjf5r84LGeQY/77d0vb3QvyYc1DTrd9nWo56movd196uyqy792faz2prfkJHyAHPiBONTe+kZ2ephrlhb4Ll0HSRfRNOLxqk5onB1LWu4kCPAGRmicIDOZ6j67Ro0T5V2/F6t1lDpTlkz6iMTpspj/JI53H83+jZNmt/+ybY2TZ1lRctmcUldonEDLxLEbGV5aZ9AwRnqAJmydSFu6c2dunU6/8yDIL5Og0+8W67VOp98xsL6kr1H8FglO/W45Uq1z6ncPXto6rX432zlpnVW/e6bAGfXPV0aOmXPqZwcbM+fUzw42Zs6pnx/BxsyJ9fMaV8ycW79fre3c+v1qbefW79+u7QT7/ePazrGf+UE7Zk6wf+Mmi8EJ9ocFQnCC/WGBEJxgf3gDgddNNIp/WC3Mb12i24cHXIEfkcs3FzGDM/UPnnJjcKb+cQXOmfrHFThn6h/fgItO1z8+4IjO2P+0LBOdsX9znHgBKUYn7Id+Pkklvh3TCgtpX9DFhbSvll1I+1t0C3NfTBcX5v4IeSHv5sYxX7g7H86dt+/Wbpw7c+8XsLkz934Bmztz79+AzZ2+9w+4cmfww2ptZ/DDam1n8MPbtZ3GDw9rs9ui3KZPblw4tz8vJiuc208LhMK5/bRAKJzbT28gFE7wp9XCTvCnR1zO8ZeLw7Fwjj8tTlw4x78v0Ern+PcFWukc//4GWulE//6AonSu/7paxrn+zZ2YnRclRK/rBXJsCAjxh2cKEAWVJ02ku/wOoFv2+12XkmnODwHgW4uQGVbZ0uM7mAJ1b/68/JlpUMnWdy5MF6/Vd5eL19YYSPd6FqPwBkNQo/h2NQxdQQ3bn/dpCxrGrqCW7U8rKZl/mfi0Xytk3Am66ZhYbg4y+KAVslDwbXdNL2d5qU5hnYBlTZaa6hs2t1qWdaeeTptcLco+hl5R7w4H5uOGcQbtEkpT18GusOI2xT9dYcVJf7zCSjmbD+Iud2s1NPRb9E+0UICmizb8ZK/+5JOLOulSqwaw5VJr2vB8dSFn89fvv/8H0oq1dA==";var yme=HW(vme),I2=JSON.parse(yme),F2=function(){function t(e,r){var n=this;this.canEncodeUnicodeCodePoint=function(s){return s in n.unicodeMappings},this.encodeUnicodeCodePoint=function(s){var i=n.unicodeMappings[s];if(!i){var o=String.fromCharCode(s),l="0x"+tme(s.toString(16),4,"0"),c=n.name+' cannot encode "'+o+'" ('+l+")";throw new Error(c)}return{code:i[0],name:i[1]}},this.name=e,this.supportedCodePoints=Object.keys(r).map(Number).sort(function(s,i){return s-i}),this.unicodeMappings=r}return t}(),jv={Symbol:new F2("Symbol",I2.symbol),ZapfDingbats:new F2("ZapfDingbats",I2.zapfdingbats),WinAnsi:new F2("WinAnsi",I2.win1252)},Hj=function(t){return Object.keys(t).map(function(e){return t[e]})},bme=Hj(tg),WD=function(t){return bme.includes(t)},Nv=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height},Xn=function(t){return"`"+t+"`"},wme=function(t){return"'"+t+"'"},qD=function(t){var e=typeof t;return e==="string"?wme(t):e==="undefined"?Xn(t):t},jme=function(t,e,r){for(var n=new Array(r.length),s=0,i=r.length;s<i;s++){var o=r[s];n[s]=qD(o)}var l=n.join(" or ");return Xn(e)+" must be one of "+l+", but was actually "+qD(t)},Bc=function(t,e,r){Array.isArray(r)||(r=Hj(r));for(var n=0,s=r.length;n<s;n++)if(t===r[n])return;throw new TypeError(jme(t,e,r))},bi=function(t,e,r){Array.isArray(r)||(r=Hj(r)),Bc(t,e,r.concat(void 0))},Nme=function(t,e,r){Array.isArray(r)||(r=Hj(r));for(var n=0,s=t.length;n<s;n++)Bc(t[n],e,r)},Eme=function(t){return t===null?"null":t===void 0?"undefined":typeof t=="string"?"string":isNaN(t)?"NaN":typeof t=="number"?"number":typeof t=="boolean"?"boolean":typeof t=="symbol"?"symbol":typeof t=="bigint"?"bigint":t.constructor&&t.constructor.name?t.constructor.name:t.name?t.name:t.constructor?String(t.constructor):String(t)},Sme=function(t,e){return e==="null"?t===null:e==="undefined"?t===void 0:e==="string"?typeof t=="string":e==="number"?typeof t=="number"&&!isNaN(t):e==="boolean"?typeof t=="boolean":e==="symbol"?typeof t=="symbol":e==="bigint"?typeof t=="bigint":e===Date?t instanceof Date:e===Array?t instanceof Array:e===Uint8Array?t instanceof Uint8Array:e===ArrayBuffer?t instanceof ArrayBuffer:e===Function?t instanceof Function:t instanceof e[0]},Ame=function(t,e,r){for(var n=new Array(r.length),s=0,i=r.length;s<i;s++){var o=r[s];o==="null"&&(n[s]=Xn("null")),o==="undefined"&&(n[s]=Xn("undefined")),o==="string"?n[s]=Xn("string"):o==="number"?n[s]=Xn("number"):o==="boolean"?n[s]=Xn("boolean"):o==="symbol"?n[s]=Xn("symbol"):o==="bigint"?n[s]=Xn("bigint"):o===Array?n[s]=Xn("Array"):o===Uint8Array?n[s]=Xn("Uint8Array"):o===ArrayBuffer?n[s]=Xn("ArrayBuffer"):n[s]=Xn(o[1])}var l=n.join(" or ");return Xn(e)+" must be of type "+l+", but was actually of type "+Xn(Eme(t))},Ie=function(t,e,r){for(var n=0,s=r.length;n<s;n++)if(Sme(t,r[n]))return;throw new TypeError(Ame(t,e,r))},Ye=function(t,e,r){Ie(t,e,r.concat("undefined"))},GW=function(t,e,r){for(var n=0,s=t.length;n<s;n++)Ie(t[n],e,r)},Qs=function(t,e,r,n){if(Ie(t,e,["number"]),Ie(r,"min",["number"]),Ie(n,"max",["number"]),n=Math.max(r,n),t<r||t>n)throw new Error(Xn(e)+" must be at least "+r+" and at most "+n+", but was actually "+t)},to=function(t,e,r,n){Ie(t,e,["number","undefined"]),typeof t=="number"&&Qs(t,e,r,n)},KW=function(t,e,r){if(Ie(t,e,["number"]),t%r!==0)throw new Error(Xn(e)+" must be a multiple of "+r+", but was actually "+t)},Cme=function(t,e){if(!Number.isInteger(t))throw new Error(Xn(e)+" must be an integer, but was actually "+t)},Gj=function(t,e){if(![1,0].includes(Math.sign(t)))throw new Error(Xn(e)+" must be a positive number or 0, but was actually "+t)},Kt=new Uint16Array(256);for(var Ev=0;Ev<256;Ev++)Kt[Ev]=Ev;Kt[22]=Wt("");Kt[24]=Wt("");Kt[25]=Wt("");Kt[26]=Wt("");Kt[27]=Wt("");Kt[28]=Wt("");Kt[29]=Wt("");Kt[30]=Wt("");Kt[31]=Wt("");Kt[127]=Wt("");Kt[128]=Wt("");Kt[129]=Wt("");Kt[130]=Wt("");Kt[131]=Wt("");Kt[132]=Wt("");Kt[133]=Wt("");Kt[134]=Wt("");Kt[135]=Wt("");Kt[136]=Wt("");Kt[137]=Wt("");Kt[138]=Wt("");Kt[139]=Wt("");Kt[140]=Wt("");Kt[141]=Wt("");Kt[142]=Wt("");Kt[143]=Wt("");Kt[144]=Wt("");Kt[145]=Wt("");Kt[146]=Wt("");Kt[147]=Wt("");Kt[148]=Wt("");Kt[149]=Wt("");Kt[150]=Wt("");Kt[151]=Wt("");Kt[152]=Wt("");Kt[153]=Wt("");Kt[154]=Wt("");Kt[155]=Wt("");Kt[156]=Wt("");Kt[157]=Wt("");Kt[158]=Wt("");Kt[159]=Wt("");Kt[160]=Wt("");Kt[173]=Wt("");var XW=function(t){for(var e=new Array(t.length),r=0,n=t.length;r<n;r++)e[r]=Kt[t[r]];return String.fromCodePoint.apply(String,e)},Ll=function(){function t(e){this.populate=e,this.value=void 0}return t.prototype.getValue=function(){return this.value},t.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},t.prototype.invalidate=function(){this.value=void 0},t.populatedBy=function(e){return new t(e)},t}(),Pi=function(t){Je(e,t);function e(r,n){var s=this,i="Method "+r+"."+n+"() not implemented";return s=t.call(this,i)||this,s}return e}(Error),IT=function(t){Je(e,t);function e(r){var n=this,s="Cannot construct "+r+" - it has a private constructor";return n=t.call(this,s)||this,n}return e}(Error),Eb=function(t){Je(e,t);function e(r,n){var s=this,i=function(c){var d,u;return(d=c?.name)!==null&&d!==void 0?d:(u=c?.constructor)===null||u===void 0?void 0:u.name},o=Array.isArray(r)?r.map(i):[i(r)],l="Expected instance of "+o.join(" or ")+", "+("but got instance of "+(n&&i(n)));return s=t.call(this,l)||this,s}return e}(Error),kme=function(t){Je(e,t);function e(r){var n=this,s=r+" stream encoding not supported";return n=t.call(this,s)||this,n}return e}(Error),FT=function(t){Je(e,t);function e(r,n){var s=this,i="Cannot call "+r+"."+n+"() more than once";return s=t.call(this,i)||this,s}return e}(Error);(function(t){Je(e,t);function e(r){var n=this,s="Missing catalog (ref="+r+")";return n=t.call(this,s)||this,n}return e})(Error);var Pme=function(t){Je(e,t);function e(){var r=this,n="Can't embed page with missing Contents";return r=t.call(this,n)||this,r}return e}(Error),Tme=function(t){Je(e,t);function e(r){var n,s,i,o=this,l=(i=(s=(n=r?.contructor)===null||n===void 0?void 0:n.name)!==null&&s!==void 0?s:r?.name)!==null&&i!==void 0?i:r,c="Unrecognized stream type: "+l;return o=t.call(this,c)||this,o}return e}(Error),Ome=function(t){Je(e,t);function e(){var r=this,n="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return r=t.call(this,n)||this,r}return e}(Error),_me=function(t){Je(e,t);function e(r){var n=this,s="Attempted to convert PDFArray with "+r+" elements to rectangle, but must have exactly 4 elements.";return n=t.call(this,s)||this,n}return e}(Error),YW=function(t){Je(e,t);function e(r){var n=this,s='Attempted to convert "'+r+'" to a date, but it does not match the PDF date string format.';return n=t.call(this,s)||this,n}return e}(Error),HD=function(t){Je(e,t);function e(r,n){var s=this,i="Invalid targetIndex specified: targetIndex="+r+" must be less than Count="+n;return s=t.call(this,i)||this,s}return e}(Error),GD=function(t){Je(e,t);function e(r,n){var s=this,i="Failed to "+n+" at targetIndex="+r+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return s=t.call(this,i)||this,s}return e}(Error),Sb=function(t){Je(e,t);function e(r,n,s){var i=this,o="index should be at least "+n+" and at most "+s+", but was actually "+r;return i=t.call(this,o)||this,i}return e}(Error),DT=function(t){Je(e,t);function e(){var r=this,n="Attempted to set invalid field value";return r=t.call(this,n)||this,r}return e}(Error),Rme=function(t){Je(e,t);function e(){var r=this,n="Attempted to select multiple values for single-select field";return r=t.call(this,n)||this,r}return e}(Error),Ime=function(t){Je(e,t);function e(r){var n=this,s="No /DA (default appearance) entry found for field: "+r;return n=t.call(this,s)||this,n}return e}(Error),Fme=function(t){Je(e,t);function e(r){var n=this,s="No Tf operator found for DA of field: "+r;return n=t.call(this,s)||this,n}return e}(Error),KD=function(t){Je(e,t);function e(r,n){var s=this,i="Failed to parse number "+("(line:"+r.line+" col:"+r.column+" offset="+r.offset+'): "'+n+'"');return s=t.call(this,i)||this,s}return e}(Error),Ed=function(t){Je(e,t);function e(r,n){var s=this,i="Failed to parse PDF document "+("(line:"+r.line+" col:"+r.column+" offset="+r.offset+"): "+n);return s=t.call(this,i)||this,s}return e}(Error),Dme=function(t){Je(e,t);function e(r,n,s){var i=this,o="Expected next byte to be "+n+" but it was actually "+s;return i=t.call(this,r,o)||this,i}return e}(Ed),Mme=function(t){Je(e,t);function e(r,n){var s=this,i="Failed to parse PDF object starting with the following byte: "+n;return s=t.call(this,r,i)||this,s}return e}(Ed),Lme=function(t){Je(e,t);function e(r){var n=this,s="Failed to parse invalid PDF object";return n=t.call(this,r,s)||this,n}return e}(Ed),Bme=function(t){Je(e,t);function e(r){var n=this,s="Failed to parse PDF stream";return n=t.call(this,r,s)||this,n}return e}(Ed),$me=function(t){Je(e,t);function e(r){var n=this,s="Failed to parse PDF literal string due to unbalanced parenthesis";return n=t.call(this,r,s)||this,n}return e}(Ed),Ume=function(t){Je(e,t);function e(r){var n=this,s="Parser stalled";return n=t.call(this,r,s)||this,n}return e}(Ed),Vme=function(t){Je(e,t);function e(r){var n=this,s="No PDF header found";return n=t.call(this,r,s)||this,n}return e}(Ed),zme=function(t){Je(e,t);function e(r,n){var s=this,i="Did not find expected keyword '"+Zz(n)+"'";return s=t.call(this,r,i)||this,s}return e}(Ed),yA;(function(t){t[t.Null=0]="Null",t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.Newline=10]="Newline",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationPoint=33]="ExclamationPoint",t[t.Hash=35]="Hash",t[t.Percent=37]="Percent",t[t.LeftParen=40]="LeftParen",t[t.RightParen=41]="RightParen",t[t.Plus=43]="Plus",t[t.Minus=45]="Minus",t[t.Dash=45]="Dash",t[t.Period=46]="Period",t[t.ForwardSlash=47]="ForwardSlash",t[t.Zero=48]="Zero",t[t.One=49]="One",t[t.Two=50]="Two",t[t.Three=51]="Three",t[t.Four=52]="Four",t[t.Five=53]="Five",t[t.Six=54]="Six",t[t.Seven=55]="Seven",t[t.Eight=56]="Eight",t[t.Nine=57]="Nine",t[t.LessThan=60]="LessThan",t[t.GreaterThan=62]="GreaterThan",t[t.A=65]="A",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.O=79]="O",t[t.P=80]="P",t[t.R=82]="R",t[t.LeftSquareBracket=91]="LeftSquareBracket",t[t.BackSlash=92]="BackSlash",t[t.RightSquareBracket=93]="RightSquareBracket",t[t.a=97]="a",t[t.b=98]="b",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.i=105]="i",t[t.j=106]="j",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.x=120]="x",t[t.LeftCurly=123]="LeftCurly",t[t.RightCurly=125]="RightCurly",t[t.Tilde=126]="Tilde"})(yA||(yA={}));const he=yA;var Kj=function(){function t(e,r){this.major=String(e),this.minor=String(r)}return t.prototype.toString=function(){var e=Ml(129);return"%PDF-"+this.major+"."+this.minor+`
%`+e+e+e+e},t.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},t.prototype.copyBytesInto=function(e,r){var n=r;return e[r++]=he.Percent,e[r++]=he.P,e[r++]=he.D,e[r++]=he.F,e[r++]=he.Dash,r+=ka(this.major,e,r),e[r++]=he.Period,r+=ka(this.minor,e,r),e[r++]=he.Newline,e[r++]=he.Percent,e[r++]=129,e[r++]=129,e[r++]=129,e[r++]=129,r-n},t.forVersion=function(e,r){return new t(e,r)},t}(),ms=function(){function t(){}return t.prototype.clone=function(e){throw new Pi(this.constructor.name,"clone")},t.prototype.toString=function(){throw new Pi(this.constructor.name,"toString")},t.prototype.sizeInBytes=function(){throw new Pi(this.constructor.name,"sizeInBytes")},t.prototype.copyBytesInto=function(e,r){throw new Pi(this.constructor.name,"copyBytesInto")},t}(),Vt=function(t){Je(e,t);function e(r){var n=t.call(this)||this;return n.numberValue=r,n.stringValue=ihe(r),n}return e.prototype.asNumber=function(){return this.numberValue},e.prototype.value=function(){return this.numberValue},e.prototype.clone=function(){return e.of(this.numberValue)},e.prototype.toString=function(){return this.stringValue},e.prototype.sizeInBytes=function(){return this.stringValue.length},e.prototype.copyBytesInto=function(r,n){return n+=ka(this.stringValue,r,n),this.stringValue.length},e.of=function(r){return new e(r)},e}(ms),Tr=function(t){Je(e,t);function e(r){var n=t.call(this)||this;return n.array=[],n.context=r,n}return e.prototype.size=function(){return this.array.length},e.prototype.push=function(r){this.array.push(r)},e.prototype.insert=function(r,n){this.array.splice(r,0,n)},e.prototype.indexOf=function(r){var n=this.array.indexOf(r);return n===-1?void 0:n},e.prototype.remove=function(r){this.array.splice(r,1)},e.prototype.set=function(r,n){this.array[r]=n},e.prototype.get=function(r){return this.array[r]},e.prototype.lookupMaybe=function(r){for(var n,s=[],i=1;i<arguments.length;i++)s[i-1]=arguments[i];return(n=this.context).lookupMaybe.apply(n,Nr([this.get(r)],s))},e.prototype.lookup=function(r){for(var n,s=[],i=1;i<arguments.length;i++)s[i-1]=arguments[i];return(n=this.context).lookup.apply(n,Nr([this.get(r)],s))},e.prototype.asRectangle=function(){if(this.size()!==4)throw new _me(this.size());var r=this.lookup(0,Vt).asNumber(),n=this.lookup(1,Vt).asNumber(),s=this.lookup(2,Vt).asNumber(),i=this.lookup(3,Vt).asNumber(),o=r,l=n,c=s-r,d=i-n;return{x:o,y:l,width:c,height:d}},e.prototype.asArray=function(){return this.array.slice()},e.prototype.clone=function(r){for(var n=e.withContext(r||this.context),s=0,i=this.size();s<i;s++)n.push(this.array[s]);return n},e.prototype.toString=function(){for(var r="[ ",n=0,s=this.size();n<s;n++)r+=this.get(n).toString(),r+=" ";return r+="]",r},e.prototype.sizeInBytes=function(){for(var r=3,n=0,s=this.size();n<s;n++)r+=this.get(n).sizeInBytes()+1;return r},e.prototype.copyBytesInto=function(r,n){var s=n;r[n++]=he.LeftSquareBracket,r[n++]=he.Space;for(var i=0,o=this.size();i<o;i++)n+=this.get(i).copyBytesInto(r,n),r[n++]=he.Space;return r[n++]=he.RightSquareBracket,n-s},e.prototype.scalePDFNumbers=function(r,n){for(var s=0,i=this.size();s<i;s++){var o=this.lookup(s);if(o instanceof Vt){var l=s%2===0?r:n;this.set(s,Vt.of(o.asNumber()*l))}}},e.withContext=function(r){return new e(r)},e}(ms),D2={},rg=function(t){Je(e,t);function e(r,n){var s=this;if(r!==D2)throw new IT("PDFBool");return s=t.call(this)||this,s.value=n,s}return e.prototype.asBoolean=function(){return this.value},e.prototype.clone=function(){return this},e.prototype.toString=function(){return String(this.value)},e.prototype.sizeInBytes=function(){return this.value?4:5},e.prototype.copyBytesInto=function(r,n){return this.value?(r[n++]=he.t,r[n++]=he.r,r[n++]=he.u,r[n++]=he.e,4):(r[n++]=he.f,r[n++]=he.a,r[n++]=he.l,r[n++]=he.s,r[n++]=he.e,5)},e.True=new e(D2,!0),e.False=new e(D2,!1),e}(ms),Gi=new Uint8Array(256);Gi[he.LeftParen]=1;Gi[he.RightParen]=1;Gi[he.LessThan]=1;Gi[he.GreaterThan]=1;Gi[he.LeftSquareBracket]=1;Gi[he.RightSquareBracket]=1;Gi[he.LeftCurly]=1;Gi[he.RightCurly]=1;Gi[he.ForwardSlash]=1;Gi[he.Percent]=1;var nc=new Uint8Array(256);nc[he.Null]=1;nc[he.Tab]=1;nc[he.Newline]=1;nc[he.FormFeed]=1;nc[he.CarriageReturn]=1;nc[he.Space]=1;var MT=new Uint8Array(256);for(var sp=0,Wme=256;sp<Wme;sp++)MT[sp]=nc[sp]||Gi[sp]?1:0;MT[he.Hash]=1;var qme=function(t){return t.replace(/#([\dABCDEF]{2})/g,function(e,r){return $ue(r)})},Hme=function(t){return t>=he.ExclamationPoint&&t<=he.Tilde&&!MT[t]},XD={},YD=new Map,de=function(t){Je(e,t);function e(r,n){var s=this;if(r!==XD)throw new IT("PDFName");s=t.call(this)||this;for(var i="/",o=0,l=n.length;o<l;o++){var c=n[o],d=Wt(c);i+=Hme(d)?c:"#"+Uj(d)}return s.encodedName=i,s}return e.prototype.asBytes=function(){for(var r=[],n="",s=!1,i=function(h){h!==void 0&&r.push(h),s=!1},o=1,l=this.encodedName.length;o<l;o++){var c=this.encodedName[o],d=Wt(c),u=this.encodedName[o+1];s?d>=he.Zero&&d<=he.Nine||d>=he.a&&d<=he.f||d>=he.A&&d<=he.F?(n+=c,(n.length===2||!(u>="0"&&u<="9"||u>="a"&&u<="f"||u>="A"&&u<="F"))&&(i(parseInt(n,16)),n="")):i(d):d===he.Hash?s=!0:i(d)}return new Uint8Array(r)},e.prototype.decodeText=function(){var r=this.asBytes();return String.fromCharCode.apply(String,Array.from(r))},e.prototype.asString=function(){return this.encodedName},e.prototype.value=function(){return this.encodedName},e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.encodedName},e.prototype.sizeInBytes=function(){return this.encodedName.length},e.prototype.copyBytesInto=function(r,n){return n+=ka(this.encodedName,r,n),this.encodedName.length},e.of=function(r){var n=qme(r),s=YD.get(n);return s||(s=new e(XD,n),YD.set(n,s)),s},e.Length=e.of("Length"),e.FlateDecode=e.of("FlateDecode"),e.Resources=e.of("Resources"),e.Font=e.of("Font"),e.XObject=e.of("XObject"),e.ExtGState=e.of("ExtGState"),e.Contents=e.of("Contents"),e.Type=e.of("Type"),e.Parent=e.of("Parent"),e.MediaBox=e.of("MediaBox"),e.Page=e.of("Page"),e.Annots=e.of("Annots"),e.TrimBox=e.of("TrimBox"),e.ArtBox=e.of("ArtBox"),e.BleedBox=e.of("BleedBox"),e.CropBox=e.of("CropBox"),e.Rotate=e.of("Rotate"),e.Title=e.of("Title"),e.Author=e.of("Author"),e.Subject=e.of("Subject"),e.Creator=e.of("Creator"),e.Keywords=e.of("Keywords"),e.Producer=e.of("Producer"),e.CreationDate=e.of("CreationDate"),e.ModDate=e.of("ModDate"),e}(ms),Gme=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.asNull=function(){return null},e.prototype.clone=function(){return this},e.prototype.toString=function(){return"null"},e.prototype.sizeInBytes=function(){return 4},e.prototype.copyBytesInto=function(r,n){return r[n++]=he.n,r[n++]=he.u,r[n++]=he.l,r[n++]=he.l,4},e}(ms);const Es=new Gme;var Zt=function(t){Je(e,t);function e(r,n){var s=t.call(this)||this;return s.dict=r,s.context=n,s}return e.prototype.keys=function(){return Array.from(this.dict.keys())},e.prototype.values=function(){return Array.from(this.dict.values())},e.prototype.entries=function(){return Array.from(this.dict.entries())},e.prototype.set=function(r,n){this.dict.set(r,n)},e.prototype.get=function(r,n){n===void 0&&(n=!1);var s=this.dict.get(r);if(!(s===Es&&!n))return s},e.prototype.has=function(r){var n=this.dict.get(r);return n!==void 0&&n!==Es},e.prototype.lookupMaybe=function(r){for(var n,s=[],i=1;i<arguments.length;i++)s[i-1]=arguments[i];var o=s.includes(Es),l=(n=this.context).lookupMaybe.apply(n,Nr([this.get(r,o)],s));if(!(l===Es&&!o))return l},e.prototype.lookup=function(r){for(var n,s=[],i=1;i<arguments.length;i++)s[i-1]=arguments[i];var o=s.includes(Es),l=(n=this.context).lookup.apply(n,Nr([this.get(r,o)],s));if(!(l===Es&&!o))return l},e.prototype.delete=function(r){return this.dict.delete(r)},e.prototype.asMap=function(){return new Map(this.dict)},e.prototype.uniqueKey=function(r){r===void 0&&(r="");for(var n=this.keys(),s=de.of(this.context.addRandomSuffix(r,10));n.includes(s);)s=de.of(this.context.addRandomSuffix(r,10));return s},e.prototype.clone=function(r){for(var n=e.withContext(r||this.context),s=this.entries(),i=0,o=s.length;i<o;i++){var l=s[i],c=l[0],d=l[1];n.set(c,d)}return n},e.prototype.toString=function(){for(var r=`<<
`,n=this.entries(),s=0,i=n.length;s<i;s++){var o=n[s],l=o[0],c=o[1];r+=l.toString()+" "+c.toString()+`
`}return r+=">>",r},e.prototype.sizeInBytes=function(){for(var r=5,n=this.entries(),s=0,i=n.length;s<i;s++){var o=n[s],l=o[0],c=o[1];r+=l.sizeInBytes()+c.sizeInBytes()+2}return r},e.prototype.copyBytesInto=function(r,n){var s=n;r[n++]=he.LessThan,r[n++]=he.LessThan,r[n++]=he.Newline;for(var i=this.entries(),o=0,l=i.length;o<l;o++){var c=i[o],d=c[0],u=c[1];n+=d.copyBytesInto(r,n),r[n++]=he.Space,n+=u.copyBytesInto(r,n),r[n++]=he.Newline}return r[n++]=he.GreaterThan,r[n++]=he.GreaterThan,n-s},e.withContext=function(r){return new e(new Map,r)},e.fromMapWithContext=function(r,n){return new e(r,n)},e}(ms),ti=function(t){Je(e,t);function e(r){var n=t.call(this)||this;return n.dict=r,n}return e.prototype.clone=function(r){throw new Pi(this.constructor.name,"clone")},e.prototype.getContentsString=function(){throw new Pi(this.constructor.name,"getContentsString")},e.prototype.getContents=function(){throw new Pi(this.constructor.name,"getContents")},e.prototype.getContentsSize=function(){throw new Pi(this.constructor.name,"getContentsSize")},e.prototype.updateDict=function(){var r=this.getContentsSize();this.dict.set(de.Length,Vt.of(r))},e.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},e.prototype.toString=function(){this.updateDict();var r=this.dict.toString();return r+=`
stream
`,r+=this.getContentsString(),r+=`
endstream`,r},e.prototype.copyBytesInto=function(r,n){this.updateDict();var s=n;n+=this.dict.copyBytesInto(r,n),r[n++]=he.Newline,r[n++]=he.s,r[n++]=he.t,r[n++]=he.r,r[n++]=he.e,r[n++]=he.a,r[n++]=he.m,r[n++]=he.Newline;for(var i=this.getContents(),o=0,l=i.length;o<l;o++)r[n++]=i[o];return r[n++]=he.Newline,r[n++]=he.e,r[n++]=he.n,r[n++]=he.d,r[n++]=he.s,r[n++]=he.t,r[n++]=he.r,r[n++]=he.e,r[n++]=he.a,r[n++]=he.m,n-s},e}(ms),ng=function(t){Je(e,t);function e(r,n){var s=t.call(this,r)||this;return s.contents=n,s}return e.prototype.asUint8Array=function(){return this.contents.slice()},e.prototype.clone=function(r){return e.of(this.dict.clone(r),this.contents.slice())},e.prototype.getContentsString=function(){return Zz(this.contents)},e.prototype.getContents=function(){return this.contents},e.prototype.getContentsSize=function(){return this.contents.length},e.of=function(r,n){return new e(r,n)},e}(ti),QD={},ZD=new Map,Vr=function(t){Je(e,t);function e(r,n,s){var i=this;if(r!==QD)throw new IT("PDFRef");return i=t.call(this)||this,i.objectNumber=n,i.generationNumber=s,i.tag=n+" "+s+" R",i}return e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.tag},e.prototype.sizeInBytes=function(){return this.tag.length},e.prototype.copyBytesInto=function(r,n){return n+=ka(this.tag,r,n),this.tag.length},e.of=function(r,n){n===void 0&&(n=0);var s=r+" "+n+" R",i=ZD.get(s);return i||(i=new e(QD,r,n),ZD.set(s,i)),i},e}(ms),br=function(){function t(e,r){this.name=e,this.args=r||[]}return t.prototype.clone=function(e){for(var r=new Array(this.args.length),n=0,s=r.length;n<s;n++){var i=this.args[n];r[n]=i instanceof ms?i.clone(e):i}return t.of(this.name,r)},t.prototype.toString=function(){for(var e="",r=0,n=this.args.length;r<n;r++)e+=String(this.args[r])+" ";return e+=this.name,e},t.prototype.sizeInBytes=function(){for(var e=0,r=0,n=this.args.length;r<n;r++){var s=this.args[r];e+=(s instanceof ms?s.sizeInBytes():s.length)+1}return e+=this.name.length,e},t.prototype.copyBytesInto=function(e,r){for(var n=r,s=0,i=this.args.length;s<i;s++){var o=this.args[s];o instanceof ms?r+=o.copyBytesInto(e,r):r+=ka(o,e,r),e[r++]=he.Space}return r+=ka(this.name,e,r),r-n},t.of=function(e,r){return new t(e,r)},t}(),bA;(function(t){t.NonStrokingColor="sc",t.NonStrokingColorN="scn",t.NonStrokingColorRgb="rg",t.NonStrokingColorGray="g",t.NonStrokingColorCmyk="k",t.NonStrokingColorspace="cs",t.StrokingColor="SC",t.StrokingColorN="SCN",t.StrokingColorRgb="RG",t.StrokingColorGray="G",t.StrokingColorCmyk="K",t.StrokingColorspace="CS",t.BeginMarkedContentSequence="BDC",t.BeginMarkedContent="BMC",t.EndMarkedContent="EMC",t.MarkedContentPointWithProps="DP",t.MarkedContentPoint="MP",t.DrawObject="Do",t.ConcatTransformationMatrix="cm",t.PopGraphicsState="Q",t.PushGraphicsState="q",t.SetFlatness="i",t.SetGraphicsStateParams="gs",t.SetLineCapStyle="J",t.SetLineDashPattern="d",t.SetLineJoinStyle="j",t.SetLineMiterLimit="M",t.SetLineWidth="w",t.SetTextMatrix="Tm",t.SetRenderingIntent="ri",t.AppendRectangle="re",t.BeginInlineImage="BI",t.BeginInlineImageData="ID",t.EndInlineImage="EI",t.ClipEvenOdd="W*",t.ClipNonZero="W",t.CloseAndStroke="s",t.CloseFillEvenOddAndStroke="b*",t.CloseFillNonZeroAndStroke="b",t.ClosePath="h",t.AppendBezierCurve="c",t.CurveToReplicateFinalPoint="y",t.CurveToReplicateInitialPoint="v",t.EndPath="n",t.FillEvenOddAndStroke="B*",t.FillEvenOdd="f*",t.FillNonZeroAndStroke="B",t.FillNonZero="f",t.LegacyFillNonZero="F",t.LineTo="l",t.MoveTo="m",t.ShadingFill="sh",t.StrokePath="S",t.BeginText="BT",t.EndText="ET",t.MoveText="Td",t.MoveTextSetLeading="TD",t.NextLine="T*",t.SetCharacterSpacing="Tc",t.SetFontAndSize="Tf",t.SetTextHorizontalScaling="Tz",t.SetTextLineHeight="TL",t.SetTextRenderingMode="Tr",t.SetTextRise="Ts",t.SetWordSpacing="Tw",t.ShowText="Tj",t.ShowTextAdjusted="TJ",t.ShowTextLine="'",t.ShowTextLineAndSpace='"',t.Type3D0="d0",t.Type3D1="d1",t.BeginCompatibilitySection="BX",t.EndCompatibilitySection="EX"})(bA||(bA={}));const Cr=bA;var LT=function(t){Je(e,t);function e(r,n){var s=t.call(this,r)||this;return s.computeContents=function(){var i=s.getUnencodedContents();return s.encode?qj.deflate(i):i},s.encode=n,n&&r.set(de.of("Filter"),de.of("FlateDecode")),s.contentsCache=Ll.populatedBy(s.computeContents),s}return e.prototype.getContents=function(){return this.contentsCache.access()},e.prototype.getContentsSize=function(){return this.contentsCache.access().length},e.prototype.getUnencodedContents=function(){throw new Pi(this.constructor.name,"getUnencodedContents")},e}(ti),fx=function(t){Je(e,t);function e(r,n,s){s===void 0&&(s=!0);var i=t.call(this,r,s)||this;return i.operators=n,i}return e.prototype.push=function(){for(var r,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];(r=this.operators).push.apply(r,n)},e.prototype.clone=function(r){for(var n=new Array(this.operators.length),s=0,i=this.operators.length;s<i;s++)n[s]=this.operators[s].clone(r);var o=this,l=o.dict,c=o.encode;return e.of(l.clone(r),n,c)},e.prototype.getContentsString=function(){for(var r="",n=0,s=this.operators.length;n<s;n++)r+=this.operators[n]+`
`;return r},e.prototype.getUnencodedContents=function(){for(var r=new Uint8Array(this.getUnencodedContentsSize()),n=0,s=0,i=this.operators.length;s<i;s++)n+=this.operators[s].copyBytesInto(r,n),r[n++]=he.Newline;return r},e.prototype.getUnencodedContentsSize=function(){for(var r=0,n=0,s=this.operators.length;n<s;n++)r+=this.operators[n].sizeInBytes()+1;return r},e.of=function(r,n,s){return s===void 0&&(s=!0),new e(r,n,s)},e}(LT),Kme=function(){function t(e){this.seed=e}return t.prototype.nextInt=function(){var e=Math.sin(this.seed++)*1e4;return e-Math.floor(e)},t.withSeed=function(e){return new t(e)},t}(),Xme=function(t,e){var r=t[0],n=e[0];return r.objectNumber-n.objectNumber},wA=function(){function t(){this.largestObjectNumber=0,this.header=Kj.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=Kme.withSeed(1)}return t.prototype.assign=function(e,r){this.indirectObjects.set(e,r),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},t.prototype.nextRef=function(){return this.largestObjectNumber+=1,Vr.of(this.largestObjectNumber)},t.prototype.register=function(e){var r=this.nextRef();return this.assign(r,e),r},t.prototype.delete=function(e){return this.indirectObjects.delete(e)},t.prototype.lookupMaybe=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var s=r.includes(Es),i=e instanceof Vr?this.indirectObjects.get(e):e;if(!(!i||i===Es&&!s)){for(var o=0,l=r.length;o<l;o++){var c=r[o];if(c===Es){if(i===Es)return i}else if(i instanceof c)return i}throw new Eb(r,i)}},t.prototype.lookup=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var s=e instanceof Vr?this.indirectObjects.get(e):e;if(r.length===0)return s;for(var i=0,o=r.length;i<o;i++){var l=r[i];if(l===Es){if(s===Es)return s}else if(s instanceof l)return s}throw new Eb(r,s)},t.prototype.getObjectRef=function(e){for(var r=Array.from(this.indirectObjects.entries()),n=0,s=r.length;n<s;n++){var i=r[n],o=i[0],l=i[1];if(l===e)return o}},t.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(Xme)},t.prototype.obj=function(e){if(e instanceof ms)return e;if(e==null)return Es;if(typeof e=="string")return de.of(e);if(typeof e=="number")return Vt.of(e);if(typeof e=="boolean")return e?rg.True:rg.False;if(Array.isArray(e)){for(var r=Tr.withContext(this),n=0,s=e.length;n<s;n++)r.push(this.obj(e[n]));return r}else{for(var i=Zt.withContext(this),o=Object.keys(e),n=0,s=o.length;n<s;n++){var l=o[n],c=e[l];c!==void 0&&i.set(de.of(l),this.obj(c))}return i}},t.prototype.stream=function(e,r){return r===void 0&&(r={}),ng.of(this.obj(r),dA(e))},t.prototype.flateStream=function(e,r){return r===void 0&&(r={}),this.stream(qj.deflate(dA(e)),Ht(Ht({},r),{Filter:"FlateDecode"}))},t.prototype.contentStream=function(e,r){return r===void 0&&(r={}),fx.of(this.obj(r),e)},t.prototype.formXObject=function(e,r){return r===void 0&&(r={}),this.contentStream(e,Ht(Ht({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},r),{Type:"XObject",Subtype:"Form"}))},t.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),r=br.of(Cr.PushGraphicsState),n=fx.of(e,[r]);return this.pushGraphicsStateContentStreamRef=this.register(n),this.pushGraphicsStateContentStreamRef},t.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),r=br.of(Cr.PopGraphicsState),n=fx.of(e,[r]);return this.popGraphicsStateContentStreamRef=this.register(n),this.popGraphicsStateContentStreamRef},t.prototype.addRandomSuffix=function(e,r){return r===void 0&&(r=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,r))},t.create=function(){return new t},t}(),Bl=function(t){Je(e,t);function e(r,n,s){s===void 0&&(s=!0);var i=t.call(this,r,n)||this;return i.normalized=!1,i.autoNormalizeCTM=s,i}return e.prototype.clone=function(r){for(var n=e.fromMapWithContext(new Map,r||this.context,this.autoNormalizeCTM),s=this.entries(),i=0,o=s.length;i<o;i++){var l=s[i],c=l[0],d=l[1];n.set(c,d)}return n},e.prototype.Parent=function(){return this.lookupMaybe(de.Parent,Zt)},e.prototype.Contents=function(){return this.lookup(de.of("Contents"))},e.prototype.Annots=function(){return this.lookupMaybe(de.Annots,Tr)},e.prototype.BleedBox=function(){return this.lookupMaybe(de.BleedBox,Tr)},e.prototype.TrimBox=function(){return this.lookupMaybe(de.TrimBox,Tr)},e.prototype.ArtBox=function(){return this.lookupMaybe(de.ArtBox,Tr)},e.prototype.Resources=function(){var r=this.getInheritableAttribute(de.Resources);return this.context.lookupMaybe(r,Zt)},e.prototype.MediaBox=function(){var r=this.getInheritableAttribute(de.MediaBox);return this.context.lookup(r,Tr)},e.prototype.CropBox=function(){var r=this.getInheritableAttribute(de.CropBox);return this.context.lookupMaybe(r,Tr)},e.prototype.Rotate=function(){var r=this.getInheritableAttribute(de.Rotate);return this.context.lookupMaybe(r,Vt)},e.prototype.getInheritableAttribute=function(r){var n;return this.ascend(function(s){n||(n=s.get(r))}),n},e.prototype.setParent=function(r){this.set(de.Parent,r)},e.prototype.addContentStream=function(r){var n=this.normalizedEntries().Contents||this.context.obj([]);this.set(de.Contents,n),n.push(r)},e.prototype.wrapContentStreams=function(r,n){var s=this.Contents();return s instanceof Tr?(s.insert(0,r),s.push(n),!0):!1},e.prototype.addAnnot=function(r){var n=this.normalizedEntries().Annots;n.push(r)},e.prototype.removeAnnot=function(r){var n=this.normalizedEntries().Annots,s=n.indexOf(r);s!==void 0&&n.remove(s)},e.prototype.setFontDictionary=function(r,n){var s=this.normalizedEntries().Font;s.set(r,n)},e.prototype.newFontDictionaryKey=function(r){var n=this.normalizedEntries().Font;return n.uniqueKey(r)},e.prototype.newFontDictionary=function(r,n){var s=this.newFontDictionaryKey(r);return this.setFontDictionary(s,n),s},e.prototype.setXObject=function(r,n){var s=this.normalizedEntries().XObject;s.set(r,n)},e.prototype.newXObjectKey=function(r){var n=this.normalizedEntries().XObject;return n.uniqueKey(r)},e.prototype.newXObject=function(r,n){var s=this.newXObjectKey(r);return this.setXObject(s,n),s},e.prototype.setExtGState=function(r,n){var s=this.normalizedEntries().ExtGState;s.set(r,n)},e.prototype.newExtGStateKey=function(r){var n=this.normalizedEntries().ExtGState;return n.uniqueKey(r)},e.prototype.newExtGState=function(r,n){var s=this.newExtGStateKey(r);return this.setExtGState(s,n),s},e.prototype.ascend=function(r){r(this);var n=this.Parent();n&&n.ascend(r)},e.prototype.normalize=function(){if(!this.normalized){var r=this.context,n=this.get(de.Contents),s=this.context.lookup(n);s instanceof ti&&this.set(de.Contents,r.obj([n])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var i=this.getInheritableAttribute(de.Resources),o=r.lookupMaybe(i,Zt)||r.obj({});this.set(de.Resources,o);var l=o.lookupMaybe(de.Font,Zt)||r.obj({});o.set(de.Font,l);var c=o.lookupMaybe(de.XObject,Zt)||r.obj({});o.set(de.XObject,c);var d=o.lookupMaybe(de.ExtGState,Zt)||r.obj({});o.set(de.ExtGState,d);var u=this.Annots()||r.obj([]);this.set(de.Annots,u),this.normalized=!0}},e.prototype.normalizedEntries=function(){this.normalize();var r=this.Annots(),n=this.Resources(),s=this.Contents();return{Annots:r,Resources:n,Contents:s,Font:n.lookup(de.Font,Zt),XObject:n.lookup(de.XObject,Zt),ExtGState:n.lookup(de.ExtGState,Zt)}},e.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],e.withContextAndParent=function(r,n){var s=new Map;return s.set(de.Type,de.Page),s.set(de.Parent,n),s.set(de.Resources,r.obj({})),s.set(de.MediaBox,r.obj([0,0,612,792])),new e(s,r,!1)},e.fromMapWithContext=function(r,n,s){return s===void 0&&(s=!0),new e(r,n,s)},e}(Zt),JD=function(){function t(e,r){var n=this;this.traversedObjects=new Map,this.copy=function(s){return s instanceof Bl?n.copyPDFPage(s):s instanceof Zt?n.copyPDFDict(s):s instanceof Tr?n.copyPDFArray(s):s instanceof ti?n.copyPDFStream(s):s instanceof Vr?n.copyPDFIndirectObject(s):s.clone()},this.copyPDFPage=function(s){for(var i=s.clone(),o=Bl.InheritableEntries,l=0,c=o.length;l<c;l++){var d=de.of(o[l]),u=i.getInheritableAttribute(d);!i.get(d)&&u&&i.set(d,u)}return i.delete(de.of("Parent")),n.copyPDFDict(i)},this.copyPDFDict=function(s){if(n.traversedObjects.has(s))return n.traversedObjects.get(s);var i=s.clone(n.dest);n.traversedObjects.set(s,i);for(var o=s.entries(),l=0,c=o.length;l<c;l++){var d=o[l],u=d[0],h=d[1];i.set(u,n.copy(h))}return i},this.copyPDFArray=function(s){if(n.traversedObjects.has(s))return n.traversedObjects.get(s);var i=s.clone(n.dest);n.traversedObjects.set(s,i);for(var o=0,l=s.size();o<l;o++){var c=s.get(o);i.set(o,n.copy(c))}return i},this.copyPDFStream=function(s){if(n.traversedObjects.has(s))return n.traversedObjects.get(s);var i=s.clone(n.dest);n.traversedObjects.set(s,i);for(var o=s.dict.entries(),l=0,c=o.length;l<c;l++){var d=o[l],u=d[0],h=d[1];i.dict.set(u,n.copy(h))}return i},this.copyPDFIndirectObject=function(s){var i=n.traversedObjects.has(s);if(!i){var o=n.dest.nextRef();n.traversedObjects.set(s,o);var l=n.src.lookup(s);if(l){var c=n.copy(l);n.dest.assign(o,c)}}return n.traversedObjects.get(s)},this.src=e,this.dest=r}return t.for=function(e,r){return new t(e,r)},t}(),QW=function(){function t(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=e?1:0}return t.prototype.addEntry=function(e,r){this.append({ref:e,offset:r,deleted:!1})},t.prototype.addDeletedEntry=function(e,r){this.append({ref:e,offset:r,deleted:!0})},t.prototype.toString=function(){for(var e=`xref
`,r=0,n=this.subsections.length;r<n;r++){var s=this.subsections[r];e+=s[0].ref.objectNumber+" "+s.length+`
`;for(var i=0,o=s.length;i<o;i++){var l=s[i];e+=uo(String(l.offset),10,"0"),e+=" ",e+=uo(String(l.ref.generationNumber),5,"0"),e+=" ",e+=l.deleted?"f":"n",e+=` 
`}}return e},t.prototype.sizeInBytes=function(){for(var e=5,r=0,n=this.subsections.length;r<n;r++){var s=this.subsections[r],i=s.length,o=s[0];e+=2,e+=String(o.ref.objectNumber).length,e+=String(i).length,e+=20*i}return e},t.prototype.copyBytesInto=function(e,r){var n=r;return e[r++]=he.x,e[r++]=he.r,e[r++]=he.e,e[r++]=he.f,e[r++]=he.Newline,r+=this.copySubsectionsIntoBuffer(this.subsections,e,r),r-n},t.prototype.copySubsectionsIntoBuffer=function(e,r,n){for(var s=n,i=e.length,o=0;o<i;o++){var l=this.subsections[o],c=String(l[0].ref.objectNumber);n+=ka(c,r,n),r[n++]=he.Space;var d=String(l.length);n+=ka(d,r,n),r[n++]=he.Newline,n+=this.copyEntriesIntoBuffer(l,r,n)}return n-s},t.prototype.copyEntriesIntoBuffer=function(e,r,n){for(var s=e.length,i=0;i<s;i++){var o=e[i],l=uo(String(o.offset),10,"0");n+=ka(l,r,n),r[n++]=he.Space;var c=uo(String(o.ref.generationNumber),5,"0");n+=ka(c,r,n),r[n++]=he.Space,r[n++]=o.deleted?he.f:he.n,r[n++]=he.Space,r[n++]=he.Newline}return 20*s},t.prototype.append=function(e){if(this.chunkLength===0){this.subsections.push([e]),this.chunkIdx=0,this.chunkLength=1;return}var r=this.subsections[this.chunkIdx],n=r[this.chunkLength-1];e.ref.objectNumber-n.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(r.push(e),this.chunkLength+=1)},t.create=function(){return new t({ref:Vr.of(0,65535),offset:0,deleted:!0})},t.createEmpty=function(){return new t},t}(),BT=function(){function t(e){this.lastXRefOffset=String(e)}return t.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},t.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},t.prototype.copyBytesInto=function(e,r){var n=r;return e[r++]=he.s,e[r++]=he.t,e[r++]=he.a,e[r++]=he.r,e[r++]=he.t,e[r++]=he.x,e[r++]=he.r,e[r++]=he.e,e[r++]=he.f,e[r++]=he.Newline,r+=ka(this.lastXRefOffset,e,r),e[r++]=he.Newline,e[r++]=he.Percent,e[r++]=he.Percent,e[r++]=he.E,e[r++]=he.O,e[r++]=he.F,r-n},t.forLastCrossRefSectionOffset=function(e){return new t(e)},t}(),Yme=function(){function t(e){this.dict=e}return t.prototype.toString=function(){return`trailer
`+this.dict.toString()},t.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},t.prototype.copyBytesInto=function(e,r){var n=r;return e[r++]=he.t,e[r++]=he.r,e[r++]=he.a,e[r++]=he.i,e[r++]=he.l,e[r++]=he.e,e[r++]=he.r,e[r++]=he.Newline,r+=this.dict.copyBytesInto(e,r),r-n},t.of=function(e){return new t(e)},t}(),ZW=function(t){Je(e,t);function e(r,n,s){s===void 0&&(s=!0);var i=t.call(this,r.obj({}),s)||this;return i.objects=n,i.offsets=i.computeObjectOffsets(),i.offsetsString=i.computeOffsetsString(),i.dict.set(de.of("Type"),de.of("ObjStm")),i.dict.set(de.of("N"),Vt.of(i.objects.length)),i.dict.set(de.of("First"),Vt.of(i.offsetsString.length)),i}return e.prototype.getObjectsCount=function(){return this.objects.length},e.prototype.clone=function(r){return e.withContextAndObjects(r||this.dict.context,this.objects.slice(),this.encode)},e.prototype.getContentsString=function(){for(var r=this.offsetsString,n=0,s=this.objects.length;n<s;n++){var i=this.objects[n],o=i[1];r+=o+`
`}return r},e.prototype.getUnencodedContents=function(){for(var r=new Uint8Array(this.getUnencodedContentsSize()),n=ka(this.offsetsString,r,0),s=0,i=this.objects.length;s<i;s++){var o=this.objects[s],l=o[1];n+=l.copyBytesInto(r,n),r[n++]=he.Newline}return r},e.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+wb(this.offsets)[1]+wb(this.objects)[1].sizeInBytes()+1},e.prototype.computeOffsetsString=function(){for(var r="",n=0,s=this.offsets.length;n<s;n++){var i=this.offsets[n],o=i[0],l=i[1];r+=o+" "+l+" "}return r},e.prototype.computeObjectOffsets=function(){for(var r=0,n=new Array(this.objects.length),s=0,i=this.objects.length;s<i;s++){var o=this.objects[s],l=o[0],c=o[1];n[s]=[l.objectNumber,r],r+=c.sizeInBytes()+1}return n},e.withContextAndObjects=function(r,n,s){return s===void 0&&(s=!0),new e(r,n,s)},e}(LT),JW=function(){function t(e,r){var n=this;this.parsedObjects=0,this.shouldWaitForTick=function(s){return n.parsedObjects+=s,n.parsedObjects%n.objectsPerTick===0},this.context=e,this.objectsPerTick=r}return t.prototype.serializeToBuffer=function(){return rr(this,void 0,void 0,function(){var e,r,n,s,i,o,l,c,d,u,h,f,m,x,p,v,g;return nr(this,function(w){switch(w.label){case 0:return[4,this.computeBufferSize()];case 1:e=w.sent(),r=e.size,n=e.header,s=e.indirectObjects,i=e.xref,o=e.trailerDict,l=e.trailer,c=0,d=new Uint8Array(r),c+=n.copyBytesInto(d,c),d[c++]=he.Newline,d[c++]=he.Newline,u=0,h=s.length,w.label=2;case 2:return u<h?(f=s[u],m=f[0],x=f[1],p=String(m.objectNumber),c+=ka(p,d,c),d[c++]=he.Space,v=String(m.generationNumber),c+=ka(v,d,c),d[c++]=he.Space,d[c++]=he.o,d[c++]=he.b,d[c++]=he.j,d[c++]=he.Newline,c+=x.copyBytesInto(d,c),d[c++]=he.Newline,d[c++]=he.e,d[c++]=he.n,d[c++]=he.d,d[c++]=he.o,d[c++]=he.b,d[c++]=he.j,d[c++]=he.Newline,d[c++]=he.Newline,g=x instanceof ZW?x.getObjectsCount():1,this.shouldWaitForTick(g)?[4,If()]:[3,4]):[3,5];case 3:w.sent(),w.label=4;case 4:return u++,[3,2];case 5:return i&&(c+=i.copyBytesInto(d,c),d[c++]=he.Newline),o&&(c+=o.copyBytesInto(d,c),d[c++]=he.Newline,d[c++]=he.Newline),c+=l.copyBytesInto(d,c),[2,d]}})})},t.prototype.computeIndirectObjectSize=function(e){var r=e[0],n=e[1],s=r.sizeInBytes()+3,i=n.sizeInBytes()+9;return s+i},t.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},t.prototype.computeBufferSize=function(){return rr(this,void 0,void 0,function(){var e,r,n,s,i,o,l,c,d,u,h;return nr(this,function(f){switch(f.label){case 0:e=Kj.forVersion(1,7),r=e.sizeInBytes()+2,n=QW.create(),s=this.context.enumerateIndirectObjects(),i=0,o=s.length,f.label=1;case 1:return i<o?(l=s[i],c=l[0],n.addEntry(c,r),r+=this.computeIndirectObjectSize(l),this.shouldWaitForTick(1)?[4,If()]:[3,3]):[3,4];case 2:f.sent(),f.label=3;case 3:return i++,[3,1];case 4:return d=r,r+=n.sizeInBytes()+1,u=Yme.of(this.createTrailerDict()),r+=u.sizeInBytes()+2,h=BT.forLastCrossRefSectionOffset(d),r+=h.sizeInBytes(),[2,{size:r,header:e,indirectObjects:s,xref:n,trailerDict:u,trailer:h}]}})})},t.forContext=function(e,r){return new t(e,r)},t}(),eq=function(t){Je(e,t);function e(r){var n=t.call(this)||this;return n.data=r,n}return e.prototype.clone=function(){return e.of(this.data.slice())},e.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},e.prototype.sizeInBytes=function(){return this.data.length},e.prototype.copyBytesInto=function(r,n){for(var s=this.data.length,i=0;i<s;i++)r[n++]=this.data[i];return s},e.of=function(r){return new e(r)},e}(ms),Ec;(function(t){t[t.Deleted=0]="Deleted",t[t.Uncompressed=1]="Uncompressed",t[t.Compressed=2]="Compressed"})(Ec||(Ec={}));var Qme=function(t){Je(e,t);function e(r,n,s){s===void 0&&(s=!0);var i=t.call(this,r,s)||this;return i.computeIndex=function(){for(var o=[],l=0,c=0,d=i.entries.length;c<d;c++){var u=i.entries[c],h=i.entries[c-1];c===0?o.push(u.ref.objectNumber):u.ref.objectNumber-h.ref.objectNumber>1&&(o.push(l),o.push(u.ref.objectNumber),l=0),l+=1}return o.push(l),o},i.computeEntryTuples=function(){for(var o=new Array(i.entries.length),l=0,c=i.entries.length;l<c;l++){var d=i.entries[l];if(d.type===Ec.Deleted){var u=d.type,h=d.nextFreeObjectNumber,f=d.ref;o[l]=[u,h,f.generationNumber]}if(d.type===Ec.Uncompressed){var u=d.type,m=d.offset,f=d.ref;o[l]=[u,m,f.generationNumber]}if(d.type===Ec.Compressed){var u=d.type,x=d.objectStreamRef,p=d.index;o[l]=[u,x.objectNumber,p]}}return o},i.computeMaxEntryByteWidths=function(){for(var o=i.entryTuplesCache.access(),l=[0,0,0],c=0,d=o.length;c<d;c++){var u=o[c],h=u[0],f=u[1],m=u[2],x=hy(h),p=hy(f),v=hy(m);x>l[0]&&(l[0]=x),p>l[1]&&(l[1]=p),v>l[2]&&(l[2]=v)}return l},i.entries=n||[],i.entryTuplesCache=Ll.populatedBy(i.computeEntryTuples),i.maxByteWidthsCache=Ll.populatedBy(i.computeMaxEntryByteWidths),i.indexCache=Ll.populatedBy(i.computeIndex),r.set(de.of("Type"),de.of("XRef")),i}return e.prototype.addDeletedEntry=function(r,n){var s=Ec.Deleted;this.entries.push({type:s,ref:r,nextFreeObjectNumber:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addUncompressedEntry=function(r,n){var s=Ec.Uncompressed;this.entries.push({type:s,ref:r,offset:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addCompressedEntry=function(r,n,s){var i=Ec.Compressed;this.entries.push({type:i,ref:r,objectStreamRef:n,index:s}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.clone=function(r){var n=this,s=n.dict,i=n.entries,o=n.encode;return e.of(s.clone(r),i.slice(),o)},e.prototype.getContentsString=function(){for(var r=this.entryTuplesCache.access(),n=this.maxByteWidthsCache.access(),s="",i=0,o=r.length;i<o;i++){for(var l=r[i],c=l[0],d=l[1],u=l[2],h=dh(uh(c)),f=dh(uh(d)),m=dh(uh(u)),x=n[0]-1;x>=0;x--)s+=(h[x]||0).toString(2);for(var x=n[1]-1;x>=0;x--)s+=(f[x]||0).toString(2);for(var x=n[2]-1;x>=0;x--)s+=(m[x]||0).toString(2)}return s},e.prototype.getUnencodedContents=function(){for(var r=this.entryTuplesCache.access(),n=this.maxByteWidthsCache.access(),s=new Uint8Array(this.getUnencodedContentsSize()),i=0,o=0,l=r.length;o<l;o++){for(var c=r[o],d=c[0],u=c[1],h=c[2],f=dh(uh(d)),m=dh(uh(u)),x=dh(uh(h)),p=n[0]-1;p>=0;p--)s[i++]=f[p]||0;for(var p=n[1]-1;p>=0;p--)s[i++]=m[p]||0;for(var p=n[2]-1;p>=0;p--)s[i++]=x[p]||0}return s},e.prototype.getUnencodedContentsSize=function(){var r=this.maxByteWidthsCache.access(),n=Que(r);return n*this.entries.length},e.prototype.updateDict=function(){t.prototype.updateDict.call(this);var r=this.maxByteWidthsCache.access(),n=this.indexCache.access(),s=this.dict.context;this.dict.set(de.of("W"),s.obj(r)),this.dict.set(de.of("Index"),s.obj(n))},e.create=function(r,n){n===void 0&&(n=!0);var s=new e(r,[],n);return s.addDeletedEntry(Vr.of(0,65535),0),s},e.of=function(r,n,s){return s===void 0&&(s=!0),new e(r,n,s)},e}(LT),Zme=function(t){Je(e,t);function e(r,n,s,i){var o=t.call(this,r,n)||this;return o.encodeStreams=s,o.objectsPerStream=i,o}return e.prototype.computeBufferSize=function(){return rr(this,void 0,void 0,function(){var r,n,s,i,o,l,c,d,x,p,u,g,h,f,v,m,x,p,v,g,w,N,j,b;return nr(this,function(S){switch(S.label){case 0:r=this.context.largestObjectNumber+1,n=Kj.forVersion(1,7),s=n.sizeInBytes()+2,i=Qme.create(this.createTrailerDict(),this.encodeStreams),o=[],l=[],c=[],d=this.context.enumerateIndirectObjects(),x=0,p=d.length,S.label=1;case 1:return x<p?(u=d[x],g=u[0],h=u[1],f=g===this.context.trailerInfo.Encrypt||h instanceof ti||h instanceof eq||g.generationNumber!==0,f?(o.push(u),i.addUncompressedEntry(g,s),s+=this.computeIndirectObjectSize(u),this.shouldWaitForTick(1)?[4,If()]:[3,3]):[3,4]):[3,6];case 2:S.sent(),S.label=3;case 3:return[3,5];case 4:v=wb(l),m=wb(c),(!v||v.length%this.objectsPerStream===0)&&(v=[],l.push(v),m=Vr.of(r++),c.push(m)),i.addCompressedEntry(g,m,v.length),v.push(u),S.label=5;case 5:return x++,[3,1];case 6:x=0,p=l.length,S.label=7;case 7:return x<p?(v=l[x],g=c[x],w=ZW.withContextAndObjects(this.context,v,this.encodeStreams),i.addUncompressedEntry(g,s),s+=this.computeIndirectObjectSize([g,w]),o.push([g,w]),this.shouldWaitForTick(v.length)?[4,If()]:[3,9]):[3,10];case 8:S.sent(),S.label=9;case 9:return x++,[3,7];case 10:return N=Vr.of(r++),i.dict.set(de.of("Size"),Vt.of(r)),i.addUncompressedEntry(N,s),j=s,s+=this.computeIndirectObjectSize([N,i]),o.push([N,i]),b=BT.forLastCrossRefSectionOffset(j),s+=b.sizeInBytes(),[2,{size:s,header:n,indirectObjects:o,trailer:b}]}})})},e.forContext=function(r,n,s,i){return s===void 0&&(s=!0),i===void 0&&(i=50),new e(r,n,s,i)},e}(JW),Lt=function(t){Je(e,t);function e(r){var n=t.call(this)||this;return n.value=r,n}return e.prototype.asBytes=function(){for(var r=this.value+(this.value.length%2===1?"0":""),n=r.length,s=new Uint8Array(r.length/2),i=0,o=0;i<n;){var l=parseInt(r.substring(i,i+2),16);s[o]=l,i+=2,o+=1}return s},e.prototype.decodeText=function(){var r=this.asBytes();return aW(r)?tW(r):XW(r)},e.prototype.decodeDate=function(){var r=this.decodeText(),n=Qz(r);if(!n)throw new YW(r);return n},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"<"+this.value+">"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(r,n){return r[n++]=he.LessThan,n+=ka(this.value,r,n),r[n++]=he.GreaterThan,this.value.length+2},e.of=function(r){return new e(r)},e.fromText=function(r){for(var n=the(r),s="",i=0,o=n.length;i<o;i++)s+=f0(n[i],4);return new e(s)},e}(ms),Ab=function(){function t(e,r){this.encoding=e===tg.ZapfDingbats?jv.ZapfDingbats:e===tg.Symbol?jv.Symbol:jv.WinAnsi,this.font=gme.load(e),this.fontName=this.font.FontName,this.customName=r}return t.prototype.encodeText=function(e){for(var r=this.encodeTextAsGlyphs(e),n=new Array(r.length),s=0,i=r.length;s<i;s++)n[s]=Uj(r[s].code);return Lt.of(n.join(""))},t.prototype.widthOfTextAtSize=function(e,r){for(var n=this.encodeTextAsGlyphs(e),s=0,i=0,o=n.length;i<o;i++){var l=n[i].name,c=(n[i+1]||{}).name,d=this.font.getXAxisKerningForPair(l,c)||0;s+=this.widthOfGlyph(l)+d}var u=r/1e3;return s*u},t.prototype.heightOfFontAtSize=function(e,r){r===void 0&&(r={});var n=r.descender,s=n===void 0?!0:n,i=this.font,o=i.Ascender,l=i.Descender,c=i.FontBBox,d=o||c[3],u=l||c[1],h=d-u;return s||(h+=l||0),h/1e3*e},t.prototype.sizeOfFontAtHeight=function(e){var r=this.font,n=r.Ascender,s=r.Descender,i=r.FontBBox,o=n||i[3],l=s||i[1];return 1e3*e/(o-l)},t.prototype.embedIntoContext=function(e,r){var n=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===jv.WinAnsi?"WinAnsiEncoding":void 0});return r?(e.assign(r,n),r):e.register(n)},t.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},t.prototype.encodeTextAsGlyphs=function(e){for(var r=Array.from(e),n=new Array(r.length),s=0,i=r.length;s<i;s++){var o=Bue(r[s]);n[s]=this.encoding.encodeUnicodeCodePoint(o)}return n},t.for=function(e,r){return new t(e,r)},t}(),Jme=function(t,e){for(var r=new Array(t.length),n=0,s=t.length;n<s;n++){var i=t[n],o=e4(vy(e(i))),l=e4.apply(void 0,i.codePoints.map(tpe));r[n]=[o,l]}return epe(r)},epe=function(t){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+t.length+` beginbfchar
`+t.map(function(e){var r=e[0],n=e[1];return r+" "+n}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},e4=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"<"+t.join("")+">"},vy=function(t){return f0(t,4)},tpe=function(t){if(rhe(t))return vy(t);if(nhe(t)){var e=Jz(t),r=eW(t);return""+vy(e)+vy(r)}var n=Uj(t),s="0x"+n+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(s)},rpe=function(t){var e=0,r=function(n){e|=1<<n-1};return t.fixedPitch&&r(1),t.serif&&r(2),r(3),t.script&&r(4),t.nonsymbolic&&r(6),t.italic&&r(7),t.allCap&&r(17),t.smallCap&&r(18),t.forceBold&&r(19),e},npe=function(t){var e=t["OS/2"]?t["OS/2"].sFamilyClass:0,r=rpe({fixedPitch:t.post.isFixedPitch,serif:1<=e&&e<=7,script:e===10,italic:t.head.macStyle.italic});return r},Ur=function(t){Je(e,t);function e(r){var n=t.call(this)||this;return n.value=r,n}return e.prototype.asBytes=function(){for(var r=[],n="",s=!1,i=function(h){h!==void 0&&r.push(h),s=!1},o=0,l=this.value.length;o<l;o++){var c=this.value[o],d=Wt(c),u=this.value[o+1];s?d===he.Newline||d===he.CarriageReturn?i():d===he.n?i(he.Newline):d===he.r?i(he.CarriageReturn):d===he.t?i(he.Tab):d===he.b?i(he.Backspace):d===he.f?i(he.FormFeed):d===he.LeftParen?i(he.LeftParen):d===he.RightParen?i(he.RightParen):d===he.Backspace?i(he.BackSlash):d>=he.Zero&&d<=he.Seven?(n+=c,(n.length===3||!(u>="0"&&u<="7"))&&(i(parseInt(n,8)),n="")):i(d):d===he.BackSlash?s=!0:i(d)}return new Uint8Array(r)},e.prototype.decodeText=function(){var r=this.asBytes();return aW(r)?tW(r):XW(r)},e.prototype.decodeDate=function(){var r=this.decodeText(),n=Qz(r);if(!n)throw new YW(r);return n},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"("+this.value+")"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(r,n){return r[n++]=he.LeftParen,n+=ka(this.value,r,n),r[n++]=he.RightParen,this.value.length+2},e.of=function(r){return new e(r)},e.fromDate=function(r){var n=uo(String(r.getUTCFullYear()),4,"0"),s=uo(String(r.getUTCMonth()+1),2,"0"),i=uo(String(r.getUTCDate()),2,"0"),o=uo(String(r.getUTCHours()),2,"0"),l=uo(String(r.getUTCMinutes()),2,"0"),c=uo(String(r.getUTCSeconds()),2,"0");return new e("D:"+n+s+i+o+l+c+"Z")},e}(ms),$T=function(){function t(e,r,n,s){var i=this;this.allGlyphsInFontSortedById=function(){for(var o=new Array(i.font.characterSet.length),l=0,c=o.length;l<c;l++){var d=i.font.characterSet[l];o[l]=i.font.glyphForCodePoint(d)}return Yue(o.sort(Xue),function(u){return u.id})},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=r,this.fontName=this.font.postscriptName||"Font",this.customName=n,this.fontFeatures=s,this.baseFontName="",this.glyphCache=Ll.populatedBy(this.allGlyphsInFontSortedById)}return t.for=function(e,r,n,s){return rr(this,void 0,void 0,function(){var i;return nr(this,function(o){switch(o.label){case 0:return[4,e.create(r)];case 1:return i=o.sent(),[2,new t(i,r,n,s)]}})})},t.prototype.encodeText=function(e){for(var r=this.font.layout(e,this.fontFeatures).glyphs,n=new Array(r.length),s=0,i=r.length;s<i;s++)n[s]=f0(r[s].id,4);return Lt.of(n.join(""))},t.prototype.widthOfTextAtSize=function(e,r){for(var n=this.font.layout(e,this.fontFeatures).glyphs,s=0,i=0,o=n.length;i<o;i++)s+=n[i].advanceWidth*this.scale;var l=r/1e3;return s*l},t.prototype.heightOfFontAtSize=function(e,r){r===void 0&&(r={});var n=r.descender,s=n===void 0?!0:n,i=this.font,o=i.ascent,l=i.descent,c=i.bbox,d=(o||c.maxY)*this.scale,u=(l||c.minY)*this.scale,h=d-u;return s||(h-=Math.abs(l)||0),h/1e3*e},t.prototype.sizeOfFontAtHeight=function(e){var r=this.font,n=r.ascent,s=r.descent,i=r.bbox,o=(n||i.maxY)*this.scale,l=(s||i.minY)*this.scale;return 1e3*e/(o-l)},t.prototype.embedIntoContext=function(e,r){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,r)},t.prototype.embedFontDict=function(e,r){return rr(this,void 0,void 0,function(){var n,s,i;return nr(this,function(o){switch(o.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:return n=o.sent(),s=this.embedUnicodeCmap(e),i=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[n],ToUnicode:s}),r?(e.assign(r,i),[2,r]):[2,e.register(i)]}})})},t.prototype.isCFF=function(){return this.font.cff},t.prototype.embedCIDFontDict=function(e){return rr(this,void 0,void 0,function(){var r,n;return nr(this,function(s){switch(s.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return r=s.sent(),n=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:Ur.of("Adobe"),Ordering:Ur.of("Identity"),Supplement:0},FontDescriptor:r,W:this.computeWidths()}),[2,e.register(n)]}})})},t.prototype.embedFontDescriptor=function(e){return rr(this,void 0,void 0,function(){var r,n,s,i,o,l,c,d,u,h,f,m,x,p,v;return nr(this,function(g){switch(g.label){case 0:return[4,this.embedFontStream(e)];case 1:return r=g.sent(),n=this.scale,s=this.font,i=s.italicAngle,o=s.ascent,l=s.descent,c=s.capHeight,d=s.xHeight,u=this.font.bbox,h=u.minX,f=u.minY,m=u.maxX,x=u.maxY,p=e.obj((v={Type:"FontDescriptor",FontName:this.baseFontName,Flags:npe(this.font),FontBBox:[h*n,f*n,m*n,x*n],ItalicAngle:i,Ascent:o*n,Descent:l*n,CapHeight:(c||o)*n,XHeight:(d||0)*n,StemV:0},v[this.isCFF()?"FontFile3":"FontFile2"]=r,v)),[2,e.register(p)]}})})},t.prototype.serializeFont=function(){return rr(this,void 0,void 0,function(){return nr(this,function(e){return[2,this.fontData]})})},t.prototype.embedFontStream=function(e){return rr(this,void 0,void 0,function(){var r,n,s;return nr(this,function(i){switch(i.label){case 0:return s=(n=e).flateStream,[4,this.serializeFont()];case 1:return r=s.apply(n,[i.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(r)]}})})},t.prototype.embedUnicodeCmap=function(e){var r=Jme(this.glyphCache.access(),this.glyphId.bind(this)),n=e.flateStream(r);return e.register(n)},t.prototype.glyphId=function(e){return e?e.id:-1},t.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),r=[],n=[],s=0,i=e.length;s<i;s++){var o=e[s],l=e[s-1],c=this.glyphId(o),d=this.glyphId(l);s===0?r.push(c):c-d!==1&&(r.push(n),r.push(c),n=[]),n.push(o.advanceWidth*this.scale)}return r.push(n),r},t}(),ape=function(t){Je(e,t);function e(r,n,s,i){var o=t.call(this,r,n,s,i)||this;return o.subset=o.font.createSubset(),o.glyphs=[],o.glyphCache=Ll.populatedBy(function(){return o.glyphs}),o.glyphIdMap=new Map,o}return e.for=function(r,n,s,i){return rr(this,void 0,void 0,function(){var o;return nr(this,function(l){switch(l.label){case 0:return[4,r.create(n)];case 1:return o=l.sent(),[2,new e(o,n,s,i)]}})})},e.prototype.encodeText=function(r){for(var n=this.font.layout(r,this.fontFeatures).glyphs,s=new Array(n.length),i=0,o=n.length;i<o;i++){var l=n[i],c=this.subset.includeGlyph(l);this.glyphs[c-1]=l,this.glyphIdMap.set(l.id,c),s[i]=f0(c,4)}return this.glyphCache.invalidate(),Lt.of(s.join(""))},e.prototype.isCFF=function(){return this.subset.cff},e.prototype.glyphId=function(r){return r?this.glyphIdMap.get(r.id):-1},e.prototype.serializeFont=function(){var r=this;return new Promise(function(n,s){var i=[];r.subset.encodeStream().on("data",function(o){return i.push(o)}).on("end",function(){return n(Kue(i))}).on("error",function(o){return s(o)})})},e}($T),jA;(function(t){t.Source="Source",t.Data="Data",t.Alternative="Alternative",t.Supplement="Supplement",t.EncryptedPayload="EncryptedPayload",t.FormData="EncryptedPayload",t.Schema="Schema",t.Unspecified="Unspecified"})(jA||(jA={}));var spe=function(){function t(e,r,n){n===void 0&&(n={}),this.fileData=e,this.fileName=r,this.options=n}return t.for=function(e,r,n){return n===void 0&&(n={}),new t(e,r,n)},t.prototype.embedIntoContext=function(e,r){return rr(this,void 0,void 0,function(){var n,s,i,o,l,c,d,u,h;return nr(this,function(f){return n=this.options,s=n.mimeType,i=n.description,o=n.creationDate,l=n.modificationDate,c=n.afRelationship,d=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:s??void 0,Params:{Size:this.fileData.length,CreationDate:o?Ur.fromDate(o):void 0,ModDate:l?Ur.fromDate(l):void 0}}),u=e.register(d),h=e.obj({Type:"Filespec",F:Ur.of(this.fileName),UF:Lt.fromText(this.fileName),EF:{F:u},Desc:i?Lt.fromText(i):void 0,AFRelationship:c??void 0}),r?(e.assign(r,h),[2,r]):[2,e.register(h)]})})},t}(),t4=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],df;(function(t){t.DeviceGray="DeviceGray",t.DeviceRGB="DeviceRGB",t.DeviceCMYK="DeviceCMYK"})(df||(df={}));var ipe={1:df.DeviceGray,3:df.DeviceRGB,4:df.DeviceCMYK},tq=function(){function t(e,r,n,s,i){this.imageData=e,this.bitsPerComponent=r,this.width=n,this.height=s,this.colorSpace=i}return t.for=function(e){return rr(this,void 0,void 0,function(){var r,n,s,i,o,l,c,d,u,h;return nr(this,function(f){if(r=new DataView(e.buffer),n=r.getUint16(0),n!==65496)throw new Error("SOI not found in JPEG");for(s=2;s<r.byteLength&&(i=r.getUint16(s),s+=2,!t4.includes(i));)s+=r.getUint16(s);if(!t4.includes(i))throw new Error("Invalid JPEG");if(s+=2,o=r.getUint8(s++),l=r.getUint16(s),s+=2,c=r.getUint16(s),s+=2,d=r.getUint8(s++),u=ipe[d],!u)throw new Error("Unknown JPEG channel.");return h=u,[2,new t(e,o,c,l,h)]})})},t.prototype.embedIntoContext=function(e,r){return rr(this,void 0,void 0,function(){var n;return nr(this,function(s){return n=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===df.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),r?(e.assign(r,n),[2,r]):[2,e.register(n)]})})},t}(),We={};We.toRGBA8=function(t){var e=t.width,r=t.height;if(t.tabs.acTL==null)return[We.toRGBA8.decodeImage(t.data,e,r,t).buffer];var n=[];t.frames[0].data==null&&(t.frames[0].data=t.data);for(var s=e*r*4,i=new Uint8Array(s),o=new Uint8Array(s),l=new Uint8Array(s),c=0;c<t.frames.length;c++){var d=t.frames[c],u=d.rect.x,h=d.rect.y,f=d.rect.width,m=d.rect.height,x=We.toRGBA8.decodeImage(d.data,f,m,t);if(c!=0)for(var p=0;p<s;p++)l[p]=i[p];if(d.blend==0?We._copyTile(x,f,m,i,e,r,u,h,0):d.blend==1&&We._copyTile(x,f,m,i,e,r,u,h,1),n.push(i.buffer.slice(0)),d.dispose!=0){if(d.dispose==1)We._copyTile(o,f,m,i,e,r,u,h,0);else if(d.dispose==2)for(var p=0;p<s;p++)i[p]=l[p]}}return n};We.toRGBA8.decodeImage=function(t,e,r,n){var s=e*r,i=We.decode._getBPP(n),o=Math.ceil(e*i/8),l=new Uint8Array(s*4),c=new Uint32Array(l.buffer),d=n.ctype,u=n.depth,h=We._bin.readUshort;if(d==6){var f=s<<2;if(u==8)for(var m=0;m<f;m+=4)l[m]=t[m],l[m+1]=t[m+1],l[m+2]=t[m+2],l[m+3]=t[m+3];if(u==16)for(var m=0;m<f;m++)l[m]=t[m<<1]}else if(d==2){var x=n.tabs.tRNS;if(x==null){if(u==8)for(var m=0;m<s;m++){var p=m*3;c[m]=255<<24|t[p+2]<<16|t[p+1]<<8|t[p]}if(u==16)for(var m=0;m<s;m++){var p=m*6;c[m]=255<<24|t[p+4]<<16|t[p+2]<<8|t[p]}}else{var v=x[0],g=x[1],w=x[2];if(u==8)for(var m=0;m<s;m++){var N=m<<2,p=m*3;c[m]=255<<24|t[p+2]<<16|t[p+1]<<8|t[p],t[p]==v&&t[p+1]==g&&t[p+2]==w&&(l[N+3]=0)}if(u==16)for(var m=0;m<s;m++){var N=m<<2,p=m*6;c[m]=255<<24|t[p+4]<<16|t[p+2]<<8|t[p],h(t,p)==v&&h(t,p+2)==g&&h(t,p+4)==w&&(l[N+3]=0)}}}else if(d==3){var j=n.tabs.PLTE,b=n.tabs.tRNS,S=b?b.length:0;if(u==1)for(var A=0;A<r;A++)for(var E=A*o,P=A*e,m=0;m<e;m++){var N=P+m<<2,O=t[E+(m>>3)]>>7-((m&7)<<0)&1,k=3*O;l[N]=j[k],l[N+1]=j[k+1],l[N+2]=j[k+2],l[N+3]=O<S?b[O]:255}if(u==2)for(var A=0;A<r;A++)for(var E=A*o,P=A*e,m=0;m<e;m++){var N=P+m<<2,O=t[E+(m>>2)]>>6-((m&3)<<1)&3,k=3*O;l[N]=j[k],l[N+1]=j[k+1],l[N+2]=j[k+2],l[N+3]=O<S?b[O]:255}if(u==4)for(var A=0;A<r;A++)for(var E=A*o,P=A*e,m=0;m<e;m++){var N=P+m<<2,O=t[E+(m>>1)]>>4-((m&1)<<2)&15,k=3*O;l[N]=j[k],l[N+1]=j[k+1],l[N+2]=j[k+2],l[N+3]=O<S?b[O]:255}if(u==8)for(var m=0;m<s;m++){var N=m<<2,O=t[m],k=3*O;l[N]=j[k],l[N+1]=j[k+1],l[N+2]=j[k+2],l[N+3]=O<S?b[O]:255}}else if(d==4){if(u==8)for(var m=0;m<s;m++){var N=m<<2,L=m<<1,R=t[L];l[N]=R,l[N+1]=R,l[N+2]=R,l[N+3]=t[L+1]}if(u==16)for(var m=0;m<s;m++){var N=m<<2,L=m<<2,R=t[L];l[N]=R,l[N+1]=R,l[N+2]=R,l[N+3]=t[L+2]}}else if(d==0)for(var v=n.tabs.tRNS?n.tabs.tRNS:-1,A=0;A<r;A++){var _=A*o,B=A*e;if(u==1)for(var I=0;I<e;I++){var R=255*(t[_+(I>>>3)]>>>7-(I&7)&1),C=R==v*255?0:255;c[B+I]=C<<24|R<<16|R<<8|R}else if(u==2)for(var I=0;I<e;I++){var R=85*(t[_+(I>>>2)]>>>6-((I&3)<<1)&3),C=R==v*85?0:255;c[B+I]=C<<24|R<<16|R<<8|R}else if(u==4)for(var I=0;I<e;I++){var R=17*(t[_+(I>>>1)]>>>4-((I&1)<<2)&15),C=R==v*17?0:255;c[B+I]=C<<24|R<<16|R<<8|R}else if(u==8)for(var I=0;I<e;I++){var R=t[_+I],C=R==v?0:255;c[B+I]=C<<24|R<<16|R<<8|R}else if(u==16)for(var I=0;I<e;I++){var R=t[_+(I<<1)],C=h(t,_+(I<<m))==v?0:255;c[B+I]=C<<24|R<<16|R<<8|R}}return l};We.decode=function(t){for(var e=new Uint8Array(t),r=8,n=We._bin,s=n.readUshort,i=n.readUint,o={tabs:{},frames:[]},l=new Uint8Array(e.length),c=0,d,u=0,h=[137,80,78,71,13,10,26,10],f=0;f<8;f++)if(e[f]!=h[f])throw"The input is not a PNG file!";for(;r<e.length;){var m=n.readUint(e,r);r+=4;var x=n.readASCII(e,r,4);if(r+=4,x=="IHDR")We.decode._IHDR(e,r,o);else if(x=="IDAT"){for(var f=0;f<m;f++)l[c+f]=e[r+f];c+=m}else if(x=="acTL")o.tabs[x]={num_frames:i(e,r),num_plays:i(e,r+4)},d=new Uint8Array(e.length);else if(x=="fcTL"){if(u!=0){var p=o.frames[o.frames.length-1];p.data=We.decode._decompress(o,d.slice(0,u),p.rect.width,p.rect.height),u=0}var v={x:i(e,r+12),y:i(e,r+16),width:i(e,r+4),height:i(e,r+8)},g=s(e,r+22);g=s(e,r+20)/(g==0?100:g);var w={rect:v,delay:Math.round(g*1e3),dispose:e[r+24],blend:e[r+25]};o.frames.push(w)}else if(x=="fdAT"){for(var f=0;f<m-4;f++)d[u+f]=e[r+f+4];u+=m-4}else if(x=="pHYs")o.tabs[x]=[n.readUint(e,r),n.readUint(e,r+4),e[r+8]];else if(x=="cHRM"){o.tabs[x]=[];for(var f=0;f<8;f++)o.tabs[x].push(n.readUint(e,r+f*4))}else if(x=="tEXt"){o.tabs[x]==null&&(o.tabs[x]={});var N=n.nextZero(e,r),j=n.readASCII(e,r,N-r),b=n.readASCII(e,N+1,r+m-N-1);o.tabs[x][j]=b}else if(x=="iTXt"){o.tabs[x]==null&&(o.tabs[x]={});var N=0,S=r;N=n.nextZero(e,S);var j=n.readASCII(e,S,N-S);S=N+1,e[S],e[S+1],S+=2,N=n.nextZero(e,S),n.readASCII(e,S,N-S),S=N+1,N=n.nextZero(e,S),n.readUTF8(e,S,N-S),S=N+1;var b=n.readUTF8(e,S,m-(S-r));o.tabs[x][j]=b}else if(x=="PLTE")o.tabs[x]=n.readBytes(e,r,m);else if(x=="hIST"){var A=o.tabs.PLTE.length/3;o.tabs[x]=[];for(var f=0;f<A;f++)o.tabs[x].push(s(e,r+f*2))}else if(x=="tRNS")o.ctype==3?o.tabs[x]=n.readBytes(e,r,m):o.ctype==0?o.tabs[x]=s(e,r):o.ctype==2&&(o.tabs[x]=[s(e,r),s(e,r+2),s(e,r+4)]);else if(x=="gAMA")o.tabs[x]=n.readUint(e,r)/1e5;else if(x=="sRGB")o.tabs[x]=e[r];else if(x=="bKGD")o.ctype==0||o.ctype==4?o.tabs[x]=[s(e,r)]:o.ctype==2||o.ctype==6?o.tabs[x]=[s(e,r),s(e,r+2),s(e,r+4)]:o.ctype==3&&(o.tabs[x]=e[r]);else if(x=="IEND")break;r+=m,n.readUint(e,r),r+=4}if(u!=0){var p=o.frames[o.frames.length-1];p.data=We.decode._decompress(o,d.slice(0,u),p.rect.width,p.rect.height),u=0}return o.data=We.decode._decompress(o,l,o.width,o.height),delete o.compress,delete o.interlace,delete o.filter,o};We.decode._decompress=function(t,e,r,n){var s=We.decode._getBPP(t),i=Math.ceil(r*s/8),o=new Uint8Array((i+1+t.interlace)*n);return e=We.decode._inflate(e,o),t.interlace==0?e=We.decode._filterZero(e,t,0,r,n):t.interlace==1&&(e=We.decode._readInterlace(e,t)),e};We.decode._inflate=function(t,e){var r=We.inflateRaw(new Uint8Array(t.buffer,2,t.length-6),e);return r};We.inflateRaw=function(){var t={};return t.H={},t.H.N=function(e,r){var n=Uint8Array,s=0,i=0,o=0,l=0,c=0,d=0,u=0,h=0,f=0,m,x;if(e[0]==3&&e[1]==0)return r||new n(0);var p=t.H,v=p.b,g=p.e,w=p.R,N=p.n,j=p.A,b=p.Z,S=p.m,A=r==null;for(A&&(r=new n(e.length>>>2<<3));s==0;){if(s=v(e,f,1),i=v(e,f+1,2),f+=3,i==0){f&7&&(f+=8-(f&7));var E=(f>>>3)+4,P=e[E-4]|e[E-3]<<8;A&&(r=t.H.W(r,h+P)),r.set(new n(e.buffer,e.byteOffset+E,P),h),f=E+P<<3,h+=P;continue}if(A&&(r=t.H.W(r,h+(1<<17))),i==1&&(m=S.J,x=S.h,d=511,u=31),i==2){o=g(e,f,5)+257,l=g(e,f+5,5)+1,c=g(e,f+10,4)+4,f+=14;for(var O=1,k=0;k<38;k+=2)S.Q[k]=0,S.Q[k+1]=0;for(var k=0;k<c;k++){var L=g(e,f+k*3,3);S.Q[(S.X[k]<<1)+1]=L,L>O&&(O=L)}f+=3*c,N(S.Q,O),j(S.Q,O,S.u),m=S.w,x=S.d,f=w(S.u,(1<<O)-1,o+l,e,f,S.v);var R=p.V(S.v,0,o,S.C);d=(1<<R)-1;var _=p.V(S.v,o,l,S.D);u=(1<<_)-1,N(S.C,R),j(S.C,R,m),N(S.D,_),j(S.D,_,x)}for(;;){var B=m[b(e,f)&d];f+=B&15;var I=B>>>4;if(!(I>>>8))r[h++]=I;else{if(I==256)break;var C=h+I-254;if(I>264){var D=S.q[I-257];C=h+(D>>>3)+g(e,f,D&7),f+=D&7}var W=x[b(e,f)&u];f+=W&15;var K=W>>>4,H=S.c[K],G=(H>>>4)+v(e,f,H&15);for(f+=H&15;h<C;)r[h]=r[h++-G],r[h]=r[h++-G],r[h]=r[h++-G],r[h]=r[h++-G];h=C}}}return r.length==h?r:r.slice(0,h)},t.H.W=function(e,r){var n=e.length;if(r<=n)return e;var s=new Uint8Array(n<<1);return s.set(e,0),s},t.H.R=function(e,r,n,s,i,o){for(var l=t.H.e,c=t.H.Z,d=0;d<n;){var u=e[c(s,i)&r];i+=u&15;var h=u>>>4;if(h<=15)o[d]=h,d++;else{var f=0,m=0;h==16?(m=3+l(s,i,2),i+=2,f=o[d-1]):h==17?(m=3+l(s,i,3),i+=3):h==18&&(m=11+l(s,i,7),i+=7);for(var x=d+m;d<x;)o[d]=f,d++}}return i},t.H.V=function(e,r,n,s){for(var i=0,o=0,l=s.length>>>1;o<n;){var c=e[o+r];s[o<<1]=0,s[(o<<1)+1]=c,c>i&&(i=c),o++}for(;o<l;)s[o<<1]=0,s[(o<<1)+1]=0,o++;return i},t.H.n=function(e,r){for(var n=t.H.m,s=e.length,i,o,l,c,d,u=n.j,c=0;c<=r;c++)u[c]=0;for(c=1;c<s;c+=2)u[e[c]]++;var h=n.K;for(i=0,u[0]=0,o=1;o<=r;o++)i=i+u[o-1]<<1,h[o]=i;for(l=0;l<s;l+=2)d=e[l+1],d!=0&&(e[l]=h[d],h[d]++)},t.H.A=function(e,r,n){for(var s=e.length,i=t.H.m,o=i.r,l=0;l<s;l+=2)if(e[l+1]!=0)for(var c=l>>1,d=e[l+1],u=c<<4|d,h=r-d,f=e[l]<<h,m=f+(1<<h);f!=m;){var x=o[f]>>>15-r;n[x]=u,f++}},t.H.l=function(e,r){for(var n=t.H.m.r,s=15-r,i=0;i<e.length;i+=2){var o=e[i]<<r-e[i+1];e[i]=n[o]>>>s}},t.H.M=function(e,r,n){n=n<<(r&7);var s=r>>>3;e[s]|=n,e[s+1]|=n>>>8},t.H.I=function(e,r,n){n=n<<(r&7);var s=r>>>3;e[s]|=n,e[s+1]|=n>>>8,e[s+2]|=n>>>16},t.H.e=function(e,r,n){return(e[r>>>3]|e[(r>>>3)+1]<<8)>>>(r&7)&(1<<n)-1},t.H.b=function(e,r,n){return(e[r>>>3]|e[(r>>>3)+1]<<8|e[(r>>>3)+2]<<16)>>>(r&7)&(1<<n)-1},t.H.Z=function(e,r){return(e[r>>>3]|e[(r>>>3)+1]<<8|e[(r>>>3)+2]<<16)>>>(r&7)},t.H.i=function(e,r){return(e[r>>>3]|e[(r>>>3)+1]<<8|e[(r>>>3)+2]<<16|e[(r>>>3)+3]<<24)>>>(r&7)},t.H.m=function(){var e=Uint16Array,r=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new e(65536),g:new e(32768)}}(),function(){for(var e=t.H.m,r=32768,n=0;n<r;n++){var s=n;s=(s&2863311530)>>>1|(s&1431655765)<<1,s=(s&3435973836)>>>2|(s&858993459)<<2,s=(s&4042322160)>>>4|(s&252645135)<<4,s=(s&4278255360)>>>8|(s&16711935)<<8,e.r[n]=(s>>>16|s<<16)>>>17}function i(o,l,c){for(;l--!=0;)o.push(0,c)}for(var n=0;n<32;n++)e.q[n]=e.S[n]<<3|e.T[n],e.c[n]=e.p[n]<<4|e.z[n];i(e._,144,8),i(e._,112,9),i(e._,24,7),i(e._,8,8),t.H.n(e._,9),t.H.A(e._,9,e.J),t.H.l(e._,9),i(e.$,32,5),t.H.n(e.$,5),t.H.A(e.$,5,e.h),t.H.l(e.$,5),i(e.Q,19,0),i(e.C,286,0),i(e.D,30,0),i(e.v,320,0)}(),t.H.N}();We.decode._readInterlace=function(t,e){for(var r=e.width,n=e.height,s=We.decode._getBPP(e),i=s>>3,o=Math.ceil(r*s/8),l=new Uint8Array(n*o),c=0,d=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],f=[8,8,4,4,2,2,1],m=0;m<7;){for(var x=h[m],p=f[m],v=0,g=0,w=d[m];w<n;)w+=x,g++;for(var N=u[m];N<r;)N+=p,v++;var j=Math.ceil(v*s/8);We.decode._filterZero(t,e,c,v,g);for(var b=0,S=d[m];S<n;){for(var A=u[m],E=c+b*j<<3;A<r;){if(s==1){var P=t[E>>3];P=P>>7-(E&7)&1,l[S*o+(A>>3)]|=P<<7-((A&7)<<0)}if(s==2){var P=t[E>>3];P=P>>6-(E&7)&3,l[S*o+(A>>2)]|=P<<6-((A&3)<<1)}if(s==4){var P=t[E>>3];P=P>>4-(E&7)&15,l[S*o+(A>>1)]|=P<<4-((A&1)<<2)}if(s>=8)for(var O=S*o+A*i,k=0;k<i;k++)l[O+k]=t[(E>>3)+k];E+=s,A+=p}b++,S+=x}v*g!=0&&(c+=g*(1+j)),m=m+1}return l};We.decode._getBPP=function(t){var e=[1,null,3,1,2,null,4][t.ctype];return e*t.depth};We.decode._filterZero=function(t,e,r,n,s){var i=We.decode._getBPP(e),o=Math.ceil(n*i/8),l=We.decode._paeth;i=Math.ceil(i/8);var c=0,d=1,u=t[r],h=0;if(u>1&&(t[r]=[0,0,1][u-2]),u==3)for(h=i;h<o;h++)t[h+1]=t[h+1]+(t[h+1-i]>>>1)&255;for(var f=0;f<s;f++)if(c=r+f*o,d=c+f+1,u=t[d-1],h=0,u==0)for(;h<o;h++)t[c+h]=t[d+h];else if(u==1){for(;h<i;h++)t[c+h]=t[d+h];for(;h<o;h++)t[c+h]=t[d+h]+t[c+h-i]}else if(u==2)for(;h<o;h++)t[c+h]=t[d+h]+t[c+h-o];else if(u==3){for(;h<i;h++)t[c+h]=t[d+h]+(t[c+h-o]>>>1);for(;h<o;h++)t[c+h]=t[d+h]+(t[c+h-o]+t[c+h-i]>>>1)}else{for(;h<i;h++)t[c+h]=t[d+h]+l(0,t[c+h-o],0);for(;h<o;h++)t[c+h]=t[d+h]+l(t[c+h-i],t[c+h-o],t[c+h-i-o])}return t};We.decode._paeth=function(t,e,r){var n=t+e-r,s=n-t,i=n-e,o=n-r;return s*s<=i*i&&s*s<=o*o?t:i*i<=o*o?e:r};We.decode._IHDR=function(t,e,r){var n=We._bin;r.width=n.readUint(t,e),e+=4,r.height=n.readUint(t,e),e+=4,r.depth=t[e],e++,r.ctype=t[e],e++,r.compress=t[e],e++,r.filter=t[e],e++,r.interlace=t[e],e++};We._bin={nextZero:function(t,e){for(;t[e]!=0;)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},writeUshort:function(t,e,r){t[e]=r>>8&255,t[e+1]=r&255},readUint:function(t,e){return t[e]*(256*256*256)+(t[e+1]<<16|t[e+2]<<8|t[e+3])},writeUint:function(t,e,r){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=r&255},readASCII:function(t,e,r){for(var n="",s=0;s<r;s++)n+=String.fromCharCode(t[e+s]);return n},writeASCII:function(t,e,r){for(var n=0;n<r.length;n++)t[e+n]=r.charCodeAt(n)},readBytes:function(t,e,r){for(var n=[],s=0;s<r;s++)n.push(t[e+s]);return n},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,e,r){for(var n="",s,i=0;i<r;i++)n+="%"+We._bin.pad(t[e+i].toString(16));try{s=decodeURIComponent(n)}catch{return We._bin.readASCII(t,e,r)}return s}};We._copyTile=function(t,e,r,n,s,i,o,l,c){for(var d=Math.min(e,s),u=Math.min(r,i),h=0,f=0,m=0;m<u;m++)for(var x=0;x<d;x++)if(o>=0&&l>=0?(h=m*e+x<<2,f=(l+m)*s+o+x<<2):(h=(-l+m)*e-o+x<<2,f=m*s+x<<2),c==0)n[f]=t[h],n[f+1]=t[h+1],n[f+2]=t[h+2],n[f+3]=t[h+3];else if(c==1){var p=t[h+3]*.00392156862745098,v=t[h]*p,g=t[h+1]*p,w=t[h+2]*p,N=n[f+3]*(1/255),j=n[f]*N,b=n[f+1]*N,S=n[f+2]*N,A=1-p,E=p+N*A,P=E==0?0:1/E;n[f+3]=255*E,n[f+0]=(v+j*A)*P,n[f+1]=(g+b*A)*P,n[f+2]=(w+S*A)*P}else if(c==2){var p=t[h+3],v=t[h],g=t[h+1],w=t[h+2],N=n[f+3],j=n[f],b=n[f+1],S=n[f+2];p==N&&v==j&&g==b&&w==S?(n[f]=0,n[f+1]=0,n[f+2]=0,n[f+3]=0):(n[f]=v,n[f+1]=g,n[f+2]=w,n[f+3]=p)}else if(c==3){var p=t[h+3],v=t[h],g=t[h+1],w=t[h+2],N=n[f+3],j=n[f],b=n[f+1],S=n[f+2];if(p==N&&v==j&&g==b&&w==S)continue;if(p<220&&N>20)return!1}return!0};We.encode=function(t,e,r,n,s,i,o){n==null&&(n=0),o==null&&(o=!1);var l=We.encode.compress(t,e,r,n,[!1,!1,!1,0,o]);return We.encode.compressPNG(l,-1),We.encode._main(l,e,r,s,i)};We.encodeLL=function(t,e,r,n,s,i,o,l){for(var c={ctype:0+(n==1?0:2)+(s==0?0:4),depth:i,frames:[]},d=(n+s)*i,u=d*e,h=0;h<t.length;h++)c.frames.push({rect:{x:0,y:0,width:e,height:r},img:new Uint8Array(t[h]),blend:0,dispose:1,bpp:Math.ceil(d/8),bpl:Math.ceil(u/8)});We.encode.compressPNG(c,0,!0);var f=We.encode._main(c,e,r,o,l);return f};We.encode._main=function(t,e,r,n,s){s==null&&(s={});var i=We.crc.crc,o=We._bin.writeUint,l=We._bin.writeUshort,c=We._bin.writeASCII,d=8,u=t.frames.length>1,h=!1,f=33+(u?20:0);if(s.sRGB!=null&&(f+=13),s.pHYs!=null&&(f+=21),t.ctype==3){for(var m=t.plte.length,x=0;x<m;x++)t.plte[x]>>>24!=255&&(h=!0);f+=8+m*3+4+(h?8+m*1+4:0)}for(var p=0;p<t.frames.length;p++){var v=t.frames[p];u&&(f+=38),f+=v.cimg.length+12,p!=0&&(f+=4)}f+=12;for(var g=new Uint8Array(f),w=[137,80,78,71,13,10,26,10],x=0;x<8;x++)g[x]=w[x];if(o(g,d,13),d+=4,c(g,d,"IHDR"),d+=4,o(g,d,e),d+=4,o(g,d,r),d+=4,g[d]=t.depth,d++,g[d]=t.ctype,d++,g[d]=0,d++,g[d]=0,d++,g[d]=0,d++,o(g,d,i(g,d-17,17)),d+=4,s.sRGB!=null&&(o(g,d,1),d+=4,c(g,d,"sRGB"),d+=4,g[d]=s.sRGB,d++,o(g,d,i(g,d-5,5)),d+=4),s.pHYs!=null&&(o(g,d,9),d+=4,c(g,d,"pHYs"),d+=4,o(g,d,s.pHYs[0]),d+=4,o(g,d,s.pHYs[1]),d+=4,g[d]=s.pHYs[2],d++,o(g,d,i(g,d-13,13)),d+=4),u&&(o(g,d,8),d+=4,c(g,d,"acTL"),d+=4,o(g,d,t.frames.length),d+=4,o(g,d,s.loop!=null?s.loop:0),d+=4,o(g,d,i(g,d-12,12)),d+=4),t.ctype==3){var m=t.plte.length;o(g,d,m*3),d+=4,c(g,d,"PLTE"),d+=4;for(var x=0;x<m;x++){var N=x*3,j=t.plte[x],b=j&255,S=j>>>8&255,A=j>>>16&255;g[d+N+0]=b,g[d+N+1]=S,g[d+N+2]=A}if(d+=m*3,o(g,d,i(g,d-m*3-4,m*3+4)),d+=4,h){o(g,d,m),d+=4,c(g,d,"tRNS"),d+=4;for(var x=0;x<m;x++)g[d+x]=t.plte[x]>>>24&255;d+=m,o(g,d,i(g,d-m-4,m+4)),d+=4}}for(var E=0,p=0;p<t.frames.length;p++){var v=t.frames[p];u&&(o(g,d,26),d+=4,c(g,d,"fcTL"),d+=4,o(g,d,E++),d+=4,o(g,d,v.rect.width),d+=4,o(g,d,v.rect.height),d+=4,o(g,d,v.rect.x),d+=4,o(g,d,v.rect.y),d+=4,l(g,d,n[p]),d+=2,l(g,d,1e3),d+=2,g[d]=v.dispose,d++,g[d]=v.blend,d++,o(g,d,i(g,d-30,30)),d+=4);var P=v.cimg,m=P.length;o(g,d,m+(p==0?0:4)),d+=4;var O=d;c(g,d,p==0?"IDAT":"fdAT"),d+=4,p!=0&&(o(g,d,E++),d+=4),g.set(P,d),d+=m,o(g,d,i(g,O,d-O)),d+=4}return o(g,d,0),d+=4,c(g,d,"IEND"),d+=4,o(g,d,i(g,d-4,4)),d+=4,g.buffer};We.encode.compressPNG=function(t,e,r){for(var n=0;n<t.frames.length;n++){var s=t.frames[n];s.rect.width;var i=s.rect.height,o=new Uint8Array(i*s.bpl+i);s.cimg=We.encode._filterZero(s.img,i,s.bpp,s.bpl,o,e,r)}};We.encode.compress=function(t,e,r,n,s){for(var i=s[0],o=s[1],l=s[2],c=s[3],d=s[4],u=6,h=8,f=255,m=0;m<t.length;m++)for(var x=new Uint8Array(t[m]),p=x.length,v=0;v<p;v+=4)f&=x[v+3];var g=f!=255,w=We.encode.framize(t,e,r,i,o,l),N={},j=[],b=[];if(n!=0){for(var S=[],v=0;v<w.length;v++)S.push(w[v].img.buffer);for(var A=We.encode.concatRGBA(S),E=We.quantize(A,n),P=0,O=new Uint8Array(E.abuf),v=0;v<w.length;v++){var k=w[v].img,L=k.length;b.push(new Uint8Array(E.inds.buffer,P>>2,L>>2));for(var m=0;m<L;m+=4)k[m]=O[P+m],k[m+1]=O[P+m+1],k[m+2]=O[P+m+2],k[m+3]=O[P+m+3];P+=L}for(var v=0;v<E.plte.length;v++)j.push(E.plte[v].est.rgba)}else for(var m=0;m<w.length;m++){var R=w[m],_=new Uint32Array(R.img.buffer),B=R.rect.width,p=_.length,I=new Uint8Array(p);b.push(I);for(var v=0;v<p;v++){var C=_[v];if(v!=0&&C==_[v-1])I[v]=I[v-1];else if(v>B&&C==_[v-B])I[v]=I[v-B];else{var D=N[C];if(D==null&&(N[C]=D=j.length,j.push(C),j.length>=300))break;I[v]=D}}}var W=j.length;W<=256&&d==!1&&(W<=2?h=1:W<=4?h=2:W<=16?h=4:h=8,h=Math.max(h,c));for(var m=0;m<w.length;m++){var R=w[m];R.rect.x,R.rect.y;var B=R.rect.width,K=R.rect.height,H=R.img;new Uint32Array(H.buffer);var G=4*B,ee=4;if(W<=256&&d==!1){G=Math.ceil(h*B/8);for(var Q=new Uint8Array(G*K),te=b[m],U=0;U<K;U++){var v=U*G,q=U*B;if(h==8)for(var ne=0;ne<B;ne++)Q[v+ne]=te[q+ne];else if(h==4)for(var ne=0;ne<B;ne++)Q[v+(ne>>1)]|=te[q+ne]<<4-(ne&1)*4;else if(h==2)for(var ne=0;ne<B;ne++)Q[v+(ne>>2)]|=te[q+ne]<<6-(ne&3)*2;else if(h==1)for(var ne=0;ne<B;ne++)Q[v+(ne>>3)]|=te[q+ne]<<7-(ne&7)*1}H=Q,u=3,ee=1}else if(g==!1&&w.length==1){for(var Q=new Uint8Array(B*K*3),fe=B*K,v=0;v<fe;v++){var k=v*3,pe=v*4;Q[k]=H[pe],Q[k+1]=H[pe+1],Q[k+2]=H[pe+2]}H=Q,u=2,ee=3,G=3*B}R.img=H,R.bpl=G,R.bpp=ee}return{ctype:u,depth:h,plte:j,frames:w}};We.encode.framize=function(t,e,r,n,s,i){for(var o=[],l=0;l<t.length;l++){var c=new Uint8Array(t[l]),d=new Uint32Array(c.buffer),u,h=0,f=0,m=e,x=r,p=n?1:0;if(l!=0){for(var v=i||n||l==1||o[l-2].dispose!=0?1:2,g=0,w=1e9,N=0;N<v;N++){for(var R=new Uint8Array(t[l-1-N]),j=new Uint32Array(t[l-1-N]),b=e,S=r,A=-1,E=-1,P=0;P<r;P++)for(var O=0;O<e;O++){var k=P*e+O;d[k]!=j[k]&&(O<b&&(b=O),O>A&&(A=O),P<S&&(S=P),P>E&&(E=P))}A==-1&&(b=S=A=E=0),s&&((b&1)==1&&b--,(S&1)==1&&S--);var L=(A-b+1)*(E-S+1);L<w&&(w=L,g=N,h=b,f=S,m=A-b+1,x=E-S+1)}var R=new Uint8Array(t[l-1-g]);g==1&&(o[l-1].dispose=2),u=new Uint8Array(m*x*4),We._copyTile(R,e,r,u,m,x,-h,-f,0),p=We._copyTile(c,e,r,u,m,x,-h,-f,3)?1:0,p==1?We.encode._prepareDiff(c,e,r,u,{x:h,y:f,width:m,height:x}):We._copyTile(c,e,r,u,m,x,-h,-f,0)}else u=c.slice(0);o.push({rect:{x:h,y:f,width:m,height:x},img:u,blend:p,dispose:0})}if(n)for(var l=0;l<o.length;l++){var _=o[l];if(_.blend!=1){var B=_.rect,I=o[l-1].rect,C=Math.min(B.x,I.x),D=Math.min(B.y,I.y),W=Math.max(B.x+B.width,I.x+I.width),K=Math.max(B.y+B.height,I.y+I.height),H={x:C,y:D,width:W-C,height:K-D};o[l-1].dispose=1,l-1!=0&&We.encode._updateFrame(t,e,r,o,l-1,H,s),We.encode._updateFrame(t,e,r,o,l,H,s)}}var G=0;if(t.length!=1)for(var k=0;k<o.length;k++){var _=o[k];G+=_.rect.width*_.rect.height}return o};We.encode._updateFrame=function(t,e,r,n,s,i,o){for(var l=Uint8Array,c=Uint32Array,d=new l(t[s-1]),u=new c(t[s-1]),h=s+1<t.length?new l(t[s+1]):null,f=new l(t[s]),m=new c(f.buffer),x=e,p=r,v=-1,g=-1,w=0;w<i.height;w++)for(var N=0;N<i.width;N++){var j=i.x+N,b=i.y+w,S=b*e+j,A=m[S];A==0||n[s-1].dispose==0&&u[S]==A&&(h==null||h[S*4+3]!=0)||(j<x&&(x=j),j>v&&(v=j),b<p&&(p=b),b>g&&(g=b))}v==-1&&(x=p=v=g=0),o&&((x&1)==1&&x--,(p&1)==1&&p--),i={x,y:p,width:v-x+1,height:g-p+1};var E=n[s];E.rect=i,E.blend=1,E.img=new Uint8Array(i.width*i.height*4),n[s-1].dispose==0?(We._copyTile(d,e,r,E.img,i.width,i.height,-i.x,-i.y,0),We.encode._prepareDiff(f,e,r,E.img,i)):We._copyTile(f,e,r,E.img,i.width,i.height,-i.x,-i.y,0)};We.encode._prepareDiff=function(t,e,r,n,s){We._copyTile(t,e,r,n,s.width,s.height,-s.x,-s.y,2)};We.encode._filterZero=function(t,e,r,n,s,i,o){var l=[],c=[0,1,2,3,4];i!=-1?c=[i]:(e*n>5e5||r==1)&&(c=[0]);var d;o&&(d={level:0});for(var u=o&&UZIP!=null?UZIP:qj,h=0;h<c.length;h++){for(var f=0;f<e;f++)We.encode._filterLine(s,t,f,n,r,c[h]);l.push(u.deflate(s,d))}for(var m,x=1e9,h=0;h<l.length;h++)l[h].length<x&&(m=h,x=l[h].length);return l[m]};We.encode._filterLine=function(t,e,r,n,s,i){var o=r*n,l=o+r,c=We.decode._paeth;if(t[l]=i,l++,i==0)if(n<500)for(var d=0;d<n;d++)t[l+d]=e[o+d];else t.set(new Uint8Array(e.buffer,o,n),l);else if(i==1){for(var d=0;d<s;d++)t[l+d]=e[o+d];for(var d=s;d<n;d++)t[l+d]=e[o+d]-e[o+d-s]+256&255}else if(r==0){for(var d=0;d<s;d++)t[l+d]=e[o+d];if(i==2)for(var d=s;d<n;d++)t[l+d]=e[o+d];if(i==3)for(var d=s;d<n;d++)t[l+d]=e[o+d]-(e[o+d-s]>>1)+256&255;if(i==4)for(var d=s;d<n;d++)t[l+d]=e[o+d]-c(e[o+d-s],0,0)+256&255}else{if(i==2)for(var d=0;d<n;d++)t[l+d]=e[o+d]+256-e[o+d-n]&255;if(i==3){for(var d=0;d<s;d++)t[l+d]=e[o+d]+256-(e[o+d-n]>>1)&255;for(var d=s;d<n;d++)t[l+d]=e[o+d]+256-(e[o+d-n]+e[o+d-s]>>1)&255}if(i==4){for(var d=0;d<s;d++)t[l+d]=e[o+d]+256-c(0,e[o+d-n],0)&255;for(var d=s;d<n;d++)t[l+d]=e[o+d]+256-c(e[o+d-s],e[o+d-n],e[o+d-s-n])&255}}};We.crc={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var r=e,n=0;n<8;n++)r&1?r=3988292384^r>>>1:r=r>>>1;t[e]=r}return t}(),update:function(t,e,r,n){for(var s=0;s<n;s++)t=We.crc.table[(t^e[r+s])&255]^t>>>8;return t},crc:function(t,e,r){return We.crc.update(4294967295,t,e,r)^4294967295}};We.quantize=function(t,e){var r=new Uint8Array(t),n=r.slice(0),s=new Uint32Array(n.buffer),i=We.quantize.getKDtree(n,e),o=i[0],l=i[1];We.quantize.planeDst;for(var c=r,d=s,u=c.length,h=new Uint8Array(r.length>>2),f=0;f<u;f+=4){var m=c[f]*.00392156862745098,x=c[f+1]*(1/255),p=c[f+2]*(1/255),v=c[f+3]*(1/255),g=We.quantize.getNearest(o,m,x,p,v);h[f>>2]=g.ind,d[f>>2]=g.est.rgba}return{abuf:n.buffer,inds:h,plte:l}};We.quantize.getKDtree=function(t,e,r){r==null&&(r=1e-4);var n=new Uint32Array(t.buffer),s={i0:0,i1:t.length,bst:null,est:null,tdst:0,left:null,right:null};s.bst=We.quantize.stats(t,s.i0,s.i1),s.est=We.quantize.estats(s.bst);for(var i=[s];i.length<e;){for(var o=0,l=0,c=0;c<i.length;c++)i[c].est.L>o&&(o=i[c].est.L,l=c);if(o<r)break;var d=i[l],u=We.quantize.splitPixels(t,n,d.i0,d.i1,d.est.e,d.est.eMq255),h=d.i0>=u||d.i1<=u;if(h){d.est.L=0;continue}var f={i0:d.i0,i1:u,bst:null,est:null,tdst:0,left:null,right:null};f.bst=We.quantize.stats(t,f.i0,f.i1),f.est=We.quantize.estats(f.bst);var m={i0:u,i1:d.i1,bst:null,est:null,tdst:0,left:null,right:null};m.bst={R:[],m:[],N:d.bst.N-f.bst.N};for(var c=0;c<16;c++)m.bst.R[c]=d.bst.R[c]-f.bst.R[c];for(var c=0;c<4;c++)m.bst.m[c]=d.bst.m[c]-f.bst.m[c];m.est=We.quantize.estats(m.bst),d.left=f,d.right=m,i[l]=f,i.push(m)}i.sort(function(x,p){return p.bst.N-x.bst.N});for(var c=0;c<i.length;c++)i[c].ind=c;return[s,i]};We.quantize.getNearest=function(t,e,r,n,s){if(t.left==null)return t.tdst=We.quantize.dist(t.est.q,e,r,n,s),t;var i=We.quantize.planeDst(t.est,e,r,n,s),o=t.left,l=t.right;i>0&&(o=t.right,l=t.left);var c=We.quantize.getNearest(o,e,r,n,s);if(c.tdst<=i*i)return c;var d=We.quantize.getNearest(l,e,r,n,s);return d.tdst<c.tdst?d:c};We.quantize.planeDst=function(t,e,r,n,s){var i=t.e;return i[0]*e+i[1]*r+i[2]*n+i[3]*s-t.eMq};We.quantize.dist=function(t,e,r,n,s){var i=e-t[0],o=r-t[1],l=n-t[2],c=s-t[3];return i*i+o*o+l*l+c*c};We.quantize.splitPixels=function(t,e,r,n,s,i){var o=We.quantize.vecDot;for(n-=4;r<n;){for(;o(t,r,s)<=i;)r+=4;for(;o(t,n,s)>i;)n-=4;if(r>=n)break;var l=e[r>>2];e[r>>2]=e[n>>2],e[n>>2]=l,r+=4,n-=4}for(;o(t,r,s)>i;)r-=4;return r+4};We.quantize.vecDot=function(t,e,r){return t[e]*r[0]+t[e+1]*r[1]+t[e+2]*r[2]+t[e+3]*r[3]};We.quantize.stats=function(t,e,r){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=[0,0,0,0],i=r-e>>2,o=e;o<r;o+=4){var l=t[o]*.00392156862745098,c=t[o+1]*(1/255),d=t[o+2]*(1/255),u=t[o+3]*(1/255);s[0]+=l,s[1]+=c,s[2]+=d,s[3]+=u,n[0]+=l*l,n[1]+=l*c,n[2]+=l*d,n[3]+=l*u,n[5]+=c*c,n[6]+=c*d,n[7]+=c*u,n[10]+=d*d,n[11]+=d*u,n[15]+=u*u}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:s,N:i}};We.quantize.estats=function(t){var e=t.R,r=t.m,n=t.N,s=r[0],i=r[1],o=r[2],l=r[3],c=n==0?0:1/n,d=[e[0]-s*s*c,e[1]-s*i*c,e[2]-s*o*c,e[3]-s*l*c,e[4]-i*s*c,e[5]-i*i*c,e[6]-i*o*c,e[7]-i*l*c,e[8]-o*s*c,e[9]-o*i*c,e[10]-o*o*c,e[11]-o*l*c,e[12]-l*s*c,e[13]-l*i*c,e[14]-l*o*c,e[15]-l*l*c],u=d,h=We.M4,f=[.5,.5,.5,.5],m=0,x=0;if(n!=0)for(var p=0;p<10&&(f=h.multVec(u,f),x=Math.sqrt(h.dot(f,f)),f=h.sml(1/x,f),!(Math.abs(x-m)<1e-9));p++)m=x;var v=[s*c,i*c,o*c,l*c],g=h.dot(h.sml(255,v),f);return{Cov:d,q:v,e:f,L:m,eMq255:g,eMq:h.dot(f,v),rgba:(Math.round(255*v[3])<<24|Math.round(255*v[2])<<16|Math.round(255*v[1])<<8|Math.round(255*v[0])<<0)>>>0}};We.M4={multVec:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]]},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},sml:function(t,e){return[t*e[0],t*e[1],t*e[2],t*e[3]]}};We.encode.concatRGBA=function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r].byteLength;for(var n=new Uint8Array(e),s=0,r=0;r<t.length;r++){for(var i=new Uint8Array(t[r]),o=i.length,l=0;l<o;l+=4){var c=i[l],d=i[l+1],u=i[l+2],h=i[l+3];h==0&&(c=d=u=0),n[s+l]=c,n[s+l+1]=d,n[s+l+2]=u,n[s+l+3]=h}s+=o}return n.buffer};var ope=function(t){if(t===0)return qd.Greyscale;if(t===2)return qd.Truecolour;if(t===3)return qd.IndexedColour;if(t===4)return qd.GreyscaleWithAlpha;if(t===6)return qd.TruecolourWithAlpha;throw new Error("Unknown color type: "+t)},lpe=function(t){for(var e=Math.floor(t.length/4),r=new Uint8Array(e*3),n=new Uint8Array(e*1),s=0,i=0,o=0;s<t.length;)r[i++]=t[s++],r[i++]=t[s++],r[i++]=t[s++],n[o++]=t[s++];return{rgbChannel:r,alphaChannel:n}},qd;(function(t){t.Greyscale="Greyscale",t.Truecolour="Truecolour",t.IndexedColour="IndexedColour",t.GreyscaleWithAlpha="GreyscaleWithAlpha",t.TruecolourWithAlpha="TruecolourWithAlpha"})(qd||(qd={}));var cpe=function(){function t(e){var r=We.decode(e),n=We.toRGBA8(r);if(n.length>1)throw new Error("Animated PNGs are not supported");var s=new Uint8Array(n[0]),i=lpe(s),o=i.rgbChannel,l=i.alphaChannel;this.rgbChannel=o;var c=l.some(function(d){return d<255});c&&(this.alphaChannel=l),this.type=ope(r.ctype),this.width=r.width,this.height=r.height,this.bitsPerComponent=8}return t.load=function(e){return new t(e)},t}(),rq=function(){function t(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return t.for=function(e){return rr(this,void 0,void 0,function(){var r;return nr(this,function(n){return r=cpe.load(e),[2,new t(r)]})})},t.prototype.embedIntoContext=function(e,r){return rr(this,void 0,void 0,function(){var n,s;return nr(this,function(i){return n=this.embedAlphaChannel(e),s=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:n}),r?(e.assign(r,s),[2,r]):[2,e.register(s)]})})},t.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var r=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(r)}},t}(),nq=function(){function t(e,r,n){this.bytes=e,this.start=r||0,this.pos=this.start,this.end=r&&n?r+n:this.bytes.length}return Object.defineProperty(t.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),t.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},t.prototype.getUint16=function(){var e=this.getByte(),r=this.getByte();return e===-1||r===-1?-1:(e<<8)+r},t.prototype.getInt32=function(){var e=this.getByte(),r=this.getByte(),n=this.getByte(),s=this.getByte();return(e<<24)+(r<<16)+(n<<8)+s},t.prototype.getBytes=function(e,r){r===void 0&&(r=!1);var n=this.bytes,s=this.pos,i=this.end;if(e){var l=s+e;l>i&&(l=i),this.pos=l;var o=n.subarray(s,l);return r?new Uint8ClampedArray(o):o}else{var o=n.subarray(s,i);return r?new Uint8ClampedArray(o):o}},t.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},t.prototype.peekBytes=function(e,r){r===void 0&&(r=!1);var n=this.getBytes(e,r);return this.pos-=n.length,n},t.prototype.skip=function(e){e||(e=1),this.pos+=e},t.prototype.reset=function(){this.pos=this.start},t.prototype.moveStart=function(){this.start=this.pos},t.prototype.makeSubStream=function(e,r){return new t(this.bytes,e,r)},t.prototype.decode=function(){return this.bytes},t}(),dpe=new Uint8Array(0),b0=function(){function t(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=dpe,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),t.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},t.prototype.getUint16=function(){var e=this.getByte(),r=this.getByte();return e===-1||r===-1?-1:(e<<8)+r},t.prototype.getInt32=function(){var e=this.getByte(),r=this.getByte(),n=this.getByte(),s=this.getByte();return(e<<24)+(r<<16)+(n<<8)+s},t.prototype.getBytes=function(e,r){r===void 0&&(r=!1);var n,s=this.pos;if(e){for(this.ensureBuffer(s+e),n=s+e;!this.eof&&this.bufferLength<n;)this.readBlock();var i=this.bufferLength;n>i&&(n=i)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}this.pos=n;var o=this.buffer.subarray(s,n);return r&&!(o instanceof Uint8ClampedArray)?new Uint8ClampedArray(o):o},t.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},t.prototype.peekBytes=function(e,r){r===void 0&&(r=!1);var n=this.getBytes(e,r);return this.pos-=n.length,n},t.prototype.skip=function(e){e||(e=1),this.pos+=e},t.prototype.reset=function(){this.pos=0},t.prototype.makeSubStream=function(e,r){for(var n=e+r;this.bufferLength<=n&&!this.eof;)this.readBlock();return new nq(this.buffer,e,r)},t.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},t.prototype.readBlock=function(){throw new Pi(this.constructor.name,"readBlock")},t.prototype.ensureBuffer=function(e){var r=this.buffer;if(e<=r.byteLength)return r;for(var n=this.minBufferLength;n<e;)n*=2;var s=new Uint8Array(n);return s.set(r),this.buffer=s},t}(),r4=function(t){return t===32||t===9||t===13||t===10},upe=function(t){Je(e,t);function e(r,n){var s=t.call(this,n)||this;return s.stream=r,s.input=new Uint8Array(5),n&&(n=.8*n),s}return e.prototype.readBlock=function(){for(var r=126,n=122,s=-1,i=this.stream,o=i.getByte();r4(o);)o=i.getByte();if(o===s||o===r){this.eof=!0;return}var l=this.bufferLength,c,d;if(o===n){for(c=this.ensureBuffer(l+4),d=0;d<4;++d)c[l+d]=0;this.bufferLength+=4}else{var u=this.input;for(u[0]=o,d=1;d<5;++d){for(o=i.getByte();r4(o);)o=i.getByte();if(u[d]=o,o===s||o===r)break}if(c=this.ensureBuffer(l+d-1),this.bufferLength+=d-1,d<5){for(;d<5;++d)u[d]=117;this.eof=!0}var h=0;for(d=0;d<5;++d)h=h*85+(u[d]-33);for(d=3;d>=0;--d)c[l+d]=h&255,h>>=8}},e}(b0),hpe=function(t){Je(e,t);function e(r,n){var s=t.call(this,n)||this;return s.stream=r,s.firstDigit=-1,n&&(n=.5*n),s}return e.prototype.readBlock=function(){var r=8e3,n=this.stream.getBytes(r);if(!n.length){this.eof=!0;return}for(var s=n.length+1>>1,i=this.ensureBuffer(this.bufferLength+s),o=this.bufferLength,l=this.firstDigit,c=0,d=n.length;c<d;c++){var u=n[c],h=void 0;if(u>=48&&u<=57)h=u&15;else if(u>=65&&u<=70||u>=97&&u<=102)h=(u&15)+9;else if(u===62){this.eof=!0;break}else continue;l<0?l=h:(i[o++]=l<<4|h,l=-1)}l>=0&&this.eof&&(i[o++]=l<<4,l=-1),this.firstDigit=l,this.bufferLength=o},e}(b0),n4=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fpe=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),mpe=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),ppe=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],xpe=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],gpe=function(t){Je(e,t);function e(r,n){var s=t.call(this,n)||this;s.stream=r;var i=r.getByte(),o=r.getByte();if(i===-1||o===-1)throw new Error("Invalid header in flate stream: "+i+", "+o);if((i&15)!==8)throw new Error("Unknown compression method in flate stream: "+i+", "+o);if(((i<<8)+o)%31!==0)throw new Error("Bad FCHECK in flate stream: "+i+", "+o);if(o&32)throw new Error("FDICT bit set in flate stream: "+i+", "+o);return s.codeSize=0,s.codeBuf=0,s}return e.prototype.readBlock=function(){var r,n,s=this.stream,i=this.getBits(3);if(i&1&&(this.eof=!0),i>>=1,i===0){var o=void 0;if((o=s.getByte())===-1)throw new Error("Bad block header in flate stream");var l=o;if((o=s.getByte())===-1)throw new Error("Bad block header in flate stream");if(l|=o<<8,(o=s.getByte())===-1)throw new Error("Bad block header in flate stream");var c=o;if((o=s.getByte())===-1)throw new Error("Bad block header in flate stream");if(c|=o<<8,c!==(~l&65535)&&(l!==0||c!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var d=this.bufferLength;r=this.ensureBuffer(d+l);var u=d+l;if(this.bufferLength=u,l===0)s.peekByte()===-1&&(this.eof=!0);else for(var h=d;h<u;++h){if((o=s.getByte())===-1){this.eof=!0;break}r[h]=o}return}var f,m;if(i===1)f=ppe,m=xpe;else if(i===2){var x=this.getBits(5)+257,p=this.getBits(5)+1,v=this.getBits(4)+4,g=new Uint8Array(n4.length),w=void 0;for(w=0;w<v;++w)g[n4[w]]=this.getBits(3);var N=this.generateHuffmanTable(g);n=0,w=0;for(var j=x+p,b=new Uint8Array(j),S=void 0,A=void 0,E=void 0;w<j;){var P=this.getCode(N);if(P===16)S=2,A=3,E=n;else if(P===17)S=3,A=3,E=n=0;else if(P===18)S=7,A=11,E=n=0;else{b[w++]=n=P;continue}for(var O=this.getBits(S)+A;O-- >0;)b[w++]=E}f=this.generateHuffmanTable(b.subarray(0,x)),m=this.generateHuffmanTable(b.subarray(x,j))}else throw new Error("Unknown block type in flate stream");r=this.buffer;for(var k=r?r.length:0,L=this.bufferLength;;){var R=this.getCode(f);if(R<256){L+1>=k&&(r=this.ensureBuffer(L+1),k=r.length),r[L++]=R;continue}if(R===256){this.bufferLength=L;return}R-=257,R=fpe[R];var _=R>>16;_>0&&(_=this.getBits(_)),n=(R&65535)+_,R=this.getCode(m),R=mpe[R],_=R>>16,_>0&&(_=this.getBits(_));var B=(R&65535)+_;L+n>=k&&(r=this.ensureBuffer(L+n),k=r.length);for(var I=0;I<n;++I,++L)r[L]=r[L-B]}},e.prototype.getBits=function(r){for(var n=this.stream,s=this.codeSize,i=this.codeBuf,o;s<r;){if((o=n.getByte())===-1)throw new Error("Bad encoding in flate stream");i|=o<<s,s+=8}return o=i&(1<<r)-1,this.codeBuf=i>>r,this.codeSize=s-=r,o},e.prototype.getCode=function(r){for(var n=this.stream,s=r[0],i=r[1],o=this.codeSize,l=this.codeBuf,c;o<i&&(c=n.getByte())!==-1;)l|=c<<o,o+=8;var d=s[l&(1<<i)-1];typeof s=="number"&&console.log("FLATE:",d);var u=d>>16,h=d&65535;if(u<1||o<u)throw new Error("Bad encoding in flate stream");return this.codeBuf=l>>u,this.codeSize=o-u,h},e.prototype.generateHuffmanTable=function(r){var n=r.length,s=0,i;for(i=0;i<n;++i)r[i]>s&&(s=r[i]);for(var o=1<<s,l=new Int32Array(o),c=1,d=0,u=2;c<=s;++c,d<<=1,u<<=1)for(var h=0;h<n;++h)if(r[h]===c){var f=0,m=d;for(i=0;i<c;++i)f=f<<1|m&1,m>>=1;for(i=f;i<o;i+=u)l[i]=c<<16|h;++d}return[l,s]},e}(b0),vpe=function(t){Je(e,t);function e(r,n,s){var i=t.call(this,n)||this;i.stream=r,i.cachedData=0,i.bitsCached=0;for(var o=4096,l={earlyChange:s,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(o),dictionaryLengths:new Uint16Array(o),dictionaryPrevCodes:new Uint16Array(o),currentSequence:new Uint8Array(o),currentSequenceLength:0},c=0;c<256;++c)l.dictionaryValues[c]=c,l.dictionaryLengths[c]=1;return i.lzwState=l,i}return e.prototype.readBlock=function(){var r=512,n=r*2,s=r,i,o,l,c=this.lzwState;if(c){var d=c.earlyChange,u=c.nextCode,h=c.dictionaryValues,f=c.dictionaryLengths,m=c.dictionaryPrevCodes,x=c.codeLength,p=c.prevCode,v=c.currentSequence,g=c.currentSequenceLength,w=0,N=this.bufferLength,j=this.ensureBuffer(this.bufferLength+n);for(i=0;i<r;i++){var b=this.readBits(x),S=g>0;if(!b||b<256)v[0]=b,g=1;else if(b>=258)if(b<u)for(g=f[b],o=g-1,l=b;o>=0;o--)v[o]=h[l],l=m[l];else v[g++]=v[0];else if(b===256){x=9,u=258,g=0;continue}else{this.eof=!0,delete this.lzwState;break}if(S&&(m[u]=p,f[u]=f[p]+1,h[u]=v[0],u++,x=u+d&u+d-1?x:Math.min(Math.log(u+d)/.6931471805599453+1,12)|0),p=b,w+=g,n<w){do n+=s;while(n<w);j=this.ensureBuffer(this.bufferLength+n)}for(o=0;o<g;o++)j[N++]=v[o]}c.nextCode=u,c.codeLength=x,c.prevCode=p,c.currentSequenceLength=g,this.bufferLength=N}},e.prototype.readBits=function(r){for(var n=this.bitsCached,s=this.cachedData;n<r;){var i=this.stream.getByte();if(i===-1)return this.eof=!0,null;s=s<<8|i,n+=8}return this.bitsCached=n-=r,this.cachedData=s,s>>>n&(1<<r)-1},e}(b0),ype=function(t){Je(e,t);function e(r,n){var s=t.call(this,n)||this;return s.stream=r,s}return e.prototype.readBlock=function(){var r=this.stream.getBytes(2);if(!r||r.length<2||r[0]===128){this.eof=!0;return}var n,s=this.bufferLength,i=r[0];if(i<128){if(n=this.ensureBuffer(s+i+1),n[s++]=r[1],i>0){var o=this.stream.getBytes(i);n.set(o,s),s+=i}}else{i=257-i;var l=r[1];n=this.ensureBuffer(s+i+1);for(var c=0;c<i;c++)n[s++]=l}this.bufferLength=s},e}(b0),a4=function(t,e,r){if(e===de.of("FlateDecode"))return new gpe(t);if(e===de.of("LZWDecode")){var n=1;if(r instanceof Zt){var s=r.lookup(de.of("EarlyChange"));s instanceof Vt&&(n=s.asNumber())}return new vpe(t,void 0,n)}if(e===de.of("ASCII85Decode"))return new upe(t);if(e===de.of("ASCIIHexDecode"))return new hpe(t);if(e===de.of("RunLengthDecode"))return new ype(t);throw new kme(e.asString())},aq=function(t){var e=t.dict,r=t.contents,n=new nq(r),s=e.lookup(de.of("Filter")),i=e.lookup(de.of("DecodeParms"));if(s instanceof de)n=a4(n,s,i);else if(s instanceof Tr)for(var o=0,l=s.size();o<l;o++)n=a4(n,s.lookup(o,de),i&&i.lookupMaybe(o,Zt));else if(s)throw new Eb([de,Tr],s);return n},bpe=function(t){var e=t.MediaBox(),r=e.lookup(2,Vt).asNumber()-e.lookup(0,Vt).asNumber(),n=e.lookup(3,Vt).asNumber()-e.lookup(1,Vt).asNumber();return{left:0,bottom:0,right:r,top:n}},wpe=function(t){return[1,0,0,1,-t.left,-t.bottom]},sq=function(){function t(e,r,n){this.page=e;var s=r??bpe(e);this.width=s.right-s.left,this.height=s.top-s.bottom,this.boundingBox=s,this.transformationMatrix=n??wpe(s)}return t.for=function(e,r,n){return rr(this,void 0,void 0,function(){return nr(this,function(s){return[2,new t(e,r,n)]})})},t.prototype.embedIntoContext=function(e,r){return rr(this,void 0,void 0,function(){var n,s,i,o,l,c,d,u,h,f;return nr(this,function(m){if(n=this.page.normalizedEntries(),s=n.Contents,i=n.Resources,!s)throw new Pme;return o=this.decodeContents(s),l=this.boundingBox,c=l.left,d=l.bottom,u=l.right,h=l.top,f=e.flateStream(o,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[c,d,u,h],Matrix:this.transformationMatrix,Resources:i}),r?(e.assign(r,f),[2,r]):[2,e.register(f)]})})},t.prototype.decodeContents=function(e){for(var r=Uint8Array.of(he.Newline),n=[],s=0,i=e.size();s<i;s++){var o=e.lookup(s,ti),l=void 0;if(o instanceof ng)l=aq(o).decode();else if(o instanceof fx)l=o.getUnencodedContents();else throw new Tme(o);n.push(l,r)}return Gue.apply(void 0,n)},t}(),Sv=function(t,e){if(t!==void 0)return e[t]},mx;(function(t){t.UseNone="UseNone",t.UseOutlines="UseOutlines",t.UseThumbs="UseThumbs",t.UseOC="UseOC"})(mx||(mx={}));var px;(function(t){t.L2R="L2R",t.R2L="R2L"})(px||(px={}));var xx;(function(t){t.None="None",t.AppDefault="AppDefault"})(xx||(xx={}));var Cb;(function(t){t.Simplex="Simplex",t.DuplexFlipShortEdge="DuplexFlipShortEdge",t.DuplexFlipLongEdge="DuplexFlipLongEdge"})(Cb||(Cb={}));var s4=function(){function t(e){this.dict=e}return t.prototype.lookupBool=function(e){var r=this.dict.lookup(de.of(e));if(r instanceof rg)return r},t.prototype.lookupName=function(e){var r=this.dict.lookup(de.of(e));if(r instanceof de)return r},t.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},t.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},t.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},t.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},t.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},t.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},t.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},t.prototype.Direction=function(){return this.lookupName("Direction")},t.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},t.prototype.Duplex=function(){return this.lookupName("Duplex")},t.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},t.prototype.PrintPageRange=function(){var e=this.dict.lookup(de.of("PrintPageRange"));if(e instanceof Tr)return e},t.prototype.NumCopies=function(){var e=this.dict.lookup(de.of("NumCopies"));if(e instanceof Vt)return e},t.prototype.getHideToolbar=function(){var e,r;return(r=(e=this.HideToolbar())===null||e===void 0?void 0:e.asBoolean())!==null&&r!==void 0?r:!1},t.prototype.getHideMenubar=function(){var e,r;return(r=(e=this.HideMenubar())===null||e===void 0?void 0:e.asBoolean())!==null&&r!==void 0?r:!1},t.prototype.getHideWindowUI=function(){var e,r;return(r=(e=this.HideWindowUI())===null||e===void 0?void 0:e.asBoolean())!==null&&r!==void 0?r:!1},t.prototype.getFitWindow=function(){var e,r;return(r=(e=this.FitWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&r!==void 0?r:!1},t.prototype.getCenterWindow=function(){var e,r;return(r=(e=this.CenterWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&r!==void 0?r:!1},t.prototype.getDisplayDocTitle=function(){var e,r;return(r=(e=this.DisplayDocTitle())===null||e===void 0?void 0:e.asBoolean())!==null&&r!==void 0?r:!1},t.prototype.getNonFullScreenPageMode=function(){var e,r,n=(e=this.NonFullScreenPageMode())===null||e===void 0?void 0:e.decodeText();return(r=Sv(n,mx))!==null&&r!==void 0?r:mx.UseNone},t.prototype.getReadingDirection=function(){var e,r,n=(e=this.Direction())===null||e===void 0?void 0:e.decodeText();return(r=Sv(n,px))!==null&&r!==void 0?r:px.L2R},t.prototype.getPrintScaling=function(){var e,r,n=(e=this.PrintScaling())===null||e===void 0?void 0:e.decodeText();return(r=Sv(n,xx))!==null&&r!==void 0?r:xx.AppDefault},t.prototype.getDuplex=function(){var e,r=(e=this.Duplex())===null||e===void 0?void 0:e.decodeText();return Sv(r,Cb)},t.prototype.getPickTrayByPDFSize=function(){var e;return(e=this.PickTrayByPDFSize())===null||e===void 0?void 0:e.asBoolean()},t.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var r=[],n=0;n<e.size();n+=2){var s=e.lookup(n,Vt).asNumber(),i=e.lookup(n+1,Vt).asNumber();r.push({start:s,end:i})}return r},t.prototype.getNumCopies=function(){var e,r;return(r=(e=this.NumCopies())===null||e===void 0?void 0:e.asNumber())!==null&&r!==void 0?r:1},t.prototype.setHideToolbar=function(e){var r=this.dict.context.obj(e);this.dict.set(de.of("HideToolbar"),r)},t.prototype.setHideMenubar=function(e){var r=this.dict.context.obj(e);this.dict.set(de.of("HideMenubar"),r)},t.prototype.setHideWindowUI=function(e){var r=this.dict.context.obj(e);this.dict.set(de.of("HideWindowUI"),r)},t.prototype.setFitWindow=function(e){var r=this.dict.context.obj(e);this.dict.set(de.of("FitWindow"),r)},t.prototype.setCenterWindow=function(e){var r=this.dict.context.obj(e);this.dict.set(de.of("CenterWindow"),r)},t.prototype.setDisplayDocTitle=function(e){var r=this.dict.context.obj(e);this.dict.set(de.of("DisplayDocTitle"),r)},t.prototype.setNonFullScreenPageMode=function(e){Bc(e,"nonFullScreenPageMode",mx);var r=de.of(e);this.dict.set(de.of("NonFullScreenPageMode"),r)},t.prototype.setReadingDirection=function(e){Bc(e,"readingDirection",px);var r=de.of(e);this.dict.set(de.of("Direction"),r)},t.prototype.setPrintScaling=function(e){Bc(e,"printScaling",xx);var r=de.of(e);this.dict.set(de.of("PrintScaling"),r)},t.prototype.setDuplex=function(e){Bc(e,"duplex",Cb);var r=de.of(e);this.dict.set(de.of("Duplex"),r)},t.prototype.setPickTrayByPDFSize=function(e){var r=this.dict.context.obj(e);this.dict.set(de.of("PickTrayByPDFSize"),r)},t.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var r=[],n=0,s=e.length;n<s;n++)r.push(e[n].start),r.push(e[n].end);GW(r,"printPageRange",["number"]);var i=this.dict.context.obj(r);this.dict.set(de.of("PrintPageRange"),i)},t.prototype.setNumCopies=function(e){Qs(e,"numCopies",1,Number.MAX_VALUE),Cme(e,"numCopies");var r=this.dict.context.obj(e);this.dict.set(de.of("NumCopies"),r)},t.fromDict=function(e){return new t(e)},t.create=function(e){var r=e.obj({});return new t(r)},t}(),jpe=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,iq=function(){function t(e,r){this.dict=e,this.ref=r}return t.prototype.T=function(){return this.dict.lookupMaybe(de.of("T"),Ur,Lt)},t.prototype.Ff=function(){var e=this.getInheritableAttribute(de.of("Ff"));return this.dict.context.lookupMaybe(e,Vt)},t.prototype.V=function(){var e=this.getInheritableAttribute(de.of("V"));return this.dict.context.lookup(e)},t.prototype.Kids=function(){return this.dict.lookupMaybe(de.of("Kids"),Tr)},t.prototype.DA=function(){var e=this.dict.lookup(de.of("DA"));if(e instanceof Ur||e instanceof Lt)return e},t.prototype.setKids=function(e){this.dict.set(de.of("Kids"),this.dict.context.obj(e))},t.prototype.getParent=function(){var e=this.dict.get(de.of("Parent"));if(e instanceof Vr){var r=this.dict.lookup(de.of("Parent"),Zt);return new t(r,e)}},t.prototype.setParent=function(e){e?this.dict.set(de.of("Parent"),e):this.dict.delete(de.of("Parent"))},t.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},t.prototype.getPartialName=function(){var e;return(e=this.T())===null||e===void 0?void 0:e.decodeText()},t.prototype.setPartialName=function(e){e?this.dict.set(de.of("T"),Lt.fromText(e)):this.dict.delete(de.of("T"))},t.prototype.setDefaultAppearance=function(e){this.dict.set(de.of("DA"),Ur.of(e))},t.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof Lt?e.decodeText():e?.asString()},t.prototype.setFontSize=function(e){var r,n=(r=this.getFullyQualifiedName())!==null&&r!==void 0?r:"",s=this.getDefaultAppearance();if(!s)throw new Ime(n);var i=AT(s,jpe);if(!i.match)throw new Fme(n);var o=s.slice(0,i.pos-i.match[0].length),l=i.pos<=s.length?s.slice(i.pos):"",c=i.match[1],d=o+" /"+c+" "+e+" Tf "+l;this.setDefaultAppearance(d)},t.prototype.getFlags=function(){var e,r;return(r=(e=this.Ff())===null||e===void 0?void 0:e.asNumber())!==null&&r!==void 0?r:0},t.prototype.setFlags=function(e){this.dict.set(de.of("Ff"),Vt.of(e))},t.prototype.hasFlag=function(e){var r=this.getFlags();return(r&e)!==0},t.prototype.setFlag=function(e){var r=this.getFlags();this.setFlags(r|e)},t.prototype.clearFlag=function(e){var r=this.getFlags();this.setFlags(r&~e)},t.prototype.setFlagTo=function(e,r){r?this.setFlag(e):this.clearFlag(e)},t.prototype.getInheritableAttribute=function(e){var r;return this.ascend(function(n){r||(r=n.dict.get(e))}),r},t.prototype.ascend=function(e){e(this);var r=this.getParent();r&&r.ascend(e)},t}(),M2=function(){function t(e){this.dict=e}return t.prototype.W=function(){var e=this.dict.lookup(de.of("W"));if(e instanceof Vt)return e},t.prototype.getWidth=function(){var e,r;return(r=(e=this.W())===null||e===void 0?void 0:e.asNumber())!==null&&r!==void 0?r:1},t.prototype.setWidth=function(e){var r=this.dict.context.obj(e);this.dict.set(de.of("W"),r)},t.fromDict=function(e){return new t(e)},t}(),Npe=function(){function t(e){this.dict=e}return t.prototype.Rect=function(){return this.dict.lookup(de.of("Rect"),Tr)},t.prototype.AP=function(){return this.dict.lookupMaybe(de.of("AP"),Zt)},t.prototype.F=function(){var e=this.dict.lookup(de.of("F"));return this.dict.context.lookupMaybe(e,Vt)},t.prototype.getRectangle=function(){var e,r=this.Rect();return(e=r?.asRectangle())!==null&&e!==void 0?e:{x:0,y:0,width:0,height:0}},t.prototype.setRectangle=function(e){var r=e.x,n=e.y,s=e.width,i=e.height,o=this.dict.context.obj([r,n,r+s,n+i]);this.dict.set(de.of("Rect"),o)},t.prototype.getAppearanceState=function(){var e=this.dict.lookup(de.of("AS"));if(e instanceof de)return e},t.prototype.setAppearanceState=function(e){this.dict.set(de.of("AS"),e)},t.prototype.setAppearances=function(e){this.dict.set(de.of("AP"),e)},t.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(de.of("AP"),e)),e},t.prototype.getNormalAppearance=function(){var e=this.ensureAP(),r=e.get(de.of("N"));if(r instanceof Vr||r instanceof Zt)return r;throw new Error("Unexpected N type: "+r?.constructor.name)},t.prototype.setNormalAppearance=function(e){var r=this.ensureAP();r.set(de.of("N"),e)},t.prototype.setRolloverAppearance=function(e){var r=this.ensureAP();r.set(de.of("R"),e)},t.prototype.setDownAppearance=function(e){var r=this.ensureAP();r.set(de.of("D"),e)},t.prototype.removeRolloverAppearance=function(){var e=this.AP();e?.delete(de.of("R"))},t.prototype.removeDownAppearance=function(){var e=this.AP();e?.delete(de.of("D"))},t.prototype.getAppearances=function(){var e=this.AP();if(e){var r=e.lookup(de.of("N"),Zt,ti),n=e.lookupMaybe(de.of("R"),Zt,ti),s=e.lookupMaybe(de.of("D"),Zt,ti);return{normal:r,rollover:n,down:s}}},t.prototype.getFlags=function(){var e,r;return(r=(e=this.F())===null||e===void 0?void 0:e.asNumber())!==null&&r!==void 0?r:0},t.prototype.setFlags=function(e){this.dict.set(de.of("F"),Vt.of(e))},t.prototype.hasFlag=function(e){var r=this.getFlags();return(r&e)!==0},t.prototype.setFlag=function(e){var r=this.getFlags();this.setFlags(r|e)},t.prototype.clearFlag=function(e){var r=this.getFlags();this.setFlags(r&~e)},t.prototype.setFlagTo=function(e,r){r?this.setFlag(e):this.clearFlag(e)},t.fromDict=function(e){return new t(e)},t}(),L2=function(){function t(e){this.dict=e}return t.prototype.R=function(){var e=this.dict.lookup(de.of("R"));if(e instanceof Vt)return e},t.prototype.BC=function(){var e=this.dict.lookup(de.of("BC"));if(e instanceof Tr)return e},t.prototype.BG=function(){var e=this.dict.lookup(de.of("BG"));if(e instanceof Tr)return e},t.prototype.CA=function(){var e=this.dict.lookup(de.of("CA"));if(e instanceof Lt||e instanceof Ur)return e},t.prototype.RC=function(){var e=this.dict.lookup(de.of("RC"));if(e instanceof Lt||e instanceof Ur)return e},t.prototype.AC=function(){var e=this.dict.lookup(de.of("AC"));if(e instanceof Lt||e instanceof Ur)return e},t.prototype.getRotation=function(){var e;return(e=this.R())===null||e===void 0?void 0:e.asNumber()},t.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var r=[],n=0,s=e?.size();n<s;n++){var i=e.get(n);i instanceof Vt&&r.push(i.asNumber())}return r}},t.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var r=[],n=0,s=e?.size();n<s;n++){var i=e.get(n);i instanceof Vt&&r.push(i.asNumber())}return r}},t.prototype.getCaptions=function(){var e=this.CA(),r=this.RC(),n=this.AC();return{normal:e?.decodeText(),rollover:r?.decodeText(),down:n?.decodeText()}},t.prototype.setRotation=function(e){var r=this.dict.context.obj(e);this.dict.set(de.of("R"),r)},t.prototype.setBorderColor=function(e){var r=this.dict.context.obj(e);this.dict.set(de.of("BC"),r)},t.prototype.setBackgroundColor=function(e){var r=this.dict.context.obj(e);this.dict.set(de.of("BG"),r)},t.prototype.setCaptions=function(e){var r=Lt.fromText(e.normal);if(this.dict.set(de.of("CA"),r),e.rollover){var n=Lt.fromText(e.rollover);this.dict.set(de.of("RC"),n)}else this.dict.delete(de.of("RC"));if(e.down){var s=Lt.fromText(e.down);this.dict.set(de.of("AC"),s)}else this.dict.delete(de.of("AC"))},t.fromDict=function(e){return new t(e)},t}(),NA=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.MK=function(){var r=this.dict.lookup(de.of("MK"));if(r instanceof Zt)return r},e.prototype.BS=function(){var r=this.dict.lookup(de.of("BS"));if(r instanceof Zt)return r},e.prototype.DA=function(){var r=this.dict.lookup(de.of("DA"));if(r instanceof Ur||r instanceof Lt)return r},e.prototype.P=function(){var r=this.dict.get(de.of("P"));if(r instanceof Vr)return r},e.prototype.setP=function(r){this.dict.set(de.of("P"),r)},e.prototype.setDefaultAppearance=function(r){this.dict.set(de.of("DA"),Ur.of(r))},e.prototype.getDefaultAppearance=function(){var r=this.DA();return r instanceof Lt?r.decodeText():r?.asString()},e.prototype.getAppearanceCharacteristics=function(){var r=this.MK();if(r)return L2.fromDict(r)},e.prototype.getOrCreateAppearanceCharacteristics=function(){var r=this.MK();if(r)return L2.fromDict(r);var n=L2.fromDict(this.dict.context.obj({}));return this.dict.set(de.of("MK"),n.dict),n},e.prototype.getBorderStyle=function(){var r=this.BS();if(r)return M2.fromDict(r)},e.prototype.getOrCreateBorderStyle=function(){var r=this.BS();if(r)return M2.fromDict(r);var n=M2.fromDict(this.dict.context.obj({}));return this.dict.set(de.of("BS"),n.dict),n},e.prototype.getOnValue=function(){var r,n=(r=this.getAppearances())===null||r===void 0?void 0:r.normal;if(n instanceof Zt)for(var s=n.keys(),i=0,o=s.length;i<o;i++){var l=s[i];if(l!==de.of("Off"))return l}},e.fromDict=function(r){return new e(r)},e.create=function(r,n){var s=r.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:n});return new e(s)},e}(Npe),jm=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.FT=function(){var r=this.getInheritableAttribute(de.of("FT"));return this.dict.context.lookup(r,de)},e.prototype.getWidgets=function(){var r=this.Kids();if(!r)return[NA.fromDict(this.dict)];for(var n=new Array(r.size()),s=0,i=r.size();s<i;s++){var o=r.lookup(s,Zt);n[s]=NA.fromDict(o)}return n},e.prototype.addWidget=function(r){var n=this.normalizedEntries().Kids;n.push(r)},e.prototype.removeWidget=function(r){var n=this.Kids();if(n){if(r<0||r>n.size())throw new Sb(r,0,n.size());n.remove(r)}else{if(r!==0)throw new Sb(r,0,0);this.setKids([])}},e.prototype.normalizedEntries=function(){var r=this.Kids();return r||(r=this.dict.context.obj([this.ref]),this.dict.set(de.of("Kids"),r)),{Kids:r}},e.fromDict=function(r,n){return new e(r,n)},e}(iq),UT=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Opt=function(){return this.dict.lookupMaybe(de.of("Opt"),Ur,Lt,Tr)},e.prototype.setOpt=function(r){this.dict.set(de.of("Opt"),this.dict.context.obj(r))},e.prototype.getExportValues=function(){var r=this.Opt();if(r){if(r instanceof Ur||r instanceof Lt)return[r];for(var n=[],s=0,i=r.size();s<i;s++){var o=r.lookup(s);(o instanceof Ur||o instanceof Lt)&&n.push(o)}return n}},e.prototype.removeExportValue=function(r){var n=this.Opt();if(n)if(n instanceof Ur||n instanceof Lt){if(r!==0)throw new Sb(r,0,0);this.setOpt([])}else{if(r<0||r>n.size())throw new Sb(r,0,n.size());n.remove(r)}},e.prototype.normalizeExportValues=function(){for(var r,n,s,i,o=(r=this.getExportValues())!==null&&r!==void 0?r:[],l=[],c=this.getWidgets(),d=0,u=c.length;d<u;d++){var h=c[d],f=(n=o[d])!==null&&n!==void 0?n:Lt.fromText((i=(s=h.getOnValue())===null||s===void 0?void 0:s.decodeText())!==null&&i!==void 0?i:"");l.push(f)}this.setOpt(l)},e.prototype.addOpt=function(r,n){var s;this.normalizeExportValues();var i=r.decodeText(),o;if(n)for(var l=(s=this.getExportValues())!==null&&s!==void 0?s:[],c=0,d=l.length;c<d;c++){var u=l[c];u.decodeText()===i&&(o=c)}var h=this.Opt();return h.push(r),o??h.size()-1},e.prototype.addWidgetWithOpt=function(r,n,s){var i=this.addOpt(n,s),o=de.of(String(i));return this.addWidget(r),o},e}(jm),Xj=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.setValue=function(r){var n,s=(n=this.getOnValue())!==null&&n!==void 0?n:de.of("Yes");if(r!==s&&r!==de.of("Off"))throw new DT;this.dict.set(de.of("V"),r);for(var i=this.getWidgets(),o=0,l=i.length;o<l;o++){var c=i[o],d=c.getOnValue()===r?r:de.of("Off");c.setAppearanceState(d)}},e.prototype.getValue=function(){var r=this.V();return r instanceof de?r:de.of("Off")},e.prototype.getOnValue=function(){var r=this.getWidgets()[0];return r?.getOnValue()},e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({FT:"Btn",Kids:[]}),s=r.register(n);return new e(n,s)},e}(UT),Bn=function(t){return 1<<t},no;(function(t){t[t.ReadOnly=Bn(0)]="ReadOnly",t[t.Required=Bn(1)]="Required",t[t.NoExport=Bn(2)]="NoExport"})(no||(no={}));var Ai;(function(t){t[t.NoToggleToOff=Bn(14)]="NoToggleToOff",t[t.Radio=Bn(15)]="Radio",t[t.PushButton=Bn(16)]="PushButton",t[t.RadiosInUnison=Bn(25)]="RadiosInUnison"})(Ai||(Ai={}));var fn;(function(t){t[t.Multiline=Bn(12)]="Multiline",t[t.Password=Bn(13)]="Password",t[t.FileSelect=Bn(20)]="FileSelect",t[t.DoNotSpellCheck=Bn(22)]="DoNotSpellCheck",t[t.DoNotScroll=Bn(23)]="DoNotScroll",t[t.Comb=Bn(24)]="Comb",t[t.RichText=Bn(25)]="RichText"})(fn||(fn={}));var Br;(function(t){t[t.Combo=Bn(17)]="Combo",t[t.Edit=Bn(18)]="Edit",t[t.Sort=Bn(19)]="Sort",t[t.MultiSelect=Bn(21)]="MultiSelect",t[t.DoNotSpellCheck=Bn(22)]="DoNotSpellCheck",t[t.CommitOnSelChange=Bn(26)]="CommitOnSelChange"})(Br||(Br={}));var oq=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.setValues=function(r){if(this.hasFlag(Br.Combo)&&!this.hasFlag(Br.Edit)&&!this.valuesAreValid(r))throw new DT;if(r.length===0&&this.dict.delete(de.of("V")),r.length===1&&this.dict.set(de.of("V"),r[0]),r.length>1){if(!this.hasFlag(Br.MultiSelect))throw new Rme;this.dict.set(de.of("V"),this.dict.context.obj(r))}this.updateSelectedIndices(r)},e.prototype.valuesAreValid=function(r){for(var n=this.getOptions(),s=function(c,d){var u=r[c].decodeText();if(!n.find(function(h){return u===(h.display||h.value).decodeText()}))return{value:!1}},i=0,o=r.length;i<o;i++){var l=s(i);if(typeof l=="object")return l.value}return!0},e.prototype.updateSelectedIndices=function(r){if(r.length>1){for(var n=new Array(r.length),s=this.getOptions(),i=function(c,d){var u=r[c].decodeText();n[c]=s.findIndex(function(h){return u===(h.display||h.value).decodeText()})},o=0,l=r.length;o<l;o++)i(o,l);this.dict.set(de.of("I"),this.dict.context.obj(n.sort()))}else this.dict.delete(de.of("I"))},e.prototype.getValues=function(){var r=this.V();if(r instanceof Ur||r instanceof Lt)return[r];if(r instanceof Tr){for(var n=[],s=0,i=r.size();s<i;s++){var o=r.lookup(s);(o instanceof Ur||o instanceof Lt)&&n.push(o)}return n}return[]},e.prototype.Opt=function(){return this.dict.lookupMaybe(de.of("Opt"),Ur,Lt,Tr)},e.prototype.setOptions=function(r){for(var n=new Array(r.length),s=0,i=r.length;s<i;s++){var o=r[s],l=o.value,c=o.display;n[s]=this.dict.context.obj([l,c||l])}this.dict.set(de.of("Opt"),this.dict.context.obj(n))},e.prototype.getOptions=function(){var r=this.Opt();if(r instanceof Ur||r instanceof Lt)return[{value:r,display:r}];if(r instanceof Tr){for(var n=[],s=0,i=r.size();s<i;s++){var o=r.lookup(s);if((o instanceof Ur||o instanceof Lt)&&n.push({value:o,display:o}),o instanceof Tr&&o.size()>0){var l=o.lookup(0,Ur,Lt),c=o.lookupMaybe(1,Ur,Lt);n.push({value:l,display:c||l})}}return n}return[]},e}(jm),Yj=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({FT:"Ch",Ff:Br.Combo,Kids:[]}),s=r.register(n);return new e(n,s)},e}(oq),kb=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.addField=function(r){var n=this.normalizedEntries().Kids;n?.push(r)},e.prototype.normalizedEntries=function(){var r=this.Kids();return r||(r=this.dict.context.obj([]),this.dict.set(de.of("Kids"),r)),{Kids:r}},e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({}),s=r.register(n);return new e(n,s)},e}(iq),VT=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.fromDict=function(r,n){return new e(r,n)},e}(jm),Qj=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.MaxLen=function(){var r=this.dict.lookup(de.of("MaxLen"));if(r instanceof Vt)return r},e.prototype.Q=function(){var r=this.dict.lookup(de.of("Q"));if(r instanceof Vt)return r},e.prototype.setMaxLength=function(r){this.dict.set(de.of("MaxLen"),Vt.of(r))},e.prototype.removeMaxLength=function(){this.dict.delete(de.of("MaxLen"))},e.prototype.getMaxLength=function(){var r;return(r=this.MaxLen())===null||r===void 0?void 0:r.asNumber()},e.prototype.setQuadding=function(r){this.dict.set(de.of("Q"),Vt.of(r))},e.prototype.getQuadding=function(){var r;return(r=this.Q())===null||r===void 0?void 0:r.asNumber()},e.prototype.setValue=function(r){this.dict.set(de.of("V"),r)},e.prototype.removeValue=function(){this.dict.delete(de.of("V"))},e.prototype.getValue=function(){var r=this.V();if(r instanceof Ur||r instanceof Lt)return r},e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({FT:"Tx",Kids:[]}),s=r.register(n);return new e(n,s)},e}(jm),Zj=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({FT:"Btn",Ff:Ai.PushButton,Kids:[]}),s=r.register(n);return new e(n,s)},e}(UT),Jj=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.setValue=function(r){var n=this.getOnValues();if(!n.includes(r)&&r!==de.of("Off"))throw new DT;this.dict.set(de.of("V"),r);for(var s=this.getWidgets(),i=0,o=s.length;i<o;i++){var l=s[i],c=l.getOnValue()===r?r:de.of("Off");l.setAppearanceState(c)}},e.prototype.getValue=function(){var r=this.V();return r instanceof de?r:de.of("Off")},e.prototype.getOnValues=function(){for(var r=this.getWidgets(),n=[],s=0,i=r.length;s<i;s++){var o=r[s].getOnValue();o&&n.push(o)}return n},e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({FT:"Btn",Ff:Ai.Radio,Kids:[]}),s=r.register(n);return new e(n,s)},e}(UT),e1=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({FT:"Ch",Kids:[]}),s=r.register(n);return new e(n,s)},e}(oq),zT=function(t){if(!t)return[];for(var e=[],r=0,n=t.size();r<n;r++){var s=t.get(r),i=t.lookup(r);s instanceof Vr&&i instanceof Zt&&e.push([lq(i,s),s])}return e},lq=function(t,e){var r=Epe(t);return r?kb.fromDict(t,e):Spe(t,e)},Epe=function(t){var e=t.lookup(de.of("Kids"));if(e instanceof Tr)for(var r=0,n=e.size();r<n;r++){var s=e.lookup(r),i=s instanceof Zt&&s.has(de.of("T"));if(i)return!0}return!1},Spe=function(t,e){var r=WT(t,de.of("FT")),n=t.context.lookup(r,de);return n===de.of("Btn")?Ape(t,e):n===de.of("Ch")?Cpe(t,e):n===de.of("Tx")?Qj.fromDict(t,e):n===de.of("Sig")?VT.fromDict(t,e):jm.fromDict(t,e)},Ape=function(t,e){var r,n=WT(t,de.of("Ff")),s=t.context.lookupMaybe(n,Vt),i=(r=s?.asNumber())!==null&&r!==void 0?r:0;return EA(i,Ai.PushButton)?Zj.fromDict(t,e):EA(i,Ai.Radio)?Jj.fromDict(t,e):Xj.fromDict(t,e)},Cpe=function(t,e){var r,n=WT(t,de.of("Ff")),s=t.context.lookupMaybe(n,Vt),i=(r=s?.asNumber())!==null&&r!==void 0?r:0;return EA(i,Br.Combo)?Yj.fromDict(t,e):e1.fromDict(t,e)},EA=function(t,e){return(t&e)!==0},WT=function(t,e){var r;return cq(t,function(n){r||(r=n.get(e))}),r},cq=function(t,e){e(t);var r=t.lookupMaybe(de.of("Parent"),Zt);r&&cq(r,e)},Pb=function(){function t(e){this.dict=e}return t.prototype.Fields=function(){var e=this.dict.lookup(de.of("Fields"));if(e instanceof Tr)return e},t.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,r=new Array(e.size()),n=0,s=e.size();n<s;n++){var i=e.get(n),o=e.lookup(n,Zt);r[n]=[lq(o,i),i]}return r},t.prototype.getAllFields=function(){var e=[],r=function(n){if(n)for(var s=0,i=n.length;s<i;s++){var o=n[s];e.push(o);var l=o[0];l instanceof kb&&r(zT(l.Kids()))}};return r(this.getFields()),e},t.prototype.addField=function(e){var r=this.normalizedEntries().Fields;r?.push(e)},t.prototype.removeField=function(e){var r=e.getParent(),n=r===void 0?this.normalizedEntries().Fields:r.Kids(),s=n?.indexOf(e.ref);if(n===void 0||s===void 0)throw new Error("Tried to remove inexistent field "+e.getFullyQualifiedName());n.remove(s),r!==void 0&&n.size()===0&&this.removeField(r)},t.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(de.of("Fields"),e)),{Fields:e}},t.fromDict=function(e){return new t(e)},t.create=function(e){var r=e.obj({Fields:[]});return new t(r)},t}(),dq=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Pages=function(){return this.lookup(de.of("Pages"),Zt)},e.prototype.AcroForm=function(){return this.lookupMaybe(de.of("AcroForm"),Zt)},e.prototype.getAcroForm=function(){var r=this.AcroForm();if(r)return Pb.fromDict(r)},e.prototype.getOrCreateAcroForm=function(){var r=this.getAcroForm();if(!r){r=Pb.create(this.context);var n=this.context.register(r.dict);this.set(de.of("AcroForm"),n)}return r},e.prototype.ViewerPreferences=function(){return this.lookupMaybe(de.of("ViewerPreferences"),Zt)},e.prototype.getViewerPreferences=function(){var r=this.ViewerPreferences();if(r)return s4.fromDict(r)},e.prototype.getOrCreateViewerPreferences=function(){var r=this.getViewerPreferences();if(!r){r=s4.create(this.context);var n=this.context.register(r.dict);this.set(de.of("ViewerPreferences"),n)}return r},e.prototype.insertLeafNode=function(r,n){var s=this.get(de.of("Pages")),i=this.Pages().insertLeafNode(r,n);return i||s},e.prototype.removeLeafNode=function(r){this.Pages().removeLeafNode(r)},e.withContextAndPages=function(r,n){var s=new Map;return s.set(de.of("Type"),de.of("Catalog")),s.set(de.of("Pages"),n),new e(s,r)},e.fromMapWithContext=function(r,n){return new e(r,n)},e}(Zt),uq=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Parent=function(){return this.lookup(de.of("Parent"))},e.prototype.Kids=function(){return this.lookup(de.of("Kids"),Tr)},e.prototype.Count=function(){return this.lookup(de.of("Count"),Vt)},e.prototype.pushTreeNode=function(r){var n=this.Kids();n.push(r)},e.prototype.pushLeafNode=function(r){var n=this.Kids();this.insertLeafKid(n.size(),r)},e.prototype.insertLeafNode=function(r,n){var s=this.Kids(),i=this.Count().asNumber();if(n>i)throw new HD(n,i);for(var o=n,l=0,c=s.size();l<c;l++){if(o===0){this.insertLeafKid(l,r);return}var d=s.get(l),u=this.context.lookup(d);if(u instanceof e){if(u.Count().asNumber()>o)return u.insertLeafNode(r,o)||d;o-=u.Count().asNumber()}u instanceof Bl&&(o-=1)}if(o===0){this.insertLeafKid(s.size(),r);return}throw new GD(n,"insertLeafNode")},e.prototype.removeLeafNode=function(r,n){n===void 0&&(n=!0);var s=this.Kids(),i=this.Count().asNumber();if(r>=i)throw new HD(r,i);for(var o=r,l=0,c=s.size();l<c;l++){var d=s.get(l),u=this.context.lookup(d);if(u instanceof e)if(u.Count().asNumber()>o){u.removeLeafNode(o,n),n&&u.Kids().size()===0&&s.remove(l);return}else o-=u.Count().asNumber();if(u instanceof Bl)if(o===0){this.removeKid(l);return}else o-=1}throw new GD(r,"removeLeafNode")},e.prototype.ascend=function(r){r(this);var n=this.Parent();n&&n.ascend(r)},e.prototype.traverse=function(r){for(var n=this.Kids(),s=0,i=n.size();s<i;s++){var o=n.get(s),l=this.context.lookup(o);l instanceof e&&l.traverse(r),r(l,o)}},e.prototype.insertLeafKid=function(r,n){var s=this.Kids();this.ascend(function(i){var o=i.Count().asNumber()+1;i.set(de.of("Count"),Vt.of(o))}),s.insert(r,n)},e.prototype.removeKid=function(r){var n=this.Kids(),s=n.lookup(r);s instanceof Bl&&this.ascend(function(i){var o=i.Count().asNumber()-1;i.set(de.of("Count"),Vt.of(o))}),n.remove(r)},e.withContext=function(r,n){var s=new Map;return s.set(de.of("Type"),de.of("Pages")),s.set(de.of("Kids"),r.obj([])),s.set(de.of("Count"),r.obj(0)),n&&s.set(de.of("Parent"),n),new e(s,r)},e.fromMapWithContext=function(r,n){return new e(r,n)},e}(Zt),ns=new Uint8Array(256);ns[he.Zero]=1;ns[he.One]=1;ns[he.Two]=1;ns[he.Three]=1;ns[he.Four]=1;ns[he.Five]=1;ns[he.Six]=1;ns[he.Seven]=1;ns[he.Eight]=1;ns[he.Nine]=1;var t1=new Uint8Array(256);t1[he.Period]=1;t1[he.Plus]=1;t1[he.Minus]=1;var qT=new Uint8Array(256);for(var ip=0,kpe=256;ip<kpe;ip++)qT[ip]=ns[ip]||t1[ip]?1:0;var i4=he.Newline,o4=he.CarriageReturn,Ppe=function(){function t(e,r){r===void 0&&(r=!1),this.bytes=e,this.capNumbers=r}return t.prototype.parseRawInt=function(){for(var e="";!this.bytes.done();){var r=this.bytes.peek();if(!ns[r])break;e+=Ml(this.bytes.next())}var n=Number(e);if(!e||!isFinite(n))throw new KD(this.bytes.position(),e);return n},t.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var r=this.bytes.peek();if(!qT[r]||(e+=Ml(this.bytes.next()),r===he.Period))break}for(;!this.bytes.done();){var r=this.bytes.peek();if(!ns[r])break;e+=Ml(this.bytes.next())}var n=Number(e);if(!e||!isFinite(n))throw new KD(this.bytes.position(),e);if(n>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var s="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(s),Number.MAX_SAFE_INTEGER}else{var s="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(s)}return n},t.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&nc[this.bytes.peek()];)this.bytes.next()},t.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===i4||e===o4)return;this.bytes.next()}},t.prototype.skipComment=function(){if(this.bytes.peek()!==he.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===i4||e===o4)return!0;this.bytes.next()}return!0},t.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},t.prototype.matchKeyword=function(e){for(var r=this.bytes.offset(),n=0,s=e.length;n<s;n++)if(this.bytes.done()||this.bytes.next()!==e[n])return this.bytes.moveTo(r),!1;return!0},t}(),r1=function(){function t(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return t.prototype.moveTo=function(e){this.idx=e},t.prototype.next=function(){var e=this.bytes[this.idx++];return e===he.Newline?(this.line+=1,this.column=0):this.column+=1,e},t.prototype.assertNext=function(e){if(this.peek()!==e)throw new Dme(this.position(),e,this.peek());return this.next()},t.prototype.peek=function(){return this.bytes[this.idx]},t.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},t.prototype.peekAt=function(e){return this.bytes[e]},t.prototype.done=function(){return this.idx>=this.length},t.prototype.offset=function(){return this.idx},t.prototype.slice=function(e,r){return this.bytes.slice(e,r)},t.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},t.of=function(e){return new t(e)},t.fromPDFRawStream=function(e){return t.of(aq(e).decode())},t}(),Tpe=he.Space,op=he.CarriageReturn,lp=he.Newline,cp=[he.s,he.t,he.r,he.e,he.a,he.m],Av=[he.e,he.n,he.d,he.s,he.t,he.r,he.e,he.a,he.m],Qr={header:[he.Percent,he.P,he.D,he.F,he.Dash],eof:[he.Percent,he.Percent,he.E,he.O,he.F],obj:[he.o,he.b,he.j],endobj:[he.e,he.n,he.d,he.o,he.b,he.j],xref:[he.x,he.r,he.e,he.f],trailer:[he.t,he.r,he.a,he.i,he.l,he.e,he.r],startxref:[he.s,he.t,he.a,he.r,he.t,he.x,he.r,he.e,he.f],true:[he.t,he.r,he.u,he.e],false:[he.f,he.a,he.l,he.s,he.e],null:[he.n,he.u,he.l,he.l],stream:cp,streamEOF1:Nr(cp,[Tpe,op,lp]),streamEOF2:Nr(cp,[op,lp]),streamEOF3:Nr(cp,[op]),streamEOF4:Nr(cp,[lp]),endstream:Av,EOF1endstream:Nr([op,lp],Av),EOF2endstream:Nr([op],Av),EOF3endstream:Nr([lp],Av)},hq=function(t){Je(e,t);function e(r,n,s){s===void 0&&(s=!1);var i=t.call(this,r,s)||this;return i.context=n,i}return e.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Qr.true))return rg.True;if(this.matchKeyword(Qr.false))return rg.False;if(this.matchKeyword(Qr.null))return Es;var r=this.bytes.peek();if(r===he.LessThan&&this.bytes.peekAhead(1)===he.LessThan)return this.parseDictOrStream();if(r===he.LessThan)return this.parseHexString();if(r===he.LeftParen)return this.parseString();if(r===he.ForwardSlash)return this.parseName();if(r===he.LeftSquareBracket)return this.parseArray();if(qT[r])return this.parseNumberOrRef();throw new Mme(this.bytes.position(),r)},e.prototype.parseNumberOrRef=function(){var r=this.parseRawNumber();this.skipWhitespaceAndComments();var n=this.bytes.offset();if(ns[this.bytes.peek()]){var s=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===he.R)return this.bytes.assertNext(he.R),Vr.of(r,s)}return this.bytes.moveTo(n),Vt.of(r)},e.prototype.parseHexString=function(){var r="";for(this.bytes.assertNext(he.LessThan);!this.bytes.done()&&this.bytes.peek()!==he.GreaterThan;)r+=Ml(this.bytes.next());return this.bytes.assertNext(he.GreaterThan),Lt.of(r)},e.prototype.parseString=function(){for(var r=0,n=!1,s="";!this.bytes.done();){var i=this.bytes.next();if(s+=Ml(i),n||(i===he.LeftParen&&(r+=1),i===he.RightParen&&(r-=1)),i===he.BackSlash?n=!n:n&&(n=!1),r===0)return Ur.of(s.substring(1,s.length-1))}throw new $me(this.bytes.position())},e.prototype.parseName=function(){this.bytes.assertNext(he.ForwardSlash);for(var r="";!this.bytes.done();){var n=this.bytes.peek();if(nc[n]||Gi[n])break;r+=Ml(n),this.bytes.next()}return de.of(r)},e.prototype.parseArray=function(){this.bytes.assertNext(he.LeftSquareBracket),this.skipWhitespaceAndComments();for(var r=Tr.withContext(this.context);this.bytes.peek()!==he.RightSquareBracket;){var n=this.parseObject();r.push(n),this.skipWhitespaceAndComments()}return this.bytes.assertNext(he.RightSquareBracket),r},e.prototype.parseDict=function(){this.bytes.assertNext(he.LessThan),this.bytes.assertNext(he.LessThan),this.skipWhitespaceAndComments();for(var r=new Map;!this.bytes.done()&&this.bytes.peek()!==he.GreaterThan&&this.bytes.peekAhead(1)!==he.GreaterThan;){var n=this.parseName(),s=this.parseObject();r.set(n,s),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(he.GreaterThan),this.bytes.assertNext(he.GreaterThan);var i=r.get(de.of("Type"));return i===de.of("Catalog")?dq.fromMapWithContext(r,this.context):i===de.of("Pages")?uq.fromMapWithContext(r,this.context):i===de.of("Page")?Bl.fromMapWithContext(r,this.context):Zt.fromMapWithContext(r,this.context)},e.prototype.parseDictOrStream=function(){var r=this.bytes.position(),n=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Qr.streamEOF1)&&!this.matchKeyword(Qr.streamEOF2)&&!this.matchKeyword(Qr.streamEOF3)&&!this.matchKeyword(Qr.streamEOF4)&&!this.matchKeyword(Qr.stream))return n;var s=this.bytes.offset(),i,o=n.get(de.of("Length"));o instanceof Vt?(i=s+o.asNumber(),this.bytes.moveTo(i),this.skipWhitespaceAndComments(),this.matchKeyword(Qr.endstream)||(this.bytes.moveTo(s),i=this.findEndOfStreamFallback(r))):i=this.findEndOfStreamFallback(r);var l=this.bytes.slice(s,i);return ng.of(n,l)},e.prototype.findEndOfStreamFallback=function(r){for(var n=1,s=this.bytes.offset();!this.bytes.done()&&(s=this.bytes.offset(),this.matchKeyword(Qr.stream)?n+=1:this.matchKeyword(Qr.EOF1endstream)||this.matchKeyword(Qr.EOF2endstream)||this.matchKeyword(Qr.EOF3endstream)||this.matchKeyword(Qr.endstream)?n-=1:this.bytes.next(),n!==0););if(n!==0)throw new Bme(r);return s},e.forBytes=function(r,n,s){return new e(r1.of(r),n,s)},e.forByteStream=function(r,n,s){return s===void 0&&(s=!1),new e(r,n,s)},e}(Ppe),Ope=function(t){Je(e,t);function e(r,n){var s=t.call(this,r1.fromPDFRawStream(r),r.dict.context)||this,i=r.dict;return s.alreadyParsed=!1,s.shouldWaitForTick=n||function(){return!1},s.firstOffset=i.lookup(de.of("First"),Vt).asNumber(),s.objectCount=i.lookup(de.of("N"),Vt).asNumber(),s}return e.prototype.parseIntoContext=function(){return rr(this,void 0,void 0,function(){var r,n,s,i,o,l,c,d;return nr(this,function(u){switch(u.label){case 0:if(this.alreadyParsed)throw new FT("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,r=this.parseOffsetsAndObjectNumbers(),n=0,s=r.length,u.label=1;case 1:return n<s?(i=r[n],o=i.objectNumber,l=i.offset,this.bytes.moveTo(this.firstOffset+l),c=this.parseObject(),d=Vr.of(o,0),this.context.assign(d,c),this.shouldWaitForTick()?[4,If()]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.parseOffsetsAndObjectNumbers=function(){for(var r=[],n=0,s=this.objectCount;n<s;n++){this.skipWhitespaceAndComments();var i=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.parseRawInt();r.push({objectNumber:i,offset:o})}return r},e.forStream=function(r,n){return new e(r,n)},e}(hq),_pe=function(){function t(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=r1.fromPDFRawStream(e),this.context=this.dict.context;var r=this.dict.lookup(de.of("Size"),Vt),n=this.dict.lookup(de.of("Index"));if(n instanceof Tr){this.subsections=[];for(var s=0,i=n.size();s<i;s+=2){var o=n.lookup(s+0,Vt).asNumber(),l=n.lookup(s+1,Vt).asNumber();this.subsections.push({firstObjectNumber:o,length:l})}}else this.subsections=[{firstObjectNumber:0,length:r.asNumber()}];var c=this.dict.lookup(de.of("W"),Tr);this.byteWidths=[-1,-1,-1];for(var s=0,i=c.size();s<i;s++)this.byteWidths[s]=c.lookup(s,Vt).asNumber()}return t.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new FT("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(de.of("Root")),Encrypt:this.dict.get(de.of("Encrypt")),Info:this.dict.get(de.of("Info")),ID:this.dict.get(de.of("ID"))};var e=this.parseEntries();return e},t.prototype.parseEntries=function(){for(var e=[],r=this.byteWidths,n=r[0],s=r[1],i=r[2],o=0,l=this.subsections.length;o<l;o++)for(var c=this.subsections[o],d=c.firstObjectNumber,u=c.length,h=0;h<u;h++){for(var f=0,m=0,x=n;m<x;m++)f=f<<8|this.bytes.next();for(var p=0,m=0,x=s;m<x;m++)p=p<<8|this.bytes.next();for(var v=0,m=0,x=i;m<x;m++)v=v<<8|this.bytes.next();n===0&&(f=1);var g=d+h,w={ref:Vr.of(g,v),offset:p,deleted:f===0,inObjectStream:f===2};e.push(w)}return e},t.forStream=function(e){return new t(e)},t}(),Rpe=function(t){Je(e,t);function e(r,n,s,i){n===void 0&&(n=1/0),s===void 0&&(s=!1),i===void 0&&(i=!1);var o=t.call(this,r1.of(r),wA.create(),i)||this;return o.alreadyParsed=!1,o.parsedObjects=0,o.shouldWaitForTick=function(){return o.parsedObjects+=1,o.parsedObjects%o.objectsPerTick===0},o.objectsPerTick=n,o.throwOnInvalidObject=s,o}return e.prototype.parseDocument=function(){return rr(this,void 0,void 0,function(){var r,n;return nr(this,function(s){switch(s.label){case 0:if(this.alreadyParsed)throw new FT("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),s.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(s.sent(),n=this.bytes.offset(),n===r)throw new Ume(this.bytes.position());return r=n,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(Vr.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(Vr.of(0))),[2,this.context]}})})},e.prototype.maybeRecoverRoot=function(){var r=function(u){return u instanceof Zt&&u.lookup(de.of("Type"))===de.of("Catalog")},n=this.context.lookup(this.context.trailerInfo.Root);if(!r(n))for(var s=this.context.enumerateIndirectObjects(),i=0,o=s.length;i<o;i++){var l=s[i],c=l[0],d=l[1];r(d)&&(this.context.trailerInfo.Root=c)}},e.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Qr.header)){var r=this.parseRawInt();this.bytes.assertNext(he.Period);var n=this.parseRawInt(),s=Kj.forVersion(r,n);return this.skipBinaryHeaderComment(),s}this.bytes.next()}throw new Vme(this.bytes.position())},e.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var r=this.parseRawInt();this.skipWhitespaceAndComments();var n=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Qr.obj))throw new zme(this.bytes.position(),Qr.obj);return Vr.of(r,n)},e.prototype.matchIndirectObjectHeader=function(){var r=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(r),!1}},e.prototype.parseIndirectObject=function(){return rr(this,void 0,void 0,function(){var r,n;return nr(this,function(s){switch(s.label){case 0:return r=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),n=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Qr.endobj),n instanceof ng&&n.dict.lookup(de.of("Type"))===de.of("ObjStm")?[4,Ope.forStream(n,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return s.sent(),[3,3];case 2:n instanceof ng&&n.dict.lookup(de.of("Type"))===de.of("XRef")?_pe.forStream(n).parseIntoContext():this.context.assign(r,n),s.label=3;case 3:return[2,r]}})})},e.prototype.tryToParseInvalidIndirectObject=function(){var r=this.bytes.position(),n="Trying to parse invalid object: "+JSON.stringify(r)+")";if(this.throwOnInvalidObject)throw new Error(n);console.warn(n);var s=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+s),this.skipWhitespaceAndComments();for(var i=this.bytes.offset(),o=!0;!this.bytes.done()&&(this.matchKeyword(Qr.endobj)&&(o=!1),!!o);)this.bytes.next();if(o)throw new Lme(r);var l=this.bytes.offset()-Qr.endobj.length,c=eq.of(this.bytes.slice(i,l));return this.context.assign(s,c),s},e.prototype.parseIndirectObjects=function(){return rr(this,void 0,void 0,function(){var r;return nr(this,function(n){switch(n.label){case 0:this.skipWhitespaceAndComments(),n.label=1;case 1:if(!(!this.bytes.done()&&ns[this.bytes.peek()]))return[3,8];r=this.bytes.offset(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return n.sent(),[3,5];case 4:return n.sent(),this.bytes.moveTo(r),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,If()]:[3,7];case 6:n.sent(),n.label=7;case 7:return[3,1];case 8:return[2]}})})},e.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Qr.xref)){this.skipWhitespaceAndComments();for(var r=-1,n=QW.createEmpty();!this.bytes.done()&&ns[this.bytes.peek()];){var s=this.parseRawInt();this.skipWhitespaceAndComments();var i=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.bytes.peek();if(o===he.n||o===he.f){var l=Vr.of(r,i);this.bytes.next()===he.n?n.addEntry(l,s):n.addDeletedEntry(l,s),r+=1}else r=s;this.skipWhitespaceAndComments()}return n}},e.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Qr.trailer)){this.skipWhitespaceAndComments();var r=this.parseDict(),n=this.context;n.trailerInfo={Root:r.get(de.of("Root"))||n.trailerInfo.Root,Encrypt:r.get(de.of("Encrypt"))||n.trailerInfo.Encrypt,Info:r.get(de.of("Info"))||n.trailerInfo.Info,ID:r.get(de.of("ID"))||n.trailerInfo.ID}}},e.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Qr.startxref)){this.skipWhitespaceAndComments();var r=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Qr.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Qr.eof),this.skipWhitespaceAndComments(),BT.forLastCrossRefSectionOffset(r)}},e.prototype.parseDocumentSection=function(){return rr(this,void 0,void 0,function(){return nr(this,function(r){switch(r.label){case 0:return[4,this.parseIndirectObjects()];case 1:return r.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},e.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var r=this.bytes.offset(),n=this.bytes.peek(),s=n>=he.Space&&n<=he.Tilde;if(s&&(this.matchKeyword(Qr.xref)||this.matchKeyword(Qr.trailer)||this.matchKeyword(Qr.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(r);break}this.bytes.next()}},e.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var r=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(r)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},e.forBytesWithOptions=function(r,n,s,i){return new e(r,n,s,i)},e}(hq),Uo=function(t){return 1<<t},gx;(function(t){t[t.Invisible=Uo(0)]="Invisible",t[t.Hidden=Uo(1)]="Hidden",t[t.Print=Uo(2)]="Print",t[t.NoZoom=Uo(3)]="NoZoom",t[t.NoRotate=Uo(4)]="NoRotate",t[t.NoView=Uo(5)]="NoView",t[t.ReadOnly=Uo(6)]="ReadOnly",t[t.Locked=Uo(7)]="Locked",t[t.ToggleNoView=Uo(8)]="ToggleNoView",t[t.LockedContents=Uo(9)]="LockedContents"})(gx||(gx={}));var n1=function(t){return t instanceof de?t:de.of(t)},zt=function(t){return t instanceof Vt?t:Vt.of(t)},ar=function(t){return t instanceof Vt?t.asNumber():t},ag;(function(t){t.Degrees="degrees",t.Radians="radians"})(ag||(ag={}));var Bt=function(t){return Ie(t,"degreeAngle",["number"]),{type:ag.Degrees,angle:t}},fq=ag.Radians,mq=ag.Degrees,pq=function(t){return t*Math.PI/180},Ipe=function(t){return t*180/Math.PI},_a=function(t){return t.type===fq?t.angle:t.type===mq?pq(t.angle):p0("Invalid rotation: "+JSON.stringify(t))},xq=function(t){return t.type===fq?Ipe(t.angle):t.type===mq?t.angle:p0("Invalid rotation: "+JSON.stringify(t))},ac=function(t){t===void 0&&(t=0);var e=t/90%4;return e===0?0:e===1?90:e===2?180:e===3?270:0},Gu=function(t,e){e===void 0&&(e=0);var r=ac(e);return r===90||r===270?{width:t.height,height:t.width}:{width:t.width,height:t.height}},Fpe=function(t,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var n=t.x,s=t.y,i=t.width,o=t.height,l=ac(r),c=e/2;return l===0?{x:n-c,y:s-c,width:i,height:o}:l===90?{x:n-o+c,y:s-c,width:o,height:i}:l===180?{x:n-i+c,y:s-o+c,width:i,height:o}:l===270?{x:n-c,y:s-i+c,width:o,height:i}:{x:n-c,y:s-c,width:i,height:o}},gq=function(){return br.of(Cr.ClipNonZero)},Tb=Math.cos,Ob=Math.sin,_b=Math.tan,a1=function(t,e,r,n,s,i){return br.of(Cr.ConcatTransformationMatrix,[zt(t),zt(e),zt(r),zt(n),zt(s),zt(i)])},Ti=function(t,e){return a1(1,0,0,1,t,e)},sg=function(t,e){return a1(t,0,0,e,0,0)},Nm=function(t){return a1(Tb(ar(t)),Ob(ar(t)),-Ob(ar(t)),Tb(ar(t)),0,0)},Cv=function(t){return Nm(pq(ar(t)))},HT=function(t,e){return a1(1,_b(ar(t)),_b(ar(e)),1,0,0)},s1=function(t,e){return br.of(Cr.SetLineDashPattern,["["+t.map(zt).join(" ")+"]",zt(e)])},Vh;(function(t){t[t.Butt=0]="Butt",t[t.Round=1]="Round",t[t.Projecting=2]="Projecting"})(Vh||(Vh={}));var i1=function(t){return br.of(Cr.SetLineCapStyle,[zt(t)])},l4;(function(t){t[t.Miter=0]="Miter",t[t.Round=1]="Round",t[t.Bevel=2]="Bevel"})(l4||(l4={}));var Ku=function(t){return br.of(Cr.SetGraphicsStateParams,[n1(t)])},aa=function(){return br.of(Cr.PushGraphicsState)},sa=function(){return br.of(Cr.PopGraphicsState)},w0=function(t){return br.of(Cr.SetLineWidth,[zt(t)])},Zs=function(t,e,r,n,s,i){return br.of(Cr.AppendBezierCurve,[zt(t),zt(e),zt(r),zt(n),zt(s),zt(i)])},kv=function(t,e,r,n){return br.of(Cr.CurveToReplicateInitialPoint,[zt(t),zt(e),zt(r),zt(n)])},hd=function(){return br.of(Cr.ClosePath)},cl=function(t,e){return br.of(Cr.MoveTo,[zt(t),zt(e)])},ma=function(t,e){return br.of(Cr.LineTo,[zt(t),zt(e)])},j0=function(){return br.of(Cr.StrokePath)},GT=function(){return br.of(Cr.FillNonZero)},KT=function(){return br.of(Cr.FillNonZeroAndStroke)},vq=function(){return br.of(Cr.EndPath)},Dpe=function(){return br.of(Cr.NextLine)},yq=function(t){return br.of(Cr.ShowText,[t])},bq=function(){return br.of(Cr.BeginText)},wq=function(){return br.of(Cr.EndText)},XT=function(t,e){return br.of(Cr.SetFontAndSize,[n1(t),zt(e)])},Mpe=function(t){return br.of(Cr.SetTextLineHeight,[zt(t)])},c4;(function(t){t[t.Fill=0]="Fill",t[t.Outline=1]="Outline",t[t.FillAndOutline=2]="FillAndOutline",t[t.Invisible=3]="Invisible",t[t.FillAndClip=4]="FillAndClip",t[t.OutlineAndClip=5]="OutlineAndClip",t[t.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",t[t.Clip=7]="Clip"})(c4||(c4={}));var Lpe=function(t,e,r,n,s,i){return br.of(Cr.SetTextMatrix,[zt(t),zt(e),zt(r),zt(n),zt(s),zt(i)])},jq=function(t,e,r,n,s){return Lpe(Tb(ar(t)),Ob(ar(t))+_b(ar(e)),-Ob(ar(t))+_b(ar(r)),Tb(ar(t)),n,s)},YT=function(t){return br.of(Cr.DrawObject,[n1(t)])},Bpe=function(t){return br.of(Cr.NonStrokingColorGray,[zt(t)])},$pe=function(t){return br.of(Cr.StrokingColorGray,[zt(t)])},Upe=function(t,e,r){return br.of(Cr.NonStrokingColorRgb,[zt(t),zt(e),zt(r)])},Vpe=function(t,e,r){return br.of(Cr.StrokingColorRgb,[zt(t),zt(e),zt(r)])},zpe=function(t,e,r,n){return br.of(Cr.NonStrokingColorCmyk,[zt(t),zt(e),zt(r),zt(n)])},Wpe=function(t,e,r,n){return br.of(Cr.StrokingColorCmyk,[zt(t),zt(e),zt(r),zt(n)])},Nq=function(t){return br.of(Cr.BeginMarkedContent,[n1(t)])},Eq=function(){return br.of(Cr.EndMarkedContent)},fd;(function(t){t.Grayscale="Grayscale",t.RGB="RGB",t.CMYK="CMYK"})(fd||(fd={}));var Sq=function(t){return Qs(t,"gray",0,1),{type:fd.Grayscale,gray:t}},Fr=function(t,e,r){return Qs(t,"red",0,1),Qs(e,"green",0,1),Qs(r,"blue",0,1),{type:fd.RGB,red:t,green:e,blue:r}},Aq=function(t,e,r,n){return Qs(t,"cyan",0,1),Qs(e,"magenta",0,1),Qs(r,"yellow",0,1),Qs(n,"key",0,1),{type:fd.CMYK,cyan:t,magenta:e,yellow:r,key:n}},QT=fd.Grayscale,ZT=fd.RGB,JT=fd.CMYK,Xu=function(t){return t.type===QT?Bpe(t.gray):t.type===ZT?Upe(t.red,t.green,t.blue):t.type===JT?zpe(t.cyan,t.magenta,t.yellow,t.key):p0("Invalid color: "+JSON.stringify(t))},N0=function(t){return t.type===QT?$pe(t.gray):t.type===ZT?Vpe(t.red,t.green,t.blue):t.type===JT?Wpe(t.cyan,t.magenta,t.yellow,t.key):p0("Invalid color: "+JSON.stringify(t))},ps=function(t,e){return e===void 0&&(e=1),t?.length===1?Sq(t[0]*e):t?.length===3?Fr(t[0]*e,t[1]*e,t[2]*e):t?.length===4?Aq(t[0]*e,t[1]*e,t[2]*e,t[3]*e):void 0},d4=function(t){return t.type===QT?[t.gray]:t.type===ZT?[t.red,t.green,t.blue]:t.type===JT?[t.cyan,t.magenta,t.yellow,t.key]:p0("Invalid color: "+JSON.stringify(t))},St=0,At=0,vr=0,yr=0,Fp=0,Dp=0,u4=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),qpe=function(t){for(var e,r=[],n=[],s="",i=!1,o=0,l=0,c=t;l<c.length;l++){var d=c[l];if(u4.has(d))o=u4.get(d),e&&(s.length>0&&(n[n.length]=+s),r[r.length]={cmd:e,args:n},n=[],s="",i=!1),e=d;else if([" ",","].includes(d)||d==="-"&&s.length>0&&s[s.length-1]!=="e"||d==="."&&i){if(s.length===0)continue;n.length===o?(r[r.length]={cmd:e,args:n},n=[+s],e==="M"&&(e="L"),e==="m"&&(e="l")):n[n.length]=+s,i=d===".",s=["-","."].includes(d)?d:""}else s+=d,d==="."&&(i=!0)}return s.length>0&&(n.length===o?(r[r.length]={cmd:e,args:n},n=[+s],e==="M"&&(e="L"),e==="m"&&(e="l")):n[n.length]=+s),r[r.length]={cmd:e,args:n},r},Hpe=function(t){St=At=vr=yr=Fp=Dp=0;for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n.cmd&&typeof h4[n.cmd]=="function"){var s=h4[n.cmd](n.args);Array.isArray(s)?e=e.concat(s):e.push(s)}}return e},h4={M:function(t){return St=t[0],At=t[1],vr=yr=null,Fp=St,Dp=At,cl(St,At)},m:function(t){return St+=t[0],At+=t[1],vr=yr=null,Fp=St,Dp=At,cl(St,At)},C:function(t){return St=t[4],At=t[5],vr=t[2],yr=t[3],Zs(t[0],t[1],t[2],t[3],t[4],t[5])},c:function(t){var e=Zs(t[0]+St,t[1]+At,t[2]+St,t[3]+At,t[4]+St,t[5]+At);return vr=St+t[2],yr=At+t[3],St+=t[4],At+=t[5],e},S:function(t){(vr===null||yr===null)&&(vr=St,yr=At);var e=Zs(St-(vr-St),At-(yr-At),t[0],t[1],t[2],t[3]);return vr=t[0],yr=t[1],St=t[2],At=t[3],e},s:function(t){(vr===null||yr===null)&&(vr=St,yr=At);var e=Zs(St-(vr-St),At-(yr-At),St+t[0],At+t[1],St+t[2],At+t[3]);return vr=St+t[0],yr=At+t[1],St+=t[2],At+=t[3],e},Q:function(t){return vr=t[0],yr=t[1],St=t[2],At=t[3],kv(t[0],t[1],St,At)},q:function(t){var e=kv(t[0]+St,t[1]+At,t[2]+St,t[3]+At);return vr=St+t[0],yr=At+t[1],St+=t[2],At+=t[3],e},T:function(t){vr===null||yr===null?(vr=St,yr=At):(vr=St-(vr-St),yr=At-(yr-At));var e=kv(vr,yr,t[0],t[1]);return vr=St-(vr-St),yr=At-(yr-At),St=t[0],At=t[1],e},t:function(t){vr===null||yr===null?(vr=St,yr=At):(vr=St-(vr-St),yr=At-(yr-At));var e=kv(vr,yr,St+t[0],At+t[1]);return St+=t[0],At+=t[1],e},A:function(t){var e=f4(St,At,t);return St=t[5],At=t[6],e},a:function(t){t[5]+=St,t[6]+=At;var e=f4(St,At,t);return St=t[5],At=t[6],e},L:function(t){return St=t[0],At=t[1],vr=yr=null,ma(St,At)},l:function(t){return St+=t[0],At+=t[1],vr=yr=null,ma(St,At)},H:function(t){return St=t[0],vr=yr=null,ma(St,At)},h:function(t){return St+=t[0],vr=yr=null,ma(St,At)},V:function(t){return At=t[0],vr=yr=null,ma(St,At)},v:function(t){return At+=t[0],vr=yr=null,ma(St,At)},Z:function(){var t=hd();return St=Fp,At=Dp,t},z:function(){var t=hd();return St=Fp,At=Dp,t}},f4=function(t,e,r){for(var n=r[0],s=r[1],i=r[2],o=r[3],l=r[4],c=r[5],d=r[6],u=Gpe(c,d,n,s,o,l,i,t,e),h=[],f=0,m=u;f<m.length;f++){var x=m[f],p=Kpe.apply(void 0,x);h.push(Zs.apply(void 0,p))}return h},Gpe=function(t,e,r,n,s,i,o,l,c){var d=o*(Math.PI/180),u=Math.sin(d),h=Math.cos(d);r=Math.abs(r),n=Math.abs(n),vr=h*(l-t)*.5+u*(c-e)*.5,yr=h*(c-e)*.5-u*(l-t)*.5;var f=vr*vr/(r*r)+yr*yr/(n*n);f>1&&(f=Math.sqrt(f),r*=f,n*=f);var m=h/r,x=u/r,p=-u/n,v=h/n,g=m*l+x*c,w=p*l+v*c,N=m*t+x*e,j=p*t+v*e,b=(N-g)*(N-g)+(j-w)*(j-w),S=1/b-.25;S<0&&(S=0);var A=Math.sqrt(S);i===s&&(A=-A);var E=.5*(g+N)-A*(j-w),P=.5*(w+j)+A*(N-g),O=Math.atan2(w-P,g-E),k=Math.atan2(j-P,N-E),L=k-O;L<0&&i===1?L+=2*Math.PI:L>0&&i===0&&(L-=2*Math.PI);for(var R=Math.ceil(Math.abs(L/(Math.PI*.5+.001))),_=[],B=0;B<R;B++){var I=O+B*L/R,C=O+(B+1)*L/R;_[B]=[E,P,I,C,r,n,u,h]}return _},Kpe=function(t,e,r,n,s,i,o,l){var c=l*s,d=-o*i,u=o*s,h=l*i,f=.5*(n-r),m=8/3*Math.sin(f*.5)*Math.sin(f*.5)/Math.sin(f),x=t+Math.cos(r)-m*Math.sin(r),p=e+Math.sin(r)+m*Math.cos(r),v=t+Math.cos(n),g=e+Math.sin(n),w=v+m*Math.sin(n),N=g-m*Math.cos(n),j=[c*x+d*p,u*x+h*p,c*w+d*N,u*w+h*N,c*v+d*g,u*v+h*g];return j},Xpe=function(t){return Hpe(qpe(t))},Ype=function(t,e){for(var r=[aa(),e.graphicsState&&Ku(e.graphicsState),bq(),Xu(e.color),XT(e.font,e.size),Mpe(e.lineHeight),jq(_a(e.rotate),_a(e.xSkew),_a(e.ySkew),e.x,e.y)].filter(Boolean),n=0,s=t.length;n<s;n++)r.push(yq(t[n]),Dpe());return r.push(wq(),sa()),r},Cq=function(t,e){return[aa(),e.graphicsState&&Ku(e.graphicsState),Ti(e.x,e.y),Nm(_a(e.rotate)),sg(e.width,e.height),HT(_a(e.xSkew),_a(e.ySkew)),YT(t),sa()].filter(Boolean)},Qpe=function(t,e){return[aa(),e.graphicsState&&Ku(e.graphicsState),Ti(e.x,e.y),Nm(_a(e.rotate)),sg(e.xScale,e.yScale),HT(_a(e.xSkew),_a(e.ySkew)),YT(t),sa()].filter(Boolean)},Zpe=function(t){var e,r;return[aa(),t.graphicsState&&Ku(t.graphicsState),t.color&&N0(t.color),w0(t.thickness),s1((e=t.dashArray)!==null&&e!==void 0?e:[],(r=t.dashPhase)!==null&&r!==void 0?r:0),cl(t.start.x,t.start.y),t.lineCap&&i1(t.lineCap),cl(t.start.x,t.start.y),ma(t.end.x,t.end.y),j0(),sa()].filter(Boolean)},Ff=function(t){var e,r;return[aa(),t.graphicsState&&Ku(t.graphicsState),t.color&&Xu(t.color),t.borderColor&&N0(t.borderColor),w0(t.borderWidth),t.borderLineCap&&i1(t.borderLineCap),s1((e=t.borderDashArray)!==null&&e!==void 0?e:[],(r=t.borderDashPhase)!==null&&r!==void 0?r:0),Ti(t.x,t.y),Nm(_a(t.rotate)),HT(_a(t.xSkew),_a(t.ySkew)),cl(0,0),ma(0,t.height),ma(t.width,t.height),ma(t.width,0),hd(),t.color&&t.borderWidth?KT():t.color?GT():t.borderColor?j0():hd(),sa()].filter(Boolean)},Rb=4*((Math.sqrt(2)-1)/3),Jpe=function(t){var e=ar(t.x),r=ar(t.y),n=ar(t.xScale),s=ar(t.yScale);e-=n,r-=s;var i=n*Rb,o=s*Rb,l=e+n*2,c=r+s*2,d=e+n,u=r+s;return[aa(),cl(e,u),Zs(e,u-o,d-i,r,d,r),Zs(d+i,r,l,u-o,l,u),Zs(l,u+o,d+i,c,d,c),Zs(d-i,c,e,u+o,e,u),sa()]},exe=function(t){var e=ar(t.x),r=ar(t.y),n=ar(t.xScale),s=ar(t.yScale),i=-n,o=-s,l=n*Rb,c=s*Rb,d=i+n*2,u=o+s*2,h=i+n,f=o+s;return[Ti(e,r),Nm(_a(t.rotate)),cl(i,f),Zs(i,f-c,h-l,o,h,o),Zs(h+l,o,d,f-c,d,f),Zs(d,f+c,h+l,u,h,u),Zs(h-l,u,i,f+c,i,f)]},SA=function(t){var e,r,n;return Nr([aa(),t.graphicsState&&Ku(t.graphicsState),t.color&&Xu(t.color),t.borderColor&&N0(t.borderColor),w0(t.borderWidth),t.borderLineCap&&i1(t.borderLineCap),s1((e=t.borderDashArray)!==null&&e!==void 0?e:[],(r=t.borderDashPhase)!==null&&r!==void 0?r:0)],t.rotate===void 0?Jpe({x:t.x,y:t.y,xScale:t.xScale,yScale:t.yScale}):exe({x:t.x,y:t.y,xScale:t.xScale,yScale:t.yScale,rotate:(n=t.rotate)!==null&&n!==void 0?n:Bt(0)}),[t.color&&t.borderWidth?KT():t.color?GT():t.borderColor?j0():hd(),sa()]).filter(Boolean)},txe=function(t,e){var r,n,s;return Nr([aa(),e.graphicsState&&Ku(e.graphicsState),Ti(e.x,e.y),Nm(_a((r=e.rotate)!==null&&r!==void 0?r:Bt(0))),e.scale?sg(e.scale,-e.scale):sg(1,-1),e.color&&Xu(e.color),e.borderColor&&N0(e.borderColor),e.borderWidth&&w0(e.borderWidth),e.borderLineCap&&i1(e.borderLineCap),s1((n=e.borderDashArray)!==null&&n!==void 0?n:[],(s=e.borderDashPhase)!==null&&s!==void 0?s:0)],Xpe(t),[e.color&&e.borderWidth?KT():e.color?GT():e.borderColor?j0():hd(),sa()]).filter(Boolean)},rxe=function(t){var e=ar(t.size),r=-1+.75,n=-1+.51,s=1-.525,i=1-.31,o=-1+.325,l=.3995/(s-n)+n;return[aa(),t.color&&N0(t.color),w0(t.thickness),Ti(t.x,t.y),cl(o*e,l*e),ma(r*e,n*e),ma(i*e,s*e),j0(),sa()].filter(Boolean)},Sd=function(t){return t.rotation===0?[Ti(0,0),Cv(0)]:t.rotation===90?[Ti(t.width,0),Cv(90)]:t.rotation===180?[Ti(t.width,t.height),Cv(180)]:t.rotation===270?[Ti(0,t.height),Cv(270)]:[]},Pv=function(t){var e=Ff({x:t.x,y:t.y,width:t.width,height:t.height,borderWidth:t.borderWidth,color:t.color,borderColor:t.borderColor,rotate:Bt(0),xSkew:Bt(0),ySkew:Bt(0)});if(!t.filled)return e;var r=ar(t.width),n=ar(t.height),s=Math.min(r,n)/2,i=rxe({x:r/2,y:n/2,size:s,thickness:t.thickness,color:t.markColor});return Nr([aa()],e,i,[sa()])},Tv=function(t){var e=ar(t.width),r=ar(t.height),n=Math.min(e,r)/2,s=SA({x:t.x,y:t.y,xScale:n,yScale:n,color:t.color,borderColor:t.borderColor,borderWidth:t.borderWidth});if(!t.filled)return s;var i=SA({x:t.x,y:t.y,xScale:n*.45,yScale:n*.45,color:t.dotColor,borderColor:void 0,borderWidth:0});return Nr([aa()],s,i,[sa()])},m4=function(t){var e=ar(t.x),r=ar(t.y),n=ar(t.width),s=ar(t.height),i=Ff({x:e,y:r,width:n,height:s,borderWidth:t.borderWidth,color:t.color,borderColor:t.borderColor,rotate:Bt(0),xSkew:Bt(0),ySkew:Bt(0)}),o=eO(t.textLines,{color:t.textColor,font:t.font,size:t.fontSize,rotate:Bt(0),xSkew:Bt(0),ySkew:Bt(0)});return Nr([aa()],i,o,[sa()])},eO=function(t,e){for(var r=[bq(),Xu(e.color),XT(e.font,e.size)],n=0,s=t.length;n<s;n++){var i=t[n],o=i.encoded,l=i.x,c=i.y;r.push(jq(_a(e.rotate),_a(e.xSkew),_a(e.ySkew),l,c),yq(o))}return r.push(wq()),r},kq=function(t){var e=ar(t.x),r=ar(t.y),n=ar(t.width),s=ar(t.height),i=ar(t.borderWidth),o=ar(t.padding),l=e+i/2+o,c=r+i/2+o,d=n-(i/2+o)*2,u=s-(i/2+o)*2,h=[cl(l,c),ma(l,c+u),ma(l+d,c+u),ma(l+d,c),hd(),gq(),vq()],f=Ff({x:e,y:r,width:n,height:s,borderWidth:t.borderWidth,color:t.color,borderColor:t.borderColor,rotate:Bt(0),xSkew:Bt(0),ySkew:Bt(0)}),m=eO(t.textLines,{color:t.textColor,font:t.font,size:t.fontSize,rotate:Bt(0),xSkew:Bt(0),ySkew:Bt(0)}),x=Nr([Nq("Tx"),aa()],m,[sa(),Eq()]);return Nr([aa()],f,h,x,[sa()])},nxe=function(t){for(var e=ar(t.x),r=ar(t.y),n=ar(t.width),s=ar(t.height),i=ar(t.lineHeight),o=ar(t.borderWidth),l=ar(t.padding),c=e+o/2+l,d=r+o/2+l,u=n-(o/2+l)*2,h=s-(o/2+l)*2,f=[cl(c,d),ma(c,d+h),ma(c+u,d+h),ma(c+u,d),hd(),gq(),vq()],m=Ff({x:e,y:r,width:n,height:s,borderWidth:t.borderWidth,color:t.color,borderColor:t.borderColor,rotate:Bt(0),xSkew:Bt(0),ySkew:Bt(0)}),x=[],p=0,v=t.selectedLines.length;p<v;p++){var g=t.textLines[t.selectedLines[p]];x.push.apply(x,Ff({x:g.x-l,y:g.y-(i-g.height)/2,width:n-o,height:g.height+(i-g.height)/2,borderWidth:0,color:t.selectedColor,borderColor:void 0,rotate:Bt(0),xSkew:Bt(0),ySkew:Bt(0)}))}var w=eO(t.textLines,{color:t.textColor,font:t.font,size:t.fontSize,rotate:Bt(0),xSkew:Bt(0),ySkew:Bt(0)}),N=Nr([Nq("Tx"),aa()],w,[sa(),Eq()]);return Nr([aa()],m,x,f,N,[sa()])},axe=function(t){Je(e,t);function e(){var r=this,n="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return r=t.call(this,n)||this,r}return e}(Error),sxe=function(t){Je(e,t);function e(){var r=this,n="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return r=t.call(this,n)||this,r}return e}(Error),ixe=function(t){Je(e,t);function e(){var r=this,n="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return r=t.call(this,n)||this,r}return e}(Error),oxe=function(t){Je(e,t);function e(){var r=this,n="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return r=t.call(this,n)||this,r}return e}(Error),lxe=function(t){Je(e,t);function e(r){var n=this,s='PDFDocument has no form field with the name "'+r+'"';return n=t.call(this,s)||this,n}return e}(Error),Id=function(t){Je(e,t);function e(r,n,s){var i,o,l=this,c=n?.name,d=(o=(i=s?.constructor)===null||i===void 0?void 0:i.name)!==null&&o!==void 0?o:s,u='Expected field "'+r+'" to be of type '+c+", "+("but it is actually of type "+d);return l=t.call(this,u)||this,l}return e}(Error);(function(t){Je(e,t);function e(r){var n=this,s='Failed to select check box due to missing onValue: "'+r+'"';return n=t.call(this,s)||this,n}return e})(Error);var Pq=function(t){Je(e,t);function e(r){var n=this,s='A field already exists with the specified name: "'+r+'"';return n=t.call(this,s)||this,n}return e}(Error),cxe=function(t){Je(e,t);function e(r){var n=this,s='Field name contains invalid component: "'+r+'"';return n=t.call(this,s)||this,n}return e}(Error);(function(t){Je(e,t);function e(r){var n=this,s='A non-terminal field already exists with the specified name: "'+r+'"';return n=t.call(this,s)||this,n}return e})(Error);var dxe=function(t){Je(e,t);function e(r){var n=this,s="Reading rich text fields is not supported: Attempted to read rich text field: "+r;return n=t.call(this,s)||this,n}return e}(Error),uxe=function(t){Je(e,t);function e(r,n){var s=this,i="Failed to layout combed text as lineLength="+r+" is greater than cellCount="+n;return s=t.call(this,i)||this,s}return e}(Error),hxe=function(t){Je(e,t);function e(r,n,s){var i=this,o="Attempted to set text with length="+r+" for TextField with maxLength="+n+" and name="+s;return i=t.call(this,o)||this,i}return e}(Error),fxe=function(t){Je(e,t);function e(r,n,s){var i=this,o="Attempted to set maxLength="+n+", which is less than "+r+", the length of this field's current value (name="+s+")";return i=t.call(this,o)||this,i}return e}(Error),Qn;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(Qn||(Qn={}));var Tq=4,Oq=500,_q=function(t,e,r,n){n===void 0&&(n=!1);for(var s=Tq;s<Oq;){for(var i=0,o=0,l=t.length;o<l;o++){i+=1;for(var c=t[o],d=c.split(" "),u=r.width,h=0,f=d.length;h<f;h++){var m=h===f-1,x=m?d[h]:d[h]+" ",p=e.widthOfTextAtSize(x,s);u-=p,u<=0&&(i+=1,u=r.width-p)}}if(!n&&i>t.length)return s-1;var v=e.heightAtSize(s),g=v+v*.2,w=g*i;if(w>Math.abs(r.height))return s-1;s+=1}return s},mxe=function(t,e,r,n){for(var s=r.width/n,i=r.height,o=Tq,l=zue(t);o<Oq;){for(var c=0,d=l.length;c<d;c++){var u=l[c],h=e.widthOfTextAtSize(u,o)>s*.75;if(h)return o-1}var f=e.heightAtSize(o,{descender:!1});if(f>i)return o-1;o+=1}return o},pxe=function(t){for(var e=t.length;e>0;e--)if(/\s/.test(t[e]))return e},xxe=function(t,e,r,n){for(var s,i=t.length;i>0;){var o=t.substring(0,i),l=r.encodeText(o),c=r.widthOfTextAtSize(o,n);if(c<e){var d=t.substring(i)||void 0;return{line:o,encoded:l,width:c,remainder:d}}i=(s=pxe(o))!==null&&s!==void 0?s:0}return{line:t,encoded:r.encodeText(t),width:r.widthOfTextAtSize(t,n),remainder:void 0}},Rq=function(t,e){var r=e.alignment,n=e.fontSize,s=e.font,i=e.bounds,o=Kz(m0(t));(n===void 0||n===0)&&(n=_q(o,s,i,!0));for(var l=s.heightAtSize(n),c=l+l*.2,d=[],u=i.x,h=i.y,f=i.x+i.width,m=i.y+i.height,x=i.y+i.height,p=0,v=o.length;p<v;p++)for(var g=o[p];g!==void 0;){var w=xxe(g,i.width,s,n),N=w.line,j=w.encoded,b=w.width,S=w.remainder,A=r===Qn.Left?i.x:r===Qn.Center?i.x+i.width/2-b/2:r===Qn.Right?i.x+i.width-b:i.x;x-=c,A<u&&(u=A),x<h&&(h=x),A+b>f&&(f=A+b),x+l>m&&(m=x+l),d.push({text:N,encoded:j,width:b,height:l,x:A,y:x}),g=S?.trim()}return{fontSize:n,lineHeight:c,lines:d,bounds:{x:u,y:h,width:f-u,height:m-h}}},gxe=function(t,e){var r=e.fontSize,n=e.font,s=e.bounds,i=e.cellCount,o=Xz(m0(t));if(o.length>i)throw new uxe(o.length,i);(r===void 0||r===0)&&(r=mxe(o,n,s,i));for(var l=s.width/i,c=n.heightAtSize(r,{descender:!1}),d=s.y+(s.height/2-c/2),u=[],h=s.x,f=s.y,m=s.x+s.width,x=s.y+s.height,p=0,v=0;p<i;){var g=Yz(o,v),w=g[0],N=g[1],j=n.encodeText(w),b=n.widthOfTextAtSize(w,r),S=s.x+(l*p+l/2),A=S-b/2;A<h&&(h=A),d<f&&(f=d),A+b>m&&(m=A+b),d+c>x&&(x=d+c),u.push({text:o,encoded:j,width:b,height:c,x:A,y:d}),p+=1,v+=N}return{fontSize:r,cells:u,bounds:{x:h,y:f,width:m-h,height:x-f}}},Ib=function(t,e){var r=e.alignment,n=e.fontSize,s=e.font,i=e.bounds,o=Xz(m0(t));(n===void 0||n===0)&&(n=_q([o],s,i));var l=s.encodeText(o),c=s.widthOfTextAtSize(o,n),d=s.heightAtSize(n,{descender:!1}),u=r===Qn.Left?i.x:r===Qn.Center?i.x+i.width/2-c/2:r===Qn.Right?i.x+i.width-c:i.x,h=i.y+(i.height/2-d/2);return{fontSize:n,line:{text:o,encoded:l,width:c,height:d,x:u,y:h},bounds:{x:u,y:h,width:c,height:d}}},Em=function(t){return"normal"in t?t:{normal:t}},vxe=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,md=function(t){var e,r,n=(e=t.getDefaultAppearance())!==null&&e!==void 0?e:"",s=(r=AT(n,vxe).match)!==null&&r!==void 0?r:[],i=Number(s[2]);return isFinite(i)?i:void 0},yxe=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,zi=function(t){var e,r=(e=t.getDefaultAppearance())!==null&&e!==void 0?e:"",n=AT(r,yxe).match,s=n??[],i=s[1],o=s[2],l=s[3],c=s[4],d=s[5];if(d==="g"&&i)return Sq(Number(i));if(d==="rg"&&i&&o&&l)return Fr(Number(i),Number(o),Number(l));if(d==="k"&&i&&o&&l&&c)return Aq(Number(i),Number(o),Number(l),Number(c))},Wi=function(t,e,r,n){var s;n===void 0&&(n=0);var i=[Xu(e).toString(),XT((s=r?.name)!==null&&s!==void 0?s:"dummy__noop",n).toString()].join(`
`);t.setDefaultAppearance(i)},bxe=function(t,e){var r,n,s,i=zi(e),o=zi(t.acroField),l=e.getRectangle(),c=e.getAppearanceCharacteristics(),d=e.getBorderStyle(),u=(r=d?.getWidth())!==null&&r!==void 0?r:0,h=ac(c?.getRotation()),f=Gu(l,h),m=f.width,x=f.height,p=Sd(Ht(Ht({},l),{rotation:h})),v=Fr(0,0,0),g=(n=ps(c?.getBorderColor()))!==null&&n!==void 0?n:v,w=ps(c?.getBackgroundColor()),N=ps(c?.getBackgroundColor(),.8),j=(s=i??o)!==null&&s!==void 0?s:v;Wi(i?e:t.acroField,j);var b={x:0+u/2,y:0+u/2,width:m-u,height:x-u,thickness:1.5,borderWidth:u,borderColor:g,markColor:j};return{normal:{on:Nr(p,Pv(Ht(Ht({},b),{color:w,filled:!0}))),off:Nr(p,Pv(Ht(Ht({},b),{color:w,filled:!1})))},down:{on:Nr(p,Pv(Ht(Ht({},b),{color:N,filled:!0}))),off:Nr(p,Pv(Ht(Ht({},b),{color:N,filled:!1})))}}},wxe=function(t,e){var r,n,s,i=zi(e),o=zi(t.acroField),l=e.getRectangle(),c=e.getAppearanceCharacteristics(),d=e.getBorderStyle(),u=(r=d?.getWidth())!==null&&r!==void 0?r:0,h=ac(c?.getRotation()),f=Gu(l,h),m=f.width,x=f.height,p=Sd(Ht(Ht({},l),{rotation:h})),v=Fr(0,0,0),g=(n=ps(c?.getBorderColor()))!==null&&n!==void 0?n:v,w=ps(c?.getBackgroundColor()),N=ps(c?.getBackgroundColor(),.8),j=(s=i??o)!==null&&s!==void 0?s:v;Wi(i?e:t.acroField,j);var b={x:m/2,y:x/2,width:m-u,height:x-u,borderWidth:u,borderColor:g,dotColor:j};return{normal:{on:Nr(p,Tv(Ht(Ht({},b),{color:w,filled:!0}))),off:Nr(p,Tv(Ht(Ht({},b),{color:w,filled:!1})))},down:{on:Nr(p,Tv(Ht(Ht({},b),{color:N,filled:!0}))),off:Nr(p,Tv(Ht(Ht({},b),{color:N,filled:!1})))}}},jxe=function(t,e,r){var n,s,i,o,l,c=zi(e),d=zi(t.acroField),u=md(e),h=md(t.acroField),f=e.getRectangle(),m=e.getAppearanceCharacteristics(),x=e.getBorderStyle(),p=m?.getCaptions(),v=(n=p?.normal)!==null&&n!==void 0?n:"",g=(i=(s=p?.down)!==null&&s!==void 0?s:v)!==null&&i!==void 0?i:"",w=(o=x?.getWidth())!==null&&o!==void 0?o:0,N=ac(m?.getRotation()),j=Gu(f,N),b=j.width,S=j.height,A=Sd(Ht(Ht({},f),{rotation:N})),E=Fr(0,0,0),P=ps(m?.getBorderColor()),O=ps(m?.getBackgroundColor()),k=ps(m?.getBackgroundColor(),.8),L={x:w,y:w,width:b-w*2,height:S-w*2},R=Ib(v,{alignment:Qn.Center,fontSize:u??h,font:r,bounds:L}),_=Ib(g,{alignment:Qn.Center,fontSize:u??h,font:r,bounds:L}),B=Math.min(R.fontSize,_.fontSize),I=(l=c??d)!==null&&l!==void 0?l:E;Wi(c||u!==void 0?e:t.acroField,I,r,B);var C={x:0+w/2,y:0+w/2,width:b-w,height:S-w,borderWidth:w,borderColor:P,textColor:I,font:r.name,fontSize:B};return{normal:Nr(A,m4(Ht(Ht({},C),{color:O,textLines:[R.line]}))),down:Nr(A,m4(Ht(Ht({},C),{color:k,textLines:[_.line]})))}},Nxe=function(t,e,r){var n,s,i,o,l=zi(e),c=zi(t.acroField),d=md(e),u=md(t.acroField),h=e.getRectangle(),f=e.getAppearanceCharacteristics(),m=e.getBorderStyle(),x=(n=t.getText())!==null&&n!==void 0?n:"",p=(s=m?.getWidth())!==null&&s!==void 0?s:0,v=ac(f?.getRotation()),g=Gu(h,v),w=g.width,N=g.height,j=Sd(Ht(Ht({},h),{rotation:v})),b=Fr(0,0,0),S=ps(f?.getBorderColor()),A=ps(f?.getBackgroundColor()),E,P,O=t.isCombed()?0:1,k={x:p+O,y:p+O,width:w-(p+O)*2,height:N-(p+O)*2};if(t.isMultiline()){var L=Rq(x,{alignment:t.getAlignment(),fontSize:d??u,font:r,bounds:k});E=L.lines,P=L.fontSize}else if(t.isCombed()){var L=gxe(x,{fontSize:d??u,font:r,bounds:k,cellCount:(i=t.getMaxLength())!==null&&i!==void 0?i:0});E=L.cells,P=L.fontSize}else{var L=Ib(x,{alignment:t.getAlignment(),fontSize:d??u,font:r,bounds:k});E=[L.line],P=L.fontSize}var R=(o=l??c)!==null&&o!==void 0?o:b;Wi(l||d!==void 0?e:t.acroField,R,r,P);var _={x:0+p/2,y:0+p/2,width:w-p,height:N-p,borderWidth:p??0,borderColor:S,textColor:R,font:r.name,fontSize:P,color:A,textLines:E,padding:O};return Nr(j,kq(_))},Exe=function(t,e,r){var n,s,i,o=zi(e),l=zi(t.acroField),c=md(e),d=md(t.acroField),u=e.getRectangle(),h=e.getAppearanceCharacteristics(),f=e.getBorderStyle(),m=(n=t.getSelected()[0])!==null&&n!==void 0?n:"",x=(s=f?.getWidth())!==null&&s!==void 0?s:0,p=ac(h?.getRotation()),v=Gu(u,p),g=v.width,w=v.height,N=Sd(Ht(Ht({},u),{rotation:p})),j=Fr(0,0,0),b=ps(h?.getBorderColor()),S=ps(h?.getBackgroundColor()),A=1,E={x:x+A,y:x+A,width:g-(x+A)*2,height:w-(x+A)*2},P=Ib(m,{alignment:Qn.Left,fontSize:c??d,font:r,bounds:E}),O=P.line,k=P.fontSize,L=(i=o??l)!==null&&i!==void 0?i:j;Wi(o||c!==void 0?e:t.acroField,L,r,k);var R={x:0+x/2,y:0+x/2,width:g-x,height:w-x,borderWidth:x??0,borderColor:b,textColor:L,font:r.name,fontSize:k,color:S,textLines:[O],padding:A};return Nr(N,kq(R))},Sxe=function(t,e,r){var n,s,i=zi(e),o=zi(t.acroField),l=md(e),c=md(t.acroField),d=e.getRectangle(),u=e.getAppearanceCharacteristics(),h=e.getBorderStyle(),f=(n=h?.getWidth())!==null&&n!==void 0?n:0,m=ac(u?.getRotation()),x=Gu(d,m),p=x.width,v=x.height,g=Sd(Ht(Ht({},d),{rotation:m})),w=Fr(0,0,0),N=ps(u?.getBorderColor()),j=ps(u?.getBackgroundColor()),b=t.getOptions(),S=t.getSelected();t.isSorted()&&b.sort();for(var A="",E=0,P=b.length;E<P;E++)A+=b[E],E<P-1&&(A+=`
`);for(var O=1,k={x:f+O,y:f+O,width:p-(f+O)*2,height:v-(f+O)*2},L=Rq(A,{alignment:Qn.Left,fontSize:l??c,font:r,bounds:k}),R=L.lines,_=L.fontSize,B=L.lineHeight,I=[],E=0,P=R.length;E<P;E++){var C=R[E];S.includes(C.text)&&I.push(E)}var D=Fr(153/255,193/255,218/255),W=(s=i??o)!==null&&s!==void 0?s:w;return Wi(i||l!==void 0?e:t.acroField,W,r,_),Nr(g,nxe({x:0+f/2,y:0+f/2,width:p-f,height:v-f,borderWidth:f??0,borderColor:N,textColor:W,font:r.name,fontSize:_,color:j,textLines:R,lineHeight:B,selectedColor:D,selectedLines:I,padding:O}))},Iq=function(){function t(e,r,n){this.alreadyEmbedded=!1,Ie(e,"ref",[[Vr,"PDFRef"]]),Ie(r,"doc",[[pd,"PDFDocument"]]),Ie(n,"embedder",[[sq,"PDFPageEmbedder"]]),this.ref=e,this.doc=r,this.width=n.width,this.height=n.height,this.embedder=n}return t.prototype.scale=function(e){return Ie(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},t.prototype.size=function(){return this.scale(1)},t.prototype.embed=function(){return rr(this,void 0,void 0,function(){return nr(this,function(e){switch(e.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}})})},t.of=function(e,r,n){return new t(e,r,n)},t}(),ii=function(){function t(e,r,n){this.modified=!0,Ie(e,"ref",[[Vr,"PDFRef"]]),Ie(r,"doc",[[pd,"PDFDocument"]]),Ie(n,"embedder",[[$T,"CustomFontEmbedder"],[Ab,"StandardFontEmbedder"]]),this.ref=e,this.doc=r,this.name=n.fontName,this.embedder=n}return t.prototype.encodeText=function(e){return Ie(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},t.prototype.widthOfTextAtSize=function(e,r){return Ie(e,"text",["string"]),Ie(r,"size",["number"]),this.embedder.widthOfTextAtSize(e,r)},t.prototype.heightAtSize=function(e,r){var n;return Ie(e,"size",["number"]),Ye(r?.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:(n=r?.descender)!==null&&n!==void 0?n:!0})},t.prototype.sizeAtHeight=function(e){return Ie(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},t.prototype.getCharacterSet=function(){return this.embedder instanceof Ab?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},t.prototype.embed=function(){return rr(this,void 0,void 0,function(){return nr(this,function(e){switch(e.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}})})},t.of=function(e,r,n){return new t(e,r,n)},t}(),AA=function(){function t(e,r,n){Ie(e,"ref",[[Vr,"PDFRef"]]),Ie(r,"doc",[[pd,"PDFDocument"]]),Ie(n,"embedder",[[tq,"JpegEmbedder"],[rq,"PngEmbedder"]]),this.ref=e,this.doc=r,this.width=n.width,this.height=n.height,this.embedder=n}return t.prototype.scale=function(e){return Ie(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},t.prototype.scaleToFit=function(e,r){Ie(e,"width",["number"]),Ie(r,"height",["number"]);var n=e/this.width,s=r/this.height,i=Math.min(n,s);return this.scale(i)},t.prototype.size=function(){return this.scale(1)},t.prototype.embed=function(){return rr(this,void 0,void 0,function(){var e,r,n;return nr(this,function(s){switch(s.label){case 0:return this.embedder?(this.embedTask||(e=this,r=e.doc,n=e.ref,this.embedTask=this.embedder.embedIntoContext(r.context,n)),[4,this.embedTask]):[2];case 1:return s.sent(),this.embedder=void 0,[2]}})})},t.of=function(e,r,n){return new t(e,r,n)},t}(),ed;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(ed||(ed={}));var Sm=function(t){Ye(t?.x,"options.x",["number"]),Ye(t?.y,"options.y",["number"]),Ye(t?.width,"options.width",["number"]),Ye(t?.height,"options.height",["number"]),Ye(t?.textColor,"options.textColor",[[Object,"Color"]]),Ye(t?.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),Ye(t?.borderColor,"options.borderColor",[[Object,"Color"]]),Ye(t?.borderWidth,"options.borderWidth",["number"]),Ye(t?.rotate,"options.rotate",[[Object,"Rotation"]])},Yu=function(){function t(e,r,n){Ie(e,"acroField",[[jm,"PDFAcroTerminal"]]),Ie(r,"ref",[[Vr,"PDFRef"]]),Ie(n,"doc",[[pd,"PDFDocument"]]),this.acroField=e,this.ref=r,this.doc=n}return t.prototype.getName=function(){var e;return(e=this.acroField.getFullyQualifiedName())!==null&&e!==void 0?e:""},t.prototype.isReadOnly=function(){return this.acroField.hasFlag(no.ReadOnly)},t.prototype.enableReadOnly=function(){this.acroField.setFlagTo(no.ReadOnly,!0)},t.prototype.disableReadOnly=function(){this.acroField.setFlagTo(no.ReadOnly,!1)},t.prototype.isRequired=function(){return this.acroField.hasFlag(no.Required)},t.prototype.enableRequired=function(){this.acroField.setFlagTo(no.Required,!0)},t.prototype.disableRequired=function(){this.acroField.setFlagTo(no.Required,!1)},t.prototype.isExported=function(){return!this.acroField.hasFlag(no.NoExport)},t.prototype.enableExporting=function(){this.acroField.setFlagTo(no.NoExport,!1)},t.prototype.disableExporting=function(){this.acroField.setFlagTo(no.NoExport,!0)},t.prototype.needsAppearancesUpdate=function(){throw new Pi(this.constructor.name,"needsAppearancesUpdate")},t.prototype.defaultUpdateAppearances=function(e){throw new Pi(this.constructor.name,"defaultUpdateAppearances")},t.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},t.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},t.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},t.prototype.createWidget=function(e){var r,n=e.textColor,s=e.backgroundColor,i=e.borderColor,o=e.borderWidth,l=xq(e.rotate),c=e.caption,d=e.x,u=e.y,h=e.width+o,f=e.height+o,m=!!e.hidden,x=e.page;KW(l,"degreesAngle",90);var p=NA.create(this.doc.context,this.ref),v=Fpe({x:d,y:u,width:h,height:f},o,l);p.setRectangle(v),x&&p.setP(x);var g=p.getOrCreateAppearanceCharacteristics();s&&g.setBackgroundColor(d4(s)),g.setRotation(l),c&&g.setCaptions({normal:c}),i&&g.setBorderColor(d4(i));var w=p.getOrCreateBorderStyle();if(o!==void 0&&w.setWidth(o),p.setFlagTo(gx.Print,!0),p.setFlagTo(gx.Hidden,m),p.setFlagTo(gx.Invisible,!1),n){var N=(r=this.acroField.getDefaultAppearance())!==null&&r!==void 0?r:"",j=N+`
`+Xu(n).toString();this.acroField.setDefaultAppearance(j)}return p},t.prototype.updateWidgetAppearanceWithFont=function(e,r,n){var s=n.normal,i=n.rollover,o=n.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,s,r),rollover:i&&this.createAppearanceStream(e,i,r),down:o&&this.createAppearanceStream(e,o,r)})},t.prototype.updateOnOffWidgetAppearance=function(e,r,n){var s=n.normal,i=n.rollover,o=n.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,s,r),rollover:i&&this.createAppearanceDict(e,i,r),down:o&&this.createAppearanceDict(e,o,r)})},t.prototype.updateWidgetAppearances=function(e,r){var n=r.normal,s=r.rollover,i=r.down;e.setNormalAppearance(n),s?e.setRolloverAppearance(s):e.removeRolloverAppearance(),i?e.setDownAppearance(i):e.removeDownAppearance()},t.prototype.createAppearanceStream=function(e,r,n){var s,i=this.acroField.dict.context,o=e.getRectangle(),l=o.width,c=o.height,d=n&&{Font:(s={},s[n.name]=n.ref,s)},u=i.formXObject(r,{Resources:d,BBox:i.obj([0,0,l,c]),Matrix:i.obj([1,0,0,1,0,0])}),h=i.register(u);return h},t.prototype.createImageAppearanceStream=function(e,r,n){var s,i,o=this.acroField.dict.context,l=e.getRectangle(),c=e.getAppearanceCharacteristics(),d=e.getBorderStyle(),u=(i=d?.getWidth())!==null&&i!==void 0?i:0,h=ac(c?.getRotation()),f=Sd(Ht(Ht({},l),{rotation:h})),m=Gu(l,h),x=r.scaleToFit(m.width-u*2,m.height-u*2),p={x:u,y:u,width:x.width,height:x.height,rotate:Bt(0),xSkew:Bt(0),ySkew:Bt(0)};n===ed.Center?(p.x+=(m.width-u*2)/2-x.width/2,p.y+=(m.height-u*2)/2-x.height/2):n===ed.Right&&(p.x=m.width-u-x.width,p.y=m.height-u-x.height);var v=this.doc.context.addRandomSuffix("Image",10),g=Nr(f,Cq(v,p)),w={XObject:(s={},s[v]=r.ref,s)},N=o.formXObject(g,{Resources:w,BBox:o.obj([0,0,l.width,l.height]),Matrix:o.obj([1,0,0,1,0,0])});return o.register(N)},t.prototype.createAppearanceDict=function(e,r,n){var s=this.acroField.dict.context,i=this.createAppearanceStream(e,r.on),o=this.createAppearanceStream(e,r.off),l=s.obj({});return l.set(n,i),l.set(de.of("Off"),o),l},t}(),Mp=function(t){Je(e,t);function e(r,n,s){var i=t.call(this,r,n,s)||this;return Ie(r,"acroCheckBox",[[Xj,"PDFAcroCheckBox"]]),i.acroField=r,i}return e.prototype.check=function(){var r,n=(r=this.acroField.getOnValue())!==null&&r!==void 0?r:de.of("Yes");this.markAsDirty(),this.acroField.setValue(n)},e.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(de.of("Off"))},e.prototype.isChecked=function(){var r=this.acroField.getOnValue();return!!r&&r===this.acroField.getValue()},e.prototype.addToPage=function(r,n){var s,i,o,l,c,d;Ie(r,"page",[[Ci,"PDFPage"]]),Sm(n),n||(n={}),"textColor"in n||(n.textColor=Fr(0,0,0)),"backgroundColor"in n||(n.backgroundColor=Fr(1,1,1)),"borderColor"in n||(n.borderColor=Fr(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var u=this.createWidget({x:(s=n.x)!==null&&s!==void 0?s:0,y:(i=n.y)!==null&&i!==void 0?i:0,width:(o=n.width)!==null&&o!==void 0?o:50,height:(l=n.height)!==null&&l!==void 0?l:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(c=n.borderWidth)!==null&&c!==void 0?c:0,rotate:(d=n.rotate)!==null&&d!==void 0?d:Bt(0),hidden:n.hidden,page:r.ref}),h=this.doc.context.register(u.dict);this.acroField.addWidget(h),u.setAppearanceState(de.of("Off")),this.updateWidgetAppearance(u,de.of("Yes")),r.node.addAnnot(h)},e.prototype.needsAppearancesUpdate=function(){for(var r,n=this.acroField.getWidgets(),s=0,i=n.length;s<i;s++){var o=n[s],l=o.getAppearanceState(),c=(r=o.getAppearances())===null||r===void 0?void 0:r.normal;if(!(c instanceof Zt)||l&&!c.has(l))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(r){var n;Ye(r,"provider",[Function]);for(var s=this.acroField.getWidgets(),i=0,o=s.length;i<o;i++){var l=s[i],c=(n=l.getOnValue())!==null&&n!==void 0?n:de.of("Yes");c&&this.updateWidgetAppearance(l,c,r)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(r,n,s){var i=s??bxe,o=Em(i(this,r));this.updateOnOffWidgetAppearance(r,n,o)},e.of=function(r,n,s){return new e(r,n,s)},e}(Yu),yy=function(t){Je(e,t);function e(r,n,s){var i=t.call(this,r,n,s)||this;return Ie(r,"acroComboBox",[[Yj,"PDFAcroComboBox"]]),i.acroField=r,i}return e.prototype.getOptions=function(){for(var r=this.acroField.getOptions(),n=new Array(r.length),s=0,i=n.length;s<i;s++){var o=r[s],l=o.display,c=o.value;n[s]=(l??c).decodeText()}return n},e.prototype.getSelected=function(){for(var r=this.acroField.getValues(),n=new Array(r.length),s=0,i=r.length;s<i;s++)n[s]=r[s].decodeText();return n},e.prototype.setOptions=function(r){Ie(r,"options",[Array]);for(var n=new Array(r.length),s=0,i=r.length;s<i;s++)n[s]={value:Lt.fromText(r[s])};this.acroField.setOptions(n)},e.prototype.addOptions=function(r){Ie(r,"options",["string",Array]);for(var n=Array.isArray(r)?r:[r],s=this.acroField.getOptions(),i=new Array(n.length),o=0,l=n.length;o<l;o++)i[o]={value:Lt.fromText(n[o])};this.acroField.setOptions(s.concat(i))},e.prototype.select=function(r,n){n===void 0&&(n=!1),Ie(r,"options",["string",Array]),Ie(n,"merge",["boolean"]);var s=Array.isArray(r)?r:[r],i=this.getOptions(),o=s.find(function(h){return!i.includes(h)});o&&this.enableEditing(),this.markAsDirty(),(s.length>1||s.length===1&&n)&&this.enableMultiselect();for(var l=new Array(s.length),c=0,d=s.length;c<d;c++)l[c]=Lt.fromText(s[c]);if(n){var u=this.acroField.getValues();this.acroField.setValues(u.concat(l))}else this.acroField.setValues(l)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(r){Gj(r,"fontSize"),this.acroField.setFontSize(r),this.markAsDirty()},e.prototype.isEditable=function(){return this.acroField.hasFlag(Br.Edit)},e.prototype.enableEditing=function(){this.acroField.setFlagTo(Br.Edit,!0)},e.prototype.disableEditing=function(){this.acroField.setFlagTo(Br.Edit,!1)},e.prototype.isSorted=function(){return this.acroField.hasFlag(Br.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(Br.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(Br.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(Br.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(Br.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(Br.MultiSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(Br.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(Br.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(Br.DoNotSpellCheck,!0)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(Br.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(Br.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(Br.CommitOnSelChange,!1)},e.prototype.addToPage=function(r,n){var s,i,o,l,c,d,u;Ie(r,"page",[[Ci,"PDFPage"]]),Sm(n),n||(n={}),"textColor"in n||(n.textColor=Fr(0,0,0)),"backgroundColor"in n||(n.backgroundColor=Fr(1,1,1)),"borderColor"in n||(n.borderColor=Fr(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var h=this.createWidget({x:(s=n.x)!==null&&s!==void 0?s:0,y:(i=n.y)!==null&&i!==void 0?i:0,width:(o=n.width)!==null&&o!==void 0?o:200,height:(l=n.height)!==null&&l!==void 0?l:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(c=n.borderWidth)!==null&&c!==void 0?c:0,rotate:(d=n.rotate)!==null&&d!==void 0?d:Bt(0),hidden:n.hidden,page:r.ref}),f=this.doc.context.register(h.dict);this.acroField.addWidget(f);var m=(u=n.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(h,m),r.node.addAnnot(f)},e.prototype.needsAppearancesUpdate=function(){var r;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),s=0,i=n.length;s<i;s++){var o=n[s],l=((r=o.getAppearances())===null||r===void 0?void 0:r.normal)instanceof ti;if(!l)return!0}return!1},e.prototype.defaultUpdateAppearances=function(r){Ie(r,"font",[[ii,"PDFFont"]]),this.updateAppearances(r)},e.prototype.updateAppearances=function(r,n){Ie(r,"font",[[ii,"PDFFont"]]),Ye(n,"provider",[Function]);for(var s=this.acroField.getWidgets(),i=0,o=s.length;i<o;i++){var l=s[i];this.updateWidgetAppearance(l,r,n)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(r,n,s){var i=s??Exe,o=Em(i(this,r,n));this.updateWidgetAppearanceWithFont(r,n,o)},e.of=function(r,n,s){return new e(r,n,s)},e}(Yu),by=function(t){Je(e,t);function e(r,n,s){var i=t.call(this,r,n,s)||this;return Ie(r,"acroListBox",[[e1,"PDFAcroListBox"]]),i.acroField=r,i}return e.prototype.getOptions=function(){for(var r=this.acroField.getOptions(),n=new Array(r.length),s=0,i=n.length;s<i;s++){var o=r[s],l=o.display,c=o.value;n[s]=(l??c).decodeText()}return n},e.prototype.getSelected=function(){for(var r=this.acroField.getValues(),n=new Array(r.length),s=0,i=r.length;s<i;s++)n[s]=r[s].decodeText();return n},e.prototype.setOptions=function(r){Ie(r,"options",[Array]),this.markAsDirty();for(var n=new Array(r.length),s=0,i=r.length;s<i;s++)n[s]={value:Lt.fromText(r[s])};this.acroField.setOptions(n)},e.prototype.addOptions=function(r){Ie(r,"options",["string",Array]),this.markAsDirty();for(var n=Array.isArray(r)?r:[r],s=this.acroField.getOptions(),i=new Array(n.length),o=0,l=n.length;o<l;o++)i[o]={value:Lt.fromText(n[o])};this.acroField.setOptions(s.concat(i))},e.prototype.select=function(r,n){n===void 0&&(n=!1),Ie(r,"options",["string",Array]),Ie(n,"merge",["boolean"]);var s=Array.isArray(r)?r:[r],i=this.getOptions();Nme(s,"option",i),this.markAsDirty(),(s.length>1||s.length===1&&n)&&this.enableMultiselect();for(var o=new Array(s.length),l=0,c=s.length;l<c;l++)o[l]=Lt.fromText(s[l]);if(n){var d=this.acroField.getValues();this.acroField.setValues(d.concat(o))}else this.acroField.setValues(o)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(r){Gj(r,"fontSize"),this.acroField.setFontSize(r),this.markAsDirty()},e.prototype.isSorted=function(){return this.acroField.hasFlag(Br.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(Br.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(Br.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(Br.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(Br.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(Br.MultiSelect,!1)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(Br.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(Br.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(Br.CommitOnSelChange,!1)},e.prototype.addToPage=function(r,n){var s,i,o,l,c,d,u;Ie(r,"page",[[Ci,"PDFPage"]]),Sm(n),n||(n={}),"textColor"in n||(n.textColor=Fr(0,0,0)),"backgroundColor"in n||(n.backgroundColor=Fr(1,1,1)),"borderColor"in n||(n.borderColor=Fr(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var h=this.createWidget({x:(s=n.x)!==null&&s!==void 0?s:0,y:(i=n.y)!==null&&i!==void 0?i:0,width:(o=n.width)!==null&&o!==void 0?o:200,height:(l=n.height)!==null&&l!==void 0?l:100,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(c=n.borderWidth)!==null&&c!==void 0?c:0,rotate:(d=n.rotate)!==null&&d!==void 0?d:Bt(0),hidden:n.hidden,page:r.ref}),f=this.doc.context.register(h.dict);this.acroField.addWidget(f);var m=(u=n.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(h,m),r.node.addAnnot(f)},e.prototype.needsAppearancesUpdate=function(){var r;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),s=0,i=n.length;s<i;s++){var o=n[s],l=((r=o.getAppearances())===null||r===void 0?void 0:r.normal)instanceof ti;if(!l)return!0}return!1},e.prototype.defaultUpdateAppearances=function(r){Ie(r,"font",[[ii,"PDFFont"]]),this.updateAppearances(r)},e.prototype.updateAppearances=function(r,n){Ie(r,"font",[[ii,"PDFFont"]]),Ye(n,"provider",[Function]);for(var s=this.acroField.getWidgets(),i=0,o=s.length;i<o;i++){var l=s[i];this.updateWidgetAppearance(l,r,n)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(r,n,s){var i=s??Sxe,o=Em(i(this,r,n));this.updateWidgetAppearanceWithFont(r,n,o)},e.of=function(r,n,s){return new e(r,n,s)},e}(Yu),Lp=function(t){Je(e,t);function e(r,n,s){var i=t.call(this,r,n,s)||this;return Ie(r,"acroRadioButton",[[Jj,"PDFAcroRadioButton"]]),i.acroField=r,i}return e.prototype.getOptions=function(){var r=this.acroField.getExportValues();if(r){for(var n=new Array(r.length),s=0,i=r.length;s<i;s++)n[s]=r[s].decodeText();return n}for(var o=this.acroField.getOnValues(),l=new Array(o.length),s=0,i=l.length;s<i;s++)l[s]=o[s].decodeText();return l},e.prototype.getSelected=function(){var r=this.acroField.getValue();if(r!==de.of("Off")){var n=this.acroField.getExportValues();if(n){for(var s=this.acroField.getOnValues(),i=0,o=s.length;i<o;i++)if(s[i]===r)return n[i].decodeText()}return r.decodeText()}},e.prototype.select=function(r){Ie(r,"option",["string"]);var n=this.getOptions();Bc(r,"option",n),this.markAsDirty();var s=this.acroField.getOnValues(),i=this.acroField.getExportValues();if(i)for(var o=0,l=i.length;o<l;o++)i[o].decodeText()===r&&this.acroField.setValue(s[o]);else for(var o=0,l=s.length;o<l;o++){var c=s[o];c.decodeText()===r&&this.acroField.setValue(c)}},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(de.of("Off"))},e.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(Ai.NoToggleToOff)},e.prototype.enableOffToggling=function(){this.acroField.setFlagTo(Ai.NoToggleToOff,!1)},e.prototype.disableOffToggling=function(){this.acroField.setFlagTo(Ai.NoToggleToOff,!0)},e.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(Ai.RadiosInUnison)},e.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(Ai.RadiosInUnison,!1)},e.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(Ai.RadiosInUnison,!0)},e.prototype.addOptionToPage=function(r,n,s){var i,o,l,c,d,u,h,f,m;Ie(r,"option",["string"]),Ie(n,"page",[[Ci,"PDFPage"]]),Sm(s);var x=this.createWidget({x:(i=s?.x)!==null&&i!==void 0?i:0,y:(o=s?.y)!==null&&o!==void 0?o:0,width:(l=s?.width)!==null&&l!==void 0?l:50,height:(c=s?.height)!==null&&c!==void 0?c:50,textColor:(d=s?.textColor)!==null&&d!==void 0?d:Fr(0,0,0),backgroundColor:(u=s?.backgroundColor)!==null&&u!==void 0?u:Fr(1,1,1),borderColor:(h=s?.borderColor)!==null&&h!==void 0?h:Fr(0,0,0),borderWidth:(f=s?.borderWidth)!==null&&f!==void 0?f:1,rotate:(m=s?.rotate)!==null&&m!==void 0?m:Bt(0),hidden:s?.hidden,page:n.ref}),p=this.doc.context.register(x.dict),v=this.acroField.addWidgetWithOpt(p,Lt.fromText(r),!this.isMutuallyExclusive());x.setAppearanceState(de.of("Off")),this.updateWidgetAppearance(x,v),n.node.addAnnot(p)},e.prototype.needsAppearancesUpdate=function(){for(var r,n=this.acroField.getWidgets(),s=0,i=n.length;s<i;s++){var o=n[s],l=o.getAppearanceState(),c=(r=o.getAppearances())===null||r===void 0?void 0:r.normal;if(!(c instanceof Zt)||l&&!c.has(l))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(r){Ye(r,"provider",[Function]);for(var n=this.acroField.getWidgets(),s=0,i=n.length;s<i;s++){var o=n[s],l=o.getOnValue();l&&this.updateWidgetAppearance(o,l,r)}},e.prototype.updateWidgetAppearance=function(r,n,s){var i=s??wxe,o=Em(i(this,r));this.updateOnOffWidgetAppearance(r,n,o)},e.of=function(r,n,s){return new e(r,n,s)},e}(Yu),CA=function(t){Je(e,t);function e(r,n,s){var i=t.call(this,r,n,s)||this;return Ie(r,"acroSignature",[[VT,"PDFAcroSignature"]]),i.acroField=r,i}return e.prototype.needsAppearancesUpdate=function(){return!1},e.of=function(r,n,s){return new e(r,n,s)},e}(Yu),wy=function(t){Je(e,t);function e(r,n,s){var i=t.call(this,r,n,s)||this;return Ie(r,"acroText",[[Qj,"PDFAcroText"]]),i.acroField=r,i}return e.prototype.getText=function(){var r=this.acroField.getValue();if(!r&&this.isRichFormatted())throw new dxe(this.getName());return r?.decodeText()},e.prototype.setText=function(r){Ye(r,"text",["string"]);var n=this.getMaxLength();if(n!==void 0&&r&&r.length>n)throw new hxe(r.length,n,this.getName());this.markAsDirty(),this.disableRichFormatting(),r?this.acroField.setValue(Lt.fromText(r)):this.acroField.removeValue()},e.prototype.getAlignment=function(){var r=this.acroField.getQuadding();return r===0?Qn.Left:r===1?Qn.Center:r===2?Qn.Right:Qn.Left},e.prototype.setAlignment=function(r){Bc(r,"alignment",Qn),this.markAsDirty(),this.acroField.setQuadding(r)},e.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},e.prototype.setMaxLength=function(r){if(to(r,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),r===void 0)this.acroField.removeMaxLength();else{var n=this.getText();if(n&&n.length>r)throw new fxe(n.length,r,this.getName());this.acroField.setMaxLength(r)}},e.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},e.prototype.setImage=function(r){for(var n=this.getAlignment(),s=n===Qn.Center?ed.Center:n===Qn.Right?ed.Right:ed.Left,i=this.acroField.getWidgets(),o=0,l=i.length;o<l;o++){var c=i[o],d=this.createImageAppearanceStream(c,r,s);this.updateWidgetAppearances(c,{normal:d})}this.markAsClean()},e.prototype.setFontSize=function(r){Gj(r,"fontSize"),this.acroField.setFontSize(r),this.markAsDirty()},e.prototype.isMultiline=function(){return this.acroField.hasFlag(fn.Multiline)},e.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(fn.Multiline,!0)},e.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(fn.Multiline,!1)},e.prototype.isPassword=function(){return this.acroField.hasFlag(fn.Password)},e.prototype.enablePassword=function(){this.acroField.setFlagTo(fn.Password,!0)},e.prototype.disablePassword=function(){this.acroField.setFlagTo(fn.Password,!1)},e.prototype.isFileSelector=function(){return this.acroField.hasFlag(fn.FileSelect)},e.prototype.enableFileSelection=function(){this.acroField.setFlagTo(fn.FileSelect,!0)},e.prototype.disableFileSelection=function(){this.acroField.setFlagTo(fn.FileSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(fn.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(fn.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(fn.DoNotSpellCheck,!0)},e.prototype.isScrollable=function(){return!this.acroField.hasFlag(fn.DoNotScroll)},e.prototype.enableScrolling=function(){this.acroField.setFlagTo(fn.DoNotScroll,!1)},e.prototype.disableScrolling=function(){this.acroField.setFlagTo(fn.DoNotScroll,!0)},e.prototype.isCombed=function(){return this.acroField.hasFlag(fn.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},e.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var r="PDFTextFields must have a max length in order to be combed";console.warn(r)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(fn.Comb,!0)},e.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(fn.Comb,!1)},e.prototype.isRichFormatted=function(){return this.acroField.hasFlag(fn.RichText)},e.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(fn.RichText,!0)},e.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(fn.RichText,!1)},e.prototype.addToPage=function(r,n){var s,i,o,l,c,d,u;Ie(r,"page",[[Ci,"PDFPage"]]),Sm(n),n||(n={}),"textColor"in n||(n.textColor=Fr(0,0,0)),"backgroundColor"in n||(n.backgroundColor=Fr(1,1,1)),"borderColor"in n||(n.borderColor=Fr(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var h=this.createWidget({x:(s=n.x)!==null&&s!==void 0?s:0,y:(i=n.y)!==null&&i!==void 0?i:0,width:(o=n.width)!==null&&o!==void 0?o:200,height:(l=n.height)!==null&&l!==void 0?l:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(c=n.borderWidth)!==null&&c!==void 0?c:0,rotate:(d=n.rotate)!==null&&d!==void 0?d:Bt(0),hidden:n.hidden,page:r.ref}),f=this.doc.context.register(h.dict);this.acroField.addWidget(f);var m=(u=n.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(h,m),r.node.addAnnot(f)},e.prototype.needsAppearancesUpdate=function(){var r;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),s=0,i=n.length;s<i;s++){var o=n[s],l=((r=o.getAppearances())===null||r===void 0?void 0:r.normal)instanceof ti;if(!l)return!0}return!1},e.prototype.defaultUpdateAppearances=function(r){Ie(r,"font",[[ii,"PDFFont"]]),this.updateAppearances(r)},e.prototype.updateAppearances=function(r,n){Ie(r,"font",[[ii,"PDFFont"]]),Ye(n,"provider",[Function]);for(var s=this.acroField.getWidgets(),i=0,o=s.length;i<o;i++){var l=s[i];this.updateWidgetAppearance(l,r,n)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(r,n,s){var i=s??Nxe,o=Em(i(this,r,n));this.updateWidgetAppearanceWithFont(r,n,o)},e.of=function(r,n,s){return new e(r,n,s)},e}(Yu),ig;(function(t){t.Courier="Courier",t.CourierBold="Courier-Bold",t.CourierOblique="Courier-Oblique",t.CourierBoldOblique="Courier-BoldOblique",t.Helvetica="Helvetica",t.HelveticaBold="Helvetica-Bold",t.HelveticaOblique="Helvetica-Oblique",t.HelveticaBoldOblique="Helvetica-BoldOblique",t.TimesRoman="Times-Roman",t.TimesRomanBold="Times-Bold",t.TimesRomanItalic="Times-Italic",t.TimesRomanBoldItalic="Times-BoldItalic",t.Symbol="Symbol",t.ZapfDingbats="ZapfDingbats"})(ig||(ig={}));var Axe=function(){function t(e,r){var n=this;this.embedDefaultFont=function(){return n.doc.embedStandardFont(ig.Helvetica)},Ie(e,"acroForm",[[Pb,"PDFAcroForm"]]),Ie(r,"doc",[[pd,"PDFDocument"]]),this.acroForm=e,this.doc=r,this.dirtyFields=new Set,this.defaultFontCache=Ll.populatedBy(this.embedDefaultFont)}return t.prototype.hasXFA=function(){return this.acroForm.dict.has(de.of("XFA"))},t.prototype.deleteXFA=function(){this.acroForm.dict.delete(de.of("XFA"))},t.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),r=[],n=0,s=e.length;n<s;n++){var i=e[n],o=i[0],l=i[1],c=Cxe(o,l,this.doc);c&&r.push(c)}return r},t.prototype.getFieldMaybe=function(e){Ie(e,"name",["string"]);for(var r=this.getFields(),n=0,s=r.length;n<s;n++){var i=r[n];if(i.getName()===e)return i}},t.prototype.getField=function(e){Ie(e,"name",["string"]);var r=this.getFieldMaybe(e);if(r)return r;throw new lxe(e)},t.prototype.getButton=function(e){Ie(e,"name",["string"]);var r=this.getField(e);if(r instanceof jy)return r;throw new Id(e,jy,r)},t.prototype.getCheckBox=function(e){Ie(e,"name",["string"]);var r=this.getField(e);if(r instanceof Mp)return r;throw new Id(e,Mp,r)},t.prototype.getDropdown=function(e){Ie(e,"name",["string"]);var r=this.getField(e);if(r instanceof yy)return r;throw new Id(e,yy,r)},t.prototype.getOptionList=function(e){Ie(e,"name",["string"]);var r=this.getField(e);if(r instanceof by)return r;throw new Id(e,by,r)},t.prototype.getRadioGroup=function(e){Ie(e,"name",["string"]);var r=this.getField(e);if(r instanceof Lp)return r;throw new Id(e,Lp,r)},t.prototype.getSignature=function(e){Ie(e,"name",["string"]);var r=this.getField(e);if(r instanceof CA)return r;throw new Id(e,CA,r)},t.prototype.getTextField=function(e){Ie(e,"name",["string"]);var r=this.getField(e);if(r instanceof wy)return r;throw new Id(e,wy,r)},t.prototype.createButton=function(e){Ie(e,"name",["string"]);var r=mh(e),n=this.findOrCreateNonTerminals(r.nonTerminal),s=Zj.create(this.doc.context);return s.setPartialName(r.terminal),ph(n,[s,s.ref],r.terminal),jy.of(s,s.ref,this.doc)},t.prototype.createCheckBox=function(e){Ie(e,"name",["string"]);var r=mh(e),n=this.findOrCreateNonTerminals(r.nonTerminal),s=Xj.create(this.doc.context);return s.setPartialName(r.terminal),ph(n,[s,s.ref],r.terminal),Mp.of(s,s.ref,this.doc)},t.prototype.createDropdown=function(e){Ie(e,"name",["string"]);var r=mh(e),n=this.findOrCreateNonTerminals(r.nonTerminal),s=Yj.create(this.doc.context);return s.setPartialName(r.terminal),ph(n,[s,s.ref],r.terminal),yy.of(s,s.ref,this.doc)},t.prototype.createOptionList=function(e){Ie(e,"name",["string"]);var r=mh(e),n=this.findOrCreateNonTerminals(r.nonTerminal),s=e1.create(this.doc.context);return s.setPartialName(r.terminal),ph(n,[s,s.ref],r.terminal),by.of(s,s.ref,this.doc)},t.prototype.createRadioGroup=function(e){Ie(e,"name",["string"]);var r=mh(e),n=this.findOrCreateNonTerminals(r.nonTerminal),s=Jj.create(this.doc.context);return s.setPartialName(r.terminal),ph(n,[s,s.ref],r.terminal),Lp.of(s,s.ref,this.doc)},t.prototype.createTextField=function(e){Ie(e,"name",["string"]);var r=mh(e),n=this.findOrCreateNonTerminals(r.nonTerminal),s=Qj.create(this.doc.context);return s.setPartialName(r.terminal),ph(n,[s,s.ref],r.terminal),wy.of(s,s.ref,this.doc)},t.prototype.flatten=function(e){e===void 0&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var r=this.getFields(),n=0,s=r.length;n<s;n++){for(var i=r[n],o=i.acroField.getWidgets(),l=0,c=o.length;l<c;l++){var d=o[l],u=this.findWidgetPage(d),h=this.findWidgetAppearanceRef(i,d),f=u.node.newXObject("FlatWidget",h),m=d.getRectangle(),x=Nr([aa(),Ti(m.x,m.y)],Sd(Ht(Ht({},m),{rotation:0})),[YT(f),sa()]).filter(Boolean);u.pushOperators.apply(u,x)}this.removeField(i)}},t.prototype.removeField=function(e){for(var r=e.acroField.getWidgets(),n=new Set,s=0,i=r.length;s<i;s++){var o=r[s],l=this.findWidgetAppearanceRef(e,o),c=this.findWidgetPage(o);n.add(c),c.node.removeAnnot(l)}n.forEach(function(m){return m.node.removeAnnot(e.ref)}),this.acroForm.removeField(e.acroField);for(var d=e.acroField.normalizedEntries().Kids,u=d.size(),h=0;h<u;h++){var f=d.get(h);f instanceof Vr&&this.doc.context.delete(f)}this.doc.context.delete(e.ref)},t.prototype.updateFieldAppearances=function(e){Ye(e,"font",[[ii,"PDFFont"]]),e=e??this.getDefaultFont();for(var r=this.getFields(),n=0,s=r.length;n<s;n++){var i=r[n];i.needsAppearancesUpdate()&&i.defaultUpdateAppearances(e)}},t.prototype.markFieldAsDirty=function(e){Ye(e,"fieldRef",[[Vr,"PDFRef"]]),this.dirtyFields.add(e)},t.prototype.markFieldAsClean=function(e){Ye(e,"fieldRef",[[Vr,"PDFRef"]]),this.dirtyFields.delete(e)},t.prototype.fieldIsDirty=function(e){return Ye(e,"fieldRef",[[Vr,"PDFRef"]]),this.dirtyFields.has(e)},t.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},t.prototype.findWidgetPage=function(e){var r=e.P(),n=this.doc.getPages().find(function(i){return i.ref===r});if(n===void 0){var s=this.doc.context.getObjectRef(e.dict);if(s===void 0)throw new Error("Could not find PDFRef for PDFObject");if(n=this.doc.findPageForAnnotationRef(s),n===void 0)throw new Error("Could not find page for PDFRef "+s)}return n},t.prototype.findWidgetAppearanceRef=function(e,r){var n,s=r.getNormalAppearance();if(s instanceof Zt&&(e instanceof Mp||e instanceof Lp)){var i=e.acroField.getValue(),o=(n=s.get(i))!==null&&n!==void 0?n:s.get(de.of("Off"));o instanceof Vr&&(s=o)}if(!(s instanceof Vr)){var l=e.getName();throw new Error("Failed to extract appearance ref for: "+l)}return s},t.prototype.findOrCreateNonTerminals=function(e){for(var r=[this.acroForm],n=0,s=e.length;n<s;n++){var i=e[n];if(!i)throw new cxe(i);var o=r[0],l=r[1],c=this.findNonTerminal(i,o);if(c)r=c;else{var d=kb.create(this.doc.context);d.setPartialName(i),d.setParent(l);var u=this.doc.context.register(d.dict);o.addField(u),r=[d,u]}}return r},t.prototype.findNonTerminal=function(e,r){for(var n=r instanceof Pb?this.acroForm.getFields():zT(r.Kids()),s=0,i=n.length;s<i;s++){var o=n[s],l=o[0],c=o[1];if(l.getPartialName()===e){if(l instanceof kb)return[l,c];throw new Pq(e)}}},t.of=function(e,r){return new t(e,r)},t}(),Cxe=function(t,e,r){if(t instanceof Zj)return jy.of(t,e,r);if(t instanceof Xj)return Mp.of(t,e,r);if(t instanceof Yj)return yy.of(t,e,r);if(t instanceof e1)return by.of(t,e,r);if(t instanceof Qj)return wy.of(t,e,r);if(t instanceof Jj)return Lp.of(t,e,r);if(t instanceof VT)return CA.of(t,e,r)},mh=function(t){if(t.length===0)throw new Error("PDF field names must not be empty strings");for(var e=t.split("."),r=0,n=e.length;r<n;r++)if(e[r]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+t+'"');return e.length===1?{nonTerminal:[],terminal:e[0]}:{nonTerminal:e.slice(0,e.length-1),terminal:e[e.length-1]}},ph=function(t,e,r){for(var n=t[0],s=t[1],i=e[0],o=e[1],l=n.normalizedEntries(),c=zT("Kids"in l?l.Kids:l.Fields),d=0,u=c.length;d<u;d++)if(c[d][0].getPartialName()===r)throw new Pq(r);n.addField(o),i.setParent(s)},kxe={A4:[595.28,841.89]},kA;(function(t){t[t.Fastest=1/0]="Fastest",t[t.Fast=1500]="Fast",t[t.Medium=500]="Medium",t[t.Slow=100]="Slow"})(kA||(kA={}));var Pxe=function(){function t(e,r,n){this.alreadyEmbedded=!1,this.ref=e,this.doc=r,this.embedder=n}return t.prototype.embed=function(){return rr(this,void 0,void 0,function(){var e,r,n,s,i;return nr(this,function(o){switch(o.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=o.sent(),this.doc.catalog.has(de.of("Names"))||this.doc.catalog.set(de.of("Names"),this.doc.context.obj({})),r=this.doc.catalog.lookup(de.of("Names"),Zt),r.has(de.of("EmbeddedFiles"))||r.set(de.of("EmbeddedFiles"),this.doc.context.obj({})),n=r.lookup(de.of("EmbeddedFiles"),Zt),n.has(de.of("Names"))||n.set(de.of("Names"),this.doc.context.obj([])),s=n.lookup(de.of("Names"),Tr),s.push(Lt.fromText(this.embedder.fileName)),s.push(e),this.doc.catalog.has(de.of("AF"))||this.doc.catalog.set(de.of("AF"),this.doc.context.obj([])),i=this.doc.catalog.lookup(de.of("AF"),Tr),i.push(e),this.alreadyEmbedded=!0,o.label=2;case 2:return[2]}})})},t.of=function(e,r,n){return new t(e,r,n)},t}(),Txe=function(){function t(e,r,n){this.alreadyEmbedded=!1,this.ref=e,this.doc=r,this.embedder=n}return t.prototype.embed=function(){return rr(this,void 0,void 0,function(){var e,r,n,s,i,o,l;return nr(this,function(c){switch(c.label){case 0:return this.alreadyEmbedded?[3,2]:(e=this.doc,r=e.catalog,n=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:s=c.sent(),r.has(de.of("Names"))||r.set(de.of("Names"),n.obj({})),i=r.lookup(de.of("Names"),Zt),i.has(de.of("JavaScript"))||i.set(de.of("JavaScript"),n.obj({})),o=i.lookup(de.of("JavaScript"),Zt),o.has(de.of("Names"))||o.set(de.of("Names"),n.obj([])),l=o.lookup(de.of("Names"),Tr),l.push(Lt.fromText(this.embedder.scriptName)),l.push(s),this.alreadyEmbedded=!0,c.label=2;case 2:return[2]}})})},t.of=function(e,r,n){return new t(e,r,n)},t}(),Oxe=function(){function t(e,r){this.script=e,this.scriptName=r}return t.for=function(e,r){return new t(e,r)},t.prototype.embedIntoContext=function(e,r){return rr(this,void 0,void 0,function(){var n;return nr(this,function(s){return n=e.obj({Type:"Action",S:"JavaScript",JS:Lt.fromText(this.script)}),r?(e.assign(r,n),[2,r]):[2,e.register(n)]})})},t}(),pd=function(){function t(e,r,n){var s=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var i=[];return s.catalog.Pages().traverse(function(o,l){if(o instanceof Bl){var c=s.pageMap.get(o);c||(c=Ci.of(o,l,s),s.pageMap.set(o,c)),i.push(c)}}),i},this.getOrCreateForm=function(){var i=s.catalog.getOrCreateAcroForm();return Axe.of(i,s)},Ie(e,"context",[[wA,"PDFContext"]]),Ie(r,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=Ll.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Ll.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!r&&this.isEncrypted)throw new axe;n&&this.updateInfoDict()}return t.load=function(e,r){return r===void 0&&(r={}),rr(this,void 0,void 0,function(){var n,s,i,o,l,c,d,u,h,f,m,x;return nr(this,function(p){switch(p.label){case 0:return n=r.ignoreEncryption,s=n===void 0?!1:n,i=r.parseSpeed,o=i===void 0?kA.Slow:i,l=r.throwOnInvalidObject,c=l===void 0?!1:l,d=r.updateMetadata,u=d===void 0?!0:d,h=r.capNumbers,f=h===void 0?!1:h,Ie(e,"pdf",["string",Uint8Array,ArrayBuffer]),Ie(s,"ignoreEncryption",["boolean"]),Ie(o,"parseSpeed",["number"]),Ie(c,"throwOnInvalidObject",["boolean"]),m=rp(e),[4,Rpe.forBytesWithOptions(m,o,c,f).parseDocument()];case 1:return x=p.sent(),[2,new t(x,s,u)]}})})},t.create=function(e){return e===void 0&&(e={}),rr(this,void 0,void 0,function(){var r,n,s,i,o,l;return nr(this,function(c){return r=e.updateMetadata,n=r===void 0?!0:r,s=wA.create(),i=uq.withContext(s),o=s.register(i),l=dq.withContextAndPages(s,o),s.trailerInfo.Root=s.register(l),[2,new t(s,!1,n)]})})},t.prototype.registerFontkit=function(e){this.fontkit=e},t.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},t.prototype.getTitle=function(){var e=this.getInfoDict().lookup(de.Title);if(e)return pc(e),e.decodeText()},t.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(de.Author);if(e)return pc(e),e.decodeText()},t.prototype.getSubject=function(){var e=this.getInfoDict().lookup(de.Subject);if(e)return pc(e),e.decodeText()},t.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(de.Keywords);if(e)return pc(e),e.decodeText()},t.prototype.getCreator=function(){var e=this.getInfoDict().lookup(de.Creator);if(e)return pc(e),e.decodeText()},t.prototype.getProducer=function(){var e=this.getInfoDict().lookup(de.Producer);if(e)return pc(e),e.decodeText()},t.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(de.CreationDate);if(e)return pc(e),e.decodeDate()},t.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(de.ModDate);if(e)return pc(e),e.decodeDate()},t.prototype.setTitle=function(e,r){Ie(e,"title",["string"]);var n=de.of("Title");if(this.getInfoDict().set(n,Lt.fromText(e)),r?.showInWindowTitleBar){var s=this.catalog.getOrCreateViewerPreferences();s.setDisplayDocTitle(!0)}},t.prototype.setAuthor=function(e){Ie(e,"author",["string"]);var r=de.of("Author");this.getInfoDict().set(r,Lt.fromText(e))},t.prototype.setSubject=function(e){Ie(e,"author",["string"]);var r=de.of("Subject");this.getInfoDict().set(r,Lt.fromText(e))},t.prototype.setKeywords=function(e){Ie(e,"keywords",[Array]);var r=de.of("Keywords");this.getInfoDict().set(r,Lt.fromText(e.join(" ")))},t.prototype.setCreator=function(e){Ie(e,"creator",["string"]);var r=de.of("Creator");this.getInfoDict().set(r,Lt.fromText(e))},t.prototype.setProducer=function(e){Ie(e,"creator",["string"]);var r=de.of("Producer");this.getInfoDict().set(r,Lt.fromText(e))},t.prototype.setLanguage=function(e){Ie(e,"language",["string"]);var r=de.of("Lang");this.catalog.set(r,Ur.of(e))},t.prototype.setCreationDate=function(e){Ie(e,"creationDate",[[Date,"Date"]]);var r=de.of("CreationDate");this.getInfoDict().set(r,Ur.fromDate(e))},t.prototype.setModificationDate=function(e){Ie(e,"modificationDate",[[Date,"Date"]]);var r=de.of("ModDate");this.getInfoDict().set(r,Ur.fromDate(e))},t.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},t.prototype.getPages=function(){return this.pageCache.access()},t.prototype.getPage=function(e){var r=this.getPages();return Qs(e,"index",0,r.length-1),r[e]},t.prototype.getPageIndices=function(){return Zue(0,this.getPageCount())},t.prototype.removePage=function(e){var r=this.getPageCount();if(this.pageCount===0)throw new oxe;Qs(e,"index",0,r-1),this.catalog.removeLeafNode(e),this.pageCount=r-1},t.prototype.addPage=function(e){return Ie(e,"page",["undefined",[Ci,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},t.prototype.insertPage=function(e,r){var n=this.getPageCount();if(Qs(e,"index",0,n),Ie(r,"page",["undefined",[Ci,"PDFPage"],Array]),!r||Array.isArray(r)){var s=Array.isArray(r)?r:kxe.A4;r=Ci.create(this),r.setSize.apply(r,s)}else if(r.doc!==this)throw new ixe;var i=this.catalog.insertLeafNode(r.ref,e);return r.node.setParent(i),this.pageMap.set(r.node,r),this.pageCache.invalidate(),this.pageCount=n+1,r},t.prototype.copyPages=function(e,r){return rr(this,void 0,void 0,function(){var n,s,i,o,l,c,d,u;return nr(this,function(h){switch(h.label){case 0:return Ie(e,"srcDoc",[[t,"PDFDocument"]]),Ie(r,"indices",[Array]),[4,e.flush()];case 1:for(h.sent(),n=JD.for(e.context,this.context),s=e.getPages(),i=new Array(r.length),o=0,l=r.length;o<l;o++)c=s[r[o]],d=n.copy(c.node),u=this.context.register(d),i[o]=Ci.of(d,u,this);return[2,i]}})})},t.prototype.copy=function(){return rr(this,void 0,void 0,function(){var e,r,n,s;return nr(this,function(i){switch(i.label){case 0:return[4,t.create()];case 1:return e=i.sent(),[4,e.copyPages(this,this.getPageIndices())];case 2:for(r=i.sent(),n=0,s=r.length;n<s;n++)e.addPage(r[n]);return this.getAuthor()!==void 0&&e.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&e.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&e.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&e.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&e.setProducer(this.getProducer()),this.getSubject()!==void 0&&e.setSubject(this.getSubject()),this.getTitle()!==void 0&&e.setTitle(this.getTitle()),e.defaultWordBreaks=this.defaultWordBreaks,[2,e]}})})},t.prototype.addJavaScript=function(e,r){Ie(e,"name",["string"]),Ie(r,"script",["string"]);var n=Oxe.for(r,e),s=this.context.nextRef(),i=Txe.of(s,this,n);this.javaScripts.push(i)},t.prototype.attach=function(e,r,n){return n===void 0&&(n={}),rr(this,void 0,void 0,function(){var s,i,o,l;return nr(this,function(c){return Ie(e,"attachment",["string",Uint8Array,ArrayBuffer]),Ie(r,"name",["string"]),Ye(n.mimeType,"mimeType",["string"]),Ye(n.description,"description",["string"]),Ye(n.creationDate,"options.creationDate",[Date]),Ye(n.modificationDate,"options.modificationDate",[Date]),bi(n.afRelationship,"options.afRelationship",jA),s=rp(e),i=spe.for(s,r,n),o=this.context.nextRef(),l=Pxe.of(o,this,i),this.embeddedFiles.push(l),[2]})})},t.prototype.embedFont=function(e,r){return r===void 0&&(r={}),rr(this,void 0,void 0,function(){var n,s,i,o,l,c,d,u,h,f;return nr(this,function(m){switch(m.label){case 0:return n=r.subset,s=n===void 0?!1:n,i=r.customName,o=r.features,Ie(e,"font",["string",Uint8Array,ArrayBuffer]),Ie(s,"subset",["boolean"]),WD(e)?(l=Ab.for(e,i),[3,7]):[3,1];case 1:return ehe(e)?(c=rp(e),d=this.assertFontkit(),s?[4,ape.for(d,c,i,o)]:[3,3]):[3,6];case 2:return u=m.sent(),[3,5];case 3:return[4,$T.for(d,c,i,o)];case 4:u=m.sent(),m.label=5;case 5:return l=u,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return h=this.context.nextRef(),f=ii.of(h,this,l),this.fonts.push(f),[2,f]}})})},t.prototype.embedStandardFont=function(e,r){if(Ie(e,"font",["string"]),!WD(e))throw new TypeError("`font` must be one of type `StandardFonts`");var n=Ab.for(e,r),s=this.context.nextRef(),i=ii.of(s,this,n);return this.fonts.push(i),i},t.prototype.embedJpg=function(e){return rr(this,void 0,void 0,function(){var r,n,s,i;return nr(this,function(o){switch(o.label){case 0:return Ie(e,"jpg",["string",Uint8Array,ArrayBuffer]),r=rp(e),[4,tq.for(r)];case 1:return n=o.sent(),s=this.context.nextRef(),i=AA.of(s,this,n),this.images.push(i),[2,i]}})})},t.prototype.embedPng=function(e){return rr(this,void 0,void 0,function(){var r,n,s,i;return nr(this,function(o){switch(o.label){case 0:return Ie(e,"png",["string",Uint8Array,ArrayBuffer]),r=rp(e),[4,rq.for(r)];case 1:return n=o.sent(),s=this.context.nextRef(),i=AA.of(s,this,n),this.images.push(i),[2,i]}})})},t.prototype.embedPdf=function(e,r){return r===void 0&&(r=[0]),rr(this,void 0,void 0,function(){var n,s,i;return nr(this,function(o){switch(o.label){case 0:return Ie(e,"pdf",["string",Uint8Array,ArrayBuffer,[t,"PDFDocument"]]),Ie(r,"indices",[Array]),e instanceof t?(s=e,[3,3]):[3,1];case 1:return[4,t.load(e)];case 2:s=o.sent(),o.label=3;case 3:return n=s,i=Jue(n.getPages(),r),[2,this.embedPages(i)]}})})},t.prototype.embedPage=function(e,r,n){return rr(this,void 0,void 0,function(){var s;return nr(this,function(i){switch(i.label){case 0:return Ie(e,"page",[[Ci,"PDFPage"]]),[4,this.embedPages([e],[r],[n])];case 1:return s=i.sent()[0],[2,s]}})})},t.prototype.embedPages=function(e,r,n){return r===void 0&&(r=[]),n===void 0&&(n=[]),rr(this,void 0,void 0,function(){var d,u,s,i,o,l,c,d,u,h,f,m,x,p,v;return nr(this,function(g){switch(g.label){case 0:if(e.length===0)return[2,[]];for(d=0,u=e.length-1;d<u;d++)if(s=e[d],i=e[d+1],s.node.context!==i.node.context)throw new Ome;o=e[0].node.context,l=o===this.context?function(w){return w}:JD.for(o,this.context).copy,c=new Array(e.length),d=0,u=e.length,g.label=1;case 1:return d<u?(h=l(e[d].node),f=r[d],m=n[d],[4,sq.for(h,f,m)]):[3,4];case 2:x=g.sent(),p=this.context.nextRef(),c[d]=Iq.of(p,this,x),g.label=3;case 3:return d++,[3,1];case 4:return(v=this.embeddedPages).push.apply(v,c),[2,c]}})})},t.prototype.flush=function(){return rr(this,void 0,void 0,function(){return nr(this,function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}})})},t.prototype.save=function(e){return e===void 0&&(e={}),rr(this,void 0,void 0,function(){var r,n,s,i,o,l,c,d,u,h;return nr(this,function(f){switch(f.label){case 0:return r=e.useObjectStreams,n=r===void 0?!0:r,s=e.addDefaultPage,i=s===void 0?!0:s,o=e.objectsPerTick,l=o===void 0?50:o,c=e.updateFieldAppearances,d=c===void 0?!0:c,Ie(n,"useObjectStreams",["boolean"]),Ie(i,"addDefaultPage",["boolean"]),Ie(l,"objectsPerTick",["number"]),Ie(d,"updateFieldAppearances",["boolean"]),i&&this.getPageCount()===0&&this.addPage(),d&&(u=this.formCache.getValue(),u&&u.updateFieldAppearances()),[4,this.flush()];case 1:return f.sent(),h=n?Zme:JW,[2,h.forContext(this.context,l).serializeToBuffer()]}})})},t.prototype.saveAsBase64=function(e){return e===void 0&&(e={}),rr(this,void 0,void 0,function(){var r,n,s,i,o;return nr(this,function(l){switch(l.label){case 0:return r=e.dataUri,n=r===void 0?!1:r,s=Fue(e,["dataUri"]),Ie(n,"dataUri",["boolean"]),[4,this.save(s)];case 1:return i=l.sent(),o=Due(i),[2,n?"data:application/pdf;base64,"+o:o]}})})},t.prototype.findPageForAnnotationRef=function(e){for(var r=this.getPages(),n=0,s=r.length;n<s;n++){var i=r[n],o=i.node.Annots();if(o?.indexOf(e)!==void 0)return i}},t.prototype.embedAll=function(e){return rr(this,void 0,void 0,function(){var r,n;return nr(this,function(s){switch(s.label){case 0:r=0,n=e.length,s.label=1;case 1:return r<n?[4,e[r].embed()]:[3,4];case 2:s.sent(),s.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",r=new Date,n=this.getInfoDict();this.setProducer(e),this.setModificationDate(r),n.get(de.of("Creator"))||this.setCreator(e),n.get(de.of("CreationDate"))||this.setCreationDate(r)},t.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof Zt)return e;var r=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(r),r},t.prototype.assertFontkit=function(){if(!this.fontkit)throw new sxe;return this.fontkit},t}();function pc(t){if(!(t instanceof Lt)&&!(t instanceof Ur))throw new Eb([Lt,Ur],t)}var El;(function(t){t.Normal="Normal",t.Multiply="Multiply",t.Screen="Screen",t.Overlay="Overlay",t.Darken="Darken",t.Lighten="Lighten",t.ColorDodge="ColorDodge",t.ColorBurn="ColorBurn",t.HardLight="HardLight",t.SoftLight="SoftLight",t.Difference="Difference",t.Exclusion="Exclusion"})(El||(El={}));var Ci=function(){function t(e,r,n){this.fontSize=24,this.fontColor=Fr(0,0,0),this.lineHeight=24,this.x=0,this.y=0,Ie(e,"leafNode",[[Bl,"PDFPageLeaf"]]),Ie(r,"ref",[[Vr,"PDFRef"]]),Ie(n,"doc",[[pd,"PDFDocument"]]),this.node=e,this.ref=r,this.doc=n}return t.prototype.setRotation=function(e){var r=xq(e);KW(r,"degreesAngle",90),this.node.set(de.of("Rotate"),this.doc.context.obj(r))},t.prototype.getRotation=function(){var e=this.node.Rotate();return Bt(e?e.asNumber():0)},t.prototype.setSize=function(e,r){Ie(e,"width",["number"]),Ie(r,"height",["number"]);var n=this.getMediaBox();this.setMediaBox(n.x,n.y,e,r);var s=this.getCropBox(),i=this.getBleedBox(),o=this.getTrimBox(),l=this.getArtBox(),c=this.node.CropBox(),d=this.node.BleedBox(),u=this.node.TrimBox(),h=this.node.ArtBox();c&&Nv(s,n)&&this.setCropBox(n.x,n.y,e,r),d&&Nv(i,n)&&this.setBleedBox(n.x,n.y,e,r),u&&Nv(o,n)&&this.setTrimBox(n.x,n.y,e,r),h&&Nv(l,n)&&this.setArtBox(n.x,n.y,e,r)},t.prototype.setWidth=function(e){Ie(e,"width",["number"]),this.setSize(e,this.getSize().height)},t.prototype.setHeight=function(e){Ie(e,"height",["number"]),this.setSize(this.getSize().width,e)},t.prototype.setMediaBox=function(e,r,n,s){Ie(e,"x",["number"]),Ie(r,"y",["number"]),Ie(n,"width",["number"]),Ie(s,"height",["number"]);var i=this.doc.context.obj([e,r,e+n,r+s]);this.node.set(de.MediaBox,i)},t.prototype.setCropBox=function(e,r,n,s){Ie(e,"x",["number"]),Ie(r,"y",["number"]),Ie(n,"width",["number"]),Ie(s,"height",["number"]);var i=this.doc.context.obj([e,r,e+n,r+s]);this.node.set(de.CropBox,i)},t.prototype.setBleedBox=function(e,r,n,s){Ie(e,"x",["number"]),Ie(r,"y",["number"]),Ie(n,"width",["number"]),Ie(s,"height",["number"]);var i=this.doc.context.obj([e,r,e+n,r+s]);this.node.set(de.BleedBox,i)},t.prototype.setTrimBox=function(e,r,n,s){Ie(e,"x",["number"]),Ie(r,"y",["number"]),Ie(n,"width",["number"]),Ie(s,"height",["number"]);var i=this.doc.context.obj([e,r,e+n,r+s]);this.node.set(de.TrimBox,i)},t.prototype.setArtBox=function(e,r,n,s){Ie(e,"x",["number"]),Ie(r,"y",["number"]),Ie(n,"width",["number"]),Ie(s,"height",["number"]);var i=this.doc.context.obj([e,r,e+n,r+s]);this.node.set(de.ArtBox,i)},t.prototype.getSize=function(){var e=this.getMediaBox(),r=e.width,n=e.height;return{width:r,height:n}},t.prototype.getWidth=function(){return this.getSize().width},t.prototype.getHeight=function(){return this.getSize().height},t.prototype.getMediaBox=function(){var e=this.node.MediaBox();return e.asRectangle()},t.prototype.getCropBox=function(){var e,r=this.node.CropBox();return(e=r?.asRectangle())!==null&&e!==void 0?e:this.getMediaBox()},t.prototype.getBleedBox=function(){var e,r=this.node.BleedBox();return(e=r?.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},t.prototype.getTrimBox=function(){var e,r=this.node.TrimBox();return(e=r?.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},t.prototype.getArtBox=function(){var e,r=this.node.ArtBox();return(e=r?.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},t.prototype.translateContent=function(e,r){Ie(e,"x",["number"]),Ie(r,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(aa(),Ti(e,r)),s=this.doc.context.register(n),i=this.createContentStream(sa()),o=this.doc.context.register(i);this.node.wrapContentStreams(s,o)},t.prototype.scale=function(e,r){Ie(e,"x",["number"]),Ie(r,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*r),this.scaleContent(e,r),this.scaleAnnotations(e,r)},t.prototype.scaleContent=function(e,r){Ie(e,"x",["number"]),Ie(r,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(aa(),sg(e,r)),s=this.doc.context.register(n),i=this.createContentStream(sa()),o=this.doc.context.register(i);this.node.wrapContentStreams(s,o)},t.prototype.scaleAnnotations=function(e,r){Ie(e,"x",["number"]),Ie(r,"y",["number"]);var n=this.node.Annots();if(n)for(var s=0;s<n.size();s++){var i=n.lookup(s);i instanceof Zt&&this.scaleAnnot(i,e,r)}},t.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},t.prototype.setFont=function(e){Ie(e,"font",[[ii,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},t.prototype.setFontSize=function(e){Ie(e,"fontSize",["number"]),this.fontSize=e},t.prototype.setFontColor=function(e){Ie(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},t.prototype.setLineHeight=function(e){Ie(e,"lineHeight",["number"]),this.lineHeight=e},t.prototype.getPosition=function(){return{x:this.x,y:this.y}},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.moveTo=function(e,r){Ie(e,"x",["number"]),Ie(r,"y",["number"]),this.x=e,this.y=r},t.prototype.moveDown=function(e){Ie(e,"yDecrease",["number"]),this.y-=e},t.prototype.moveUp=function(e){Ie(e,"yIncrease",["number"]),this.y+=e},t.prototype.moveLeft=function(e){Ie(e,"xDecrease",["number"]),this.x-=e},t.prototype.moveRight=function(e){Ie(e,"xIncrease",["number"]),this.x+=e},t.prototype.pushOperators=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];GW(e,"operator",[[br,"PDFOperator"]]);var n=this.getContentStream();n.push.apply(n,e)},t.prototype.drawText=function(e,r){var n,s,i,o,l,c,d;r===void 0&&(r={}),Ie(e,"text",["string"]),Ye(r.color,"options.color",[[Object,"Color"]]),to(r.opacity,"opacity.opacity",0,1),Ye(r.font,"options.font",[[ii,"PDFFont"]]),Ye(r.size,"options.size",["number"]),Ye(r.rotate,"options.rotate",[[Object,"Rotation"]]),Ye(r.xSkew,"options.xSkew",[[Object,"Rotation"]]),Ye(r.ySkew,"options.ySkew",[[Object,"Rotation"]]),Ye(r.x,"options.x",["number"]),Ye(r.y,"options.y",["number"]),Ye(r.lineHeight,"options.lineHeight",["number"]),Ye(r.maxWidth,"options.maxWidth",["number"]),Ye(r.wordBreaks,"options.wordBreaks",[Array]),bi(r.blendMode,"options.blendMode",El);for(var u=this.setOrEmbedFont(r.font),h=u.oldFont,f=u.newFont,m=u.newFontKey,x=r.size||this.fontSize,p=r.wordBreaks||this.doc.defaultWordBreaks,v=function(A){return f.widthOfTextAtSize(A,x)},g=r.maxWidth===void 0?Kz(m0(e)):que(e,p,r.maxWidth,v),w=new Array(g.length),N=0,j=g.length;N<j;N++)w[N]=f.encodeText(g[N]);var b=this.maybeEmbedGraphicsState({opacity:r.opacity,blendMode:r.blendMode}),S=this.getContentStream();S.push.apply(S,Ype(w,{color:(n=r.color)!==null&&n!==void 0?n:this.fontColor,font:m,size:x,rotate:(s=r.rotate)!==null&&s!==void 0?s:Bt(0),xSkew:(i=r.xSkew)!==null&&i!==void 0?i:Bt(0),ySkew:(o=r.ySkew)!==null&&o!==void 0?o:Bt(0),x:(l=r.x)!==null&&l!==void 0?l:this.x,y:(c=r.y)!==null&&c!==void 0?c:this.y,lineHeight:(d=r.lineHeight)!==null&&d!==void 0?d:this.lineHeight,graphicsState:b})),r.font&&(h?this.setFont(h):this.resetFont())},t.prototype.drawImage=function(e,r){var n,s,i,o,l,c,d;r===void 0&&(r={}),Ie(e,"image",[[AA,"PDFImage"]]),Ye(r.x,"options.x",["number"]),Ye(r.y,"options.y",["number"]),Ye(r.width,"options.width",["number"]),Ye(r.height,"options.height",["number"]),Ye(r.rotate,"options.rotate",[[Object,"Rotation"]]),Ye(r.xSkew,"options.xSkew",[[Object,"Rotation"]]),Ye(r.ySkew,"options.ySkew",[[Object,"Rotation"]]),to(r.opacity,"opacity.opacity",0,1),bi(r.blendMode,"options.blendMode",El);var u=this.node.newXObject("Image",e.ref),h=this.maybeEmbedGraphicsState({opacity:r.opacity,blendMode:r.blendMode}),f=this.getContentStream();f.push.apply(f,Cq(u,{x:(n=r.x)!==null&&n!==void 0?n:this.x,y:(s=r.y)!==null&&s!==void 0?s:this.y,width:(i=r.width)!==null&&i!==void 0?i:e.size().width,height:(o=r.height)!==null&&o!==void 0?o:e.size().height,rotate:(l=r.rotate)!==null&&l!==void 0?l:Bt(0),xSkew:(c=r.xSkew)!==null&&c!==void 0?c:Bt(0),ySkew:(d=r.ySkew)!==null&&d!==void 0?d:Bt(0),graphicsState:h}))},t.prototype.drawPage=function(e,r){var n,s,i,o,l;r===void 0&&(r={}),Ie(e,"embeddedPage",[[Iq,"PDFEmbeddedPage"]]),Ye(r.x,"options.x",["number"]),Ye(r.y,"options.y",["number"]),Ye(r.xScale,"options.xScale",["number"]),Ye(r.yScale,"options.yScale",["number"]),Ye(r.width,"options.width",["number"]),Ye(r.height,"options.height",["number"]),Ye(r.rotate,"options.rotate",[[Object,"Rotation"]]),Ye(r.xSkew,"options.xSkew",[[Object,"Rotation"]]),Ye(r.ySkew,"options.ySkew",[[Object,"Rotation"]]),to(r.opacity,"opacity.opacity",0,1),bi(r.blendMode,"options.blendMode",El);var c=this.node.newXObject("EmbeddedPdfPage",e.ref),d=this.maybeEmbedGraphicsState({opacity:r.opacity,blendMode:r.blendMode}),u=r.width!==void 0?r.width/e.width:r.xScale!==void 0?r.xScale:1,h=r.height!==void 0?r.height/e.height:r.yScale!==void 0?r.yScale:1,f=this.getContentStream();f.push.apply(f,Qpe(c,{x:(n=r.x)!==null&&n!==void 0?n:this.x,y:(s=r.y)!==null&&s!==void 0?s:this.y,xScale:u,yScale:h,rotate:(i=r.rotate)!==null&&i!==void 0?i:Bt(0),xSkew:(o=r.xSkew)!==null&&o!==void 0?o:Bt(0),ySkew:(l=r.ySkew)!==null&&l!==void 0?l:Bt(0),graphicsState:d}))},t.prototype.drawSvgPath=function(e,r){var n,s,i,o,l,c,d,u,h;r===void 0&&(r={}),Ie(e,"path",["string"]),Ye(r.x,"options.x",["number"]),Ye(r.y,"options.y",["number"]),Ye(r.scale,"options.scale",["number"]),Ye(r.rotate,"options.rotate",[[Object,"Rotation"]]),Ye(r.borderWidth,"options.borderWidth",["number"]),Ye(r.color,"options.color",[[Object,"Color"]]),to(r.opacity,"opacity.opacity",0,1),Ye(r.borderColor,"options.borderColor",[[Object,"Color"]]),Ye(r.borderDashArray,"options.borderDashArray",[Array]),Ye(r.borderDashPhase,"options.borderDashPhase",["number"]),bi(r.borderLineCap,"options.borderLineCap",Vh),to(r.borderOpacity,"options.borderOpacity",0,1),bi(r.blendMode,"options.blendMode",El);var f=this.maybeEmbedGraphicsState({opacity:r.opacity,borderOpacity:r.borderOpacity,blendMode:r.blendMode});!("color"in r)&&!("borderColor"in r)&&(r.borderColor=Fr(0,0,0));var m=this.getContentStream();m.push.apply(m,txe(e,{x:(n=r.x)!==null&&n!==void 0?n:this.x,y:(s=r.y)!==null&&s!==void 0?s:this.y,scale:r.scale,rotate:(i=r.rotate)!==null&&i!==void 0?i:Bt(0),color:(o=r.color)!==null&&o!==void 0?o:void 0,borderColor:(l=r.borderColor)!==null&&l!==void 0?l:void 0,borderWidth:(c=r.borderWidth)!==null&&c!==void 0?c:0,borderDashArray:(d=r.borderDashArray)!==null&&d!==void 0?d:void 0,borderDashPhase:(u=r.borderDashPhase)!==null&&u!==void 0?u:void 0,borderLineCap:(h=r.borderLineCap)!==null&&h!==void 0?h:void 0,graphicsState:f}))},t.prototype.drawLine=function(e){var r,n,s,i,o;Ie(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),Ie(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),Ie(e.start.x,"options.start.x",["number"]),Ie(e.start.y,"options.start.y",["number"]),Ie(e.end.x,"options.end.x",["number"]),Ie(e.end.y,"options.end.y",["number"]),Ye(e.thickness,"options.thickness",["number"]),Ye(e.color,"options.color",[[Object,"Color"]]),Ye(e.dashArray,"options.dashArray",[Array]),Ye(e.dashPhase,"options.dashPhase",["number"]),bi(e.lineCap,"options.lineCap",Vh),to(e.opacity,"opacity.opacity",0,1),bi(e.blendMode,"options.blendMode",El);var l=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=Fr(0,0,0));var c=this.getContentStream();c.push.apply(c,Zpe({start:e.start,end:e.end,thickness:(r=e.thickness)!==null&&r!==void 0?r:1,color:(n=e.color)!==null&&n!==void 0?n:void 0,dashArray:(s=e.dashArray)!==null&&s!==void 0?s:void 0,dashPhase:(i=e.dashPhase)!==null&&i!==void 0?i:void 0,lineCap:(o=e.lineCap)!==null&&o!==void 0?o:void 0,graphicsState:l}))},t.prototype.drawRectangle=function(e){var r,n,s,i,o,l,c,d,u,h,f,m,x;e===void 0&&(e={}),Ye(e.x,"options.x",["number"]),Ye(e.y,"options.y",["number"]),Ye(e.width,"options.width",["number"]),Ye(e.height,"options.height",["number"]),Ye(e.rotate,"options.rotate",[[Object,"Rotation"]]),Ye(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),Ye(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Ye(e.borderWidth,"options.borderWidth",["number"]),Ye(e.color,"options.color",[[Object,"Color"]]),to(e.opacity,"opacity.opacity",0,1),Ye(e.borderColor,"options.borderColor",[[Object,"Color"]]),Ye(e.borderDashArray,"options.borderDashArray",[Array]),Ye(e.borderDashPhase,"options.borderDashPhase",["number"]),bi(e.borderLineCap,"options.borderLineCap",Vh),to(e.borderOpacity,"options.borderOpacity",0,1),bi(e.blendMode,"options.blendMode",El);var p=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=Fr(0,0,0));var v=this.getContentStream();v.push.apply(v,Ff({x:(r=e.x)!==null&&r!==void 0?r:this.x,y:(n=e.y)!==null&&n!==void 0?n:this.y,width:(s=e.width)!==null&&s!==void 0?s:150,height:(i=e.height)!==null&&i!==void 0?i:100,rotate:(o=e.rotate)!==null&&o!==void 0?o:Bt(0),xSkew:(l=e.xSkew)!==null&&l!==void 0?l:Bt(0),ySkew:(c=e.ySkew)!==null&&c!==void 0?c:Bt(0),borderWidth:(d=e.borderWidth)!==null&&d!==void 0?d:0,color:(u=e.color)!==null&&u!==void 0?u:void 0,borderColor:(h=e.borderColor)!==null&&h!==void 0?h:void 0,borderDashArray:(f=e.borderDashArray)!==null&&f!==void 0?f:void 0,borderDashPhase:(m=e.borderDashPhase)!==null&&m!==void 0?m:void 0,graphicsState:p,borderLineCap:(x=e.borderLineCap)!==null&&x!==void 0?x:void 0}))},t.prototype.drawSquare=function(e){e===void 0&&(e={});var r=e.size;Ye(r,"size",["number"]),this.drawRectangle(Ht(Ht({},e),{width:r,height:r}))},t.prototype.drawEllipse=function(e){var r,n,s,i,o,l,c,d,u,h,f;e===void 0&&(e={}),Ye(e.x,"options.x",["number"]),Ye(e.y,"options.y",["number"]),Ye(e.xScale,"options.xScale",["number"]),Ye(e.yScale,"options.yScale",["number"]),Ye(e.rotate,"options.rotate",[[Object,"Rotation"]]),Ye(e.color,"options.color",[[Object,"Color"]]),to(e.opacity,"opacity.opacity",0,1),Ye(e.borderColor,"options.borderColor",[[Object,"Color"]]),to(e.borderOpacity,"options.borderOpacity",0,1),Ye(e.borderWidth,"options.borderWidth",["number"]),Ye(e.borderDashArray,"options.borderDashArray",[Array]),Ye(e.borderDashPhase,"options.borderDashPhase",["number"]),bi(e.borderLineCap,"options.borderLineCap",Vh),bi(e.blendMode,"options.blendMode",El);var m=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=Fr(0,0,0));var x=this.getContentStream();x.push.apply(x,SA({x:(r=e.x)!==null&&r!==void 0?r:this.x,y:(n=e.y)!==null&&n!==void 0?n:this.y,xScale:(s=e.xScale)!==null&&s!==void 0?s:100,yScale:(i=e.yScale)!==null&&i!==void 0?i:100,rotate:(o=e.rotate)!==null&&o!==void 0?o:void 0,color:(l=e.color)!==null&&l!==void 0?l:void 0,borderColor:(c=e.borderColor)!==null&&c!==void 0?c:void 0,borderWidth:(d=e.borderWidth)!==null&&d!==void 0?d:0,borderDashArray:(u=e.borderDashArray)!==null&&u!==void 0?u:void 0,borderDashPhase:(h=e.borderDashPhase)!==null&&h!==void 0?h:void 0,borderLineCap:(f=e.borderLineCap)!==null&&f!==void 0?f:void 0,graphicsState:m}))},t.prototype.drawCircle=function(e){e===void 0&&(e={});var r=e.size,n=r===void 0?100:r;Ye(n,"size",["number"]),this.drawEllipse(Ht(Ht({},e),{xScale:n,yScale:n}))},t.prototype.setOrEmbedFont=function(e){var r=this.font,n=this.fontKey;e?this.setFont(e):this.getFont();var s=this.font,i=this.fontKey;return{oldFont:r,oldFontKey:n,newFont:s,newFontKey:i}},t.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(ig.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},t.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},t.prototype.getContentStream=function(e){return e===void 0&&(e=!0),e&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},t.prototype.createContentStream=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.doc.context.obj({}),s=fx.of(n,e);return s},t.prototype.maybeEmbedGraphicsState=function(e){var r=e.opacity,n=e.borderOpacity,s=e.blendMode;if(!(r===void 0&&n===void 0&&s===void 0)){var i=this.doc.context.obj({Type:"ExtGState",ca:r,CA:n,BM:s}),o=this.node.newExtGState("GS",i);return o}},t.prototype.scaleAnnot=function(e,r,n){for(var s=["RD","CL","Vertices","QuadPoints","L","Rect"],i=0,o=s.length;i<o;i++){var l=e.lookup(de.of(s[i]));l instanceof Tr&&l.scalePDFNumbers(r,n)}var c=e.lookup(de.of("InkList"));if(c instanceof Tr)for(var i=0,o=c.size();i<o;i++){var d=c.lookup(i);d instanceof Tr&&d.scalePDFNumbers(r,n)}},t.of=function(e,r,n){return new t(e,r,n)},t.create=function(e){Ie(e,"doc",[[pd,"PDFDocument"]]);var r=Vr.of(-1),n=Bl.withContextAndParent(e.context,r),s=e.context.register(n);return new t(n,s,e)},t}(),jy=function(t){Je(e,t);function e(r,n,s){var i=t.call(this,r,n,s)||this;return Ie(r,"acroButton",[[Zj,"PDFAcroPushButton"]]),i.acroField=r,i}return e.prototype.setImage=function(r,n){n===void 0&&(n=ed.Center);for(var s=this.acroField.getWidgets(),i=0,o=s.length;i<o;i++){var l=s[i],c=this.createImageAppearanceStream(l,r,n);this.updateWidgetAppearances(l,{normal:c})}this.markAsClean()},e.prototype.setFontSize=function(r){Gj(r,"fontSize"),this.acroField.setFontSize(r),this.markAsDirty()},e.prototype.addToPage=function(r,n,s){var i,o,l,c,d,u,h,f,m,x,p;Ye(r,"text",["string"]),Ye(n,"page",[[Ci,"PDFPage"]]),Sm(s);var v=this.createWidget({x:((i=s?.x)!==null&&i!==void 0?i:0)-((o=s?.borderWidth)!==null&&o!==void 0?o:0)/2,y:((l=s?.y)!==null&&l!==void 0?l:0)-((c=s?.borderWidth)!==null&&c!==void 0?c:0)/2,width:(d=s?.width)!==null&&d!==void 0?d:100,height:(u=s?.height)!==null&&u!==void 0?u:50,textColor:(h=s?.textColor)!==null&&h!==void 0?h:Fr(0,0,0),backgroundColor:(f=s?.backgroundColor)!==null&&f!==void 0?f:Fr(.75,.75,.75),borderColor:s?.borderColor,borderWidth:(m=s?.borderWidth)!==null&&m!==void 0?m:0,rotate:(x=s?.rotate)!==null&&x!==void 0?x:Bt(0),caption:r,hidden:s?.hidden,page:n.ref}),g=this.doc.context.register(v.dict);this.acroField.addWidget(g);var w=(p=s?.font)!==null&&p!==void 0?p:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(v,w),n.node.addAnnot(g)},e.prototype.needsAppearancesUpdate=function(){var r;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),s=0,i=n.length;s<i;s++){var o=n[s],l=((r=o.getAppearances())===null||r===void 0?void 0:r.normal)instanceof ti;if(!l)return!0}return!1},e.prototype.defaultUpdateAppearances=function(r){Ie(r,"font",[[ii,"PDFFont"]]),this.updateAppearances(r)},e.prototype.updateAppearances=function(r,n){Ie(r,"font",[[ii,"PDFFont"]]),Ye(n,"provider",[Function]);for(var s=this.acroField.getWidgets(),i=0,o=s.length;i<o;i++){var l=s[i];this.updateWidgetAppearance(l,r,n)}},e.prototype.updateWidgetAppearance=function(r,n,s){var i=s??jxe,o=Em(i(this,r,n));this.updateWidgetAppearanceWithFont(r,n,o)},e.of=function(r,n,s){return new e(r,n,s)},e}(Yu),Fq={exports:{}},B2={exports:{}},$2,p4;function _xe(){if(p4)return $2;p4=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $2=t,$2}var U2,x4;function Rxe(){if(x4)return U2;x4=1;var t=_xe();function e(){}function r(){}return r.resetWarningCache=e,U2=function(){function n(o,l,c,d,u,h){if(h!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},U2}var g4;function Dq(){return g4||(g4=1,B2.exports=Rxe()()),B2.exports}/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function Tu(t,e,r){this.x=t,this.y=e,this.time=r||new Date().getTime()}Tu.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};Tu.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};Tu.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function tO(t,e,r,n){this.startPoint=t,this.control1=e,this.control2=r,this.endPoint=n}tO.prototype.length=function(){for(var t=10,e=0,r=void 0,n=void 0,s=0;s<=t;s+=1){var i=s/t,o=this._point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this._point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){var c=o-r,d=l-n;e+=Math.sqrt(c*c+d*d)}r=o,n=l}return e};tO.prototype._point=function(t,e,r,n,s){return e*(1-t)*(1-t)*(1-t)+3*r*(1-t)*(1-t)*t+3*n*(1-t)*t*t+s*t*t*t};function Ixe(t,e,r){var n,s,i,o=null,l=0;r||(r={});var c=function(){l=r.leading===!1?0:Date.now(),o=null,i=t.apply(n,s),o||(n=s=null)};return function(){var d=Date.now();!l&&r.leading===!1&&(l=d);var u=e-(d-l);return n=this,s=arguments,u<=0||u>e?(o&&(clearTimeout(o),o=null),l=d,i=t.apply(n,s),o||(n=s=null)):!o&&r.trailing!==!1&&(o=setTimeout(c,u)),i}}function en(t,e){var r=this,n=e||{};this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this.throttle?this._strokeMoveUpdate=Ixe(en.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=en.prototype._strokeUpdate,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(s){s.which===1&&(r._mouseButtonDown=!0,r._strokeBegin(s))},this._handleMouseMove=function(s){r._mouseButtonDown&&r._strokeMoveUpdate(s)},this._handleMouseUp=function(s){s.which===1&&r._mouseButtonDown&&(r._mouseButtonDown=!1,r._strokeEnd(s))},this._handleTouchStart=function(s){if(s.targetTouches.length===1){var i=s.changedTouches[0];r._strokeBegin(i)}},this._handleTouchMove=function(s){s.preventDefault();var i=s.targetTouches[0];r._strokeMoveUpdate(i)},this._handleTouchEnd=function(s){var i=s.target===r._canvas;i&&(s.preventDefault(),r._strokeEnd(s))},this.on()}en.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};en.prototype.fromDataURL=function(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=new Image,s=r.ratio||window.devicePixelRatio||1,i=r.width||this._canvas.width/s,o=r.height||this._canvas.height/s;this._reset(),n.src=t,n.onload=function(){e._ctx.drawImage(n,0,0,i,o)},this._isEmpty=!1};en.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var r=arguments.length,n=Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return(e=this._canvas).toDataURL.apply(e,[t].concat(n))}};en.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};en.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};en.prototype.isEmpty=function(){return this._isEmpty};en.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};en.prototype._strokeUpdate=function(t){var e=t.clientX,r=t.clientY,n=this._createPoint(e,r),s=this._data[this._data.length-1],i=s&&s[s.length-1],o=i&&n.distanceTo(i)<this.minDistance;if(!(i&&o)){var l=this._addPoint(n),c=l.curve,d=l.widths;c&&d&&this._drawCurve(c,d.start,d.end),this._data[this._data.length-1].push({x:n.x,y:n.y,time:n.time,color:this.penColor})}};en.prototype._strokeEnd=function(t){var e=this.points.length>2,r=this.points[0];if(!e&&r&&this._drawDot(r),r){var n=this._data[this._data.length-1],s=n[n.length-1];r.equals(s)||n.push({x:r.x,y:r.y,time:r.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};en.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};en.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};en.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};en.prototype._createPoint=function(t,e,r){var n=this._canvas.getBoundingClientRect();return new Tu(t-n.left,e-n.top,r||new Date().getTime())};en.prototype._addPoint=function(t){var e=this.points,r=void 0;if(e.push(t),e.length>2){e.length===3&&e.unshift(e[0]),r=this._calculateCurveControlPoints(e[0],e[1],e[2]);var n=r.c2;r=this._calculateCurveControlPoints(e[1],e[2],e[3]);var s=r.c1,i=new tO(e[1],n,s,e[2]),o=this._calculateCurveWidths(i);return e.shift(),{curve:i,widths:o}}return{}};en.prototype._calculateCurveControlPoints=function(t,e,r){var n=t.x-e.x,s=t.y-e.y,i=e.x-r.x,o=e.y-r.y,l={x:(t.x+e.x)/2,y:(t.y+e.y)/2},c={x:(e.x+r.x)/2,y:(e.y+r.y)/2},d=Math.sqrt(n*n+s*s),u=Math.sqrt(i*i+o*o),h=l.x-c.x,f=l.y-c.y,m=u/(d+u),x={x:c.x+h*m,y:c.y+f*m},p=e.x-x.x,v=e.y-x.y;return{c1:new Tu(l.x+p,l.y+v),c2:new Tu(c.x+p,c.y+v)}};en.prototype._calculateCurveWidths=function(t){var e=t.startPoint,r=t.endPoint,n={start:null,end:null},s=this.velocityFilterWeight*r.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(s);return n.start=this._lastWidth,n.end=i,this._lastVelocity=s,this._lastWidth=i,n};en.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};en.prototype._drawPoint=function(t,e,r){var n=this._ctx;n.moveTo(t,e),n.arc(t,e,r,0,2*Math.PI,!1),this._isEmpty=!1};en.prototype._drawCurve=function(t,e,r){var n=this._ctx,s=r-e,i=Math.floor(t.length());n.beginPath();for(var o=0;o<i;o+=1){var l=o/i,c=l*l,d=c*l,u=1-l,h=u*u,f=h*u,m=f*t.startPoint.x;m+=3*h*l*t.control1.x,m+=3*u*c*t.control2.x,m+=d*t.endPoint.x;var x=f*t.startPoint.y;x+=3*h*l*t.control1.y,x+=3*u*c*t.control2.y,x+=d*t.endPoint.y;var p=e+d*s;this._drawPoint(m,x,p)}n.closePath(),n.fill()};en.prototype._drawDot=function(t){var e=this._ctx,r=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,r),e.closePath(),e.fill()};en.prototype._fromData=function(t,e,r){for(var n=0;n<t.length;n+=1){var s=t[n];if(s.length>1)for(var i=0;i<s.length;i+=1){var o=s[i],l=new Tu(o.x,o.y,o.time),c=o.color;if(i===0)this.penColor=c,this._reset(),this._addPoint(l);else if(i!==s.length-1){var d=this._addPoint(l),u=d.curve,h=d.widths;u&&h&&e(u,h,c)}}else{this._reset();var f=s[0];r(f)}}};en.prototype._toSVG=function(){var t=this,e=this._data,r=this._canvas,n=Math.max(window.devicePixelRatio||1,1),s=0,i=0,o=r.width/n,l=r.height/n,c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttributeNS(null,"width",r.width),c.setAttributeNS(null,"height",r.height),this._fromData(e,function(g,w,N){var j=document.createElement("path");if(!isNaN(g.control1.x)&&!isNaN(g.control1.y)&&!isNaN(g.control2.x)&&!isNaN(g.control2.y)){var b="M "+g.startPoint.x.toFixed(3)+","+g.startPoint.y.toFixed(3)+" "+("C "+g.control1.x.toFixed(3)+","+g.control1.y.toFixed(3)+" ")+(g.control2.x.toFixed(3)+","+g.control2.y.toFixed(3)+" ")+(g.endPoint.x.toFixed(3)+","+g.endPoint.y.toFixed(3));j.setAttribute("d",b),j.setAttribute("stroke-width",(w.end*2.25).toFixed(3)),j.setAttribute("stroke",N),j.setAttribute("fill","none"),j.setAttribute("stroke-linecap","round"),c.appendChild(j)}},function(g){var w=document.createElement("circle"),N=typeof t.dotSize=="function"?t.dotSize():t.dotSize;w.setAttribute("r",N),w.setAttribute("cx",g.x),w.setAttribute("cy",g.y),w.setAttribute("fill",g.color),c.appendChild(w)});var d="data:image/svg+xml;base64,",u='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+s+" "+i+" "+o+" "+l+'"')+(' width="'+o+'"')+(' height="'+l+'"')+">",h=c.innerHTML;if(h===void 0){var f=document.createElement("dummy"),m=c.childNodes;f.innerHTML="";for(var x=0;x<m.length;x+=1)f.appendChild(m[x].cloneNode(!0));h=f.innerHTML}var p="</svg>",v=u+h+p;return d+btoa(v)};en.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(r,n){return e._drawCurve(r,n.start,n.end)},function(r){return e._drawDot(r)}),this._data=t};en.prototype.toData=function(){return this._data};const Fxe=Object.freeze(Object.defineProperty({__proto__:null,default:en},Symbol.toStringTag,{value:"Module"})),Dxe=NY(Fxe);var V2={exports:{}},v4;function Mxe(){return v4||(v4=1,function(t,e){(function(r,n){t.exports=n()})(Ah,function(){return function(r){function n(i){if(s[i])return s[i].exports;var o=s[i]={exports:{},id:i,loaded:!1};return r[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var s={};return n.m=r,n.c=s,n.p="",n(0)}([function(r,n){function s(d){var u=d.getContext("2d"),h=d.width,f=d.height,m=u.getImageData(0,0,h,f).data,x=l(!0,h,f,m),p=l(!1,h,f,m),v=c(!0,h,f,m),g=c(!1,h,f,m),w=g-v+1,N=p-x+1,j=u.getImageData(v,x,w,N);return d.width=w,d.height=N,u.clearRect(0,0,w,N),u.putImageData(j,0,0),d}function i(d,u,h,f){return{red:f[4*(h*u+d)],green:f[4*(h*u+d)+1],blue:f[4*(h*u+d)+2],alpha:f[4*(h*u+d)+3]}}function o(d,u,h,f){return i(d,u,h,f).alpha}function l(d,u,h,f){for(var m=d?1:-1,x=d?0:h-1,p=x;d?p<h:p>-1;p+=m)for(var v=0;v<u;v++)if(o(v,p,u,f))return p;return null}function c(d,u,h,f){for(var m=d?1:-1,x=d?0:u-1,p=x;d?p<u:p>-1;p+=m)for(var v=0;v<h;v++)if(o(p,v,u,f))return p;return null}Object.defineProperty(n,"__esModule",{value:!0}),n.default=s}])})}(V2)),V2.exports}(function(t,e){(function(r,n){t.exports=n(Dq(),y,Dxe,Mxe())})(Ah,function(r,n,s,i){return function(o){function l(d){if(c[d])return c[d].exports;var u=c[d]={exports:{},id:d,loaded:!1};return o[d].call(u.exports,u,u.exports,l),u.loaded=!0,u.exports}var c={};return l.m=o,l.c=c,l.p="",l(0)}([function(o,l,c){function d(P){return P&&P.__esModule?P:{default:P}}function u(P,O){var k={};for(var L in P)O.indexOf(L)>=0||Object.prototype.hasOwnProperty.call(P,L)&&(k[L]=P[L]);return k}function h(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function f(P,O){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?P:O}function m(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(P,O):P.__proto__=O)}Object.defineProperty(l,"__esModule",{value:!0});var x=Object.assign||function(P){for(var O=1;O<arguments.length;O++){var k=arguments[O];for(var L in k)Object.prototype.hasOwnProperty.call(k,L)&&(P[L]=k[L])}return P},p=function(){function P(O,k){for(var L=0;L<k.length;L++){var R=k[L];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}}return function(O,k,L){return k&&P(O.prototype,k),L&&P(O,L),O}}(),v=c(1),g=d(v),w=c(2),N=d(w),j=c(3),b=d(j),S=c(4),A=d(S),E=function(P){function O(){var k,L,R,_;h(this,O);for(var B=arguments.length,I=Array(B),C=0;C<B;C++)I[C]=arguments[C];return L=R=f(this,(k=O.__proto__||Object.getPrototypeOf(O)).call.apply(k,[this].concat(I))),R._sigPad=null,R._excludeOurProps=function(){var D=R.props,W=(D.canvasProps,D.clearOnResize,u(D,["canvasProps","clearOnResize"]));return W},R.getCanvas=function(){return R._canvas},R.getTrimmedCanvas=function(){var D=document.createElement("canvas");return D.width=R._canvas.width,D.height=R._canvas.height,D.getContext("2d").drawImage(R._canvas,0,0),(0,A.default)(D)},R.getSignaturePad=function(){return R._sigPad},R._checkClearOnResize=function(){R.props.clearOnResize&&R._resizeCanvas()},R._resizeCanvas=function(){var D=R.props.canvasProps||{},W=D.width,K=D.height;if(!W||!K){var H=R._canvas,G=Math.max(window.devicePixelRatio||1,1);W||(H.width=H.offsetWidth*G),K||(H.height=H.offsetHeight*G),H.getContext("2d").scale(G,G),R.clear()}},R.on=function(){return window.addEventListener("resize",R._checkClearOnResize),R._sigPad.on()},R.off=function(){return window.removeEventListener("resize",R._checkClearOnResize),R._sigPad.off()},R.clear=function(){return R._sigPad.clear()},R.isEmpty=function(){return R._sigPad.isEmpty()},R.fromDataURL=function(D,W){return R._sigPad.fromDataURL(D,W)},R.toDataURL=function(D,W){return R._sigPad.toDataURL(D,W)},R.fromData=function(D){return R._sigPad.fromData(D)},R.toData=function(){return R._sigPad.toData()},_=L,f(R,_)}return m(O,P),p(O,[{key:"componentDidMount",value:function(){this._sigPad=new b.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var k=this,L=this.props.canvasProps;return N.default.createElement("canvas",x({ref:function(R){k._canvas=R}},L))}}]),O}(w.Component);E.propTypes={velocityFilterWeight:g.default.number,minWidth:g.default.number,maxWidth:g.default.number,minDistance:g.default.number,dotSize:g.default.oneOfType([g.default.number,g.default.func]),penColor:g.default.string,throttle:g.default.number,onEnd:g.default.func,onBegin:g.default.func,canvasProps:g.default.object,clearOnResize:g.default.bool},E.defaultProps={clearOnResize:!0},l.default=E},function(o,l){o.exports=r},function(o,l){o.exports=n},function(o,l){o.exports=s},function(o,l){o.exports=i}])})})(Fq);var Lxe=Fq.exports;const Bxe=Mr(Lxe);var z2="rovingFocusGroup.onEntryFocus",$xe={bubbles:!1,cancelable:!0},E0="RovingFocusGroup",[PA,Mq,Uxe]=Qg(E0),[Vxe,Am]=Da(E0,[Uxe]),[zxe,Wxe]=Vxe(E0),Lq=y.forwardRef((t,e)=>a.jsx(PA.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(PA.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(qxe,{...t,ref:e})})}));Lq.displayName=E0;var qxe=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=y.useRef(null),m=sr(e,f),x=gm(i),[p,v]=ni({prop:o,defaultProp:l??null,onChange:c,caller:E0}),[g,w]=y.useState(!1),N=gs(d),j=Mq(r),b=y.useRef(!1),[S,A]=y.useState(0);return y.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(z2,N),()=>E.removeEventListener(z2,N)},[N]),a.jsx(zxe,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:p,onItemFocus:y.useCallback(E=>v(E),[v]),onItemShiftTab:y.useCallback(()=>w(!0),[]),onFocusableItemAdd:y.useCallback(()=>A(E=>E+1),[]),onFocusableItemRemove:y.useCallback(()=>A(E=>E-1),[]),children:a.jsx(pt.div,{tabIndex:g||S===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:at(t.onMouseDown,()=>{b.current=!0}),onFocus:at(t.onFocus,E=>{const P=!b.current;if(E.target===E.currentTarget&&P&&!g){const O=new CustomEvent(z2,$xe);if(E.currentTarget.dispatchEvent(O),!O.defaultPrevented){const k=j().filter(I=>I.focusable),L=k.find(I=>I.active),R=k.find(I=>I.id===p),B=[L,R,...k].filter(Boolean).map(I=>I.ref.current);Uq(B,u)}}b.current=!1}),onBlur:at(t.onBlur,()=>w(!1))})})}),Bq="RovingFocusGroupItem",$q=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=t,c=na(),d=i||c,u=Wxe(Bq,r),h=u.currentTabStopId===d,f=Mq(r),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:p}=u;return y.useEffect(()=>{if(n)return m(),()=>x()},[n,m,x]),a.jsx(PA.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:a.jsx(pt.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:e,onMouseDown:at(t.onMouseDown,v=>{n?u.onItemFocus(d):v.preventDefault()}),onFocus:at(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:at(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=Kxe(v,u.orientation,u.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let N=f().filter(j=>j.focusable).map(j=>j.ref.current);if(g==="last")N.reverse();else if(g==="prev"||g==="next"){g==="prev"&&N.reverse();const j=N.indexOf(v.currentTarget);N=u.loop?Xxe(N,j+1):N.slice(j+1)}setTimeout(()=>Uq(N))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});$q.displayName=Bq;var Hxe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Gxe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Kxe(t,e,r){const n=Gxe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Hxe[n]}function Uq(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Xxe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var rO=Lq,nO=$q,aO="Radio",[Yxe,Vq]=Da(aO),[Qxe,Zxe]=Yxe(aO),zq=y.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=t,[h,f]=y.useState(null),m=sr(e,v=>f(v)),x=y.useRef(!1),p=h?d||!!h.closest("form"):!0;return a.jsxs(Qxe,{scope:r,checked:s,disabled:o,children:[a.jsx(pt.button,{type:"button",role:"radio","aria-checked":s,"data-state":Gq(s),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:m,onClick:at(t.onClick,v=>{s||c?.(),p&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),p&&a.jsx(Hq,{control:h,bubbles:!x.current,name:n,value:l,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});zq.displayName=aO;var Wq="RadioIndicator",qq=y.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...s}=t,i=Zxe(Wq,r);return a.jsx(as,{present:n||i.checked,children:a.jsx(pt.span,{"data-state":Gq(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});qq.displayName=Wq;var Jxe="RadioBubbleInput",Hq=y.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...s},i)=>{const o=y.useRef(null),l=sr(o,i),c=XP(r),d=DP(e);return y.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&m){const x=new Event("click",{bubbles:n});m.call(u,r),u.dispatchEvent(x)}},[c,r,n]),a.jsx(pt.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Hq.displayName=Jxe;function Gq(t){return t?"checked":"unchecked"}var ege=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],o1="RadioGroup",[tge]=Da(o1,[Am,Vq]),Kq=Am(),Xq=Vq(),[rge,nge]=tge(o1),Yq=y.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...f}=t,m=Kq(r),x=gm(d),[p,v]=ni({prop:i,defaultProp:s??null,onChange:h,caller:o1});return a.jsx(rge,{scope:r,name:n,required:o,disabled:l,value:p,onValueChange:v,children:a.jsx(rO,{asChild:!0,...m,orientation:c,dir:x,loop:u,children:a.jsx(pt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...f,ref:e})})})});Yq.displayName=o1;var Qq="RadioGroupItem",Zq=y.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...s}=t,i=nge(Qq,r),o=i.disabled||n,l=Kq(r),c=Xq(r),d=y.useRef(null),u=sr(e,d),h=i.value===s.value,f=y.useRef(!1);return y.useEffect(()=>{const m=p=>{ege.includes(p.key)&&(f.current=!0)},x=()=>f.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",x)}},[]),a.jsx(nO,{asChild:!0,...l,focusable:!o,active:h,children:a.jsx(zq,{disabled:o,required:i.required,checked:h,...c,...s,name:i.name,ref:u,onCheck:()=>i.onValueChange(s.value),onKeyDown:at(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:at(s.onFocus,()=>{f.current&&d.current?.click()})})})});Zq.displayName=Qq;var age="RadioGroupIndicator",Jq=y.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,s=Xq(r);return a.jsx(qq,{...s,...n,ref:e})});Jq.displayName=age;var e7=Yq,t7=Zq,sge=Jq;const r7=y.forwardRef(({className:t,...e},r)=>a.jsx(e7,{className:_e("grid gap-2",t),...e,ref:r}));r7.displayName=e7.displayName;const Ny=y.forwardRef(({className:t,...e},r)=>a.jsx(t7,{ref:r,className:_e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(sge,{className:"flex items-center justify-center",children:a.jsx(sU,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ny.displayName=t7.displayName;var l1="Tabs",[ige]=Da(l1,[Am]),n7=Am(),[oge,sO]=ige(l1),a7=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=gm(l),[h,f]=ni({prop:n,onChange:s,defaultProp:i??"",caller:l1});return a.jsx(oge,{scope:r,baseId:na(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:a.jsx(pt.div,{dir:u,"data-orientation":o,...d,ref:e})})});a7.displayName=l1;var s7="TabsList",i7=y.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=sO(s7,r),o=n7(r);return a.jsx(rO,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(pt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});i7.displayName=s7;var o7="TabsTrigger",l7=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,o=sO(o7,r),l=n7(r),c=u7(o.baseId,n),d=h7(o.baseId,n),u=n===o.value;return a.jsx(nO,{asChild:!0,...l,focusable:!s,active:u,children:a.jsx(pt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:at(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:at(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:at(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(n)})})})});l7.displayName=o7;var c7="TabsContent",d7=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=t,l=sO(c7,r),c=u7(l.baseId,n),d=h7(l.baseId,n),u=n===l.value,h=y.useRef(u);return y.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(as,{present:s||u,children:({present:f})=>a.jsx(pt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});d7.displayName=c7;function u7(t,e){return`${t}-trigger-${e}`}function h7(t,e){return`${t}-content-${e}`}var lge=a7,f7=i7,m7=l7,p7=d7;const cge=lge,x7=y.forwardRef(({className:t,...e},r)=>a.jsx(f7,{ref:r,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));x7.displayName=f7.displayName;const TA=y.forwardRef(({className:t,...e},r)=>a.jsx(m7,{ref:r,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));TA.displayName=m7.displayName;const OA=y.forwardRef(({className:t,...e},r)=>a.jsx(p7,{ref:r,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));OA.displayName=p7.displayName;const g7="4.8.69",v7=`https://unpkg.com/pdfjs-dist@${g7}/build/pdf.worker.min.mjs`;Mj.workerSrc=v7;console.log(" PDF worker configured:",v7);console.log("   Worker version:",g7);const y4=Ma({owner:ge().min(1,"Owner name is required").max(20,"Max 20 characters"),firstName:ge().min(1,"First name is required").max(50,"First name must be 50 characters or less"),lastName:ge().min(1,"Last name is required").max(50,"Last name must be 50 characters or less"),phone:ge().min(1,"Phone number is required").max(20,"Phone number must be 20 characters or less"),email:ge().min(1,"Email is required").email("Invalid email format").max(100,"Email must be 100 characters or less"),vehicleMake:ge().min(1,"Vehicle make is required").max(50,"Vehicle make must be 50 characters or less"),vehicleModel:ge().min(1,"Vehicle model is required").max(50,"Vehicle model must be 50 characters or less"),vehicleTrim:ge().max(50,"Vehicle trim must be 50 characters or less").optional().or(Qo("")),exteriorColor:ge().min(1,"Exterior color is required").max(30,"Exterior color must be 30 characters or less"),interiorColor:ge().max(30,"Interior color must be 30 characters or less").optional().or(Qo("")),licensePlate:ge().min(1,"License plate is required").max(20,"License plate must be 20 characters or less"),vin:ge().length(17,"VIN number must be exactly 17 characters"),modelYear:ge().min(1,"Year is required").max(4,"Year must be 4 characters or less"),fuelType:ge().max(20,"Fuel type must be 20 characters or less").optional().or(Qo("")),expectedStartDate:ge().min(1,"Estimated Start Date is required"),vehicleMileage:ge().max(10,"Mileage must be 10 characters or less").optional().or(Qo("")),contractDate:ge().min(1,"Contract date is required"),vehicleOwner:ge().min(1,"Vehicle owner is required").max(50,"Vehicle owner must be 50 characters or less")});function b4(t,e=20){if(!t||t.length<=e)return[t];const r=[];let n=t;for(;n.length>0;){if(n.length<=e){r.push(n);break}let s=e;const o=n.substring(0,e+1).lastIndexOf(" ");o>0&&o>=e*.5&&(s=o),r.push(n.substring(0,s).trim()),n=n.substring(s).trim()}return r}const W2={owner:{page:1,x:300,y:618},firstName:{page:1,x:144,y:386},lastName:{page:1,x:360,y:386},phone:{page:1,x:144,y:361},email:{page:1,x:360,y:361},vehicleMake:{page:1,x:114,y:311},vehicleModel:{page:1,x:300,y:311},vehicleTrim:{page:1,x:440,y:311},exteriorColor:{page:1,x:150,y:282},interiorColor:{page:1,x:330,y:282},licensePlate:{page:1,x:470,y:282},vin:{page:1,x:105,y:256},modelYear:{page:1,x:290,y:256},fuelType:{page:1,x:455,y:256},expectedStartDate:{page:2,x:170,y:496},vehicleMileage:{page:3,x:190,y:191},contractDate:{page:11,x:260,y:343},vehicleOwner:{page:11,x:345,y:263}},pi={page:11,right:{x:340,y:130}},w4={agreeMaintainInsurance:{page:10,x:80,y:348},agreeSplit730:{page:10,x:80,y:308},agreeParkingFee:{page:10,x:80,y:288},agreeCleaningFee:{page:10,x:80,y:268},agreeCarWashFee:{page:10,x:80,y:248},agreeOwnerReimbursesExpenses:{page:10,x:80,y:210},payment_735:{page:10,x:80,y:140},payment_357:{page:10,x:80,y:105},payment_exitFee:{page:11,x:80,y:715},optionalTintRoamy:{page:11,x:80,y:640},optionalGpsMonthly:{page:11,x:80,y:620},optionalGpsInstall:{page:11,x:80,y:600},optionalAirportDelivery:{page:11,x:80,y:580},optionalHomePickup:{page:11,x:80,y:560},authorizeRelocation:{page:11,x:80,y:485},authorizeOtherPlatforms:{page:11,x:80,y:450},authorizeChauffeurUse:{page:11,x:80,y:415}};async function dge(t){return new Promise((e,r)=>{const n=document.createElement("canvas"),s=n.getContext("2d");if(!s){r(new Error("Could not get canvas context"));return}n.width=400,n.height=100,s.font="24pt 'Dancing Script', cursive",s.fillStyle="black",s.textBaseline="middle",s.textAlign="left";const o=s.measureText(t).width,l=(n.width-o)/2,c=n.height/2;s.fillText(t,l,c);const d=n.toDataURL("image/png");e(d)})}async function uge(){return new Promise((t,e)=>{const r=document.createElement("canvas"),n=r.getContext("2d");if(!n){e(new Error("Could not get canvas context"));return}r.width=24,r.height=24,n.font="bold 12px Arial, Helvetica, sans-serif",n.fillStyle="black",n.textBaseline="middle",n.textAlign="center";const s=r.width/2,i=r.height/2;n.fillText("",s,i);const o=r.toDataURL("image/png");t(o)})}function hge({pdfUrl:t,onboardingData:e,onSubmit:r,onDecline:n}){const[s,i]=y.useState(0),[o,l]=y.useState(1),[c,d]=y.useState(1),[u,h]=y.useState(null),[f,m]=y.useState(null),[x,p]=y.useState(!1),[v,g]=y.useState(null),[w,N]=y.useState(!0),[j,b]=y.useState(null),[S,A]=y.useState(!1),[E,P]=y.useState([]),O=y.useRef([]),k=y.useRef("typed"),L=y.useRef(""),R=y.useRef(null);y.useRef(new Map);const[_,B]=y.useState([{name:"owner",label:"Owner Name",value:e?`${e.firstNameOwner||""} ${e.lastNameOwner||""}`.trim():"",required:!0,maxLength:20},{name:"firstName",label:"First Name",value:e?.firstNameOwner||"",required:!0,maxLength:50},{name:"lastName",label:"Last Name",value:e?.lastNameOwner||"",required:!0,maxLength:50},{name:"phone",label:"Mobile Phone Number",value:e?.phoneOwner||"",required:!0,type:"tel",maxLength:20},{name:"email",label:"Email",value:e?.emailOwner||"",required:!0,type:"email",maxLength:100},{name:"vehicleMake",label:"Vehicle Make",value:e?.vehicleMake||"",required:!0,maxLength:50},{name:"vehicleModel",label:"Vehicle Model",value:e?.vehicleModel||"",required:!0,maxLength:50},{name:"vehicleTrim",label:"Vehicle Trim",value:e?.vehicleTrim||"",required:!1,maxLength:50},{name:"exteriorColor",label:"Exterior Color",value:e?.exteriorColor||"",required:!0,maxLength:30},{name:"interiorColor",label:"Interior Color",value:e?.interiorColor||"",required:!1,maxLength:30},{name:"licensePlate",label:"License Plate",value:e?.licensePlate||"",required:!0,maxLength:20},{name:"vin",label:"VIN Number",value:e?.vinNumber||"",required:!0,maxLength:17},{name:"modelYear",label:"Year",value:e?.vehicleYear||"",required:!0,maxLength:4},{name:"fuelType",label:"Fuel Type",value:e?.fuelType||"",required:!1,maxLength:20},{name:"expectedStartDate",label:"Estimated Start Date",value:e?.expectedStartDate||"",required:!0,type:"date"},{name:"vehicleMileage",label:"Vehicle Mileage",value:e?.vehicleMiles||"",required:!1,maxLength:10},{name:"contractDate",label:"Contract Date",value:new Date().toLocaleDateString(),required:!0},{name:"vehicleOwner",label:"Vehicle Owner",value:e?`${e.firstNameOwner||""} ${e.lastNameOwner||""}`.trim():"",required:!0,maxLength:50}]),[I,C]=y.useState("typed"),[D,W]=y.useState(""),[K,H]=y.useState(!1),[G,ee]=y.useState(!1),[Q,te]=y.useState(!1),[U,q]=y.useState(!1),[ne,fe]=y.useState(!1),[pe,ye]=y.useState(!1),[Z,Ne]=y.useState(""),[J,le]=y.useState(!1),[we,De]=y.useState(!1),[ue,Y]=y.useState(!1),[V,$]=y.useState(!1),[X,me]=y.useState(!1),[z,T]=y.useState(!1),[M,re]=y.useState(!1),[oe,ce]=y.useState(!1),[Ee,se]=y.useState(!1),[be,Le]=y.useState(!1),{toast:Me}=kr();y.useEffect(()=>{O.current=_},[_]),y.useEffect(()=>{k.current=I},[I]),y.useEffect(()=>{L.current=D},[D]),y.useEffect(()=>{async function $e(){N(!0),g(null);try{const Nt=await fetch(t);if(!Nt.ok)throw new Error(`Failed to load PDF: ${Nt.status} ${Nt.statusText}`);const ut=await Nt.arrayBuffer(),nt=new Uint8Array(ut);h(nt);const lr=new Blob([nt],{type:"application/pdf"}),wn=URL.createObjectURL(lr);m(wn),N(!1)}catch(Nt){console.error("Error loading PDF:",Nt);const ut=Nt instanceof Error?Nt.message:"Failed to load contract template";g(ut),N(!1),Me({title:"Error",description:ut,variant:"destructive"})}}$e()},[t,Me]),y.useEffect(()=>()=>{f&&URL.revokeObjectURL(f)},[f]);const lt=y.useMemo(()=>({cMapPacked:!0,httpHeaders:{Accept:"application/pdf"}}),[]),[qt,Lr]=y.useState(new Map),F=y.useCallback(($e,Nt,ut)=>{const nt=qt.get(ut);if(!nt)return{x:0,y:0};const lr=$e*c,wn=(nt.height-Nt)*c;return{x:lr,y:wn}},[qt,c]),Re=y.useCallback(($e,Nt,ut)=>{const nt=qt.get(ut);if(!nt||c===0)return{x:0,y:0};const lr=$e/c,wn=nt.height-Nt/c;return{x:lr,y:wn}},[qt,c]),Oe=y.useCallback(($e,Nt)=>{const{originalWidth:ut,originalHeight:nt}=$e;Lr(lr=>{const wn=new Map(lr);return wn.set(Nt,{width:ut,height:nt}),wn})},[]),Ve=y.useCallback(()=>{if(R.current&&!R.current.isEmpty()){const $e=R.current.toDataURL("image/png");b($e)}},[]),Be=y.useCallback(($e,Nt)=>{if(!S||!qt.get(Nt))return;const nt=$e.currentTarget.getBoundingClientRect(),lr=$e.clientX-nt.left,wn=$e.clientY-nt.top,fi=Re(lr,wn,Nt),Yi=window.prompt("Enter the text you want to add to the contract:");Yi&&Yi.trim()&&P(Fo=>[...Fo,{id:`${Date.now()}-${Math.random().toString(36).slice(2)}`,page:Nt,x:fi.x,y:fi.y,text:Yi.trim()}]),A(!1)},[S,qt,Re]),dt=($e,Nt)=>{console.log("handleFieldChange",$e,Nt),B(ut=>ut.map(nt=>nt.name===$e?{...nt,value:Nt,error:void 0}:nt))},_t=($e,Nt)=>{try{const ut=y4.shape[$e];ut&&ut.parse(Nt);return}catch(ut){return ut instanceof So?ut.errors[0]?.message:void 0}},Rn=($e,Nt)=>{const ut=_t($e,Nt);B(nt=>nt.map(lr=>lr.name===$e?{...lr,error:ut}:lr))},hi=$e=>{if(!$e)return"";const Nt=new Date($e);if(isNaN(Nt.getTime()))return $e;const ut=String(Nt.getMonth()+1).padStart(2,"0"),nt=String(Nt.getDate()).padStart(2,"0"),lr=Nt.getFullYear();return`${ut}/${nt}/${lr}`},Io=($e,Nt)=>{B(ut=>ut.map(nt=>nt.name===$e?{...nt,value:Nt,error:void 0}:nt))},Rt=$e=>{const ut=$e.length,nt=8;return ut<=15?340:340-(ut-15)*nt},ya=()=>{const $e={};_.forEach(ut=>{$e[ut.name]=ut.value});try{y4.parse($e)}catch(ut){if(ut instanceof So){const nt=new Map(ut.errors.map(lr=>[lr.path[0],lr.message]));return B(lr=>lr.map(wn=>({...wn,error:nt.get(wn.name)}))),Me({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"}),!1}}return I==="typed"&&!D.trim()?(Me({title:"Signature Required",description:"Please type your full name to sign",variant:"destructive"}),!1):I==="drawn"&&R.current?.isEmpty()?(Me({title:"Signature Required",description:"Please draw your signature",variant:"destructive"}),!1):K&&G&&Q&&U&&ne&&pe?Z?(se(!1),Le(!1),!0):(Le(!0),Me({title:"Payment Option Required",description:"Please select one of the payment options ($735 or $357).",variant:"destructive"}),!1):(se(!0),Me({title:"Agreement Required",description:"Please check all mandatory agreement boxes before signing (insurance, split, fees, and reimbursement).",variant:"destructive"}),!1)},SN=async()=>{if(!u)throw new Error("PDF not loaded");const $e=await pd.load(u),Nt=await $e.embedFont(ig.Helvetica),ut=$e.getPages(),nt=12,lr=14,wn=Fr(0,0,0);_.forEach(kt=>{if(kt.value&&kt.value.trim()&&W2[kt.name]){const La=W2[kt.name],Ms=La.page-1;if(Ms>=0&&Ms<ut.length){const Do=ut[Ms],Qi=kt.name==="owner",dc=kt.name==="owner"?Rt(kt.value.trim()):La.x;if(Qi)b4(kt.value.trim(),20).forEach((vY,yY)=>{Do.drawText(vY,{x:dc,y:La.y-yY*lr,size:nt,font:Nt,color:wn})});else{const L_=kt.name==="expectedStartDate"&&kt.type==="date"?hi(kt.value.trim()):kt.value.trim();Do.drawText(L_,{x:dc,y:La.y,size:nt,font:Nt,color:wn})}}}});const fi=await uge(),Yi=await $e.embedPng(fi),Fo=Yi.scale(1),Sn=kt=>{const La=w4[kt];if(!La)return;const Ms=La.page-1;if(Ms<0||Ms>=ut.length)return;const Do=ut[Ms],Qi=La.x-Fo.width/2,dc=La.y-Fo.height/2;Do.drawImage(Yi,{x:Qi,y:dc,width:Fo.width,height:Fo.height})};K&&Sn("agreeMaintainInsurance"),G&&Sn("agreeSplit730"),Q&&Sn("agreeParkingFee"),U&&Sn("agreeCleaningFee"),ne&&Sn("agreeCarWashFee"),pe&&Sn("agreeOwnerReimbursesExpenses"),Z==="735"&&Sn("payment_735"),Z==="357"&&Sn("payment_357"),Z==="exit-fee"&&Sn("payment_exitFee"),J&&Sn("optionalTintRoamy"),we&&Sn("optionalGpsMonthly"),ue&&Sn("optionalGpsInstall"),V&&Sn("optionalAirportDelivery"),X&&Sn("optionalHomePickup"),z&&Sn("authorizeRelocation"),M&&Sn("authorizeOtherPlatforms"),oe&&Sn("authorizeChauffeurUse");const ah=pi.page-1,cc=ah<ut.length?ut[ah]:ut[ut.length-1];await(async(kt,La)=>{if(I==="typed"&&D.trim()){const Ms=await dge(D),Do=await $e.embedPng(Ms),Qi=Do.scale(.4),dc=La-Qi.height/2;cc.drawImage(Do,{x:kt,y:dc,width:Qi.width,height:Qi.height})}else if(I==="drawn"&&R.current){const Ms=R.current.toDataURL("image/png");if(Ms&&!R.current.isEmpty()){const Do=await $e.embedPng(Ms),Qi=Do.scale(.4),dc=La-Qi.height/2;cc.drawImage(Do,{x:kt,y:dc,width:Qi.width,height:Qi.height})}}})(pi.right.x,pi.right.y),E.forEach(kt=>{const La=kt.page-1;if(La<0||La>=ut.length)return;ut[La].drawText(kt.text,{x:kt.x,y:kt.y,size:nt,font:Nt,color:wn})});const _d=await $e.save();return new Blob([new Uint8Array(_d)],{type:"application/pdf"})},AN=async()=>{if(ya()){p(!0);try{const $e=await SN();await r($e,I),Me({title:"Success!",description:"Thank you  agreement signed!"})}catch($e){console.error("Error signing contract:",$e),Me({title:"Error",description:$e.message||"Failed to sign contract",variant:"destructive"})}finally{p(!1)}}};return a.jsxs(a.Fragment,{children:[a.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap",rel:"stylesheet"}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-200px)]",children:[a.jsxs("div",{className:"flex-[2] flex flex-col bg-gradient-to-br from-[#2a2a2a] to-[#1f1f1f] rounded-lg border-2 border-[#EAEB80]/30 shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-[#EAEB80]/20 flex items-center justify-between bg-[#1a1a1a]",children:[a.jsx("div",{children:a.jsx("h3",{className:"text-[#EAEB80] font-semibold text-lg",children:"Contract Preview"})}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("span",{className:"text-gray-300 text-sm",children:[s," ",s===1?"page":"pages"]})})]}),a.jsx("div",{className:"flex-1 overflow-auto bg-gray-100 p-4",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[w&&a.jsxs("div",{className:"flex items-center justify-center h-[600px]",children:[a.jsx(Gt,{className:"w-8 h-8 animate-spin text-[#EAEB80]"}),a.jsx("p",{className:"ml-3 text-gray-300",children:"Loading contract document..."})]}),v&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-[600px] p-8",children:[a.jsx(pr,{className:"w-12 h-12 text-red-500 mb-4"}),a.jsx("p",{className:"text-red-500 font-semibold mb-2",children:"Failed to load contract document"}),a.jsx("p",{className:"text-gray-400 text-sm text-center max-w-md",children:v}),a.jsx(ie,{onClick:()=>{g(null),N(!0),(async()=>{try{const Nt=await fetch(t);if(!Nt.ok)throw new Error(`Failed to load PDF: ${Nt.status} ${Nt.statusText}`);const ut=await Nt.arrayBuffer(),nt=new Uint8Array(ut);h(nt),N(!1)}catch(Nt){const ut=Nt instanceof Error?Nt.message:"Failed to load contract template";g(ut),N(!1)}})()},className:"mt-4 bg-[#EAEB80] text-[#1a1a1a] hover:bg-[#f4d03f]",children:"Retry"})]}),!w&&!v&&(f||t)&&a.jsx(Nue,{file:f||t,onLoadSuccess:({numPages:$e})=>{i($e),N(!1)},onLoadError:$e=>{console.error("PDF Document load error:",$e);let Nt=$e.message||"Failed to load PDF document";if(Nt.includes("worker")||Nt.includes("pdf.worker")){console.warn(" PDF worker error detected, trying CDN fallback...");const ut=`https://unpkg.com/pdfjs-dist@${Fz}/build/pdf.worker.min.mjs`;Mj.workerSrc=ut,Nt=`Worker error: ${Nt}. Trying CDN fallback. Please refresh the page.`}g(Nt),N(!1),Me({title:"PDF Load Error",description:Nt,variant:"destructive"})},loading:a.jsx("div",{className:"flex items-center justify-center h-[600px]",children:a.jsx(Gt,{className:"w-8 h-8 animate-spin text-[#EAEB80]"})}),options:lt,children:Array.from(new Array(s),($e,Nt)=>{const ut=Nt+1;return a.jsxs("div",{className:"relative bg-white shadow-lg cursor-crosshair",onClick:nt=>Be(nt,ut),children:[a.jsx(Iue,{pageNumber:ut,scale:c,renderTextLayer:!0,renderAnnotationLayer:!0,onLoadSuccess:nt=>Oe(nt,ut)}),_.map(nt=>{const lr=W2[nt.name];if(!lr||lr.page!==ut||!nt.value)return null;const wn=nt.name==="owner"?Rt(nt.value):lr.x,fi=nt.name==="expectedStartDate"&&nt.type==="date"?hi(nt.value):nt.value,Yi=nt.name==="owner",Fo=Yi?b4(fi,20):[fi],Sn=14;return a.jsx("div",{children:Fo.map((ah,cc)=>{const L0=F(wn,Yi?lr.y-cc*Sn:lr.y,ut);return a.jsx("div",{className:"absolute pointer-events-none",style:{left:`${L0.x}px`,top:`${L0.y}px`,fontSize:`${12*c}px`,fontFamily:"Arial, Helvetica, sans-serif",color:"black",whiteSpace:"nowrap",transform:"translateY(-50%)"},children:ah},`${nt.name}-line-${cc}`)})},nt.name)}),Object.entries(w4).filter(([nt,lr])=>lr.page===ut).map(([nt,lr])=>{if(!(nt==="agreeMaintainInsurance"&&K||nt==="agreeSplit730"&&G||nt==="agreeParkingFee"&&Q||nt==="agreeCleaningFee"&&U||nt==="agreeCarWashFee"&&ne||nt==="agreeOwnerReimbursesExpenses"&&pe||nt==="payment_735"&&Z==="735"||nt==="payment_357"&&Z==="357"||nt==="payment_exitFee"&&Z==="exit-fee"||nt==="optionalTintRoamy"&&J||nt==="optionalGpsMonthly"&&we||nt==="optionalGpsInstall"&&ue||nt==="optionalAirportDelivery"&&V||nt==="optionalHomePickup"&&X||nt==="authorizeRelocation"&&z||nt==="authorizeOtherPlatforms"&&M||nt==="authorizeChauffeurUse"&&oe))return null;const fi=F(lr.x,lr.y,ut);return a.jsx("div",{className:"absolute pointer-events-none",style:{left:`${fi.x}px`,top:`${fi.y}px`,fontSize:`${12*c}px`,fontFamily:"Arial, Helvetica, sans-serif",fontWeight:"700",color:"black",transform:"translate(-50%, -50%)"},children:""},`cb-${nt}`)}),pi.page===ut&&a.jsxs(a.Fragment,{children:[I==="typed"&&D&&a.jsx("div",{className:"absolute pointer-events-none",style:{left:`${F(pi.right.x,pi.right.y,ut).x}px`,top:`${F(pi.right.x,pi.right.y,ut).y}px`,fontSize:`${24*c}px`,fontFamily:"'Dancing Script', cursive",color:"black",fontStyle:"italic",whiteSpace:"nowrap",transform:"translateY(-50%)"},children:D}),I==="drawn"&&j&&a.jsx("img",{src:j,alt:"Signature",className:"absolute pointer-events-none",style:{left:`${F(pi.right.x,pi.right.y,ut).x}px`,top:`${F(pi.right.x,pi.right.y,ut).y}px`,width:`${200*c}px`,height:"auto",transform:"translateY(-50%)",maxWidth:"none"}})]}),E.filter(nt=>nt.page===ut).map(nt=>{const lr=F(nt.x,nt.y,ut);return a.jsx("div",{className:"absolute pointer-events-none",style:{left:`${lr.x}px`,top:`${lr.y}px`,fontSize:`${12*c}px`,fontFamily:"Arial, Helvetica, sans-serif",color:"black",whiteSpace:"nowrap",transform:"translateY(-50%)"},children:nt.text},nt.id)})]},`page_${ut}`)})})]})}),a.jsx("div",{className:"p-4 border-t border-[#EAEB80]/20 flex items-center justify-center bg-[#1a1a1a]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ie,{onClick:()=>d($e=>Math.max(.5,$e-.2)),variant:"ghost",size:"sm",className:"text-[#EAEB80] font-bold",style:{fontSize:"2rem"},children:""}),a.jsxs("span",{className:"text-[#EAEB80] text-sm w-16 text-center font-semibold",children:[(c*100).toFixed(0),"%"]}),a.jsx(ie,{onClick:()=>d($e=>Math.min(2,$e+.2)),variant:"ghost",size:"sm",className:"text-[#EAEB80] font-bold",style:{fontSize:"2rem"},children:"+"})]})})]}),a.jsxs("div",{className:"flex-1 flex flex-col gap-4 overflow-y-auto",children:[a.jsxs(ft,{className:"bg-[#1a1a1a] border-[#EAEB80]/20 flex-shrink-0",children:[a.jsxs($r,{children:[a.jsx(Gr,{className:"text-[#EAEB80] text-lg",children:"Your Information"}),a.jsx(nl,{className:"text-gray-400 text-sm",children:"Fill in all required fields. The contract preview updates in real-time."})]}),a.jsx(mt,{className:"space-y-3",children:_.map($e=>{const Nt=!!$e.error,ut=$e.required&&!$e.value.trim();return $e.type==="date"&&$e.name==="expectedStartDate"?a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Se,{htmlFor:$e.name,className:"text-gray-300 text-sm",children:[$e.label,$e.required&&a.jsx("span",{className:"text-[#EAEB80] ml-1",children:"*"})]}),a.jsx(ae,{id:$e.name,type:"date",value:$e.value,onChange:nt=>Io($e.name,nt.target.value),onBlur:nt=>Rn($e.name,nt.target.value),required:$e.required,className:`bg-[#2a2a2a] border text-foreground focus:border-[#EAEB80] transition-colors ${Nt||ut?"border-red-500 focus:border-red-500":"border-[#EAEB80]/30"}`}),$e.value&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Will appear as: ",hi($e.value)]}),$e.error&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:$e.error})]},$e.name):a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Se,{htmlFor:$e.name,className:"text-gray-300 text-sm",children:[$e.label,$e.required&&a.jsx("span",{className:"text-[#EAEB80] ml-1",children:"*"}),$e.name==="owner"&&a.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"(Max 20 chars)"})]}),a.jsx(ae,{id:$e.name,type:$e.type||"text",value:$e.value,onChange:nt=>dt($e.name,nt.target.value),onBlur:nt=>Rn($e.name,nt.target.value),required:$e.required,maxLength:$e.name==="owner"?20:100,className:`bg-[#2a2a2a] border text-foreground focus:border-[#EAEB80] transition-colors ${Nt||ut?"border-red-500 focus:border-red-500":"border-[#EAEB80]/30"}`}),$e.error&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:$e.error}),$e.name==="owner"&&$e.value.length>15&&!$e.error&&a.jsxs("p",{className:"text-xs text-[#EAEB80] mt-1",children:["Long name detected - text will auto-shift left (",$e.value.length," chars)"]})]},$e.name)})})]}),a.jsxs(ft,{className:"bg-[#1a1a1a] border-[#EAEB80]/20 flex-shrink-0",children:[a.jsxs($r,{children:[a.jsx(Gr,{className:"text-[#EAEB80] text-lg",children:"Additional Notes"}),a.jsx(nl,{className:"text-gray-400 text-sm",children:"Add any additional notes to the contract here."})]}),a.jsxs(mt,{className:"space-y-4",children:[a.jsxs("div",{className:"mt-4 pt-4 border-t border-[#EAEB80]/20 space-y-3",children:[a.jsx("p",{className:"text-sm font-semibold text-[#EAEB80]",children:"Mandatory Agreements (all required)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:`flex items-start space-x-3 rounded-md p-2 ${Ee&&!K?"border border-red-500 bg-red-500/5":""}`,children:[a.jsx(pn,{id:"agree-maintain-insurance",checked:K,onCheckedChange:$e=>{H($e),se(!1)},className:"mt-1"}),a.jsx(Se,{htmlFor:"agree-maintain-insurance",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"I agree to maintain full coverage insurance."})]}),a.jsxs("div",{className:`flex items-start space-x-3 rounded-md p-2 ${Ee&&!G?"border border-red-500 bg-red-500/5":""}`,children:[a.jsx(pn,{id:"agree-split-730",checked:G,onCheckedChange:$e=>{ee($e),se(!1)},className:"mt-1"}),a.jsx(Se,{htmlFor:"agree-split-730",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"I agree to the 70% ~ 30% split."})]}),a.jsxs("div",{className:`flex items-start space-x-3 rounded-md p-2 ${Ee&&!Q?"border border-red-500 bg-red-500/5":""}`,children:[a.jsx(pn,{id:"agree-parking-fee",checked:Q,onCheckedChange:$e=>{te($e),se(!1)},className:"mt-1"}),a.jsx(Se,{htmlFor:"agree-parking-fee",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"I agree to a monthly parking fee of $100."})]}),a.jsxs("div",{className:`flex items-start space-x-3 rounded-md p-2 ${Ee&&!U?"border border-red-500 bg-red-500/5":""}`,children:[a.jsx(pn,{id:"agree-cleaning-fee",checked:U,onCheckedChange:$e=>{q($e),se(!1)},className:"mt-1"}),a.jsx(Se,{htmlFor:"agree-cleaning-fee",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"I agree to a monthly regular cleaning fee of $25."})]}),a.jsxs("div",{className:`flex items-start space-x-3 rounded-md p-2 ${Ee&&!ne?"border border-red-500 bg-red-500/5":""}`,children:[a.jsx(pn,{id:"agree-carwash-fee",checked:ne,onCheckedChange:$e=>{fe($e),se(!1)},className:"mt-1"}),a.jsx(Se,{htmlFor:"agree-carwash-fee",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"I agree to an annual car wash service fee of $499."})]}),a.jsxs("div",{className:`flex items-start space-x-3 rounded-md p-2 ${Ee&&!pe?"border border-red-500 bg-red-500/5":""}`,children:[a.jsx(pn,{id:"agree-owner-expenses",checked:pe,onCheckedChange:$e=>{ye($e),se(!1)},className:"mt-1"}),a.jsx(Se,{htmlFor:"agree-owner-expenses",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"I agree that the owner will reimburse all vehicle-related expenses."})]}),Ee&&a.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Please check all mandatory agreement boxes."})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-[#EAEB80]/20 space-y-2",children:[a.jsx("p",{className:"text-sm font-semibold text-[#EAEB80]",children:"Payment Options (choose one  required)"}),a.jsxs(r7,{value:Z,onValueChange:$e=>{Ne($e),Le(!1)},className:`space-y-2 rounded-md p-2 ${be?"border border-red-500 bg-red-500/5":""}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ny,{value:"735",id:"payment-735"}),a.jsx(Se,{htmlFor:"payment-735",className:"text-sm text-gray-300",children:"Pay $735. No early exit fee if removed before two years."})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ny,{value:"357",id:"payment-357"}),a.jsx(Se,{htmlFor:"payment-357",className:"text-sm text-gray-300",children:"Pay $357. No early exit fee if removed before two years."})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ny,{value:"exit-fee",id:"payment-exit-fee"}),a.jsx(Se,{htmlFor:"payment-exit-fee",className:"text-sm text-gray-300",children:"No setup fee. Pay $1,000 early exit fee if removed before two years."})]})]}),be&&a.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Please select one payment option."})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-[#EAEB80]/20 space-y-2",children:[a.jsx("p",{className:"text-sm font-semibold text-[#EAEB80]",children:"Optional Services (choose any)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(pn,{id:"optional-rome-insurance",checked:J,onCheckedChange:$e=>le($e),className:"mt-1"}),a.jsx(Se,{htmlFor:"optional-rome-insurance",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"Enroll in Tint or Roamy Insurance at $97/month."})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(pn,{id:"optional-gps",checked:we,onCheckedChange:$e=>De($e),className:"mt-1"}),a.jsx(Se,{htmlFor:"optional-gps",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"Activate GPS tracking at $9.99/month."})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(pn,{id:"optional-gps-install",checked:ue,onCheckedChange:$e=>Y($e),className:"mt-1"}),a.jsx(Se,{htmlFor:"optional-gps-install",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"One-time GPS purchase and installation fee of $199."})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(pn,{id:"optional-airport",checked:V,onCheckedChange:$e=>$($e),className:"mt-1"}),a.jsx(Se,{htmlFor:"optional-airport",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"Airport delivery and pick-up at $25 per use."})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(pn,{id:"optional-home-pickup",checked:X,onCheckedChange:$e=>me($e),className:"mt-1"}),a.jsx(Se,{htmlFor:"optional-home-pickup",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"Home or dealership pickup for $100, $75, or $50 based on distance."})]})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-[#EAEB80]/20 space-y-2",children:[a.jsx("p",{className:"text-sm font-semibold text-[#EAEB80]",children:"Additional Earnings Options (optional)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(pn,{id:"optional-relocation",checked:z,onCheckedChange:$e=>T($e),className:"mt-1"}),a.jsx(Se,{htmlFor:"optional-relocation",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"Authorize relocation within the U.S. for rentals; up to $50 per move."})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(pn,{id:"optional-other-platforms",checked:M,onCheckedChange:$e=>re($e),className:"mt-1"}),a.jsx(Se,{htmlFor:"optional-other-platforms",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"Authorize listing and renting on other websites and apps."})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(pn,{id:"optional-chauffeur",checked:oe,onCheckedChange:$e=>ce($e),className:"mt-1"}),a.jsx(Se,{htmlFor:"optional-chauffeur",className:"text-sm text-gray-300 cursor-pointer leading-relaxed",children:"Authorize use for transportation and chauffeur services, including airport pickups."})]})]})]})]})]}),a.jsxs(ft,{className:"bg-[#1a1a1a] border-[#EAEB80]/20 flex-shrink-0",children:[a.jsxs($r,{children:[a.jsx(Gr,{className:"text-[#EAEB80] text-lg",children:"Sign Here"}),a.jsx(nl,{className:"text-gray-400 text-sm",children:"Type your name or draw your signature below"})]}),a.jsxs(mt,{className:"space-y-4",children:[a.jsxs(cge,{value:I,onValueChange:$e=>C($e),children:[a.jsxs(x7,{className:"grid w-full grid-cols-2 bg-[#2a2a2a]",children:[a.jsxs(TA,{value:"typed",className:"data-[state=active]:bg-[#EAEB80] data-[state=active]:text-black",children:[a.jsx(Mte,{className:"w-4 h-4 mr-2"}),"Type Name"]}),a.jsxs(TA,{value:"drawn",className:"data-[state=active]:bg-[#EAEB80] data-[state=active]:text-black",children:[a.jsx(Cte,{className:"w-4 h-4 mr-2"}),"Draw"]})]}),a.jsxs(OA,{value:"typed",className:"space-y-3 mt-4",children:[a.jsx(ae,{type:"text",placeholder:"Type your full name",value:D,onChange:$e=>W($e.target.value),className:"bg-[#2a2a2a] border-[#EAEB80]/30 text-foreground focus:border-[#EAEB80]"}),D&&a.jsx("div",{className:"bg-white p-3 rounded-md border-2 border-[#EAEB80]/30",children:a.jsx("p",{className:"text-2xl text-black italic text-center",style:{fontFamily:"'Dancing Script', cursive"},children:D})})]}),a.jsxs(OA,{value:"drawn",className:"mt-4",children:[a.jsx("div",{className:"border-2 border-[#EAEB80]/30 rounded-md bg-white overflow-hidden",children:a.jsx(Bxe,{ref:R,onEnd:Ve,canvasProps:{className:"w-full h-32 border border-[#EAEB80]/30 rounded-md bg-white"}})}),a.jsx(ie,{onClick:()=>{R.current?.clear(),b(null)},variant:"outline",size:"sm",className:"mt-2 w-full border-[#EAEB80]/30 text-gray-300",children:"Clear"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[a.jsx(ie,{onClick:AN,disabled:x,className:"flex-1 h-12 bg-[#EAEB80] text-black text-lg font-bold hover:bg-[#d4d570] disabled:opacity-50",children:x?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-5 h-5 animate-spin mr-2"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Il,{className:"w-5 h-5 mr-2"}),"Submit"]})}),n&&a.jsxs(ie,{onClick:n,disabled:x,className:"flex-1 h-12 bg-[#ef4444] text-foreground text-lg font-bold hover:bg-[#dc2626] disabled:opacity-50",children:[a.jsx(pr,{className:"w-5 h-5 mr-2"}),"Decline Contract"]})]})]})]})]})]})]})}function y7(){const[,t]=wr(),[,e]=Ia("/sign-contract/:token"),r=e?.token||(()=>{const f=window.location.pathname.split("/").filter(Boolean),m=f.indexOf("sign-contract");return m>=0&&f[m+1]?f[m+1]:""})(),n=je("/contracts/GoldenLuxuryAuto_Contract_Template.pdf"),{toast:s}=kr(),i=y.useRef(null),{data:o,isLoading:l,error:c}=Ge({queryKey:["validateContract",r],queryFn:async()=>{if(!r)throw new Error("No token provided");const f=await fetch(je(`/api/contract/validate/${r}`),{credentials:"include"}),m=await f.json();if(!f.ok||!m.success)throw new Error(m.error||"Invalid or expired contract link");return m.data},enabled:!!r,retry:!1}),d=yt({mutationFn:async f=>{if(f.action==="sign"){const m=f.signedPdfBlob||(i.current?await i.current():null);if(m){const x=new FormData;x.append("pdfFile",m,"signed-contract.pdf"),x.append("isFlattenedPdf","true"),f.signatureType&&x.append("signatureType",f.signatureType);const p=await fetch(je(`/api/contract/sign/${r}`),{method:"POST",body:x,credentials:"include"}),v=await p.json();if(!p.ok||!v.success)throw new Error(v.error||"Failed to sign contract");return v}else{const x=await fetch(je(`/api/contract/sign/${r}`),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signatureData:"",isFlattenedPdf:!1}),credentials:"include"}),p=await x.json();if(!x.ok||!p.success)throw new Error(p.error||"Failed to sign contract");return p}}else{const m=await fetch(je(`/api/contract/decline/${r}`),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),x=await m.json();if(!m.ok||!x.success)throw new Error(x.error||"Failed to decline contract");return x}},onSuccess:(f,m)=>{m.action==="sign"?(s({title:"Contract signed successfully!",description:f.signedPdfUrl?"Your signed contract is available. You will receive a confirmation email shortly.":"Thank you for signing. You will receive a confirmation email shortly."}),f.signedPdfUrl&&setTimeout(()=>{window.open(f.signedPdfUrl,"_blank")},1e3)):s({title:"Contract declined",description:"The contract has been declined."}),setTimeout(()=>{t("/")},3e3)},onError:f=>{s({title:"Error",description:f.message,variant:"destructive"})}}),u=async(f,m)=>{await d.mutateAsync({action:"sign",signedPdfBlob:f,signatureType:m})},h=()=>{confirm("Are you sure you want to decline this contract? This action cannot be undone.")&&d.mutate({action:"decline"})};return l?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a1a] via-[#2d2d2d] to-[#1a1a1a] flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Gt,{className:"h-12 w-12 animate-spin text-[#d4af37] mx-auto mb-4"}),a.jsx("p",{className:"text-[#d4af37] text-lg",children:"Validating contract link..."})]})}):c||!o?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a1a] via-[#2d2d2d] to-[#1a1a1a] flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-[#2d2d2d] border-2 border-[#d4af37] rounded-lg p-8 text-center",children:[a.jsx(pr,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-[#d4af37] mb-4",children:"Link Expired or Invalid"}),a.jsx("p",{className:"text-gray-300 mb-6",children:c instanceof Error?c.message:"The contract link you're trying to access is no longer valid."}),a.jsx(ie,{onClick:()=>t("/"),className:"bg-[#d4af37] text-[#1a1a1a] hover:bg-[#f4d03f] font-semibold",children:"Return to Home"})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a1a] via-[#2d2d2d] to-[#1a1a1a] py-8 px-4 md:px-8",children:a.jsxs("div",{className:"max-w-[1600px] w-full mx-auto",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("img",{src:"/logo.svg",alt:"Golden Luxury Auto",className:"h-20 md:h-24 w-auto mx-auto object-contain mb-3 drop-shadow-[0_0_12px_rgba(234,235,128,0.4)]"}),a.jsxs("p",{className:"text-gray-300 text-lg",children:["Contract Agreement - ",o.firstNameOwner," ",o.lastNameOwner]})]}),a.jsx(hge,{pdfUrl:n,onboardingData:o,onSubmit:u,onDecline:h})]})})}function fge(){const[t,e]=wr(),r=y.useRef(null);if(y.useEffect(()=>{const s=document.referrer;if(s)try{const o=new URL(s),l=new URL(window.location.href);o.origin===l.origin&&(r.current=o.pathname+o.search)}catch{}const i=sessionStorage.getItem("previousLocation");i&&!r.current&&(r.current=i)},[]),t.startsWith("/sign-contract/"))return a.jsx(y7,{});const n=()=>{if(r.current&&r.current!==t){e(r.current);return}try{window.history.back()}catch{e("/")}};return a.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-[#EAEB80]/10 flex items-center justify-center mx-auto mb-8",children:a.jsx(pte,{className:"w-10 h-10 text-[#EAEB80]"})}),a.jsx("h1",{className:"font-serif text-4xl lg:text-6xl font-light text-foreground mb-4",children:"Under Development"}),a.jsx("p",{className:"text-xl text-gray-400 mb-2",children:"This page is currently under development"}),a.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"We're working hard to bring you this feature. Please check back soon!"}),a.jsxs(ie,{onClick:n,size:"lg",className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]","data-testid":"button-back",children:[a.jsx(yn,{className:"mr-2 w-4 h-4"}),"Back"]})]})})}function mge(){const[,t]=wr(),{toast:e}=kr(),[r,n]=y.useState(""),[s,i]=y.useState(""),o=yt({mutationFn:async c=>{const d=await fetch(je("/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password}),credentials:"include"});if(!d.ok){const u=await d.json().catch(()=>({error:"Login failed"}));throw new Error(u.error||`Login failed: ${d.status} ${d.statusText}`)}return d.json()},onSuccess:async c=>{Zh.setQueryData(["/api/auth/me"],{user:c.user}),await new Promise(d=>setTimeout(d,800)),e({title:"Welcome back!",description:`Logged in as ${c.user.firstName}`}),await new Promise(d=>setTimeout(d,300)),t("/dashboard")},onError:c=>{e({title:"Login failed",description:c.message||"Invalid credentials",variant:"destructive"})}}),l=c=>{c.preventDefault(),o.mutate({email:r,password:s})};return a.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-sm",children:[a.jsx("div",{className:"mb-6",children:a.jsxs(ie,{type:"button",variant:"ghost",onClick:()=>t("/"),className:"text-gray-400 hover:text-[#EAEB80] hover:bg-[#1a1a1a] flex items-center gap-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx(AP,{className:"w-4 h-4"}),"Back to Home"]})}),a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("img",{src:"/logo.svg",alt:"Golden Luxury Auto",className:"h-[240px] w-auto mx-auto object-contain mb-6 drop-shadow-[0_0_15px_rgba(234,235,128,0.5)]"}),a.jsx("p",{className:"text-gray-400 mt-6 text-sm",children:"Admin Portal Login"})]}),a.jsxs("form",{onSubmit:l,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Se,{htmlFor:"email",className:"text-gray-400 text-sm",children:"Email"}),a.jsx(ae,{id:"email",type:"email",value:r,onChange:c=>n(c.target.value),className:"bg-[#111111] border-[#222222] text-foreground focus:border-[#EAEB80] focus:ring-[#EAEB80] h-11",placeholder:"admin@goldenluxuryauto.com",required:!0,"data-testid":"input-email"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Se,{htmlFor:"password",className:"text-gray-400 text-sm",children:"Password"}),a.jsx("a",{href:"/reset-password",className:"text-xs text-[#EAEB80] hover:underline",children:"Forgot password?"})]}),a.jsx(ae,{id:"password",type:"password",value:s,onChange:c=>i(c.target.value),className:"bg-[#111111] border-[#222222] text-foreground focus:border-[#EAEB80] focus:ring-[#EAEB80] h-11",placeholder:"",required:!0,"data-testid":"input-password"})]}),a.jsx(ie,{type:"submit",className:"w-full bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium h-11",disabled:o.isPending,"data-testid":"button-login",children:o.isPending?"Signing in...":"Sign In"})]}),a.jsx("p",{className:"text-center text-gray-700 text-xs mt-8",children:"Premium vehicle management portal"})]})})}function pge({children:t}){const[,e]=wr(),[r,n]=y.useState(!0),[s,i]=y.useState(!1),[o,l]=y.useState(!1),{data:c,isLoading:d,isError:u,error:h,isFetching:f}=Ge({queryKey:["/api/auth/me"],queryFn:async()=>{const{buildApiUrl:m}=await Rc(async()=>{const{buildApiUrl:x}=await Promise.resolve().then(()=>O$);return{buildApiUrl:x}},[]);try{const x=await fetch(m("/api/auth/me"),{credentials:"include"});return x.ok?x.json():x.status===401?{user:void 0}:{user:void 0}}catch{return{user:void 0}}},retry:!1,staleTime:1e3*60*5,refetchOnMount:!1,refetchOnWindowFocus:!1});return y.useEffect(()=>{if(!d&&!o){const m=setTimeout(()=>{l(!0),c?.user?(i(!0),n(!1)):setTimeout(()=>{c?.user||e("/admin/login")},800)},500);return()=>clearTimeout(m)}if(o&&!d&&!f){if(c?.user)s||(i(!0),n(!1));else if(!c?.user&&s){const m=setTimeout(()=>{c?.user||e("/admin/login")},1500);return()=>clearTimeout(m)}}},[d,f,u,c,e,s,o]),d||r?a.jsx("div",{className:"min-h-screen bg-[#0f0f0f] flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-[#EAEB80] border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Verifying authentication..."})]})}):a.jsx(a.Fragment,{children:t})}const xge=[{href:"/dashboard",label:"Dashboard",icon:Nte},{href:"/profile",label:"Profile",icon:kP,roles:["client"]},{href:"/admin/admins",label:"Admins",icon:nb,roles:["admin"]},{href:"/admin/clients",label:"Clients",icon:nb,roles:["admin"]},{href:"/cars",label:"Cars",icon:hs},{href:"/admin/income-expenses",label:"Income and Expenses",icon:Ef,roles:["admin"]},{href:"/admin/payments",label:"Client Payments",icon:xte,roles:["admin"]},{href:"/admin/totals",label:"Totals",icon:ute,roles:["admin"]},{href:"/admin/maintenance",label:"Car Maintenance",icon:pU,roles:["admin"]},{href:"/admin/forms",label:"Forms",icon:eb},{href:"/admin/view-client",label:"View as a Client",icon:_s,roles:["admin"]},{href:"/admin/view-employee",label:"View as an Employee",icon:_s,roles:["admin"]},{href:"/admin/car-rental",label:"Car Rental",icon:jte,roles:["admin"]},{href:"/admin/hr",label:"Human Resources",icon:dte,roles:["admin"]},{href:"/admin/payroll",label:"Payroll",icon:Ef,roles:["admin"]},{href:"/admin/settings",label:"Settings",icon:Tte},{href:"/admin/turo-guide",label:"Turo Guide",icon:cte},{href:"/admin/training-manual",label:"System Tutorial",icon:yte},{href:"/admin/testimonials",label:"Client Testimonials",icon:fU}];function gge({children:t}){const[e,r]=y.useState(!0),[n,s]=y.useState(!1),[i,o]=wr(),{data:l}=Ge({queryKey:["/api/auth/me"],queryFn:async()=>{const{buildApiUrl:h}=await Rc(async()=>{const{buildApiUrl:f}=await Promise.resolve().then(()=>O$);return{buildApiUrl:f}},void 0);try{const f=await fetch(h("/api/auth/me"),{credentials:"include"});return f.ok?f.json():f.status===401?{user:void 0}:{user:void 0}}catch{return{user:void 0}}},retry:!1,staleTime:5*60*1e3}),c=l?.user,d=y.useMemo(()=>{if(!c)return[];const h=c.isAdmin?"admin":c.isClient?"client":c.isEmployee?"employee":null;return xge.filter(f=>!f.roles||f.roles.length===0?!0:h&&f.roles.includes(h))},[c]),u=async()=>{try{await Pc("POST","/api/auth/logout"),Zh.clear(),Zh.invalidateQueries({queryKey:["/api/auth/me"]}),o("/admin/login")}catch(h){console.error("Logout failed:",h),Zh.clear()}};return a.jsxs("div",{className:"flex h-screen bg-[#0a0a0a]",style:{overflow:"auto"},children:[a.jsxs("aside",{className:_e("fixed inset-y-0 left-0 z-50 flex flex-col bg-[#0a0a0a] border-r border-[#1a1a1a] transition-all duration-300",e?"w-64":"w-20",n?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[a.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-[#1a1a1a]",children:[a.jsx(fa,{href:"/dashboard",className:"flex items-center gap-2",children:a.jsx("img",{src:"/logo.svg",alt:"Golden Luxury Auto",className:_e("object-contain transition-all duration-300 drop-shadow-[0_0_8px_rgba(234,235,128,0.3)]",e?"w-[180px] md:w-[200px]":"w-[40px]")})}),a.jsx("button",{onClick:()=>s(!1),className:"lg:hidden text-gray-400 hover:text-foreground",children:a.jsx(pr,{className:"w-5 h-5"})})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto py-2",children:d.map(h=>{const f=h.icon,m=i===h.href||h.href!=="/dashboard"&&i.startsWith(h.href);return a.jsxs(fa,{href:h.href,className:_e("flex items-center gap-3 mx-2 px-3 py-2 rounded transition-colors relative",m?"bg-[#EAEB80]/10 text-[#EAEB80]":"text-gray-400 hover:bg-[#1a1a1a] hover:text-foreground"),onClick:()=>s(!1),"data-testid":`link-admin-${h.label.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(f,{className:"w-4 h-4 shrink-0"}),e&&a.jsx(a.Fragment,{children:a.jsx("span",{className:"text-sm",children:h.label})})]},h.href)})}),a.jsx("div",{className:"p-4 border-t border-[#1a1a1a]",children:a.jsxs("button",{onClick:u,className:"flex items-center gap-3 w-full px-3 py-2 rounded text-gray-400 hover:bg-[#1a1a1a] hover:text-foreground transition-colors","data-testid":"button-logout",children:[a.jsx(CP,{className:"w-4 h-4"}),e&&a.jsx("span",{className:"text-sm",children:"Logout"})]})})]}),a.jsxs("div",{className:_e("flex-1 flex flex-col transition-all duration-300",e?"lg:ml-64":"lg:ml-20"),children:[a.jsxs("header",{className:"h-14 bg-[#0a0a0a] border-b border-[#1a1a1a] flex items-center justify-between px-3 sm:px-4 lg:px-6",children:[a.jsx("button",{onClick:()=>s(!0),className:"lg:hidden text-gray-400 hover:text-foreground",children:a.jsx(CS,{className:"w-6 h-6"})}),a.jsx("button",{onClick:()=>r(!e),className:"hidden lg:flex text-gray-400 hover:text-foreground",children:a.jsx(CS,{className:"w-5 h-5"})}),a.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:c&&a.jsxs("span",{className:"text-xs sm:text-sm text-gray-400 truncate max-w-[120px] sm:max-w-none",children:[c.firstName," ",c.lastName," ",a.jsxs("span",{className:"hidden sm:inline",children:["(",c.roleName,")"]})]})})]}),a.jsx("main",{className:"flex-1 overflow-auto-y p-3 sm:p-4 md:p-6 bg-[#0a0a0a]",children:t})]}),n&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>s(!1)})]})}function jt({children:t}){return a.jsx(pge,{children:a.jsx(gge,{children:t})})}const vge={"Reports Center":Ln,"Support Center":mte,"Forms Center":eb},yge={"Reports Center":"text-blue-400","Support Center":"text-green-400","Forms Center":"text-purple-400"};function b7(){const{data:t,isLoading:e}=Ge({queryKey:["/api/quick-links"],queryFn:async()=>{const s=await fetch(je("/api/quick-links"),{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch quick links");return s.json()},retry:!1});if(e)return a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(Gt,{className:"w-6 h-6 animate-spin text-[#EAEB80]"})});if(!t||t.length===0)return null;const r=t.reduce((s,i)=>(s[i.category]||(s[i.category]=[]),s[i.category].push(i),s),{}),n=Object.keys(r).filter(s=>r[s].length>0);return n.length===0?null:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map(s=>{const i=r[s],o=vge[s]||Ar,l=yge[s]||"text-[#EAEB80]";return a.jsxs(ft,{className:"bg-[#111111] border-[#2a2a2a] hover:border-[#EAEB80]/40 transition-colors",children:[a.jsx($r,{children:a.jsxs(Gr,{className:"flex items-center gap-2 text-foreground text-base",children:[a.jsx(o,{className:`w-5 h-5 ${l}`}),s]})}),a.jsx(mt,{children:a.jsx("ul",{className:"space-y-2",children:i.map(c=>a.jsx("li",{children:a.jsxs("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-gray-400 hover:text-[#EAEB80] transition-colors group",children:[a.jsx("span",{className:"flex-1 truncate",children:c.title}),a.jsx(Ar,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})},c.id))})})]},s)})})}function bge(){const{openTutorial:t,isOpen:e}=KP(),r=Wr(),n=y.useRef(!1),{data:s}=Ge({queryKey:["/api/auth/me"],queryFn:async()=>{try{const j=await fetch(je("/api/auth/me"),{credentials:"include"});return j.ok?j.json():j.status===401?{user:void 0}:{user:void 0}}catch{return{user:void 0}}},retry:!1,staleTime:5*60*1e3}),i=yt({mutationFn:async()=>{const j=await fetch(je("/api/auth/mark-tour-shown"),{method:"POST",credentials:"include"});return j.ok?j.json():(console.error("Failed to mark tour as shown:",j.status,j.statusText),{success:!1})},onSuccess:j=>{j?.success&&setTimeout(()=>{r.invalidateQueries({queryKey:["/api/auth/me"]})},500)},onError:j=>{console.error("Error marking tour as shown:",j)}}),o=s?.user,l=o?.isAdmin||!1,c=o?.isClient||!1,d=o?.isEmployee||!1,u=o?.tourCompleted===!0;y.useEffect(()=>{if(!u&&!e&&(l||c||d)&&!u&&o?.id&&!n.current){n.current=!0;const j=setTimeout(()=>{t()},500);return()=>clearTimeout(j)}},[l,c,d,u,o?.id,e,t]),y.useEffect(()=>{if(!e&&n.current&&!u&&o?.id){const j=setTimeout(()=>{i.mutate()},1e3);return()=>clearTimeout(j)}},[e,u,o?.id,i]);const{data:h,isLoading:f}=Ge({queryKey:["/api/admin/dashboard"],retry:!1,enabled:!!o&&l}),{data:m,isLoading:x}=Ge({queryKey:["/api/client/cars/stats"],queryFn:async()=>{const j=await fetch(je("/api/client/cars/stats"),{credentials:"include"});if(!j.ok){const b=await j.json().catch(()=>({error:"Failed to fetch client car stats"}));throw new Error(b.error||"Failed to fetch client car stats")}return j.json()},enabled:!!o&&c,retry:!1}),p=["Navigate to Forms tab","Share QR code with potential clients","Get instant notifications via Slack and email","Review and approve in the portal"],v=["Automated client onboarding","Digital document collection","ACH payment setup","Insurance verification"],g={email:"support@goldenluxuryauto.com",phone:"(555) 123-4567",hours:"Mon-Fri: 9AM - 6PM EST",chat:"Live chat available"},N=l?{title:"Welcome to the Admin Portal",description:"Premium vehicle management portal for tracking clients, vehicles, and revenue."}:c?{title:"Welcome to Your Dashboard",description:"Manage your vehicles, view your account information, and access your resources."}:d?{title:"Welcome to the Employee Portal",description:"Access your assigned tasks and resources."}:{title:"Welcome to the Portal",description:"Premium vehicle management portal."};return a.jsx(jt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("img",{src:"/logo.svg",alt:"Golden Luxury Auto",className:"h-[47px] md:h-[60px] w-auto mx-auto object-contain mb-6 drop-shadow-[0_0_12px_rgba(234,235,128,0.4)]"}),a.jsx("h1",{className:"text-2xl font-semibold text-[#EAEB80] mb-2",children:N.title}),a.jsx("p",{className:"text-gray-500 text-sm",children:N.description}),o&&a.jsxs("p",{className:"text-gray-600 text-xs mt-2",children:["Logged in as ",o.firstName," ",o.lastName," (",o.roleName,")"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l&&a.jsxs(a.Fragment,{children:[a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20 hover:border-[#EAEB80]/40 transition-colors",children:a.jsxs(mt,{className:"p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(hs,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Active Vehicles"})]}),a.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"stat-vehicles",children:f?"...":h?.activeVehicles||24})]})}),a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20 hover:border-[#EAEB80]/40 transition-colors",children:a.jsxs(mt,{className:"p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(nb,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Total Clients"})]}),a.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"stat-clients",children:f?"...":h?.totalClients||18})]})}),a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20 hover:border-[#EAEB80]/40 transition-colors",children:a.jsxs(mt,{className:"p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ef,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Monthly Revenue"})]}),a.jsxs("p",{className:"text-3xl font-bold text-foreground","data-testid":"stat-revenue",children:["$",f?"...":((h?.monthlyRevenue||42500)/1e3).toFixed(1),"K"]})]})}),a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20 hover:border-[#EAEB80]/40 transition-colors",children:a.jsxs(mt,{className:"p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Fte,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Growth Rate"})]}),a.jsxs("p",{className:"text-3xl font-bold text-[#EAEB80]","data-testid":"stat-growth",children:["+",f?"...":h?.growthRate||23,"%"]})]})})]}),c&&a.jsxs(a.Fragment,{children:[a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20 hover:border-[#EAEB80]/40 transition-colors",children:a.jsxs(mt,{className:"p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(hs,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{className:"text-sm text-gray-400",children:"My Vehicles"})]}),a.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"stat-vehicles",children:x?"...":m?.data?.totalVehicles||0})]})}),a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20 hover:border-[#EAEB80]/40 transition-colors",children:a.jsxs(mt,{className:"p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ef,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{className:"text-sm text-gray-400",children:"My Earnings"})]}),a.jsxs("p",{className:"text-3xl font-bold text-foreground","data-testid":"stat-revenue",children:["$",f?"...":((h?.monthlyRevenue||0)/1e3).toFixed(1),"K"]})]})})]}),d&&!l&&!c&&a.jsx(a.Fragment,{children:a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20 hover:border-[#EAEB80]/40 transition-colors",children:a.jsxs(mt,{className:"p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(hs,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Assigned Vehicles"})]}),a.jsx("p",{className:"text-3xl font-bold text-foreground","data-testid":"stat-vehicles",children:f?"...":h?.activeVehicles||0})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[l&&a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20",children:a.jsxs(mt,{className:"p-5",children:[a.jsx("h3",{className:"text-base font-semibold text-foreground mb-4",children:"Quick Start"}),a.jsx("ol",{className:"space-y-3",children:p.map((j,b)=>a.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-400",children:[a.jsxs("span",{className:"text-[#EAEB80] font-medium",children:[b+1,"."]}),a.jsx("span",{children:j})]},b))})]})}),c&&a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20",children:a.jsxs(mt,{className:"p-5",children:[a.jsx("h3",{className:"text-base font-semibold text-foreground mb-4",children:"Quick Start"}),a.jsxs("ol",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-400",children:[a.jsx("span",{className:"text-[#EAEB80] font-medium",children:"1."}),a.jsx("span",{children:"View your vehicles in the Cars section"})]}),a.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-400",children:[a.jsx("span",{className:"text-[#EAEB80] font-medium",children:"2."}),a.jsx("span",{children:"Check your earnings and totals"})]}),a.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-400",children:[a.jsx("span",{className:"text-[#EAEB80] font-medium",children:"3."}),a.jsx("span",{children:"Access forms and resources"})]}),a.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-400",children:[a.jsx("span",{className:"text-[#EAEB80] font-medium",children:"4."}),a.jsx("span",{children:"Update your profile information"})]})]})]})}),a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20",children:a.jsxs(mt,{className:"p-5",children:[a.jsx("h3",{className:"text-base font-semibold text-foreground mb-4",children:"Features"}),a.jsx("ul",{className:"space-y-3",children:v.map((j,b)=>a.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-400",children:[a.jsx(SP,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{children:j})]},b))})]})}),a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20",children:a.jsxs(mt,{className:"p-5",children:[a.jsx("h3",{className:"text-base font-semibold text-foreground mb-4",children:"Support"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-400",children:[a.jsx(xu,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{children:g.email})]}),a.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-400",children:[a.jsx(t0,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{children:g.phone})]}),a.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-400",children:[a.jsx(ij,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{children:g.hours})]}),a.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-400",children:[a.jsx(Ste,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{children:g.chat})]})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Quick Links"}),a.jsx(b7,{})]}),(l||c||d)&&a.jsx($V,{})]})})}function wge(t,e=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const d=h=>{const{scope:f,children:m,...x}=h,p=f?.[t]?.[c]||l,v=y.useMemo(()=>x,Object.values(x));return a.jsx(p.Provider,{value:v,children:m})};d.displayName=i+"Provider";function u(h,f){const m=f?.[t]?.[c]||l,x=y.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=l?.[t]||i;return y.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,jge(s,...e)]}function jge(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Nge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iO=Nge.reduce((t,e)=>{const r=wj(`Primitive.${e}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ege(){return n$.useSyncExternalStore(Sge,()=>!0,()=>!1)}function Sge(){return()=>{}}var oO="Avatar",[Age]=wge(oO),[Cge,w7]=Age(oO),j7=y.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[s,i]=y.useState("idle");return a.jsx(Cge,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(iO.span,{...n,ref:e})})});j7.displayName=oO;var N7="AvatarImage",E7=y.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=t,o=w7(N7,r),l=kge(n,i),c=gs(d=>{s(d),o.onImageLoadingStatusChange(d)});return On(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(iO.img,{...i,ref:e,src:n}):null});E7.displayName=N7;var S7="AvatarFallback",A7=y.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...s}=t,i=w7(S7,r),[o,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(iO.span,{...s,ref:e}):null});A7.displayName=S7;function j4(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function kge(t,{referrerPolicy:e,crossOrigin:r}){const n=Ege(),s=y.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=y.useState(()=>j4(i,t));return On(()=>{l(j4(i,t))},[i,t]),On(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,e]),o}var C7=j7,k7=E7,P7=A7;const T7=y.forwardRef(({className:t,...e},r)=>a.jsx(C7,{ref:r,className:_e(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));T7.displayName=C7.displayName;const Pge=y.forwardRef(({className:t,...e},r)=>a.jsx(k7,{ref:r,className:_e("aspect-square h-full w-full",t),...e}));Pge.displayName=k7.displayName;const O7=y.forwardRef(({className:t,...e},r)=>a.jsx(P7,{ref:r,className:_e("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));O7.displayName=P7.displayName;var Tge=Symbol("radix.slottable");function Oge(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Tge,e}var _7="AlertDialog",[_ge]=Da(_7,[uV]),sc=uV(),R7=t=>{const{__scopeAlertDialog:e,...r}=t,n=sc(e);return a.jsx(yj,{...n,...r,modal:!0})};R7.displayName=_7;var Rge="AlertDialogTrigger",Ige=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=sc(r);return a.jsx(CV,{...s,...n,ref:e})});Ige.displayName=Rge;var Fge="AlertDialogPortal",I7=t=>{const{__scopeAlertDialog:e,...r}=t,n=sc(e);return a.jsx(bj,{...n,...r})};I7.displayName=Fge;var Dge="AlertDialogOverlay",F7=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=sc(r);return a.jsx(pm,{...s,...n,ref:e})});F7.displayName=Dge;var uf="AlertDialogContent",[Mge,Lge]=_ge(uf),Bge=Oge("AlertDialogContent"),D7=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,i=sc(r),o=y.useRef(null),l=sr(e,o),c=y.useRef(null);return a.jsx(use,{contentName:uf,titleName:M7,docsSlug:"alert-dialog",children:a.jsx(Mge,{scope:r,cancelRef:c,children:a.jsxs(xm,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:at(s.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[a.jsx(Bge,{children:n}),a.jsx(Uge,{contentRef:o})]})})})});D7.displayName=uf;var M7="AlertDialogTitle",L7=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=sc(r);return a.jsx(i0,{...s,...n,ref:e})});L7.displayName=M7;var B7="AlertDialogDescription",$7=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=sc(r);return a.jsx(o0,{...s,...n,ref:e})});$7.displayName=B7;var $ge="AlertDialogAction",U7=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=sc(r);return a.jsx(WP,{...s,...n,ref:e})});U7.displayName=$ge;var V7="AlertDialogCancel",z7=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=Lge(V7,r),i=sc(r),o=sr(e,s);return a.jsx(WP,{...i,...n,ref:o})});z7.displayName=V7;var Uge=({contentRef:t})=>{const e=`\`${uf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${uf}\` by passing a \`${B7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${uf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Vge=R7,zge=I7,W7=F7,q7=D7,H7=U7,G7=z7,K7=L7,X7=$7;const lO=Vge,Wge=zge,Y7=y.forwardRef(({className:t,...e},r)=>a.jsx(W7,{className:_e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Y7.displayName=W7.displayName;const c1=y.forwardRef(({className:t,...e},r)=>a.jsxs(Wge,{children:[a.jsx(Y7,{}),a.jsx(q7,{ref:r,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));c1.displayName=q7.displayName;const d1=({className:t,...e})=>a.jsx("div",{className:_e("flex flex-col space-y-2 text-center sm:text-left",t),...e});d1.displayName="AlertDialogHeader";const u1=({className:t,...e})=>a.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});u1.displayName="AlertDialogFooter";const h1=y.forwardRef(({className:t,...e},r)=>a.jsx(K7,{ref:r,className:_e("text-lg font-semibold",t),...e}));h1.displayName=K7.displayName;const f1=y.forwardRef(({className:t,...e},r)=>a.jsx(X7,{ref:r,className:_e("text-sm text-muted-foreground",t),...e}));f1.displayName=X7.displayName;const m1=y.forwardRef(({className:t,...e},r)=>a.jsx(H7,{ref:r,className:_e(qP(),t),...e}));m1.displayName=H7.displayName;const p1=y.forwardRef(({className:t,...e},r)=>a.jsx(G7,{ref:r,className:_e(qP({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));p1.displayName=G7.displayName;function hf({trigger:t,title:e,description:r,confirmText:n="Continue",cancelText:s="Cancel",onConfirm:i,variant:o="default"}){const[l,c]=y.useState(!1);return a.jsxs(lO,{open:l,onOpenChange:c,children:[a.jsx("div",{onClick:()=>c(!0),children:t}),a.jsxs(c1,{children:[a.jsxs(d1,{children:[a.jsx(h1,{children:e}),a.jsx(f1,{children:r})]}),a.jsxs(u1,{children:[a.jsx(p1,{children:s}),a.jsx(m1,{onClick:d=>{d.preventDefault(),i(),c(!1)},className:o==="destructive"?"bg-red-600 hover:bg-red-700 text-foreground":"",children:n})]})]})]})}function Oo(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ou(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Q7=6048e5,qge=864e5;let Hge={};function x1(){return Hge}function og(t,e){const r=x1(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Oo(t),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Fb(t){return og(t,{weekStartsOn:1})}function Z7(t){const e=Oo(t),r=e.getFullYear(),n=Ou(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Fb(n),i=Ou(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Fb(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function N4(t){const e=Oo(t);return e.setHours(0,0,0,0),e}function E4(t){const e=Oo(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Gge(t,e){const r=N4(t),n=N4(e),s=+r-E4(r),i=+n-E4(n);return Math.round((s-i)/qge)}function Kge(t){const e=Z7(t),r=Ou(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Fb(r)}function Xge(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Yge(t){if(!Xge(t)&&typeof t!="number")return!1;const e=Oo(t);return!isNaN(Number(e))}function Qge(t){const e=Oo(t),r=Ou(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Zge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jge=(t,e,r)=>{let n;const s=Zge[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function q2(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const e0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},t0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},r0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},n0e={date:q2({formats:e0e,defaultWidth:"full"}),time:q2({formats:t0e,defaultWidth:"full"}),dateTime:q2({formats:r0e,defaultWidth:"full"})},a0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},s0e=(t,e,r,n)=>a0e[t];function dp(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r?.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r?.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const i0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},o0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},h0e=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},f0e={ordinalNumber:h0e,era:dp({values:i0e,defaultWidth:"wide"}),quarter:dp({values:o0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:dp({values:l0e,defaultWidth:"wide"}),day:dp({values:c0e,defaultWidth:"wide"}),dayPeriod:dp({values:d0e,defaultWidth:"wide",formattingValues:u0e,defaultFormattingWidth:"wide"})};function up(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?p0e(l,h=>h.test(o)):m0e(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function m0e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function p0e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function x0e(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const g0e=/^(\d+)(th|st|nd|rd)?/i,v0e=/\d+/i,y0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},b0e={any:[/^b/i,/^(a|c)/i]},w0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},j0e={any:[/1/i,/2/i,/3/i,/4/i]},N0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},E0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},S0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},A0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},C0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},k0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},P0e={ordinalNumber:x0e({matchPattern:g0e,parsePattern:v0e,valueCallback:t=>parseInt(t,10)}),era:up({matchPatterns:y0e,defaultMatchWidth:"wide",parsePatterns:b0e,defaultParseWidth:"any"}),quarter:up({matchPatterns:w0e,defaultMatchWidth:"wide",parsePatterns:j0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:up({matchPatterns:N0e,defaultMatchWidth:"wide",parsePatterns:E0e,defaultParseWidth:"any"}),day:up({matchPatterns:S0e,defaultMatchWidth:"wide",parsePatterns:A0e,defaultParseWidth:"any"}),dayPeriod:up({matchPatterns:C0e,defaultMatchWidth:"any",parsePatterns:k0e,defaultParseWidth:"any"})},T0e={code:"en-US",formatDistance:Jge,formatLong:n0e,formatRelative:s0e,localize:f0e,match:P0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function O0e(t){const e=Oo(t);return Gge(e,Qge(e))+1}function _0e(t){const e=Oo(t),r=+Fb(e)-+Kge(e);return Math.round(r/Q7)+1}function J7(t,e){const r=Oo(t),n=r.getFullYear(),s=x1(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=Ou(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=og(o,e),c=Ou(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=og(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function R0e(t,e){const r=x1(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=J7(t,e),i=Ou(t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),og(i,e)}function I0e(t,e){const r=Oo(t),n=+og(r,e)-+R0e(r,e);return Math.round(n/Q7)+1}function Hr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const xc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Hr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Hr(r+1,2)},d(t,e){return Hr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Hr(t.getHours()%12||12,e.length)},H(t,e){return Hr(t.getHours(),e.length)},m(t,e){return Hr(t.getMinutes(),e.length)},s(t,e){return Hr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Hr(s,e.length)}},xh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},S4={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return xc.y(t,e)},Y:function(t,e,r,n){const s=J7(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Hr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Hr(i,e.length)},R:function(t,e){const r=Z7(t);return Hr(r,e.length)},u:function(t,e){const r=t.getFullYear();return Hr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Hr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Hr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return xc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Hr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=I0e(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Hr(s,e.length)},I:function(t,e,r){const n=_0e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Hr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):xc.d(t,e)},D:function(t,e,r){const n=O0e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Hr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Hr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Hr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Hr(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=xh.noon:n===0?s=xh.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=xh.evening:n>=12?s=xh.afternoon:n>=4?s=xh.morning:s=xh.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):xc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Hr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Hr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):xc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):xc.s(t,e)},S:function(t,e){return xc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return C4(n);case"XXXX":case"XX":return $d(n);case"XXXXX":case"XXX":default:return $d(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return C4(n);case"xxxx":case"xx":return $d(n);case"xxxxx":case"xxx":default:return $d(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+A4(n,":");case"OOOO":default:return"GMT"+$d(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+A4(n,":");case"zzzz":default:return"GMT"+$d(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Hr(n,e.length)},T:function(t,e,r){const n=t.getTime();return Hr(n,e.length)}};function A4(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+Hr(i,2)}function C4(t,e){return t%60===0?(t>0?"-":"+")+Hr(Math.abs(t)/60,2):$d(t,e)}function $d(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Hr(Math.trunc(n/60),2),i=Hr(n%60,2);return r+s+e+i}const k4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},eH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},F0e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return k4(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",k4(n,e)).replace("{{time}}",eH(s,e))},D0e={p:eH,P:F0e},M0e=/^D+$/,L0e=/^Y+$/,B0e=["D","DD","YY","YYYY"];function $0e(t){return M0e.test(t)}function U0e(t){return L0e.test(t)}function V0e(t,e,r){const n=z0e(t,e,r);if(console.warn(n),B0e.includes(t))throw new RangeError(n)}function z0e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const W0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,q0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,H0e=/^'([^]*?)'?$/,G0e=/''/g,K0e=/[a-zA-Z]/;function lg(t,e,r){const n=x1(),s=n.locale??T0e,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Oo(t);if(!Yge(l))throw new RangeError("Invalid time value");let c=e.match(q0e).map(u=>{const h=u[0];if(h==="p"||h==="P"){const f=D0e[h];return f(u,s.formatLong)}return u}).join("").match(W0e).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:X0e(u)};if(S4[h])return{isToken:!0,value:u};if(h.match(K0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(u=>{if(!u.isToken)return u.value;const h=u.value;(U0e(h)||$0e(h))&&V0e(h,e,String(t));const f=S4[h[0]];return f(l,h,s.localize,d)}).join("")}function X0e(t){const e=t.match(H0e);return e?e[1].replace(G0e,"'"):t}const Y0e=Ma({firstName:ge().min(1,"First name is required"),lastName:ge().min(1,"Last name is required"),email:ge().email("Invalid email address"),password:ge().min(8,"Password must be at least 8 characters").optional().or(Qo("")),roleId:sT().int().positive("Role is required")}),Q0e=Ma({category:ge().min(1,"Category is required"),title:ge().min(1,"Title is required"),url:ge().url("Valid URL is required"),visibleToAdmins:dy().default(!0),visibleToClients:dy().default(!0),visibleToEmployees:dy().default(!0)});function Z0e(){const[t,e]=y.useState(!1),[r,n]=y.useState(null),[s,i]=y.useState(!1),[o,l]=y.useState(null),{toast:c}=kr(),d=Wr(),{data:u,isLoading:h}=Ge({queryKey:["/api/admin/users"],retry:!1}),{data:f}=Ge({queryKey:["/api/admin/roles"],retry:!1}),{data:m}=Ge({queryKey:["/api/admin/quick-links"],queryFn:async()=>{const _=await fetch(je("/api/admin/quick-links"),{credentials:"include"});if(!_.ok)throw new Error("Failed to fetch quick links");return _.json()},retry:!1}),x=ts({resolver:rs(Y0e),defaultValues:{firstName:"",lastName:"",email:"",password:"",roleId:0}}),p=ts({resolver:rs(Q0e),defaultValues:{category:"Reports Center",title:"",url:"",visibleToAdmins:!0,visibleToClients:!0,visibleToEmployees:!0}}),v=yt({mutationFn:async _=>{const{password:B,...I}=_,C=B?{...I,password:B}:I,D=await Pc("POST","/api/admin/users",C);if(!D.ok){const W=await D.json();throw new Error(W.error||"Failed to create user")}return D.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/admin/users"]}),c({title:"Success",description:"User created successfully"}),e(!1),x.reset()},onError:_=>{c({title:"Error",description:_.message||"Failed to create user",variant:"destructive"})}}),g=yt({mutationFn:async({id:_,data:B})=>{const{password:I,...C}=B,D={...C};I&&I.length>0&&(D.password=I);const W=await Pc("PUT",`/api/admin/users/${_}`,D);if(!W.ok){const K=await W.json();throw new Error(K.error||"Failed to update user")}return W.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/admin/users"]}),c({title:"Success",description:"User updated successfully"}),e(!1),n(null),x.reset()},onError:_=>{c({title:"Error",description:_.message||"Failed to update user",variant:"destructive"})}}),w=()=>{n(null),x.reset({firstName:"",lastName:"",email:"",password:"",roleId:0}),e(!0)},N=_=>{n(_),x.reset({firstName:_.firstName,lastName:_.lastName,email:_.email,password:"",roleId:_.roleId}),e(!0)},j=_=>{if(r)g.mutate({id:r.id,data:_});else{if(!_.password||_.password.length===0){c({title:"Error",description:"Password is required for new users",variant:"destructive"});return}v.mutate(_)}},b=yt({mutationFn:async _=>{const B=await Pc("POST","/api/admin/quick-links",_);if(!B.ok){const I=await B.json();throw new Error(I.error||"Failed to create quick link")}return B.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/admin/quick-links"]}),d.invalidateQueries({queryKey:["/api/quick-links"]}),c({title:"Success",description:"Quick link created successfully"}),i(!1),p.reset()},onError:_=>{c({title:"Error",description:_.message||"Failed to create quick link",variant:"destructive"})}}),S=yt({mutationFn:async({id:_,data:B})=>{const I=await Pc("PUT",`/api/admin/quick-links/${_}`,B);if(!I.ok){const C=await I.json();throw new Error(C.error||"Failed to update quick link")}return I.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/admin/quick-links"]}),d.invalidateQueries({queryKey:["/api/quick-links"]}),c({title:"Success",description:"Quick link updated successfully"}),i(!1),l(null),p.reset()},onError:_=>{c({title:"Error",description:_.message||"Failed to update quick link",variant:"destructive"})}}),A=yt({mutationFn:async _=>{const B=await Pc("DELETE",`/api/admin/quick-links/${_}`);if(!B.ok){const I=await B.json();throw new Error(I.error||"Failed to delete quick link")}return B.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/admin/quick-links"]}),d.invalidateQueries({queryKey:["/api/quick-links"]}),c({title:"Success",description:"Quick link deleted successfully"})},onError:_=>{c({title:"Error",description:_.message||"Failed to delete quick link",variant:"destructive"})}}),E=()=>{l(null),p.reset({category:"Reports Center",title:"",url:"",visibleToAdmins:!0,visibleToClients:!0,visibleToEmployees:!0}),i(!0)},P=_=>{l(_),p.reset({category:_.category,title:_.title,url:_.url,visibleToAdmins:_.visibleToAdmins,visibleToClients:_.visibleToClients,visibleToEmployees:_.visibleToEmployees}),i(!0)},O=_=>{A.mutate(_)},k=_=>{o?S.mutate({id:o.id,data:_}):b.mutate(_)},L=(_,B)=>`${_.charAt(0)}${B.charAt(0)}`.toUpperCase(),R=_=>_.toLowerCase().includes("admin")?"bg-[#EAEB80]/20 text-[#EAEB80] border-[#EAEB80]/30":_.toLowerCase().includes("employee")?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30";return a.jsx(jt,{children:a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-foreground",children:"Admins"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Manage portal administrators"})]}),a.jsxs(ie,{onClick:w,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium w-full sm:w-auto","data-testid":"button-add-admin",children:[a.jsx(mr,{className:"w-4 h-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Add New Admin"}),a.jsx("span",{className:"sm:hidden",children:"Add Admin"})]})]}),a.jsx(ft,{className:"bg-[#1a1a1a] border-[#2a2a2a]",children:a.jsx(mt,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto -mx-3 sm:mx-0",children:a.jsxs("table",{className:"w-full min-w-[800px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[#2a2a2a]",children:[a.jsx("th",{className:"text-left text-[10px] sm:text-xs font-medium text-gray-500 uppercase tracking-wider px-3 sm:px-6 py-3 sm:py-4",children:"Name"}),a.jsx("th",{className:"text-left text-[10px] sm:text-xs font-medium text-gray-500 uppercase tracking-wider px-3 sm:px-6 py-3 sm:py-4 hidden md:table-cell",children:"Email"}),a.jsx("th",{className:"text-left text-[10px] sm:text-xs font-medium text-gray-500 uppercase tracking-wider px-3 sm:px-6 py-3 sm:py-4",children:"Role"}),a.jsx("th",{className:"text-left text-[10px] sm:text-xs font-medium text-gray-500 uppercase tracking-wider px-3 sm:px-6 py-3 sm:py-4",children:"Status"}),a.jsx("th",{className:"text-left text-[10px] sm:text-xs font-medium text-gray-500 uppercase tracking-wider px-3 sm:px-6 py-3 sm:py-4 hidden lg:table-cell",children:"Created"}),a.jsx("th",{className:"text-right text-[10px] sm:text-xs font-medium text-gray-500 uppercase tracking-wider px-3 sm:px-6 py-3 sm:py-4",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-[#2a2a2a]",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"Loading administrators..."})}):u&&u.length>0?u.map(_=>a.jsxs("tr",{className:"hover:bg-[#252525] transition-colors","data-testid":`row-admin-${_.id}`,children:[a.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx(T7,{className:"w-8 h-8 sm:w-10 sm:h-10 bg-[#EAEB80]/20",children:a.jsx(O7,{className:"bg-[#EAEB80]/20 text-[#EAEB80] text-xs sm:text-sm font-medium",children:L(_.firstName,_.lastName)})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-foreground font-medium text-xs sm:text-sm",children:[_.firstName," ",_.lastName]}),a.jsx("span",{className:"text-gray-400 text-[10px] sm:text-xs md:hidden",children:_.email})]})]})}),a.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 hidden md:table-cell",children:a.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[a.jsx(xu,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs sm:text-sm",children:_.email})]})}),a.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:a.jsx(Ot,{variant:"outline",className:_e(R(_.role),"text-[10px] sm:text-xs"),children:_.role})}),a.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:a.jsx(Ot,{variant:"outline",className:_e(_.isActive?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30","text-[10px] sm:text-xs"),children:_.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-gray-400 text-xs sm:text-sm hidden lg:table-cell",children:lg(new Date(_.createdAt),"MMM d, yyyy")}),a.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 text-right",children:a.jsx("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:a.jsxs(ie,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-foreground text-xs sm:text-sm px-2 sm:px-3",onClick:()=>N(_),"data-testid":`button-edit-admin-${_.id}`,children:[a.jsx(kS,{className:"w-3 h-3 sm:w-4 sm:h-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})})})]},_.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No administrators found"})})})]})})})}),a.jsx($t,{open:t,onOpenChange:e,children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-[95vw] sm:max-w-md",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold",children:r?"Edit Admin":"Add New Admin"}),a.jsx(Ut,{className:"text-gray-400",children:r?"Update admin user information":"Create a new administrator account"})]}),a.jsx(Rs,{...x,children:a.jsxs("form",{onSubmit:x.handleSubmit(j),className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:x.control,name:"firstName",render:({field:_})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"First Name"}),a.jsx(Pe,{children:a.jsx(ae,{..._,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"John"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:x.control,name:"lastName",render:({field:_})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Last Name"}),a.jsx(Pe,{children:a.jsx(ae,{..._,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Doe"})}),a.jsx(Te,{})]})})]}),a.jsx(ke,{control:x.control,name:"email",render:({field:_})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Email"}),a.jsx(Pe,{children:a.jsx(ae,{..._,type:"email",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"john.doe@example.com"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:x.control,name:"password",render:({field:_})=>a.jsxs(Ce,{children:[a.jsxs(Ae,{className:"text-gray-400",children:["Password"," ",r&&"(leave blank to keep current)"]}),a.jsx(Pe,{children:a.jsx(ae,{..._,type:"password",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:""})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:x.control,name:"roleId",render:({field:_})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Role"}),a.jsxs(tt,{onValueChange:B=>_.onChange(parseInt(B,10)),value:_.value?.toString()||"",children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select a role"})})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:f?.map(B=>a.jsx(xe,{value:B.id.toString(),children:B.name},B.id))})]}),a.jsx(Te,{})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ie,{type:"button",variant:"ghost",onClick:()=>{e(!1),n(null),x.reset()},className:"text-gray-400 hover:text-foreground",children:"Cancel"}),a.jsxs(ie,{type:"submit",className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",disabled:v.isPending||g.isPending,children:[(v.isPending||g.isPending)&&a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),r?"Update":"Create"]})]})]})})]})}),a.jsxs("div",{className:"mt-12 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Quick Links Management"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Manage quick links for Reports, Support, and Forms centers"})]}),a.jsxs(ie,{onClick:E,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),"Add Quick Link"]})]}),a.jsx(ft,{className:"bg-[#1a1a1a] border-[#2a2a2a]",children:a.jsx(mt,{className:"p-0",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[#2a2a2a]",children:[a.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider px-6 py-4",children:"Category"}),a.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider px-6 py-4",children:"Title"}),a.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider px-6 py-4",children:"URL"}),a.jsx("th",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider px-6 py-4",children:"Visibility"}),a.jsx("th",{className:"text-right text-xs font-medium text-gray-500 uppercase tracking-wider px-6 py-4",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-[#2a2a2a]",children:m&&m.length>0?m.map(_=>a.jsxs("tr",{className:"hover:bg-[#252525] transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx(Ot,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:_.category})}),a.jsx("td",{className:"px-6 py-4 text-foreground font-medium",children:_.title}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#EAEB80] flex items-center gap-1 text-sm",children:[_.url.length>40?`${_.url.substring(0,40)}...`:_.url,a.jsx(Ar,{className:"w-3 h-3"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.visibleToAdmins&&a.jsx(Ot,{variant:"outline",className:"bg-[#EAEB80]/20 text-[#EAEB80] border-[#EAEB80]/30 text-xs",children:"Admin"}),_.visibleToClients&&a.jsx(Ot,{variant:"outline",className:"bg-green-500/20 text-green-400 border-green-500/30 text-xs",children:"Client"}),_.visibleToEmployees&&a.jsx(Ot,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500/30 text-xs",children:"Employee"})]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(ie,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-foreground",onClick:()=>P(_),children:a.jsx(kS,{className:"w-4 h-4"})}),a.jsx(hf,{trigger:a.jsx(ie,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-red-400",children:a.jsx(Ri,{className:"w-4 h-4"})}),title:"Delete Quick Link",description:"Are you sure you want to delete this quick link?",confirmText:"Delete",cancelText:"Cancel",variant:"destructive",onConfirm:()=>O(_.id)})]})})]},_.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-400",children:"No quick links found. Add one to get started."})})})]})})})})]}),a.jsx($t,{open:s,onOpenChange:i,children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-[95vw] sm:max-w-md",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold",children:o?"Edit Quick Link":"Add Quick Link"}),a.jsx(Ut,{className:"text-gray-400",children:o?"Update quick link information":"Create a new quick link for users"})]}),a.jsx(Rs,{...p,children:a.jsxs("form",{onSubmit:p.handleSubmit(k),className:"space-y-4 mt-4",children:[a.jsx(ke,{control:p.control,name:"category",render:({field:_})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Category"}),a.jsxs(tt,{onValueChange:_.onChange,value:_.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select category"})})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Reports Center",children:"Reports Center"}),a.jsx(xe,{value:"Support Center",children:"Support Center"}),a.jsx(xe,{value:"Forms Center",children:"Forms Center"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"title",render:({field:_})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Title"}),a.jsx(Pe,{children:a.jsx(ae,{..._,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Link title"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:p.control,name:"url",render:({field:_})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"URL"}),a.jsx(Pe,{children:a.jsx(ae,{..._,type:"url",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"https://example.com"})}),a.jsx(Te,{})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ae,{className:"text-gray-400",children:"Visibility"}),a.jsx(ke,{control:p.control,name:"visibleToAdmins",render:({field:_})=>a.jsxs(Ce,{className:"flex items-center space-x-3 space-y-0",children:[a.jsx(Pe,{children:a.jsx(pn,{checked:_.value,onCheckedChange:_.onChange,className:"border-[#2a2a2a] data-[state=checked]:bg-[#EAEB80] data-[state=checked]:border-[#EAEB80]"})}),a.jsx(Ae,{className:"text-gray-400 font-normal cursor-pointer",children:"Visible to Admins"})]})}),a.jsx(ke,{control:p.control,name:"visibleToClients",render:({field:_})=>a.jsxs(Ce,{className:"flex items-center space-x-3 space-y-0",children:[a.jsx(Pe,{children:a.jsx(pn,{checked:_.value,onCheckedChange:_.onChange,className:"border-[#2a2a2a] data-[state=checked]:bg-[#EAEB80] data-[state=checked]:border-[#EAEB80]"})}),a.jsx(Ae,{className:"text-gray-400 font-normal cursor-pointer",children:"Visible to Clients"})]})}),a.jsx(ke,{control:p.control,name:"visibleToEmployees",render:({field:_})=>a.jsxs(Ce,{className:"flex items-center space-x-3 space-y-0",children:[a.jsx(Pe,{children:a.jsx(pn,{checked:_.value,onCheckedChange:_.onChange,className:"border-[#2a2a2a] data-[state=checked]:bg-[#EAEB80] data-[state=checked]:border-[#EAEB80]"})}),a.jsx(Ae,{className:"text-gray-400 font-normal cursor-pointer",children:"Visible to Employees"})]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ie,{type:"button",variant:"ghost",onClick:()=>{i(!1),l(null),p.reset()},className:"text-gray-400 hover:text-foreground",children:"Cancel"}),a.jsxs(ie,{type:"submit",className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",disabled:b.isPending||S.isPending,children:[(b.isPending||S.isPending)&&a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),o?"Update":"Create"]})]})]})})]})})]})})}const Ao=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:_e("w-full caption-bottom text-sm",t),...e})}));Ao.displayName="Table";const Co=y.forwardRef(({className:t,...e},r)=>a.jsx("thead",{ref:r,className:_e("[&_tr]:border-b",t),...e}));Co.displayName="TableHeader";const ko=y.forwardRef(({className:t,...e},r)=>a.jsx("tbody",{ref:r,className:_e("[&_tr:last-child]:border-0",t),...e}));ko.displayName="TableBody";const J0e=y.forwardRef(({className:t,...e},r)=>a.jsx("tfoot",{ref:r,className:_e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));J0e.displayName="TableFooter";const zr=y.forwardRef(({className:t,...e},r)=>a.jsx("tr",{ref:r,className:_e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));zr.displayName="TableRow";const He=y.forwardRef(({className:t,...e},r)=>a.jsx("th",{ref:r,className:_e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));He.displayName="TableHead";const qe=y.forwardRef(({className:t,...e},r)=>a.jsx("td",{ref:r,className:_e("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));qe.displayName="TableCell";const eve=y.forwardRef(({className:t,...e},r)=>a.jsx("caption",{ref:r,className:_e("mt-4 text-sm text-muted-foreground",t),...e}));eve.displayName="TableCaption";function Ca({className:t,...e}){return a.jsx("div",{className:_e("animate-pulse rounded-md bg-muted",t),...e})}function cO({className:t}){return a.jsxs("div",{className:_e("bg-[#1a1a1a] p-6 rounded-lg border border-[#2a2a2a]",t),children:[a.jsx(Ca,{className:"h-6 w-1/3 mb-4 bg-[#252525]"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ca,{className:"h-4 w-full bg-[#252525]"}),a.jsx(Ca,{className:"h-4 w-5/6 bg-[#252525]"}),a.jsx(Ca,{className:"h-4 w-4/6 bg-[#252525]"})]})]})}function tve(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ca,{className:"h-10 w-64 bg-[#252525]"}),a.jsx(Ca,{className:"h-4 w-48 bg-[#252525]"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(4)].map((t,e)=>a.jsx(cO,{},`card-skeleton-${e}`))}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx(Ca,{className:"h-6 w-48 mb-4 bg-[#252525]"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(10)].map((t,e)=>a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ca,{className:"h-3 w-24 bg-[#252525]"}),a.jsx(Ca,{className:"h-4 w-32 bg-[#252525]"})]},`field-skeleton-${e}`))})]})]})}function dO({colSpan:t,rows:e=5}){return a.jsx(a.Fragment,{children:[...Array(e)].map((r,n)=>a.jsx("tr",{className:"border-b border-[#2a2a2a]",children:a.jsx("td",{colSpan:t,className:"px-4 py-3",children:a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[a.jsx(Ca,{className:"h-4 w-full bg-[#252525]"}),a.jsx(Ca,{className:"h-4 w-3/4 bg-[#252525]"})]})})},`skeleton-row-${n}`))})}function rve(){return a.jsxs("div",{className:"space-y-6",children:[a.jsx(Ca,{className:"h-10 w-64 bg-[#252525]"}),a.jsx("div",{className:"flex gap-4 border-b border-[#2a2a2a]",children:[...Array(4)].map((t,e)=>a.jsx(Ca,{className:"h-10 w-24 bg-[#252525]"},`tab-${e}`))}),a.jsx("div",{className:"space-y-6",children:[...Array(3)].map((t,e)=>a.jsx(cO,{},`content-card-${e}`))})]})}function Is(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Ca,{className:"h-10 w-10 bg-[#252525]"}),a.jsx(Ca,{className:"h-8 w-64 bg-[#252525]"})]}),a.jsx(cO,{}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#2a2a2a]",children:[a.jsx(Ca,{className:"h-6 w-32 mb-4 bg-[#252525]"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(8)].map((t,e)=>a.jsx(Ca,{className:"h-32 w-full bg-[#252525] rounded"},`photo-${e}`))})]})]})}function Qu({totalItems:t,itemsPerPage:e,currentPage:r,onPageChange:n,onItemsPerPageChange:s,isLoading:i=!1}){const o=Math.max(1,Math.ceil(t/e)),l=t===0?0:(r-1)*e+1,c=Math.min(r*e,t),u=(()=>{const f=[];if(o<=7)for(let x=1;x<=o;x++)f.push(x);else if(f.push(1),r<=3){for(let x=2;x<=4;x++)f.push(x);f.push("ellipsis"),f.push(o)}else if(r>=o-2){f.push("ellipsis");for(let x=o-3;x<=o;x++)f.push(x)}else{f.push("ellipsis");for(let x=r-1;x<=r+1;x++)f.push(x);f.push("ellipsis"),f.push(o)}return f})(),h=f=>{const m=Math.max(1,Math.min(f,o));m>=1&&m<=o&&m!==r&&!i&&n(m)};return a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-6 py-4 bg-[#0f0f0f] border-t border-[#1a1a1a]",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-400 hidden sm:inline",children:"Rows per page:"}),a.jsx("div",{className:"flex gap-1",children:[10,20,50].map(f=>a.jsx("button",{onClick:()=>s(f),disabled:i,className:_e("px-3 py-1.5 text-sm font-medium rounded transition-all duration-200","hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",e===f?"bg-[#EAEB80] text-black font-bold shadow-lg":"bg-[#1a1a1a] text-gray-300 hover:text-foreground border border-[#2a2a2a]"),children:f},f))})]}),a.jsxs("span",{className:"text-sm text-gray-400",children:["Showing ",a.jsx("span",{className:"text-foreground font-medium",children:l})," to"," ",a.jsx("span",{className:"text-foreground font-medium",children:c})," of"," ",a.jsx("span",{className:"text-foreground font-medium",children:t})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:hidden",children:[a.jsx("button",{onClick:()=>h(r-1),disabled:r===1||i,className:_e("p-2 rounded transition-colors","hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed","text-gray-400 hover:text-foreground"),"aria-label":"Previous page",children:a.jsx(Kl,{className:"h-4 w-4"})}),a.jsxs("span",{className:"px-3 py-1.5 text-sm font-medium text-foreground bg-[#1a1a1a] rounded",children:[r," / ",o]}),a.jsx("button",{onClick:()=>h(r+1),disabled:r===o||i,className:_e("p-2 rounded transition-colors","hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed","text-gray-400 hover:text-foreground"),"aria-label":"Next page",children:a.jsx(pa,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"hidden sm:flex items-center gap-1",children:[a.jsx("button",{onClick:()=>h(1),disabled:r===1||i,className:_e("p-2 rounded transition-colors","hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed","text-gray-400 hover:text-foreground"),"aria-label":"First page",children:a.jsx(hte,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>h(r-1),disabled:r===1||i,className:_e("p-2 rounded transition-colors","hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed","text-gray-400 hover:text-foreground"),"aria-label":"Previous page",children:a.jsx(Kl,{className:"h-4 w-4"})}),u.map((f,m)=>{if(f==="ellipsis")return a.jsx("span",{className:"px-2 text-gray-500",children:"..."},`ellipsis-${m}`);const x=f;return a.jsx("button",{onClick:()=>h(x),disabled:i,className:_e("min-w-[2.5rem] px-3 py-1.5 text-sm font-medium rounded transition-all duration-200","hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",r===x?"bg-[#EAEB80] text-black font-bold shadow-lg":"bg-[#1a1a1a] text-gray-300 hover:text-foreground border border-[#2a2a2a]"),"aria-label":`Page ${x}`,"aria-current":r===x?"page":void 0,children:x},x)}),a.jsx("button",{onClick:()=>h(r+1),disabled:r===o||i,className:_e("p-2 rounded transition-colors","hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed","text-gray-400 hover:text-foreground"),"aria-label":"Next page",children:a.jsx(pa,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>h(o),disabled:r===o||i,className:_e("p-2 rounded transition-colors","hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed","text-gray-400 hover:text-foreground"),"aria-label":"Last page",children:a.jsx(fte,{className:"h-4 w-4"})})]})]})]})}function vx(t,e){if(e)try{const r=new Date(e);if(!isNaN(r.getTime())){const n=r.getTime();if(t)try{const s=new Date(t);if(!isNaN(s.getTime())){const i=s.getTime();if(n>=i)return{text:"Offline",className:"border-gray-500/50 text-gray-400 bg-gray-500/10",isOnline:!1}}}catch(s){console.error("[Online Status] Error parsing lastLoginAt:",s)}else return{text:"Offline",className:"border-gray-500/50 text-gray-400 bg-gray-500/10",isOnline:!1}}}catch(r){console.error("[Online Status] Error parsing lastLogoutAt:",r)}return t?{text:"Online",className:"border-green-500/50 text-green-400 bg-green-500/10",isOnline:!0}:{text:"Never logged in",className:"border-gray-500/50 text-gray-400 bg-gray-500/10",isOnline:null}}function _A(t){if(!t)return"Never logged in";try{return new Date(t).toLocaleString()}catch{return"Invalid date"}}const nve=Ma({firstName:ge().min(1,"First name is required"),lastName:ge().min(1,"Last name is required"),email:ge().email("Invalid email address"),phone:ge().optional(),birthday:ge().optional(),tshirtSize:ge().optional(),ssn:ge().optional(),representative:ge().optional(),heardAboutUs:ge().optional(),emergencyContactName:ge().optional(),emergencyContactPhone:ge().optional(),status:Fl(["ACTIVE","INACTIVE"]).optional(),streetAddress:ge().optional(),city:ge().optional(),state:ge().optional(),zipCode:ge().optional(),bankName:ge().optional(),taxClassification:ge().optional(),bankRoutingNumber:ge().optional(),bankAccountNumber:ge().optional(),businessName:ge().optional(),ein:ge().optional(),vehicleRecall:ge().optional(),numberOfSeats:ge().optional(),numberOfDoors:ge().optional(),skiRacks:ge().optional()});function ave(){const[,t]=wr(),[e,r]=y.useState(""),[n,s]=y.useState("all"),[i,o]=y.useState(1),[l,c]=y.useState(()=>{const z=localStorage.getItem("clients_limit");return z?parseInt(z):10});y.useEffect(()=>{localStorage.setItem("clients_limit",l.toString())},[l]);const[d,u]=y.useState(!1),[h,f]=y.useState(!1),[m,x]=y.useState(null),[p,v]=y.useState([]),[g,w]=y.useState(!1),[N,j]=y.useState(null),[b,S]=y.useState(null),[A,E]=y.useState(null),[P,O]=y.useState(null),[k,L]=y.useState(null),{toast:R}=kr(),_=Wr(),[B,I]=y.useState(Date.now());y.useEffect(()=>{const z=setInterval(()=>{I(Date.now())},1e4);return()=>clearInterval(z)},[]),y.useEffect(()=>{const z=()=>{document.visibilityState==="visible"&&_.invalidateQueries({queryKey:["/api/clients"]})};return document.addEventListener("visibilitychange",z),()=>{document.removeEventListener("visibilitychange",z)}},[_]);const{data:C,isLoading:D,error:W,refetch:K}=Ge({queryKey:["/api/clients",e,n,i,l],placeholderData:Gl,queryFn:async()=>{const z=new URLSearchParams;e&&e.trim()&&z.append("search",e.trim()),n!=="all"&&z.append("status",n),z.append("page",i.toString()),z.append("limit",l.toString());const T=je(`/api/clients?${z.toString()}`),M=await fetch(T,{credentials:"include"});if(!M.ok){if(M.status===401)return console.log(" [CLIENTS] Not authenticated (401). Returning empty data."),{success:!0,data:[],pagination:{page:1,limit:l,total:0,totalPages:0}};const re=await M.json().catch(()=>({error:"Database connection failed"}));throw new Error(re.error||"Failed to fetch clients")}return M.json()},retry:(z,T)=>{if(z<3){const M=T instanceof Error?T.message:String(T);if(M.includes("Database")||M.includes("connection")||M.includes("timeout"))return console.log(` [CLIENTS] Retrying database query (attempt ${z+1}/3)...`),!0}return!1},retryDelay:z=>Math.min(1e3*2**z,1e4),refetchInterval:2e3,refetchOnWindowFocus:!0,refetchOnMount:!0}),H=C?.data||[],G=C?.pagination;y.useEffect(()=>{G&&G.totalPages>0&&(i>G.totalPages&&o(G.totalPages),i<1&&o(1))},[G,i]);const ee=ts({resolver:rs(nve),defaultValues:{firstName:"",lastName:"",email:"",phone:"",birthday:"",tshirtSize:"",ssn:"",representative:"",heardAboutUs:"",emergencyContactName:"",emergencyContactPhone:"",status:"INACTIVE",streetAddress:"",city:"",state:"",zipCode:"",bankName:"",taxClassification:"",bankRoutingNumber:"",bankAccountNumber:"",businessName:"",ein:"",vehicleRecall:"",numberOfSeats:"",numberOfDoors:"",skiRacks:""}}),Q=yt({mutationFn:async z=>{const T=await fetch(je("/api/clients"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(z)});if(!T.ok){const M=await T.json();throw new Error(M.error||"Failed to create client")}return T.json()},onSuccess:z=>{_.invalidateQueries({queryKey:["/api/clients"]}),z.emailSent?R({title:"Success",description:z.message||"Client created successfully. Password creation email has been sent."}):R({title:"Client Created",description:z.message||"Client created successfully, but password email could not be sent. You can resend it from the client detail page.",variant:"default"}),u(!1),ee.reset()},onError:z=>{R({title:"Error",description:z.message||"Failed to create client",variant:"destructive"})}}),te=yt({mutationFn:async z=>{const T=await fetch(je(`/api/clients/${z}`),{method:"DELETE",credentials:"include"});if(!T.ok){const M=await T.json();throw new Error(M.error||"Failed to delete client")}return T.json()},onSuccess:()=>{_.invalidateQueries({queryKey:["/api/clients"]}),R({title:"Success",description:"Client deleted successfully"}),j(null)},onError:z=>{R({title:"Error",description:z.message||"Failed to delete client",variant:"destructive"})}}),U=yt({mutationFn:async z=>{const T=new FormData;T.append("file",z);const M=await fetch(je("/api/admin/onboarding/import"),{method:"POST",credentials:"include",body:T});if(!M.ok){const re=await M.json();throw new Error(re.error||re.message||"Failed to import clients")}return M.json()},onSuccess:z=>{_.invalidateQueries({queryKey:["/api/clients"]}),_.invalidateQueries({queryKey:["/api/onboarding/submissions"]});const T=z.data||z,{total:M=0,successful:re=0,failed:oe=0,errors:ce=[]}=T;R({title:"Import Completed",description:`${re} of ${M} records imported successfully${oe>0?`. ${oe} failed.`:""}`,variant:(oe>0,"default")}),oe>0&&ce.length>0?(console.log(" [IMPORT] Import completed with errors:",ce),v(ce),w(!0)):(f(!1),x(null),v([]))},onError:z=>{R({title:"Import Failed",description:z.message||"Failed to import clients and cars",variant:"destructive"})}}),q=()=>{if(!m){R({title:"No File Selected",description:"Please select an Excel or CSV file to import",variant:"destructive"});return}U.mutate(m)},ne=z=>{t(`/admin/clients/${z}`)},fe=()=>{N&&te.mutate(N)},pe=async z=>{try{const T=encodeURIComponent(z),M=await fetch(je(`/api/users/by-email/${T}`),{credentials:"include"});if(!M.ok){const oe=await M.json().catch(()=>({error:"User not found"}));return console.error("Error fetching user ID:",oe.error),null}const re=await M.json();return re.success&&re.data?re.data.id:null}catch(T){return console.error("Error fetching user ID:",T),null}},ye=yt({mutationFn:async z=>{const T=await pe(z);if(!T){const re=await fetch(je("/api/clients/revoke-access"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:z})});if(!re.ok){const oe=await re.json();throw new Error(oe.error||"Failed to revoke client access")}return re.json()}const M=await fetch(je(`/api/users/${T}/revoke`),{method:"POST",credentials:"include"});if(!M.ok){const re=await M.json();throw new Error(re.error||"Failed to revoke user access")}return M.json()},onSuccess:async()=>{await _.invalidateQueries({queryKey:["/api/clients"]}),await K(),R({title:"Success",description:"Client access revoked successfully. The user can no longer log in."}),S(null)},onError:z=>{R({title:"Error",description:z.message||"Failed to revoke client access",variant:"destructive"})}}),Z=yt({mutationFn:async z=>{const T=await pe(z);if(!T){const re=await fetch(je("/api/clients/block"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:z})});if(!re.ok){const oe=await re.json();throw new Error(oe.error||"Failed to block client account")}return re.json()}const M=await fetch(je(`/api/users/${T}/block`),{method:"POST",credentials:"include"});if(!M.ok){const re=await M.json();throw new Error(re.error||"Failed to block user account")}return M.json()},onSuccess:async()=>{await _.invalidateQueries({queryKey:["/api/clients"]}),await K(),R({title:"Success",description:"Client account permanently blocked successfully. The user cannot register or access their account."}),O(null)},onError:z=>{R({title:"Error",description:z.message||"Failed to block client account",variant:"destructive"})}}),Ne=yt({mutationFn:async z=>{const T=await pe(z);if(!T){const re=await fetch(je("/api/clients/reactivate-access"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:z})});if(!re.ok){const oe=await re.json();throw new Error(oe.error||"Failed to reactivate client access")}return re.json()}const M=await fetch(je(`/api/users/${T}/reactivate`),{method:"POST",credentials:"include"});if(!M.ok){const re=await M.json();throw new Error(re.error||"Failed to reactivate user access")}return M.json()},onSuccess:async()=>{await _.invalidateQueries({queryKey:["/api/clients"]}),await K(),R({title:"Success",description:"Client access reactivated successfully. The user can now log in again."}),E(null)},onError:z=>{R({title:"Error",description:z.message||"Failed to reactivate client access",variant:"destructive"})}}),J=yt({mutationFn:async({clientId:z,email:T})=>{const M=await fetch(je(`/api/clients/${z}`),{method:"DELETE",credentials:"include"});if(!M.ok){const oe=await M.json();throw new Error(oe.error||"Failed to delete client")}const re=await pe(T);if(re){const oe=await fetch(je(`/api/users/${re}`),{method:"DELETE",credentials:"include"});if(!oe.ok){const ce=await oe.json();throw new Error(ce.error||"Failed to delete user account")}}return{success:!0}},onSuccess:async()=>{await _.invalidateQueries({queryKey:["/api/clients"]}),await K(),R({title:"Success",description:"Client and user account permanently deleted. All related data has been removed."}),L(null),j(null)},onError:z=>{R({title:"Error",description:z.message||"Failed to delete client",variant:"destructive"})}}),le=z=>{S(z)},we=()=>{b&&ye.mutate(b)},De=()=>{N&&k&&J.mutate({clientId:N,email:k})},ue=z=>{E(z)},Y=()=>{A&&Ne.mutate(A)},V=z=>{O(z)},$=()=>{P&&Z.mutate(P)},X=z=>{Q.mutate(z)},me=z=>{try{return new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"N/A"}};return a.jsx(jt,{children:a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-serif text-[#EAEB80] italic mb-1 sm:mb-2",children:"Clients"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Manage your client database"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs(ie,{onClick:()=>f(!0),variant:"outline",className:"border-[#EAEB80]/30 text-[#EAEB80] hover:bg-[#EAEB80]/10 w-full sm:w-auto",children:[a.jsx(gn,{className:"w-4 h-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Import"}),a.jsx("span",{className:"sm:hidden",children:"Import"})]}),a.jsxs(ie,{onClick:async()=>{try{const z=await fetch(je("/api/admin/onboarding/export?format=xlsx"),{credentials:"include",method:"GET"});if(!z.ok){const be=z.headers.get("content-type");if(be&&be.includes("application/json")){const Le=await z.json();throw new Error(Le.message||Le.error||`Failed to download Excel file (${z.status})`)}throw new Error(`Failed to download Excel file (${z.status} ${z.statusText})`)}const T=await z.blob(),M=window.URL.createObjectURL(T),re=document.createElement("a");re.href=M,re.download="onboarding_submissions_lyc_example.xlsx",document.body.appendChild(re),re.click(),document.body.removeChild(re),window.URL.revokeObjectURL(M);const oe=await fetch(je("/api/admin/onboarding/export?format=csv"),{credentials:"include",method:"GET"});if(!oe.ok){const be=oe.headers.get("content-type");if(be&&be.includes("application/json")){const Le=await oe.json();throw new Error(Le.message||Le.error||`Failed to download CSV file (${oe.status})`)}throw new Error(`Failed to download CSV file (${oe.status} ${oe.statusText})`)}const ce=await oe.blob(),Ee=window.URL.createObjectURL(ce),se=document.createElement("a");se.href=Ee,se.download="onboarding_submissions_lyc_example.csv",document.body.appendChild(se),se.click(),document.body.removeChild(se),window.URL.revokeObjectURL(Ee),R({title:"Download Complete",description:"Example Excel and CSV files downloaded successfully"})}catch(z){console.error("Download error:",z),R({title:"Download Failed",description:z.message||"Failed to download example files. Please ensure you are logged in.",variant:"destructive"})}},variant:"outline",className:"border-[#EAEB80]/30 text-[#EAEB80] hover:bg-[#EAEB80]/10 w-full sm:w-auto",children:[a.jsx(Un,{className:"w-4 h-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Download"}),a.jsx("span",{className:"sm:hidden",children:"Download"})]}),a.jsxs(ie,{onClick:()=>u(!0),className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] w-full sm:w-auto",children:[a.jsx(mr,{className:"w-4 h-4 sm:mr-2"}),"Add"]})]})]}),a.jsx(ft,{className:"bg-[#111111] border-[#2a2a2a]",children:a.jsx(mt,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),a.jsx(ae,{type:"text",placeholder:"Search by name, email, phone, or ID...",value:e,onChange:z=>{r(z.target.value),o(1)},className:"pl-10 bg-[#1a1a1a] border-[#2a2a2a] text-foreground placeholder:text-gray-600"})]}),a.jsxs(tt,{value:n,onValueChange:z=>{s(z),o(1)},children:[a.jsx(Qe,{className:"w-full md:w-[200px] bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Filter by status"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"all",children:"All Status"}),a.jsx(xe,{value:"active",children:"Active"}),a.jsx(xe,{value:"inactive",children:"Inactive"})]})]}),(e||n!=="all")&&a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{r(""),s("all"),o(1)},className:"text-gray-400 hover:text-foreground",children:a.jsx(pr,{className:"w-4 h-4"})})]})})}),a.jsx(ft,{className:"bg-[#0f0f0f] border-[#1a1a1a]",children:a.jsxs(mt,{className:"p-0",children:[a.jsx("div",{className:"overflow-x-auto -mx-3 sm:mx-0",children:a.jsxs(Ao,{className:"min-w-[1000px]",children:[a.jsx(Co,{children:a.jsxs(zr,{className:"border-[#2a2a2a] hover:bg-transparent",children:[a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 w-12 sm:w-16 text-[10px] sm:text-xs",children:"No"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 min-w-[150px] sm:min-w-[200px] text-[10px] sm:text-xs",children:"Full Name"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 min-w-[140px] sm:min-w-[180px] text-[10px] sm:text-xs hidden lg:table-cell",children:"Email"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 min-w-[100px] sm:min-w-[140px] text-[10px] sm:text-xs hidden xl:table-cell",children:"Phone"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 w-24 sm:w-32 text-[10px] sm:text-xs",children:"Role"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 w-20 sm:w-28 text-[10px] sm:text-xs",children:"Status"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 min-w-[100px] sm:min-w-[140px] text-[10px] sm:text-xs hidden md:table-cell",children:"Joined Date"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 min-w-[100px] sm:min-w-[120px] text-[10px] sm:text-xs",children:"Online Status"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 w-24 sm:w-32 text-[10px] sm:text-xs hidden lg:table-cell",children:"Counts of Cars"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 w-20 sm:w-28 text-[10px] sm:text-xs",children:"Actions"})]})}),a.jsx(ko,{children:D?a.jsx(dO,{colSpan:10,rows:5}):W?a.jsx(zr,{children:a.jsx(qe,{colSpan:10,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("p",{className:"text-red-400",children:W instanceof Error?W.message:"Database connection failed. Please try again."}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>K(),className:"border-[#EAEB80] text-[#EAEB80] hover:bg-[#EAEB80]/10",children:[a.jsx(dU,{className:"w-4 h-4 mr-2"}),"Retry"]})]})})}):H.length===0?a.jsx(zr,{children:a.jsx(qe,{colSpan:10,className:"text-center py-8 text-gray-400",children:"No clients found. Try adjusting your search or filters."})}):H.map((z,T)=>{const M=(G?(G.page-1)*G.limit:0)+T+1,re=vx(z.lastLoginAt,z.lastLogoutAt);return a.jsxs(zr,{className:"border-[#2a2a2a] group",children:[a.jsx(qe,{className:"text-center text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm",children:M}),a.jsxs(qe,{className:"text-left text-foreground font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm",children:[z.firstName," ",z.lastName]}),a.jsx(qe,{className:"text-left text-gray-300 px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm hidden lg:table-cell",children:z.email}),a.jsx(qe,{className:"text-left text-gray-400 px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm hidden xl:table-cell",children:z.phone||a.jsx("span",{className:"text-gray-600",children:"N/A"})}),a.jsx(qe,{className:"text-left px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle",children:a.jsx(Ot,{variant:"outline",className:"bg-[#EAEB80]/10 text-[#EAEB80] border-[#EAEB80]/30 text-xs",children:z.roleName})}),a.jsx(qe,{className:"text-left px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle",children:a.jsx(Ot,{variant:"outline",className:_e("text-xs",z.status===3?"bg-red-500/20 text-red-400 border-red-500/30":z.status===0?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"),children:z.status===3?"Blocked":z.status===0?"Active":"Inactive"})}),a.jsx(qe,{className:"text-left text-gray-400 px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm hidden md:table-cell",children:me(z.createdAt)}),a.jsx(qe,{className:"text-left px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle",children:a.jsx(Ot,{variant:"outline",className:_e(re.className,"text-xs"),children:re.text})}),a.jsx(qe,{className:"text-center text-gray-400 px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm hidden lg:table-cell",children:z.carCount}),a.jsx(qe,{className:"text-center px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(ie,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 text-[#EAEB80] hover:text-[#EAEB80] hover:bg-[#EAEB80]/10 rounded-full",onClick:oe=>{oe.stopPropagation(),ne(z.id)},title:"View Client Details",children:a.jsx(_s,{className:"w-4 h-4"})}),z.status===0?a.jsx(ie,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10 rounded-full",onClick:oe=>{oe.stopPropagation(),le(z.email)},disabled:ye.isPending||Ne.isPending,title:"Suspend Access (Temporary)",children:ye.isPending&&b===z.email?a.jsx(Gt,{className:"w-4 h-4 animate-spin"}):a.jsx(Jh,{className:"w-4 h-4"})}):z.status===1?a.jsx(ie,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10 rounded-full",onClick:oe=>{oe.stopPropagation(),le(z.email)},disabled:ye.isPending||Ne.isPending,title:"Suspend Access (Temporary)",children:ye.isPending&&b===z.email?a.jsx(Gt,{className:"w-4 h-4 animate-spin"}):a.jsx(Jh,{className:"w-4 h-4"})}):z.status===2?a.jsx(ie,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 text-green-400 hover:text-green-300 hover:bg-green-500/10 rounded-full",onClick:oe=>{oe.stopPropagation(),ue(z.email)},disabled:Ne.isPending||ye.isPending,title:"Grant/Reactivate Access",children:Ne.isPending&&A===z.email?a.jsx(Gt,{className:"w-4 h-4 animate-spin"}):a.jsx(mU,{className:"w-4 h-4"})}):z.status===3?a.jsx(ie,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10 rounded-full opacity-50 cursor-not-allowed",disabled:!0,title:"Account is blocked - Cannot suspend",children:a.jsx(Jh,{className:"w-4 h-4"})}):null,z.status===3?a.jsx(ie,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 text-red-400 hover:text-red-500 hover:bg-red-500/10 rounded-full opacity-50 cursor-not-allowed",disabled:!0,title:"Account is blocked - Cannot perform actions",children:a.jsx(vI,{className:"w-4 h-4"})}):a.jsx(ie,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 text-red-400 hover:text-red-500 hover:bg-red-500/10 rounded-full",onClick:oe=>{oe.stopPropagation(),V(z.email)},title:"Permanently Block Account",children:a.jsx(vI,{className:"w-4 h-4"})})]})})]},z.id)})})]})}),G&&G.total>0&&a.jsx(Qu,{totalItems:G.total,itemsPerPage:l,currentPage:Math.min(i,G.totalPages),onPageChange:z=>{const T=Math.max(1,Math.min(z,G.totalPages));o(T),window.scrollTo({top:0,behavior:"smooth"})},onItemsPerPageChange:z=>{c(z),o(1)},isLoading:D})]})}),a.jsx($t,{open:d,onOpenChange:u,children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-[95vw] sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold text-[#EAEB80]",children:"Add New Client"}),a.jsx(Ut,{className:"text-gray-400",children:"Create a new client in the system"})]}),a.jsx(Rs,{...ee,children:a.jsxs("form",{onSubmit:ee.handleSubmit(X),className:"space-y-6 mt-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#EAEB80]/30 pb-2",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{control:ee.control,name:"firstName",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"First Name *"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"lastName",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Last Name *"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"email",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Email *"}),a.jsx(Pe,{children:a.jsx(ae,{...z,type:"email",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"phone",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Phone"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"birthday",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Date of Birth"}),a.jsx(Pe,{children:a.jsx(ae,{...z,type:"date",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"tshirtSize",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"T-Shirt Size"}),a.jsxs(tt,{onValueChange:z.onChange,defaultValue:z.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:["XS","S","M","L","XL","XXL"].map(T=>a.jsx(xe,{value:T,children:T},T))})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"representative",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Representative"}),a.jsxs(tt,{onValueChange:z.onChange,value:z.value||void 0,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:["Jay Barton","Jenn Mason","Brynn Lunn","Other"].map(T=>a.jsx(xe,{value:T,children:T},T))})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"heardAboutUs",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"How Did You Hear About Us"}),a.jsxs(tt,{onValueChange:z.onChange,defaultValue:z.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Friend",children:"Friend"}),a.jsx(xe,{value:"Google",children:"Google"}),a.jsx(xe,{value:"Social Media",children:"Social Media"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"emergencyContactName",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Emergency Contact Name"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"emergencyContactPhone",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Emergency Contact Phone"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"status",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Client Status"}),a.jsxs(tt,{value:z.value||"INACTIVE",onValueChange:z.onChange,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select client status"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"ACTIVE",children:"Active"}),a.jsx(xe,{value:"INACTIVE",children:"Inactive"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"vehicleRecall",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Vehicle Recall"}),a.jsxs(tt,{onValueChange:z.onChange,defaultValue:z.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"skiRacks",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Ski Racks"}),a.jsxs(tt,{onValueChange:z.onChange,defaultValue:z.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"numberOfDoors",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Number of Doors"}),a.jsxs(tt,{onValueChange:z.onChange,defaultValue:z.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"2",children:"2"}),a.jsx(xe,{value:"4",children:"4"})]})]}),a.jsx(Te,{})]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsx(ke,{control:ee.control,name:"numberOfSeats",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Number of Seats"}),a.jsxs(tt,{onValueChange:z.onChange,defaultValue:z.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[2,4,5,6,7,8].map(T=>a.jsx(xe,{value:String(T),children:T},T))})]}),a.jsx(Te,{})]})})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#EAEB80]/30 pb-2",children:"Address Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{control:ee.control,name:"streetAddress",render:({field:z})=>a.jsxs(Ce,{className:"md:col-span-2",children:[a.jsx(Ae,{className:"text-gray-400",children:"Street Address"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"city",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"City"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"state",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"State"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"zipCode",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Zip Code"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#EAEB80]/30 pb-2",children:"Banking Information (ACH)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{control:ee.control,name:"bankName",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Bank Name"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"taxClassification",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Tax Classification"}),a.jsxs(tt,{value:z.value||"",onValueChange:z.onChange,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select tax classification"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"individual",children:"Individual"}),a.jsx(xe,{value:"business",children:"Business"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"bankRoutingNumber",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Routing Number"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"bankAccountNumber",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Account Number"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"businessName",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Business Name"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"ssn",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"SSN"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:ee.control,name:"ein",render:({field:z})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"EIN"}),a.jsx(Pe,{children:a.jsx(ae,{...z,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ie,{type:"button",variant:"ghost",onClick:()=>{u(!1),ee.reset()},className:"text-gray-400 hover:text-foreground",children:"Cancel"}),a.jsx(ie,{type:"submit",className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",disabled:Q.isPending,children:Q.isPending?"Saving...":"Save"})]})]})})]})}),a.jsx($t,{open:N!==null&&k===null,onOpenChange:z=>!z&&j(null),children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold text-red-400",children:"Delete Client"}),a.jsx(Ut,{className:"text-gray-400",children:N&&H.find(z=>z.id===N)&&a.jsxs(a.Fragment,{children:["Are you sure you want to delete ",a.jsxs("strong",{children:[H.find(z=>z.id===N)?.firstName," ",H.find(z=>z.id===N)?.lastName]}),"? This action cannot be undone."]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ie,{variant:"ghost",onClick:()=>j(null),className:"text-gray-400 hover:text-foreground",disabled:te.isPending,children:"Cancel"}),a.jsxs(ie,{onClick:fe,className:"bg-red-500 text-foreground hover:bg-red-600",disabled:te.isPending,children:[te.isPending&&a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Confirm Delete"]})]})]})}),a.jsx($t,{open:b!==null,onOpenChange:z=>!z&&S(null),children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold text-yellow-400",children:"Suspend Client Access"}),a.jsx(Ut,{className:"text-gray-400",children:b&&H.find(z=>z.email===b)&&a.jsxs(a.Fragment,{children:["Are you sure you want to suspend access for ",a.jsxs("strong",{className:"text-foreground",children:[H.find(z=>z.email===b)?.firstName," ",H.find(z=>z.email===b)?.lastName]}),"?",a.jsx("br",{}),a.jsx("br",{}),"This will temporarily revoke their login access. The client's data will be preserved and can be reactivated later."]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[a.jsx(ie,{variant:"outline",onClick:()=>S(null),className:"border-gray-700 text-gray-300 hover:bg-gray-800",disabled:ye.isPending,children:"Cancel"}),a.jsxs(ie,{onClick:we,className:"bg-yellow-600 text-foreground hover:bg-yellow-700",disabled:ye.isPending,children:[ye.isPending&&a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Suspend Access"]})]})]})}),a.jsx($t,{open:P!==null,onOpenChange:z=>!z&&O(null),children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold text-red-400",children:"Permanently Block Account"}),a.jsx(Ut,{className:"text-gray-400",children:"This will permanently block the client account. The user will not be able to register or access their account."})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-gray-300 mb-4",children:["Are you sure you want to permanently block ",a.jsx("strong",{children:P}),"?"]}),a.jsx("p",{className:"text-yellow-400 text-sm mb-4",children:" This action cannot be undone. The account will be permanently blocked."})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx(ie,{variant:"outline",onClick:()=>O(null),className:"border-[#2a2a2a] text-gray-400 hover:text-foreground",disabled:Z.isPending,children:"Cancel"}),a.jsx(ie,{onClick:$,className:"bg-red-600 text-foreground hover:bg-red-700",disabled:Z.isPending,children:"Permanently Block"})]})]})}),a.jsx($t,{open:A!==null,onOpenChange:z=>!z&&E(null),children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold text-green-400",children:"Grant Client Access"}),a.jsx(Ut,{className:"text-gray-400",children:A&&H.find(z=>z.email===A)&&a.jsxs(a.Fragment,{children:["Are you sure you want to grant access for ",a.jsxs("strong",{className:"text-foreground",children:[H.find(z=>z.email===A)?.firstName," ",H.find(z=>z.email===A)?.lastName]}),"?",a.jsx("br",{}),a.jsx("br",{}),"This will restore their login access. The client will be able to log in and access their account again."]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[a.jsx(ie,{variant:"outline",onClick:()=>E(null),className:"border-gray-700 text-gray-300 hover:bg-gray-800",disabled:Ne.isPending,children:"Cancel"}),a.jsx(ie,{onClick:Y,className:"bg-green-600 text-foreground hover:bg-green-700",disabled:Ne.isPending,children:"Grant Access"})]})]})}),a.jsx($t,{open:k!==null&&N!==null,onOpenChange:z=>!z&&(L(null),j(null)),children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold text-red-400",children:"Permanently Delete Client"}),a.jsx(Ut,{className:"text-gray-400",children:N&&k&&H.find(z=>z.id===N)&&a.jsxs(a.Fragment,{children:["Are you sure you want to permanently delete ",a.jsxs("strong",{className:"text-foreground",children:[H.find(z=>z.id===N)?.firstName," ",H.find(z=>z.id===N)?.lastName]}),"?",a.jsx("br",{}),a.jsx("br",{}),a.jsx("span",{className:"text-red-400 font-semibold",children:"Warning:"})," This action cannot be undone. All client data, user account, cars, contracts, and related information will be permanently deleted."]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[a.jsx(ie,{variant:"outline",onClick:()=>{L(null),j(null)},className:"border-gray-700 text-gray-300 hover:bg-gray-800",disabled:J.isPending,children:"Cancel"}),a.jsx(ie,{onClick:De,className:"bg-red-600 text-foreground hover:bg-red-700",disabled:J.isPending,children:"Delete Permanently"})]})]})}),a.jsx($t,{open:h,onOpenChange:f,children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-[95vw] sm:max-w-2xl",children:[a.jsxs(Dt,{children:[a.jsxs(Mt,{className:"text-lg sm:text-xl font-semibold text-[#EAEB80] flex items-center gap-2",children:[a.jsx(tb,{className:"w-5 h-5"}),"Import Clients and Cars"]}),a.jsx(Ut,{className:"text-gray-400",children:"Upload an Excel (.xlsx, .xls) or CSV file to import existing clients and their cars. The file should contain the same fields as the client onboarding form."})]}),a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{htmlFor:"import-file",className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-[#EAEB80]/40 rounded-xl bg-[#0a0a0a]/50 hover:border-[#EAEB80]/60 hover:bg-[#EAEB80]/5 transition-all cursor-pointer group",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(gn,{className:"w-10 h-10 text-[#EAEB80] mb-3 group-hover:scale-110 transition-transform"}),a.jsx("p",{className:"mb-2 text-sm font-semibold text-gray-300 group-hover:text-[#EAEB80] transition-colors",children:m?m.name:"Click to Upload or Drag and Drop"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Excel (.xlsx, .xls) or CSV file (Max 100MB)"})]}),a.jsx("input",{id:"import-file",type:"file",accept:".xlsx,.xls,.csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,text/csv",onChange:z=>{const T=z.target.files?.[0];T&&x(T)},className:"hidden"})]}),m&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#0a0a0a] rounded-lg border border-[#2a2a2a]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tb,{className:"w-5 h-5 text-[#EAEB80]"}),a.jsx("span",{className:"text-sm text-gray-300",children:m.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["(",(m.size/1024/1024).toFixed(2)," MB)"]})]}),a.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>x(null),className:"text-gray-400 hover:text-foreground h-8 w-8 p-0",children:a.jsx(pr,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"bg-[#0a0a0a] p-4 rounded-lg border border-[#2a2a2a]",children:[a.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:[a.jsx("strong",{className:"text-[#EAEB80]",children:"Note:"})," The imported data will:"]}),a.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:'Create onboarding submissions with "pending" status'}),a.jsx("li",{children:"Use the same fields as the client onboarding form"}),a.jsx("li",{children:"Require approval before creating client accounts and cars"}),a.jsx("li",{children:"Send email to clients to create password after approval"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-[#2a2a2a]",children:[a.jsx(ie,{type:"button",variant:"ghost",onClick:()=>{f(!1),x(null)},className:"text-gray-400 hover:text-foreground",disabled:U.isPending,children:"Cancel"}),a.jsx(ie,{type:"button",onClick:q,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",disabled:!m||U.isPending,children:U.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Import"]})})]})]})]})}),a.jsx($t,{open:g,onOpenChange:w,children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-[95vw] sm:max-w-3xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(Dt,{children:[a.jsxs(Mt,{className:"text-lg sm:text-xl font-semibold text-yellow-400",children:["Import Warning (",p.length,")"]}),a.jsx(Ut,{className:"text-gray-400",children:"The following rows failed to import. Please review and fix the issues."})]}),a.jsx("div",{className:"mt-4 space-y-2 max-h-[60vh] overflow-y-auto",children:p.map((z,T)=>a.jsx("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-yellow-500/20 flex items-center justify-center text-yellow-400 font-semibold text-sm",children:z.row}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-gray-300 break-words",children:[a.jsxs("span",{className:"font-medium text-foreground",children:["Row ",z.row,":"]})," ",z.error]})})]})},T))}),a.jsx("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t border-[#2a2a2a]",children:a.jsx(ie,{variant:"outline",onClick:()=>{w(!1),f(!1),x(null),v([])},className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a]",children:"Close"})})]})})]})})}var g1="Collapsible",[sve,tH]=Da(g1),[ive,uO]=sve(g1),rH=y.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=t,[c,d]=ni({prop:n,defaultProp:s??!1,onChange:o,caller:g1});return a.jsx(ive,{scope:r,disabled:i,contentId:na(),open:c,onOpenToggle:y.useCallback(()=>d(u=>!u),[d]),children:a.jsx(pt.div,{"data-state":fO(c),"data-disabled":i?"":void 0,...l,ref:e})})});rH.displayName=g1;var nH="CollapsibleTrigger",aH=y.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,s=uO(nH,r);return a.jsx(pt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":fO(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:e,onClick:at(t.onClick,s.onOpenToggle)})});aH.displayName=nH;var hO="CollapsibleContent",sH=y.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=uO(hO,t.__scopeCollapsible);return a.jsx(as,{present:r||s.open,children:({present:i})=>a.jsx(ove,{...n,ref:e,present:i})})});sH.displayName=hO;var ove=y.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=t,o=uO(hO,r),[l,c]=y.useState(n),d=y.useRef(null),u=sr(e,d),h=y.useRef(0),f=h.current,m=y.useRef(0),x=m.current,p=o.open||l,v=y.useRef(p),g=y.useRef(void 0);return y.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),On(()=>{const w=d.current;if(w){g.current=g.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const N=w.getBoundingClientRect();h.current=N.height,m.current=N.width,v.current||(w.style.transitionDuration=g.current.transitionDuration,w.style.animationName=g.current.animationName),c(n)}},[o.open,n]),a.jsx(pt.div,{"data-state":fO(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:p&&s})});function fO(t){return t?"open":"closed"}var lve=rH,cve=aH,dve=sH,_o="Accordion",uve=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[mO,hve,fve]=Qg(_o),[v1]=Da(_o,[fve,tH]),pO=tH(),iH=ve.forwardRef((t,e)=>{const{type:r,...n}=t,s=n,i=n;return a.jsx(mO.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?a.jsx(gve,{...i,ref:e}):a.jsx(xve,{...s,ref:e})})});iH.displayName=_o;var[oH,mve]=v1(_o),[lH,pve]=v1(_o,{collapsible:!1}),xve=ve.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=t,[l,c]=ni({prop:r,defaultProp:n??"",onChange:s,caller:_o});return a.jsx(oH,{scope:t.__scopeAccordion,value:ve.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:ve.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(lH,{scope:t.__scopeAccordion,collapsible:i,children:a.jsx(cH,{...o,ref:e})})})}),gve=ve.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=t,[o,l]=ni({prop:r,defaultProp:n??[],onChange:s,caller:_o}),c=ve.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=ve.useCallback(u=>l((h=[])=>h.filter(f=>f!==u)),[l]);return a.jsx(oH,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:a.jsx(lH,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(cH,{...i,ref:e})})})}),[vve,y1]=v1(_o),cH=ve.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=t,l=ve.useRef(null),c=sr(l,e),d=hve(r),h=gm(s)==="ltr",f=at(t.onKeyDown,m=>{if(!uve.includes(m.key))return;const x=m.target,p=d().filter(E=>!E.ref.current?.disabled),v=p.findIndex(E=>E.ref.current===x),g=p.length;if(v===-1)return;m.preventDefault();let w=v;const N=0,j=g-1,b=()=>{w=v+1,w>j&&(w=N)},S=()=>{w=v-1,w<N&&(w=j)};switch(m.key){case"Home":w=N;break;case"End":w=j;break;case"ArrowRight":i==="horizontal"&&(h?b():S());break;case"ArrowDown":i==="vertical"&&b();break;case"ArrowLeft":i==="horizontal"&&(h?S():b());break;case"ArrowUp":i==="vertical"&&S();break}const A=w%g;p[A].ref.current?.focus()});return a.jsx(vve,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(mO.Slot,{scope:r,children:a.jsx(pt.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:f})})})}),Db="AccordionItem",[yve,xO]=v1(Db),dH=ve.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...s}=t,i=y1(Db,r),o=mve(Db,r),l=pO(r),c=na(),d=n&&o.value.includes(n)||!1,u=i.disabled||t.disabled;return a.jsx(yve,{scope:r,open:d,disabled:u,triggerId:c,children:a.jsx(lve,{"data-orientation":i.orientation,"data-state":xH(d),...l,...s,ref:e,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});dH.displayName=Db;var uH="AccordionHeader",hH=ve.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=y1(_o,r),i=xO(uH,r);return a.jsx(pt.h3,{"data-orientation":s.orientation,"data-state":xH(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:e})});hH.displayName=uH;var RA="AccordionTrigger",fH=ve.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=y1(_o,r),i=xO(RA,r),o=pve(RA,r),l=pO(r);return a.jsx(mO.ItemSlot,{scope:r,children:a.jsx(cve,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:e})})});fH.displayName=RA;var mH="AccordionContent",pH=ve.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=y1(_o,r),i=xO(mH,r),o=pO(r);return a.jsx(dve,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});pH.displayName=mH;function xH(t){return t?"open":"closed"}var bve=iH,wve=dH,jve=hH,gH=fH,vH=pH;const yH=bve,Na=y.forwardRef(({className:t,...e},r)=>a.jsx(wve,{ref:r,className:_e("border-b",t),...e}));Na.displayName="AccordionItem";const Ea=y.forwardRef(({className:t,children:e,...r},n)=>a.jsx(jve,{className:"flex",children:a.jsxs(gH,{ref:n,className:_e("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,a.jsx(ol,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ea.displayName=gH.displayName;const Sa=y.forwardRef(({className:t,children:e,...r},n)=>a.jsx(vH,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:_e("pb-4 pt-0",t),children:e})}));Sa.displayName=vH.displayName;function Nve({isOpen:t,onClose:e,clientId:r,bankingInfo:n,cars:s}){const{toast:i}=kr(),o=Wr(),l=!!n,[c,d]=y.useState("none"),[u,h]=y.useState(""),[f,m]=y.useState(""),[x,p]=y.useState(""),[v,g]=y.useState(""),[w,N]=y.useState(""),[j,b]=y.useState(""),[S,A]=y.useState(""),[E,P]=y.useState(!1);y.useEffect(()=>{n?(d(n.banking_info_car_id?String(n.banking_info_car_id):"none"),h(n.banking_info_bank_name||""),m(n.banking_info_routing_number||""),p(n.banking_info_account_number||""),g(n.banking_info_tax_classification||""),N(n.banking_info_ssn||""),b(n.banking_info_ein||""),A(n.banking_info_business_name||""),P(n.banking_info_is_default===1)):(d("none"),h(""),m(""),p(""),g(""),N(""),b(""),A(""),P(!1))},[n,t]);const O=yt({mutationFn:async R=>{const _=await fetch(je("/api/clients/banking-info"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R),credentials:"include"});if(!_.ok){const B=await _.json();throw new Error(B.error||"Failed to create banking information")}return _.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/clients",r]}),o.invalidateQueries({queryKey:[`/api/clients/${r}/banking-info`]}),i({title:"Success",description:"Banking information created successfully"}),e()},onError:R=>{i({title:"Error",description:R.message,variant:"destructive"})}}),k=yt({mutationFn:async R=>{const _=await fetch(je(`/api/clients/banking-info/${n?.banking_info_aid}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(R),credentials:"include"});if(!_.ok){const B=await _.json();throw new Error(B.error||"Failed to update banking information")}return _.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/clients",r]}),o.invalidateQueries({queryKey:[`/api/clients/${r}/banking-info`]}),i({title:"Success",description:"Banking information updated successfully"}),e()},onError:R=>{i({title:"Error",description:R.message,variant:"destructive"})}}),L=R=>{if(R.preventDefault(),!u.trim()){i({title:"Validation Error",description:"Bank name is required",variant:"destructive"});return}if(!f.trim()){i({title:"Validation Error",description:"Routing number is required",variant:"destructive"});return}if(!x.trim()){i({title:"Validation Error",description:"Account number is required",variant:"destructive"});return}const _={banking_info_client_id:r,banking_info_car_id:c&&c!=="none"?parseInt(c):null,banking_info_bank_name:u,banking_info_routing_number:f,banking_info_account_number:x,banking_info_tax_classification:v,banking_info_ssn:w,banking_info_ein:j,banking_info_business_name:S,banking_info_is_default:E?1:0};l?k.mutate(_):O.mutate(_)};return a.jsx($t,{open:t,onOpenChange:e,children:a.jsxs(Ft,{className:"bg-[#0a0a0a] border-[#2a2a2a] text-foreground max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Dt,{children:a.jsx(Mt,{className:"text-[#EAEB80]",children:l?"Edit Banking Information":"Add Banking Information"})}),a.jsxs("form",{onSubmit:L,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"car",className:"text-gray-300",children:"Associated Car (Optional)"}),a.jsxs(tt,{value:c,onValueChange:d,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Default (No specific car)"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"none",children:"Default (No specific car)"}),s.map(R=>a.jsxs(xe,{value:String(R.id),children:[R.makeModel," ",R.year&&`${R.year}`,R.licensePlate&&` - #${R.licensePlate}`]},R.id))]})]})]}),a.jsxs("div",{children:[a.jsxs(Se,{htmlFor:"bankName",className:"text-gray-300",children:["Bank Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ae,{id:"bankName",value:u,onChange:R=>h(R.target.value),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",placeholder:"Enter bank name",required:!0})]}),a.jsxs("div",{children:[a.jsxs(Se,{htmlFor:"routingNumber",className:"text-gray-300",children:["Routing Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ae,{id:"routingNumber",value:f,onChange:R=>m(R.target.value),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono",placeholder:"Enter routing number",required:!0})]}),a.jsxs("div",{children:[a.jsxs(Se,{htmlFor:"accountNumber",className:"text-gray-300",children:["Account Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ae,{id:"accountNumber",value:x,onChange:R=>p(R.target.value),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono",placeholder:"Enter account number",required:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"taxClassification",className:"text-gray-300",children:"Tax Classification"}),a.jsx(ae,{id:"taxClassification",value:v,onChange:R=>g(R.target.value),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",placeholder:"e.g., Individual, LLC, Corporation"})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"ssn",className:"text-gray-300",children:"SSN"}),a.jsx(ae,{id:"ssn",value:w,onChange:R=>N(R.target.value),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono",placeholder:"XXX-XX-XXXX"})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"ein",className:"text-gray-300",children:"EIN"}),a.jsx(ae,{id:"ein",value:j,onChange:R=>b(R.target.value),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono",placeholder:"XX-XXXXXXX"})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"businessName",className:"text-gray-300",children:"Business Name"}),a.jsx(ae,{id:"businessName",value:S,onChange:R=>A(R.target.value),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",placeholder:"Enter business name (if applicable)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pn,{id:"isDefault",checked:E,onCheckedChange:R=>P(R),className:"border-[#2a2a2a]"}),a.jsx(Se,{htmlFor:"isDefault",className:"text-gray-300 cursor-pointer",children:"Set as default banking information"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ie,{type:"button",variant:"outline",onClick:e,className:"border-[#2a2a2a] text-gray-300 hover:bg-[#1a1a1a]",children:"Cancel"}),a.jsx(ie,{type:"submit",className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",disabled:O.isPending||k.isPending,children:O.isPending||k.isPending?l?"Updating...":"Creating...":l?"Update":"Create"})]})]})]})})}function Eve(){const[,t]=Ia("/admin/clients/:id"),[,e]=wr(),{toast:r}=kr(),n=t?.id?parseInt(t.id,10):null,[s,i]=y.useState("profile"),[o,l]=y.useState(new Set(["profile"])),[c,d]=y.useState(new Set),[u,h]=y.useState(!0),[f,m]=y.useState(!0),[x,p]=y.useState("all"),[v,g]=y.useState("all"),[w,N]=y.useState(""),[j,b]=y.useState("all"),[S,A]=y.useState("2025"),[E,P]=y.useState("2025"),[O,k]=y.useState("2025"),[L,R]=y.useState(!1),[_,B]=y.useState({}),[I,C]=y.useState(!1),[D,W]=y.useState({}),[K,H]=y.useState({contractFile:null,selectedCarId:""}),[G,ee]=y.useState(!1),[Q,te]=y.useState({}),[U,q]=y.useState(!1),[ne,fe]=y.useState(null),[pe,ye]=y.useState(null),[Z,Ne]=y.useState({vin:"",make:"",model:"",year:"",licensePlate:"",mileage:"",color:"",interiorColor:"",status:"ACTIVE",tireSize:"",oilType:"",lastOilChange:"",fuelType:"",gas:"",turoLink:"",adminTuroLink:"",vehicleTrim:"",registrationExpiration:"",titleType:"",vehicleRecall:"",numberOfSeats:"",numberOfDoors:"",skiRacks:"",skiCrossBars:"",roofRails:"",freeDealershipOilChanges:"",oilPackageDetails:"",dealershipAddress:"",vehicleFeatures:[],purchasePrice:"",downPayment:"",monthlyPayment:"",interestRate:"",transportCityToCity:"",ultimateGoal:"",insuranceProvider:"",insurancePhone:"",policyNumber:"",insuranceExpiration:"",carManufacturerWebsite:"",carManufacturerUsername:"",password:""}),J=Wr(),{data:le,isLoading:we,error:De}=Ge({queryKey:["/api/clients",n],queryFn:async()=>{if(!n)throw new Error("Invalid client ID");const F=je(`/api/clients/${n}`),Re=await fetch(F,{credentials:"include"});if(!Re.ok){const Ve=await Re.json().catch(()=>({}));throw new Error(Ve.error||`Failed to fetch client: ${Re.statusText}`)}const Oe=await Re.json();return console.log(" [CLIENT DETAIL] Fetched client data:",{id:Oe.data?.id,email:Oe.data?.email,name:Oe.data?.firstName+" "+Oe.data?.lastName,lastLoginAt:Oe.data?.lastLoginAt,lastLogoutAt:Oe.data?.lastLogoutAt,isActive:Oe.data?.isActive,status:Oe.data?.status,userId:Oe.data?.userId}),Oe},enabled:!!n,retry:!1,refetchInterval:2e3,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:ue,isLoading:Y}=Ge({queryKey:["/api/clients",n,"onboarding"],queryFn:async()=>{if(!n)throw new Error("Invalid client ID");const F=je(`/api/clients/${n}/onboarding`),Re=await fetch(F,{credentials:"include"});if(!Re.ok){const Ve=await Re.json().catch(()=>({}));if(Re.status===404)return{success:!1,data:null};throw new Error(Ve.error||`Failed to fetch onboarding: ${Re.statusText}`)}return await Re.json()},enabled:!!n,retry:!1}),{data:V,isLoading:$}=Ge({queryKey:[`/api/clients/${n}/banking-info`],queryFn:async()=>{if(!n)return[];const F=je(`/api/clients/${n}/banking-info`),Re=await fetch(F,{credentials:"include"});return Re.ok?await Re.json():(console.error("Failed to fetch banking info"),[])},enabled:!!n,retry:!1});y.useEffect(()=>{De&&(console.error(" [CLIENT DETAIL] Error fetching client:",De),r({title:"Error loading client",description:De instanceof Error?De.message:"Failed to load client details",variant:"destructive"}))},[De,r]);const X=le?.data,me=y.useMemo(()=>X?vx(X.lastLoginAt,X.lastLogoutAt):null,[X?.lastLoginAt,X?.lastLogoutAt]),{data:z,isLoading:T}=Ge({queryKey:["/api/clients",n,"totals",j,S,E,O],queryFn:async()=>{if(!n)throw new Error("Invalid client ID");const F=je(`/api/clients/${n}/totals?car=${j}&year=${S}&from=${E}&to=${O}`),Re=await fetch(F,{credentials:"include"});return Re.ok?Re.json():{success:!0,data:null}},enabled:!!n&&s==="totals",retry:!1}),M=z?.data||null,re=F=>{l(Re=>{const Oe=new Set(Re);return Oe.has(F)?Oe.delete(F):Oe.add(F),Oe})},oe=yt({mutationFn:async F=>{if(!n)throw new Error("Invalid client ID");const Re=ue?.success&&ue?.data,Oe=Re?`/api/clients/${n}/onboarding`:`/api/clients/${n}`,Ve=Re?F:{firstName:F.firstNameOwner,lastName:F.lastNameOwner,email:F.emailOwner,phone:F.phoneOwner,birthday:F.birthday,tshirtSize:F.tshirtSize,ssn:F.ssn,representative:F.representative,heardAboutUs:F.heardAboutUs,emergencyContactName:F.emergencyContactName,emergencyContactPhone:F.emergencyContactPhone,streetAddress:F.streetAddress,city:F.city,state:F.state,zipCode:F.zipCode,vehicleYear:F.vehicleYear,vehicleMake:F.vehicleMake,vehicleModel:F.vehicleModel,vinNumber:F.vinNumber,licensePlate:F.licensePlate,vehicleMiles:F.vehicleMiles,bankName:F.bankName,taxClassification:F.taxClassification,bankRoutingNumber:F.routingNumber,bankAccountNumber:F.accountNumber,businessName:F.businessName,ein:F.ein,purchasePrice:F.purchasePrice,downPayment:F.downPayment,monthlyPayment:F.monthlyPayment,interestRate:F.interestRate,transportCityToCity:F.transportCityToCity,ultimateGoal:F.ultimateGoal,insuranceProvider:F.insuranceProvider,insurancePhone:F.insurancePhone,policyNumber:F.policyNumber,insuranceExpiration:F.insuranceExpiration,carManufacturerWebsite:F.carManufacturerWebsite,carManufacturerUsername:F.carManufacturerUsername,status:F.status},Be=await fetch(je(Oe),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Ve)});if(!Be.ok){const dt=await Be.json();throw new Error(dt.error||"Failed to update client data")}return Be.json()},onSuccess:()=>{J.invalidateQueries({queryKey:["/api/clients",n,"onboarding"]}),J.invalidateQueries({queryKey:["/api/clients",n]}),r({title:"Success",description:"Client details updated successfully"}),R(!1)},onError:F=>{r({title:"Error",description:F.message||"Failed to update client details",variant:"destructive"})}}),ce=yt({mutationFn:async F=>{if(!n)throw new Error("Invalid client ID");if(!F.contractFile)throw new Error("Please select a PDF file to upload");if(!F.selectedCarId)throw W({selectedCarId:"Please select a car"}),new Error("Please select a car");W({});const Oe=J.getQueryData(["/api/clients",n])?.data,Ve=new Set((Oe?.signedContracts||[]).map(hi=>hi.vinNumber?.toUpperCase().trim()).filter(hi=>hi)),Be=Oe?.cars?.find(hi=>hi.id===parseInt(F.selectedCarId));if(!Be)throw W({selectedCarId:"Selected car not found"}),new Error("Selected car not found");const dt=Be.vin?.toUpperCase().trim();if(dt&&Ve.has(dt))throw W({selectedCarId:"This car has already been onboarded"}),new Error("This car has already been onboarded. Please select a different car.");const _t=new FormData;_t.append("contract",F.contractFile),Be.vin&&_t.append("vinNumber",Be.vin),Be.year&&_t.append("vehicleYear",Be.year.toString()),Be.make&&_t.append("vehicleMake",Be.make),Be.model&&_t.append("vehicleModel",Be.model),Be.licensePlate&&_t.append("licensePlate",Be.licensePlate);const Rn=await fetch(je(`/api/clients/${n}/contracts`),{method:"POST",credentials:"include",body:_t});if(!Rn.ok){const hi=await Rn.json();throw new Error(hi.error||"Failed to upload contract")}return Rn.json()},onSuccess:()=>{J.invalidateQueries({queryKey:["/api/clients",n]}),r({title:"Success",description:"Contract uploaded successfully"}),C(!1),W({}),H({contractFile:null,selectedCarId:""})},onError:F=>{r({title:"Error",description:F.message||"Failed to upload contract",variant:"destructive"})}}),Ee=yt({mutationFn:async()=>{if(!n)throw new Error("Invalid client ID");const F=await fetch(je(`/api/clients/${n}/resend-password-email`),{method:"POST",credentials:"include"});if(!F.ok){const Re=await F.json();throw new Error(Re.error||"Failed to send password email")}return F.json()},onSuccess:()=>{r({title:"Success",description:"Password creation email has been sent successfully."})},onError:F=>{r({title:"Error",description:F.message||"Failed to send password email",variant:"destructive"})}}),se=()=>{Ee.mutate()},be=yt({mutationFn:async F=>{if(!n)throw new Error("Invalid client ID");const Re={};if(!F.vin||F.vin.trim().length===0?Re.vin="VIN number is required":F.vin.trim().length!==17&&(Re.vin="VIN number must be exactly 17 characters"),Object.keys(Re).length>0)throw te(Re),new Error(Re.vin||"VIN validation failed");te({});const Oe=new FormData;Oe.append("vin",F.vin),Oe.append("makeModel",`${F.make} ${F.model}`.trim()),F.make&&Oe.append("make",F.make),F.model&&Oe.append("model",F.model),F.licensePlate&&Oe.append("licensePlate",F.licensePlate),F.year&&Oe.append("year",F.year),F.color&&Oe.append("color",F.color),F.interiorColor&&Oe.append("interiorColor",F.interiorColor),F.mileage&&Oe.append("mileage",F.mileage),Oe.append("status",F.status||"ACTIVE"),F.vehicleTrim&&Oe.append("vehicleTrim",F.vehicleTrim),F.registrationExpiration&&Oe.append("registrationExpiration",F.registrationExpiration),F.titleType&&Oe.append("titleType",F.titleType),F.vehicleRecall&&Oe.append("vehicleRecall",F.vehicleRecall),F.numberOfSeats&&Oe.append("numberOfSeats",F.numberOfSeats),F.numberOfDoors&&Oe.append("numberOfDoors",F.numberOfDoors),F.skiRacks&&Oe.append("skiRacks",F.skiRacks),F.skiCrossBars&&Oe.append("skiCrossBars",F.skiCrossBars),F.roofRails&&Oe.append("roofRails",F.roofRails),F.oilType&&Oe.append("oilType",F.oilType),F.lastOilChange&&Oe.append("lastOilChange",F.lastOilChange),F.freeDealershipOilChanges&&Oe.append("freeDealershipOilChanges",F.freeDealershipOilChanges),F.oilPackageDetails&&Oe.append("oilPackageDetails",F.oilPackageDetails),F.dealershipAddress&&Oe.append("dealershipAddress",F.dealershipAddress),F.fuelType&&Oe.append("fuelType",F.fuelType),F.tireSize&&Oe.append("tireSize",F.tireSize),F.vehicleFeatures&&Array.isArray(F.vehicleFeatures)&&F.vehicleFeatures.length>0&&Oe.append("vehicleFeatures",F.vehicleFeatures.join(", ")),F.purchasePrice&&Oe.append("purchasePrice",F.purchasePrice),F.downPayment&&Oe.append("downPayment",F.downPayment),F.monthlyPayment&&Oe.append("monthlyPayment",F.monthlyPayment),F.interestRate&&Oe.append("interestRate",F.interestRate),F.transportCityToCity&&Oe.append("transportCityToCity",F.transportCityToCity),F.ultimateGoal&&Oe.append("ultimateGoal",F.ultimateGoal),F.insuranceProvider&&Oe.append("insuranceProvider",F.insuranceProvider),F.insurancePhone&&Oe.append("insurancePhone",F.insurancePhone),F.policyNumber&&Oe.append("policyNumber",F.policyNumber),F.insuranceExpiration&&Oe.append("insuranceExpiration",F.insuranceExpiration),F.carManufacturerWebsite&&Oe.append("carManufacturerWebsite",F.carManufacturerWebsite),F.carManufacturerUsername&&Oe.append("carManufacturerUsername",F.carManufacturerUsername),F.password&&Oe.append("password",F.password),F.turoLink&&Oe.append("turoLink",F.turoLink),F.adminTuroLink&&Oe.append("adminTuroLink",F.adminTuroLink);const Ve=await fetch(je(`/api/clients/${n}/cars`),{method:"POST",credentials:"include",body:Oe});if(!Ve.ok){const Be=await Ve.json();throw new Error(Be.error||"Failed to add car")}return Ve.json()},onSuccess:()=>{J.invalidateQueries({queryKey:["/api/clients",n]}),r({title:"Success",description:"Car added successfully"}),ee(!1),te({}),Ne({vin:"",make:"",model:"",year:"",licensePlate:"",mileage:"",color:"",interiorColor:"",status:"ACTIVE",tireSize:"",oilType:"",lastOilChange:"",fuelType:"",gas:"",turoLink:"",adminTuroLink:"",vehicleTrim:"",registrationExpiration:"",titleType:"",vehicleRecall:"",numberOfSeats:"",numberOfDoors:"",skiRacks:"",skiCrossBars:"",roofRails:"",freeDealershipOilChanges:"",oilPackageDetails:"",dealershipAddress:"",vehicleFeatures:[],purchasePrice:"",downPayment:"",monthlyPayment:"",interestRate:"",transportCityToCity:"",ultimateGoal:"",insuranceProvider:"",insurancePhone:"",policyNumber:"",insuranceExpiration:"",carManufacturerWebsite:"",carManufacturerUsername:"",password:""})},onError:F=>{r({title:"Error",description:F.message||"Failed to add car",variant:"destructive"})}}),Le=yt({mutationFn:async F=>{const Re=await fetch(je(`/api/clients/banking-info/${F}`),{method:"DELETE",credentials:"include"});if(!Re.ok){const Oe=await Re.json();throw new Error(Oe.error||"Failed to delete banking information")}return Re.json()},onSuccess:()=>{J.invalidateQueries({queryKey:["/api/clients",n]}),J.invalidateQueries({queryKey:[`/api/clients/${n}/banking-info`]}),r({title:"Success",description:"Banking information deleted successfully"}),ye(null)},onError:F=>{r({title:"Error",description:F.message,variant:"destructive"})}}),Me=()=>{if(ue?.success&&ue?.data){const F=ue.data;B({firstNameOwner:F.firstNameOwner||"",lastNameOwner:F.lastNameOwner||"",emailOwner:F.emailOwner||"",phoneOwner:F.phoneOwner||"",birthday:F.birthday||"",tshirtSize:F.tshirtSize||"",ssn:F.ssn||"",representative:F.representative||"",heardAboutUs:F.heardAboutUs||"",emergencyContactName:F.emergencyContactName||"",emergencyContactPhone:F.emergencyContactPhone||"",status:X?.status!==void 0?X.status===0?"ACTIVE":"INACTIVE":"ACTIVE",streetAddress:F.streetAddress||"",city:F.city||"",state:F.state||"",zipCode:F.zipCode||"",vehicleYear:F.vehicleYear||"",vehicleMake:F.vehicleMake||"",vehicleModel:F.vehicleModel||"",vinNumber:F.vinNumber||"",licensePlate:F.licensePlate||"",vehicleMiles:F.vehicleMiles||"",bankName:F.bankName||"",taxClassification:F.taxClassification||"",routingNumber:F.routingNumber||"",accountNumber:F.accountNumber||"",businessName:F.businessName||"",ein:F.ein||"",purchasePrice:F.purchasePrice||"",downPayment:F.downPayment||"",monthlyPayment:F.monthlyPayment||"",interestRate:F.interestRate||"",transportCityToCity:F.transportCityToCity||"",ultimateGoal:F.ultimateGoal||"",insuranceProvider:F.insuranceProvider||"",insurancePhone:F.insurancePhone||"",policyNumber:F.policyNumber||"",insuranceExpiration:F.insuranceExpiration||"",carManufacturerWebsite:F.carManufacturerWebsite||"",carManufacturerUsername:F.carManufacturerUsername||""})}else X&&B({firstNameOwner:X?.firstName||"",lastNameOwner:X?.lastName||"",emailOwner:X?.email||"",phoneOwner:X?.phone||"",birthday:"",tshirtSize:"",ssn:"",representative:"",heardAboutUs:"",emergencyContactName:"",emergencyContactPhone:"",status:X?.status!==void 0?X.status===0?"ACTIVE":"INACTIVE":"ACTIVE",streetAddress:"",city:"",state:"",zipCode:"",vehicleYear:"",vehicleMake:"",vehicleModel:"",vinNumber:"",licensePlate:"",vehicleMiles:"",bankName:X?.bankName||"",taxClassification:"",routingNumber:X?.bankRoutingNumber||"",accountNumber:X?.bankAccountNumber||"",businessName:"",ein:"",purchasePrice:"",downPayment:"",monthlyPayment:"",interestRate:"",transportCityToCity:"",ultimateGoal:"",insuranceProvider:"",insurancePhone:"",policyNumber:"",insuranceExpiration:"",carManufacturerWebsite:"",carManufacturerUsername:""});R(!0)},lt=F=>{F.preventDefault(),oe.mutate(_)};if(we)return a.jsx(jt,{children:a.jsx(rve,{})});const qt=async()=>{try{const Re=await(await fetch(je(`/api/test-db?clientId=${n}`),{credentials:"include"})).json();Re.success?r({title:" Database Connection Successful",description:Re.message||"Successfully connected to database"}):r({title:" Database Connection Failed",description:Re.error||"Failed to connect to database",variant:"destructive"})}catch(F){r({title:" Database Connection Error",description:F instanceof Error?F.message:"Unknown error",variant:"destructive"})}};if(De||!X)return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[a.jsx("p",{className:"text-red-400 mb-4",children:De?`Failed to load client details: ${De.message}`:"Client not found"}),n&&a.jsx(ie,{onClick:qt,className:"bg-blue-500 text-foreground hover:bg-blue-600 mb-2",children:"Test DB Connection"}),a.jsxs(ie,{onClick:()=>e("/admin/clients"),className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:[a.jsx(yn,{className:"w-4 h-4 mr-2"}),"Back to Clients"]})]})});const Lr=[{id:"profile",label:"Profile",icon:kP},{id:"cars",label:"Cars",icon:hs},{id:"totals",label:"Totals",icon:Ef},{id:"maintenance",label:"Car Maintenance",icon:pU}];return X.cars&&X.cars.length>0&&X.cars[0],a.jsxs(jt,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>e("/admin/clients"),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Clients"})]}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-foreground",children:[X.firstName," ",X.lastName]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Client Details"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx(ft,{className:"bg-[#0a0a0a] border-[#1a1a1a]",children:a.jsx(mt,{className:"p-0",children:a.jsx("nav",{className:"space-y-1 p-2",children:Lr.map(F=>{const Re=F.icon,Oe=o.has(F.id),Ve=s===F.id;return a.jsx("div",{children:a.jsxs("button",{onClick:()=>{re(F.id),i(F.id)},className:_e("w-full flex items-center justify-between px-4 py-3 rounded-lg transition-colors",Ve?"bg-[#EAEB80]/10 text-[#EAEB80]":"text-gray-400 hover:bg-[#1a1a1a] hover:text-[#EAEB80]"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Re,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:F.label})]}),Oe?a.jsx(ol,{className:"w-4 h-4"}):a.jsx(pa,{className:"w-4 h-4"})]})},F.id)})})})})}),a.jsxs("div",{className:"lg:col-span-3",children:[s==="profile"&&a.jsxs(ft,{className:"bg-[#0a0a0a] border-[#1a1a1a]",children:[a.jsx($r,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Gr,{className:"text-[#EAEB80] text-xl",children:"Client Details"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ie,{onClick:se,variant:"outline",size:"sm",className:"text-[#EAEB80] border-[#EAEB80]/30 hover:bg-[#EAEB80]/10",disabled:Ee.isPending,children:[a.jsx(xu,{className:"w-4 h-4 mr-2"}),Ee.isPending?"Sending...":"Send Password Email"]}),a.jsxs(ie,{onClick:Me,variant:"outline",size:"sm",className:"text-[#EAEB80] border-[#EAEB80]/30 hover:bg-[#EAEB80]/10",children:[a.jsx(tl,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})}),a.jsx(mt,{className:"space-y-6",children:Y?a.jsx("div",{className:"text-center py-8 text-gray-400 space-y-3",children:[...Array(3)].map((F,Re)=>a.jsx("div",{className:"h-4 bg-[#252525] rounded animate-pulse w-3/4 mx-auto"},Re))}):ue?.success&&ue?.data?(()=>{const F=Be=>Be==null||Be===""?"Not provided":String(Be),Re=Be=>{if(!Be)return"Not provided";try{return new Date(Be).toLocaleString()}catch{return String(Be)}},Oe=(Be,dt,_t)=>{const Rn=[];return Be&&Rn.push(Be),dt&&Rn.push(dt),_t&&Rn.push(_t),Rn.length>0?Rn.join(", "):"Not provided"},Ve=ue.data;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Full Name:"}),a.jsxs("span",{className:"text-foreground font-medium",children:[F(Ve.firstNameOwner)," ",F(Ve.lastNameOwner)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Email:"}),a.jsx("span",{className:"text-foreground",children:F(Ve.emailOwner)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Last Login:"}),a.jsx("span",{className:"text-foreground",children:_A(X?.lastLoginAt)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Online Status:"}),a.jsx(Ot,{variant:"outline",className:vx(X?.lastLoginAt,X?.lastLogoutAt).className,children:vx(X?.lastLoginAt,X?.lastLogoutAt).text})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Phone:"}),a.jsx("span",{className:"text-foreground",children:F(Ve.phoneOwner)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Date of Birth:"}),a.jsx("span",{className:"text-foreground",children:F(Ve.birthday)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"T-Shirt Size:"}),a.jsx("span",{className:"text-foreground",children:F(Ve.tshirtSize)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"SSN:"}),a.jsx("span",{className:"text-foreground font-mono",children:F(Ve.ssn)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Representative:"}),a.jsx("span",{className:"text-foreground",children:F(Ve.representative)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"How Did You Hear About Us:"}),a.jsx("span",{className:"text-foreground",children:F(Ve.heardAboutUs)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Emergency Contact Name:"}),a.jsx("span",{className:"text-foreground",children:F(Ve.emergencyContactName)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Emergency Contact Phone:"}),a.jsx("span",{className:"text-foreground",children:F(Ve.emergencyContactPhone)})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Address Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Street Address:"}),a.jsx("span",{className:"text-foreground",children:F(Ve.streetAddress)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"City:"}),a.jsx("span",{className:"text-foreground",children:F(Ve.city)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"State:"}),a.jsx("span",{className:"text-foreground",children:F(Ve.state)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Zip Code:"}),a.jsx("span",{className:"text-foreground",children:F(Ve.zipCode)})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Full Address:"}),a.jsx("span",{className:"text-foreground",children:Oe(Ve.city,Ve.state,Ve.zipCode)})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-[#EAEB80]/30",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80]",children:"Banking Information (ACH)"}),a.jsxs(ie,{size:"sm",variant:"outline",className:"text-[#EAEB80] border-[#EAEB80]/30 hover:bg-[#EAEB80]/10",onClick:()=>{fe(null),q(!0)},children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),"Add Banking Info"]})]}),$?a.jsx("div",{className:"text-center py-6 text-gray-400",children:"Loading..."}):V&&V.length>0?a.jsx("div",{className:"space-y-4",children:V.map((Be,dt)=>a.jsxs("div",{className:"bg-[#111111] border border-[#EAEB80]/10 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"text-foreground font-medium",children:Be.banking_info_car_id&&(Be.car_make||Be.car_specs)?`${[Be.car_make,Be.car_specs].filter(Boolean).join(" ")}${Be.car_year?` ${Be.car_year}`:""}${Be.car_plate_number?` - #${Be.car_plate_number}`:""}`:"Default Banking Info"}),Be.banking_info_is_default===1&&a.jsx(Ot,{variant:"outline",className:"border-[#EAEB80]/50 text-[#EAEB80] bg-[#EAEB80]/10",children:"Default"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ie,{size:"sm",variant:"ghost",className:"text-gray-400 hover:text-[#EAEB80] h-8 w-8 p-0",onClick:()=>{fe(Be),q(!0)},children:a.jsx(tl,{className:"w-4 h-4"})}),a.jsx(ie,{size:"sm",variant:"ghost",className:"text-gray-400 hover:text-red-400 h-8 w-8 p-0",onClick:()=>ye(Be.banking_info_aid),children:a.jsx(Ri,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Bank Name:"}),a.jsx("span",{className:"text-foreground",children:F(Be.banking_info_bank_name)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Tax Classification:"}),a.jsx("span",{className:"text-foreground",children:F(Be.banking_info_tax_classification)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Routing Number:"}),a.jsx("span",{className:"text-foreground font-mono",children:F(Be.banking_info_routing_number)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Account Number:"}),a.jsx("span",{className:"text-foreground font-mono",children:F(Be.banking_info_account_number)})]}),Be.banking_info_business_name&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Business Name:"}),a.jsx("span",{className:"text-foreground",children:F(Be.banking_info_business_name)})]}),Be.banking_info_ein&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"EIN:"}),a.jsx("span",{className:"text-foreground font-mono",children:F(Be.banking_info_ein)})]}),Be.banking_info_ssn&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"SSN:"}),a.jsx("span",{className:"text-foreground font-mono",children:F(Be.banking_info_ssn)})]})]})]},Be.banking_info_aid))}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-gray-400",children:[a.jsx(Ef,{className:"w-8 h-8 mb-2 text-gray-600"}),a.jsx("p",{children:"No banking information available yet."})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-[#EAEB80]/30",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80]",children:"Signed Contracts"}),a.jsxs(ie,{size:"sm",variant:"outline",className:"text-[#EAEB80] border-[#EAEB80]/30 hover:bg-[#EAEB80]/10",onClick:()=>C(!0),children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Upload Contract"]})]}),X.signedContracts&&X.signedContracts.length>0?a.jsx("div",{className:"space-y-3",children:X.signedContracts.map((Be,dt)=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-[#111111] border border-[#EAEB80]/10 rounded-lg p-4",children:[a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"text-foreground font-medium",children:[F(Be.vehicleYear)," ",F(Be.vehicleMake)," ",F(Be.vehicleModel)]}),a.jsxs("div",{className:"text-gray-400",children:["Plate:"," ",a.jsx("span",{className:"text-foreground",children:F(Be.licensePlate)}),"  ","VIN:"," ",a.jsx("span",{className:"text-foreground font-mono text-xs",children:F(Be.vinNumber)})]}),a.jsxs("div",{className:"text-gray-400",children:["Signed on:"," ",a.jsx("span",{className:"text-foreground",children:Re(Be.contractSignedAt||Be.createdAt)})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ot,{variant:"outline",className:"border-green-500/50 text-green-400 bg-green-500/10",children:"Signed"}),Be.signedContractUrl&&a.jsxs("a",{href:je(`/api/contracts/${Be.id}/view`),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-md text-xs font-medium bg-[#EAEB80] text-black hover:bg-[#d4d570] transition-colors",children:[a.jsx(_s,{className:"w-4 h-4"}),"View"]})]})]},Be.id??dt))}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-gray-400",children:[a.jsx(Pl,{className:"w-8 h-8 mb-2 text-gray-600"}),a.jsx("p",{children:"No signed contracts available yet."})]})]})]})})():a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Full Name:"}),a.jsxs("span",{className:"text-foreground font-medium",children:[X.firstName," ",X.lastName]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Email:"}),a.jsx("span",{className:"text-foreground",children:X.email})]}),X.phone&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Phone:"}),a.jsx("span",{className:"text-foreground",children:X.phone})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Status:"}),a.jsx(Ot,{variant:"outline",className:_e(X.isActive?"border-green-500/50 text-green-400 bg-green-500/10":"border-red-500/50 text-red-400 bg-red-500/10"),children:X.isActive?"Active":"Inactive"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Created:"}),a.jsx("span",{className:"text-foreground",children:new Date(X.createdAt).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Last Login:"}),a.jsx("span",{className:"text-foreground",children:_A(X.lastLoginAt)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Online Status:"}),X?me?a.jsx(Ot,{variant:"outline",className:me.className,children:me.text}):a.jsx("span",{className:"text-gray-500",children:"N/A"}):a.jsx("span",{className:"text-gray-500",children:"N/A"})]})]})]}),(!V||V.length===0)&&(X.bankName||X.bankRoutingNumber||X.bankAccountNumber)&&a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Banking Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[X.bankName&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Bank Name:"}),a.jsx("span",{className:"text-foreground",children:X.bankName})]}),X.bankRoutingNumber&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Routing Number:"}),a.jsx("span",{className:"text-foreground font-mono",children:X.bankRoutingNumber})]}),X.bankAccountNumber&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Account Number:"}),a.jsx("span",{className:"text-foreground font-mono",children:X.bankAccountNumber})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-[#EAEB80]/30",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80]",children:"Signed Contracts"}),a.jsxs(ie,{size:"sm",variant:"outline",className:"text-[#EAEB80] border-[#EAEB80]/30 hover:bg-[#EAEB80]/10",onClick:()=>C(!0),children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Upload Contract"]})]}),X.signedContracts&&X.signedContracts.length>0?a.jsx("div",{className:"space-y-3",children:X.signedContracts.map((F,Re)=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-[#111111] border border-[#EAEB80]/10 rounded-lg p-4",children:[a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"text-foreground font-medium",children:[F.vehicleYear||""," ",F.vehicleMake||""," ",F.vehicleModel||""]}),a.jsxs("div",{className:"text-gray-400",children:["Plate: ",a.jsx("span",{className:"text-foreground",children:F.licensePlate||"N/A"}),"  ","VIN: ",a.jsx("span",{className:"text-foreground font-mono text-xs",children:F.vinNumber||"N/A"})]}),a.jsxs("div",{className:"text-gray-400",children:["Signed on:"," ",a.jsx("span",{className:"text-foreground",children:F.contractSignedAt?new Date(F.contractSignedAt).toLocaleString():"N/A"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ot,{variant:"outline",className:"border-green-500/50 text-green-400 bg-green-500/10",children:"Signed"}),F.signedContractUrl&&a.jsxs("a",{href:je(`/api/contracts/${F.id}/view`),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-md text-xs font-medium bg-[#EAEB80] text-black hover:bg-[#d4d570] transition-colors",children:[a.jsx(_s,{className:"w-4 h-4"}),"View"]})]})]},F.id??Re))}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-gray-400",children:[a.jsx(Pl,{className:"w-8 h-8 mb-2 text-gray-600"}),a.jsx("p",{children:"No signed contracts available yet."})]})]}),a.jsx("div",{className:"bg-[#1a1a1a]/50 p-4 rounded-lg border border-[#EAEB80]/10 text-center",children:a.jsx("p",{className:"text-gray-400 text-sm",children:"This client was created manually. Complete onboarding details are not available."})})]})})]}),s==="cars"&&a.jsxs(ft,{className:"bg-[#0a0a0a] border-[#1a1a1a]",children:[a.jsx($r,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Gr,{className:"text-[#EAEB80] text-xl",children:["Assigned Cars (",X.cars.length,")"]}),a.jsxs(ie,{onClick:()=>ee(!0),variant:"outline",size:"sm",className:"text-[#EAEB80] border-[#EAEB80]/30 hover:bg-[#EAEB80]/10",children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),"Add Car"]})]})}),a.jsx(mt,{children:X.cars.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(hs,{className:"w-12 h-12 mx-auto mb-4 text-gray-600"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"No cars assigned to this client"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ao,{children:[a.jsx(Co,{children:a.jsxs(zr,{className:"border-[#2a2a2a] hover:bg-transparent",children:[a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3 w-12",children:"#"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Status"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Stats"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Management"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Make"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Year"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Model/Specs"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Contact"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"VIN #"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Plate #"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Gas"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Tire Size"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Oil Type"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Turo Link"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3",children:"Admin Turo Link"})]})}),a.jsx(ko,{children:X.cars.map((F,Re)=>{const Ve=(F.owner?`${F.owner.firstName||""} ${F.owner.lastName||""}`.trim():"")==="Jay Barton"?"Own":"Manage";return a.jsxs(zr,{className:"border-[#2a2a2a] hover:bg-gray-800/50 transition-colors",children:[a.jsx(qe,{className:"text-center text-[#EAEB80] px-4 py-3 align-middle",children:Re+1}),a.jsx(qe,{className:"text-center px-4 py-3 align-middle",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Ot,{variant:"outline",className:_e(F.status==="available"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"),children:F.status==="available"?"Available":"Off Fleet"})})}),a.jsx(qe,{className:"text-center px-4 py-3 align-middle",children:a.jsx("a",{href:`/admin/view-car/${F.id}`,onClick:Be=>{Be.preventDefault(),e(`/admin/view-car/${F.id}`)},className:"text-[#EAEB80] hover:underline",children:"View Stats"})}),a.jsx(qe,{className:"text-center text-foreground px-4 py-3 align-middle",children:Ve}),a.jsx(qe,{className:"text-center text-foreground px-4 py-3 align-middle",children:F.make||"N/A"}),a.jsx(qe,{className:"text-center text-foreground px-4 py-3 align-middle",children:F.year||"N/A"}),a.jsx(qe,{className:"text-center text-foreground px-4 py-3 align-middle",children:F.model||"N/A"}),a.jsx(qe,{className:"text-center text-gray-400 px-4 py-3 align-middle",children:F.contactPhone||F.owner?.phone||"N/A"}),a.jsx(qe,{className:"text-center text-foreground font-mono text-sm px-4 py-3 align-middle",children:F.vin}),a.jsx(qe,{className:"text-center text-gray-400 px-4 py-3 align-middle",children:F.licensePlate||"N/A"}),a.jsx(qe,{className:"text-center text-gray-400 px-4 py-3 align-middle",children:F.fuelType||"N/A"}),a.jsx(qe,{className:"text-center text-gray-400 px-4 py-3 align-middle",children:F.tireSize||"N/A"}),a.jsx(qe,{className:"text-center text-gray-400 px-4 py-3 align-middle",children:F.oilType||"N/A"}),a.jsx(qe,{className:"text-center px-4 py-3 align-middle",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("a",{href:"#",onClick:Be=>Be.stopPropagation(),className:"text-[#EAEB80] hover:underline",children:a.jsx(Ar,{className:"w-4 h-4"})})})}),a.jsx(qe,{className:"text-center px-4 py-3 align-middle",children:a.jsx("a",{href:"#",onClick:Be=>Be.stopPropagation(),className:"text-[#EAEB80] hover:underline",children:a.jsx(Ar,{className:"w-4 h-4"})})})]},F.id)})})]})})})]}),s==="totals"&&a.jsxs(ft,{className:"bg-[#0a0a0a] border-[#1a1a1a]",children:[a.jsxs($r,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Gr,{className:"text-[#EAEB80] text-xl",children:"Totals"}),a.jsxs(ie,{variant:"ghost",size:"sm",className:"text-[#EAEB80] hover:bg-[#EAEB80]/20",onClick:()=>{console.log("Export totals")},children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[a.jsxs(tt,{value:j,onValueChange:b,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Car"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"all",children:"All cars"}),X?.cars?.map(F=>a.jsxs(xe,{value:F.id.toString(),children:[F.make||""," ",F.model||""," ",F.year||""]},F.id))]})]}),a.jsxs(tt,{value:S,onValueChange:A,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Filter"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"2025",children:"2025"}),a.jsx(xe,{value:"2024",children:"2024"}),a.jsx(xe,{value:"2023",children:"2023"}),a.jsx(xe,{value:"2022",children:"2022"})]})]}),a.jsxs(tt,{value:E,onValueChange:P,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"From"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"2025",children:"2025"}),a.jsx(xe,{value:"2024",children:"2024"}),a.jsx(xe,{value:"2023",children:"2023"}),a.jsx(xe,{value:"2022",children:"2022"})]})]}),a.jsxs(tt,{value:O,onValueChange:k,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"To"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"2025",children:"2025"}),a.jsx(xe,{value:"2024",children:"2024"}),a.jsx(xe,{value:"2023",children:"2023"}),a.jsx(xe,{value:"2022",children:"2022"})]})]})]})]}),a.jsx(mt,{className:"space-y-4",children:T?a.jsx("div",{className:"flex items-center justify-center py-12 space-y-3 flex-col",children:[...Array(4)].map((F,Re)=>a.jsx("div",{className:"h-4 bg-[#252525] rounded animate-pulse w-3/4"},Re))}):M?a.jsxs(yH,{type:"multiple",className:"w-full space-y-2",children:[a.jsxs(Na,{value:"split",className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a]",children:[a.jsx(Ea,{className:"px-4 py-3 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center gap-2 w-full",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium",children:"CAR MANAGEMENT AND CAR OWNER SPLIT"})]})}),a.jsx(Sa,{className:"px-4 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Car Management Split"}),a.jsxs("span",{className:"text-foreground font-medium",children:["$",M?.carManagementSplit?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Car Owner Split"}),a.jsxs("span",{className:"text-foreground font-medium",children:["$",M?.carOwnerSplit?.toFixed(2)||"0.00"]})]})]})})]}),a.jsxs(Na,{value:"income",className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a]",children:[a.jsx(Ea,{className:"px-4 py-3 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center gap-2 w-full",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium",children:"INCOME"})]})}),a.jsx(Sa,{className:"px-4 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Rental Income"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.income?.rentalIncome?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Delivery Income"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.income?.deliveryIncome?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Electric Prepaid Income"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.income?.electricPrepaidIncome?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Smoking Fines"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.income?.smokingFines?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Gas Prepaid Income"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.income?.gasPrepaidIncome?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Miles Income"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.income?.milesIncome?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Ski Racks Income"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.income?.skiRacksIncome?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Child Seat Income"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.income?.childSeatIncome?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Coolers Income"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.income?.coolersIncome?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Income Insurance and Client Wrecks"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.income?.incomeInsurance?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Other Income"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.income?.otherIncome?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Negative Balance Carry Over"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.income?.negativeBalance?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm pt-2 border-t border-[#2a2a2a]",children:[a.jsx("span",{className:"font-medium",children:"Car Management Total Expenses"}),a.jsxs("span",{className:"text-foreground font-semibold",children:["$",M?.income?.carManagementTotalExpenses?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{className:"font-medium",children:"Car Owner Total Expenses"}),a.jsxs("span",{className:"text-foreground font-semibold",children:["$",M?.income?.carOwnerTotalExpenses?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{className:"font-medium",children:"Car Payment"}),a.jsxs("span",{className:"text-foreground font-semibold",children:["$",M?.income?.carPayment?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] text-sm font-bold pt-2 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"Total Expenses"}),a.jsxs("span",{children:["$",M?.income?.totalExpenses?.toFixed(2)||"0.00"]})]})]})})]}),a.jsxs(Na,{value:"expenses",className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a]",children:[a.jsx(Ea,{className:"px-4 py-3 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center gap-2 w-full",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium",children:"OPERATING EXPENSES (COGS - Per Vehicle)"})]})}),a.jsx(Sa,{className:"px-4 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Auto Body Shop / Wreck"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.autoBodyShop?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Alignment"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.alignment?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Battery"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.battery?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Brakes"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.brakes?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Car Payment"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.carPayment?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Car Insurance"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.carInsurance?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Car Seats"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.carSeats?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Cleaning Supplies / Tools"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.cleaningSupplies?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Emissions"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.emissions?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"GPS System"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.gpsSystem?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Keys & Fob"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.keysFob?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Labor - Cleaning"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.laborDetailing?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Parking Airport (Reimbursed - GLA - Client Owner Rentals)"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.parkingAirport?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Uber/Lyft/Lime - Not Reimbursed"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.uberNotReimbursed?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Uber/Lyft/Lime - Reimbursed"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.uberReimbursed?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Gas - Service Run"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.expenses?.gasServiceRun?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] text-sm font-bold pt-2 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"Total Operating Expenses (COGS - Per Vehicle)"}),a.jsxs("span",{children:["$",M?.expenses?.totalOperatingExpenses?.toFixed(2)||"0.00"]})]})]})})]}),a.jsxs(Na,{value:"gla",className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a]",children:[a.jsx(Ea,{className:"px-4 py-3 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center gap-2 w-full",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium",children:"GLA PARKING FEE & LABOR CLEANING"})]})}),a.jsx(Sa,{className:"px-4 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"GLA Labor - Cleaning"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.gla?.laborCleaning?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"GLA Parking Fee"}),a.jsxs("span",{className:"text-foreground",children:["$",M?.gla?.parkingFee?.toFixed(2)||"0.00"]})]}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] text-sm font-bold pt-2 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"Total GLA Parking Fee & Labor Cleaning"}),a.jsxs("span",{children:["$",M?.gla?.total?.toFixed(2)||"0.00"]})]})]})})]}),a.jsxs(Na,{value:"history",className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a]",children:[a.jsx(Ea,{className:"px-4 py-3 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center gap-2 w-full",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium",children:"HISTORY OF THE CARS"})]})}),a.jsx(Sa,{className:"px-4 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Days Rented"}),a.jsx("span",{className:"text-foreground font-medium",children:M?.history?.daysRented||0})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Trips Taken"}),a.jsx("span",{className:"text-foreground font-medium",children:M?.history?.tripsTaken||0})]})]})})]}),a.jsxs(Na,{value:"payments",className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a]",children:[a.jsx(Ea,{className:"px-4 py-3 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center gap-2 w-full",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium",children:"PAYMENT HISTORY"})]})}),a.jsx(Sa,{className:"px-4 pb-4 bg-[#0a0a0a]",children:a.jsx("div",{className:"space-y-2 pt-2",children:a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsxs("span",{children:[E," - ",O]}),a.jsxs("span",{className:"text-foreground font-semibold",children:["$",M?.payments?.total?.toFixed(2)||"0.00"]})]})})})]})]}):a.jsxs("div",{className:"text-center py-12 text-gray-400",children:[a.jsx(Pl,{className:"w-12 h-12 mx-auto mb-4 text-gray-600"}),a.jsx("p",{children:"No data available"})]})})]}),s==="maintenance"&&a.jsxs(ft,{className:"bg-[#0a0a0a] border-[#1a1a1a]",children:[a.jsx($r,{children:a.jsx(Gr,{className:"text-[#EAEB80] text-xl",children:"Car Maintenance"})}),a.jsxs(mt,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(tt,{value:x,onValueChange:p,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select a Type"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"all",children:"All Types"}),a.jsx(xe,{value:"oil",children:"Oil Change"}),a.jsx(xe,{value:"tire",children:"Tire Service"}),a.jsx(xe,{value:"repair",children:"Repair"})]})]}),a.jsxs(tt,{value:v,onValueChange:g,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Status"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"all",children:"All Status"}),a.jsx(xe,{value:"scheduled",children:"Scheduled"}),a.jsx(xe,{value:"completed",children:"Completed"}),a.jsx(xe,{value:"pending",children:"Pending"})]})]}),a.jsx(ae,{type:"date",value:w,onChange:F=>N(F.target.value),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",placeholder:"Date to Filter"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ao,{children:[a.jsx(Co,{children:a.jsxs(zr,{className:"border-[#2a2a2a] hover:bg-transparent",children:[a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-4 py-3 w-12",children:"#"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-4 py-3",children:"Make"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-4 py-3",children:"Model"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-4 py-3",children:"Year"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-4 py-3",children:"Plate #"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-4 py-3",children:"VIN #"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-4 py-3",children:"Tire Size"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-4 py-3",children:"Maintenance Type"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-4 py-3",children:"Status"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-4 py-3",children:"Schedule Date"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-4 py-3",children:"Date Completed"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-4 py-3",children:"Price"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-4 py-3",children:"Remarks"})]})}),a.jsx(ko,{children:a.jsx(zr,{children:a.jsx(qe,{colSpan:13,className:"text-center py-12",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(Pl,{className:"w-12 h-12 text-gray-600"}),a.jsx("p",{className:"text-gray-400",children:"No data"})]})})})})]})})]})]})]})]})]}),a.jsx($t,{open:L,onOpenChange:R,children:a.jsxs(Ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-[#111111] border-[#EAEB80]/30 border-2 text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-2xl",children:"Edit Client Details"}),a.jsx(Ut,{className:"text-gray-400",children:"Update client onboarding information"})]}),a.jsxs("form",{onSubmit:lt,className:"space-y-6 mt-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#EAEB80]/30 pb-2",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"First Name"}),a.jsx(ae,{value:_.firstNameOwner||"",onChange:F=>B({..._,firstNameOwner:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Last Name"}),a.jsx(ae,{value:_.lastNameOwner||"",onChange:F=>B({..._,lastNameOwner:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Email"}),a.jsx(ae,{type:"email",value:_.emailOwner||"",onChange:F=>B({..._,emailOwner:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Phone"}),a.jsx(ae,{value:_.phoneOwner||"",onChange:F=>B({..._,phoneOwner:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Date of Birth"}),a.jsx(ae,{type:"date",value:_.birthday?_.birthday.split("T")[0]:"",onChange:F=>B({..._,birthday:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"T-Shirt Size"}),a.jsxs(tt,{value:_.tshirtSize||"",onValueChange:F=>B({..._,tshirtSize:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:["XS","S","M","L","XL","XXL"].map(F=>a.jsx(xe,{value:F,children:F},F))})]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"SSN"}),a.jsx(ae,{value:_.ssn||"",onChange:F=>B({..._,ssn:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Representative"}),a.jsx(ae,{value:_.representative||"",onChange:F=>B({..._,representative:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"How Did You Hear About Us"}),a.jsxs(tt,{value:_.heardAboutUs||"",onValueChange:F=>B({..._,heardAboutUs:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Friend",children:"Friend"}),a.jsx(xe,{value:"Google",children:"Google"}),a.jsx(xe,{value:"Social Media",children:"Social Media"})]})]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Emergency Contact Name"}),a.jsx(ae,{value:_.emergencyContactName||"",onChange:F=>B({..._,emergencyContactName:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Emergency Contact Phone"}),a.jsx(ae,{value:_.emergencyContactPhone||"",onChange:F=>B({..._,emergencyContactPhone:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Client Status"}),a.jsxs(tt,{value:_.status||"ACTIVE",onValueChange:F=>B({..._,status:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select client status"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"ACTIVE",children:"Active"}),a.jsx(xe,{value:"INACTIVE",children:"Inactive"})]})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#EAEB80]/30 pb-2",children:"Address Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Se,{className:"text-gray-400",children:"Street Address"}),a.jsx(ae,{value:_.streetAddress||"",onChange:F=>B({..._,streetAddress:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"City"}),a.jsx(ae,{value:_.city||"",onChange:F=>B({..._,city:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"State"}),a.jsx(ae,{value:_.state||"",onChange:F=>B({..._,state:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Zip Code"}),a.jsx(ae,{value:_.zipCode||"",onChange:F=>B({..._,zipCode:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#EAEB80]/30 pb-2",children:"Banking Information (ACH)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Bank Name"}),a.jsx(ae,{value:_.bankName||"",onChange:F=>B({..._,bankName:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Tax Classification"}),a.jsxs(tt,{value:_.taxClassification||"",onValueChange:F=>B({..._,taxClassification:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select tax classification"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"individual",children:"Individual"}),a.jsx(xe,{value:"business",children:"Business"})]})]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Routing Number"}),a.jsx(ae,{value:_.routingNumber||"",onChange:F=>B({..._,routingNumber:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Account Number"}),a.jsx(ae,{value:_.accountNumber||"",onChange:F=>B({..._,accountNumber:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"SSN"}),a.jsx(ae,{value:_.ssn||"",onChange:F=>B({..._,ssn:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono",placeholder:"Enter SSN"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"EIN"}),a.jsx(ae,{value:_.ein||"",onChange:F=>B({..._,ein:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono",placeholder:"Enter EIN"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Business Name"}),a.jsx(ae,{value:_.businessName||"",onChange:F=>B({..._,businessName:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-[#2a2a2a]",children:[a.jsx(ie,{type:"button",variant:"outline",onClick:()=>R(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Cancel"}),a.jsx(ie,{type:"submit",disabled:oe.isPending,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:oe.isPending?"Saving...":"Save Changes"})]})]})]})}),a.jsx($t,{open:I,onOpenChange:F=>{C(F),F||(W({}),H({contractFile:null,selectedCarId:""}))},children:a.jsxs(Ft,{className:"max-w-lg bg-[#111111] border-[#EAEB80]/30 border-2 text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-xl",children:"Upload Contract"}),a.jsx(Ut,{className:"text-gray-400",children:"Manually upload a signed contract for this client. Select the car to associate with this contract."})]}),a.jsxs("form",{onSubmit:F=>{F.preventDefault(),ce.mutate(K)},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Select Car *"}),(()=>{const F=new Set((le?.data?.signedContracts||[]).map(Oe=>Oe.vinNumber?.toUpperCase().trim()).filter(Oe=>Oe)),Re=(le?.data?.cars||[]).filter(Oe=>{const Ve=Oe.vin?.toUpperCase().trim();return Ve&&!F.has(Ve)});return Re.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-md p-3 text-gray-400 text-sm",children:"No non-onboarded cars available. All cars for this client have already been onboarded."}),a.jsx("p",{className:"text-xs text-gray-500",children:"You cannot upload a contract when all cars are already onboarded."})]}):a.jsxs(a.Fragment,{children:[a.jsxs(tt,{value:K.selectedCarId,onValueChange:Oe=>{H({...K,selectedCarId:Oe}),W({})},children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select a car"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:Re.map(Oe=>a.jsxs(xe,{value:Oe.id.toString(),children:[Oe.make||"N/A"," ",Oe.model||""," ",Oe.year?`(${Oe.year})`:""," - VIN: ",Oe.vin||"N/A"]},Oe.id))})]}),D.selectedCarId&&a.jsx("p",{className:"text-xs text-red-400 mt-1",children:D.selectedCarId}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a car that hasn't been onboarded yet"})]})})()]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Contract PDF File *"}),a.jsxs("div",{className:"mt-2",children:[a.jsx("input",{type:"file",accept:".pdf,application/pdf",onChange:F=>{const Re=F.target.files?.[0]||null;H({...K,contractFile:Re})},className:`block w-full text-sm text-gray-400\r
                    file:mr-4 file:py-2 file:px-4\r
                    file:rounded-md file:border-0\r
                    file:text-sm file:font-semibold\r
                    file:bg-[#EAEB80] file:text-black\r
                    hover:file:bg-[#d4d570]\r
                    file:cursor-pointer\r
                    cursor-pointer\r
                    bg-[#1a1a1a] border border-[#2a2a2a] rounded-md p-2`,required:!0}),K.contractFile&&a.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Selected: ",K.contractFile.name]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload a PDF file from your local device (max 5MB)"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-[#2a2a2a]",children:[a.jsx(ie,{type:"button",variant:"outline",onClick:()=>C(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Cancel"}),a.jsx(ie,{type:"submit",disabled:ce.isPending,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:ce.isPending?"Uploading...":"Upload Contract"})]})]})]})}),a.jsx($t,{open:G,onOpenChange:F=>{ee(F),F||te({})},children:a.jsxs(Ft,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-[#111111] border-[#EAEB80]/30 border-2 text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-xl",children:"Add Car"}),a.jsx(Ut,{className:"text-gray-400",children:"Add a new car for this client"})]}),a.jsxs("form",{onSubmit:F=>{F.preventDefault(),be.mutate(Z)},className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Vehicle Information"}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"VIN *"}),a.jsx(ae,{value:Z.vin,onChange:F=>{const Re=F.target.value.toUpperCase().slice(0,17);Ne({...Z,vin:Re}),Q.vin&&te({...Q,vin:void 0})},placeholder:"WDDNG8GB5LA123456",className:_e("bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono",Q.vin&&"border-red-500"),maxLength:17,required:!0}),Q.vin&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:Q.vin})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Make *"}),a.jsx(ae,{value:Z.make,onChange:F=>Ne({...Z,make:F.target.value}),placeholder:"Mercedes-Benz",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",required:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Model *"}),a.jsx(ae,{value:Z.model,onChange:F=>Ne({...Z,model:F.target.value}),placeholder:"S-Class",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Year"}),a.jsx(ae,{type:"number",value:Z.year,onChange:F=>Ne({...Z,year:F.target.value}),placeholder:"2024",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"License Plate"}),a.jsx(ae,{value:Z.licensePlate,onChange:F=>Ne({...Z,licensePlate:F.target.value}),placeholder:"ABC1234",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Exterior Color"}),a.jsx(ae,{value:Z.color,onChange:F=>Ne({...Z,color:F.target.value}),placeholder:"Black",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Interior Color"}),a.jsx(ae,{value:Z.interiorColor,onChange:F=>Ne({...Z,interiorColor:F.target.value}),placeholder:"Black",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Mileage"}),a.jsx(ae,{type:"number",value:Z.mileage,onChange:F=>Ne({...Z,mileage:F.target.value}),placeholder:"0",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Trim"}),a.jsx(ae,{value:Z.vehicleTrim,onChange:F=>Ne({...Z,vehicleTrim:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Registration Expiration"}),a.jsx(ae,{type:"date",value:Z.registrationExpiration,onChange:F=>Ne({...Z,registrationExpiration:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Title Type"}),a.jsxs(tt,{value:Z.titleType,onValueChange:F=>Ne({...Z,titleType:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select title type"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Clean",children:"Clean"}),a.jsx(xe,{value:"Salvage",children:"Salvage"}),a.jsx(xe,{value:"Rebuilt",children:"Rebuilt"}),a.jsx(xe,{value:"Branded",children:"Branded"}),a.jsx(xe,{value:"Other",children:"Other"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Vehicle Recall"}),a.jsxs(tt,{value:Z.vehicleRecall,onValueChange:F=>Ne({...Z,vehicleRecall:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Oil Package Details"}),a.jsx(ae,{value:Z.oilPackageDetails,onChange:F=>Ne({...Z,oilPackageDetails:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Number of Seats"}),a.jsxs(tt,{value:Z.numberOfSeats,onValueChange:F=>Ne({...Z,numberOfSeats:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[2,4,5,6,7,8].map(F=>a.jsx(xe,{value:String(F),children:F},F))})]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Number of Doors"}),a.jsxs(tt,{value:Z.numberOfDoors,onValueChange:F=>Ne({...Z,numberOfDoors:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"2",children:"2"}),a.jsx(xe,{value:"4",children:"4"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Ski Rack"}),a.jsxs(tt,{value:Z.skiRacks,onValueChange:F=>Ne({...Z,skiRacks:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Ski Crossbars"}),a.jsxs(tt,{value:Z.skiCrossBars,onValueChange:F=>Ne({...Z,skiCrossBars:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Roof Rails"}),a.jsxs(tt,{value:Z.roofRails,onValueChange:F=>Ne({...Z,roofRails:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Oil Type"}),a.jsx(ae,{value:Z.oilType,onChange:F=>Ne({...Z,oilType:F.target.value}),placeholder:"5W-30",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Last Oil Change Date"}),a.jsx(ae,{type:"date",value:Z.lastOilChange,onChange:F=>Ne({...Z,lastOilChange:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Free Service Center Oil Change"}),a.jsxs(tt,{value:Z.freeDealershipOilChanges,onValueChange:F=>Ne({...Z,freeDealershipOilChanges:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Dealership Address"}),a.jsx(ae,{value:Z.dealershipAddress,onChange:F=>Ne({...Z,dealershipAddress:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Fuel Type"}),a.jsxs(tt,{value:Z.fuelType,onValueChange:F=>Ne({...Z,fuelType:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Regular",children:"Regular"}),a.jsx(xe,{value:"Premium",children:"Premium"}),a.jsx(xe,{value:"Premium 91 Unleaded",children:"Premium 91 Unleaded"}),a.jsx(xe,{value:"Regular Unleaded",children:"Regular Unleaded"}),a.jsx(xe,{value:"91 Unleaded",children:"91 Unleaded"}),a.jsx(xe,{value:"Gasoline",children:"Gasoline"}),a.jsx(xe,{value:"Electric",children:"Electric"}),a.jsx(xe,{value:"Diesel",children:"Diesel"}),a.jsx(xe,{value:"Others",children:"Others"})]})]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Tire Size"}),a.jsx(ae,{value:Z.tireSize,onChange:F=>Ne({...Z,tireSize:F.target.value}),placeholder:"225/50R17",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Se,{className:"text-gray-400 mb-4 block",children:"Features (check all that apply)"}),a.jsx("div",{className:"border border-red-500 rounded-lg p-4",children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["All-wheel drive","AUX input","Blind Spot Warning","Convertible","Keyless Entry","Snow Tires or Chains","USB Charger","Android Auto","Back Up Camera","Bluetooth","GPS","Pet Friendly","Sunroof","USB Input","Apple CarPlay","Bike Rack","Toll Pass","Wheelchair Accessible"].map(F=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(pn,{id:`feature-${F}`,checked:Z.vehicleFeatures.includes(F),onCheckedChange:Re=>{const Oe=Z.vehicleFeatures||[];Ne(Re?{...Z,vehicleFeatures:[...Oe,F]}:{...Z,vehicleFeatures:Oe.filter(Ve=>Ve!==F)})},className:"border-gray-600"}),a.jsx(Se,{htmlFor:`feature-${F}`,className:"text-gray-300 text-sm font-normal cursor-pointer",children:F})]},F))})})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Status *"}),a.jsxs(tt,{value:Z.status,onValueChange:F=>Ne({...Z,status:F}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select status"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"ACTIVE",children:"ACTIVE"}),a.jsx(xe,{value:"INACTIVE",children:"INACTIVE"})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Financial Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Purchase Price"}),a.jsx(ae,{type:"number",step:"0.01",value:Z.purchasePrice,onChange:F=>Ne({...Z,purchasePrice:F.target.value}),placeholder:"0.00",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Down Payment"}),a.jsx(ae,{type:"number",step:"0.01",value:Z.downPayment,onChange:F=>Ne({...Z,downPayment:F.target.value}),placeholder:"0.00",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Monthly Payment"}),a.jsx(ae,{type:"number",step:"0.01",value:Z.monthlyPayment,onChange:F=>Ne({...Z,monthlyPayment:F.target.value}),placeholder:"0.00",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Interest Rate (%)"}),a.jsx(ae,{type:"number",step:"0.01",value:Z.interestRate,onChange:F=>Ne({...Z,interestRate:F.target.value}),placeholder:"0.00",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Transport City to City"}),a.jsx(ae,{value:Z.transportCityToCity,onChange:F=>Ne({...Z,transportCityToCity:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Ultimate Goal"}),a.jsx(ae,{value:Z.ultimateGoal,onChange:F=>Ne({...Z,ultimateGoal:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Insurance Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Provider"}),a.jsx(ae,{value:Z.insuranceProvider,onChange:F=>Ne({...Z,insuranceProvider:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Phone"}),a.jsx(ae,{type:"tel",value:Z.insurancePhone,onChange:F=>Ne({...Z,insurancePhone:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Policy Number"}),a.jsx(ae,{value:Z.policyNumber,onChange:F=>Ne({...Z,policyNumber:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Expiration"}),a.jsx(ae,{type:"date",value:Z.insuranceExpiration,onChange:F=>Ne({...Z,insuranceExpiration:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Car Login Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Car Manufacturer Website"}),a.jsx(ae,{type:"url",value:Z.carManufacturerWebsite,onChange:F=>Ne({...Z,carManufacturerWebsite:F.target.value}),placeholder:"https://example.com",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Manufacturer Username"}),a.jsx(ae,{value:Z.carManufacturerUsername,onChange:F=>Ne({...Z,carManufacturerUsername:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Password"}),a.jsx(ae,{type:"password",value:Z.password,onChange:F=>Ne({...Z,password:F.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground font-mono"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Car Links"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Turo Link"}),a.jsx(ae,{value:Z.turoLink,onChange:F=>Ne({...Z,turoLink:F.target.value}),placeholder:"https://turo.com/...",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400",children:"Admin Turo Link"}),a.jsx(ae,{value:Z.adminTuroLink,onChange:F=>Ne({...Z,adminTuroLink:F.target.value}),placeholder:"https://turo.com/...",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-[#2a2a2a]",children:[a.jsx(ie,{type:"button",variant:"outline",onClick:()=>ee(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Cancel"}),a.jsx(ie,{type:"submit",disabled:be.isPending,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:be.isPending?"Adding...":"Add Car"})]})]})]})}),a.jsx(Nve,{isOpen:U,onClose:()=>{q(!1),fe(null)},clientId:n,bankingInfo:ne,cars:X?.cars||[]}),a.jsx($t,{open:pe!==null,onOpenChange:F=>!F&&ye(null),children:a.jsxs(Ft,{className:"bg-[#0a0a0a] border-[#2a2a2a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-[#EAEB80]",children:"Delete Banking Information"}),a.jsx(Ut,{className:"text-gray-400",children:"Are you sure you want to delete this banking information? This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ie,{variant:"outline",onClick:()=>ye(null),className:"border-[#2a2a2a] text-gray-300 hover:bg-[#1a1a1a]",children:"Cancel"}),a.jsx(ie,{onClick:()=>{pe&&Le.mutate(pe)},disabled:Le.isPending,className:"bg-red-600 text-foreground hover:bg-red-700",children:Le.isPending?"Deleting...":"Delete"})]})]})})]})}function Sve(){const[t,e]=y.useState(""),[r,n]=y.useState(1),[s,i]=y.useState(()=>{const m=localStorage.getItem("contracts_limit");return m?parseInt(m):10});y.useEffect(()=>{localStorage.setItem("contracts_limit",s.toString())},[s]),y.useEffect(()=>{n(1)},[t]);const{toast:o}=kr(),l=Wr(),{data:c,isLoading:d,error:u}=Ge({queryKey:["lyc-contracts",t,r,s],placeholderData:Gl,queryFn:async()=>{const m=new URLSearchParams({page:r.toString(),limit:s.toString()});t&&m.append("search",t);const x=await fetch(je(`/api/contracts/lyc?${m.toString()}`),{credentials:"include"});if(!x.ok){const p=await x.json().catch(()=>({error:"Failed to fetch contracts"}));throw new Error(p.error||`Failed to fetch contracts: ${x.status}`)}return x.json()}}),h=yt({mutationFn:async m=>{const x=await fetch(je(`/api/contracts/lyc/${m}/resend`),{method:"POST",credentials:"include"});if(!x.ok){const p=await x.json().catch(()=>({error:"Failed to resend contract"}));throw new Error(p.error||"Failed to resend contract")}return x.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["lyc-contracts"]}),o({title:"Success",description:"Contract resent successfully"})},onError:m=>{o({title:"Error",description:m.message||"Failed to resend contract",variant:"destructive"})}}),f=m=>!m||m==="pending"?a.jsx(Ot,{variant:"outline",className:"border-yellow-500/50 text-yellow-500 bg-yellow-500/10 text-xs",children:"Pending"}):m==="sent"||m==="opened"?a.jsx(Ot,{variant:"outline",className:"border-yellow-500/50 text-yellow-400 bg-yellow-500/10 text-xs",children:"Opened"}):m==="signed"?a.jsx(Ot,{variant:"outline",className:"border-green-500/50 text-green-400 bg-green-500/10 text-xs",children:"Signed"}):m==="declined"?a.jsx(Ot,{variant:"outline",className:"border-red-500/50 text-red-400 bg-red-500/10 text-xs",children:"Expired"}):a.jsx(Ot,{variant:"outline",className:"border-yellow-500/50 text-yellow-500 bg-yellow-500/10 text-xs",children:"Pending"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"LYC Contract / Agreement"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Manage LYC contracts and agreements"})]}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(ae,{type:"text",placeholder:"Search by name, email, phone, or vehicle...",value:t,onChange:m=>e(m.target.value),className:"pl-10 bg-[#1a1a1a] border-[#2a2a2a] text-foreground placeholder:text-gray-500"})]})}),a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20",children:a.jsx(mt,{className:"p-0",children:d?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Gt,{className:"w-8 h-8 text-[#EAEB80] animate-spin"})}):u?a.jsxs("div",{className:"text-center py-12 text-red-400",children:[a.jsx("p",{className:"mb-2",children:"Error loading contracts"}),a.jsx("p",{className:"text-sm text-gray-500",children:u instanceof Error?u.message:"Unknown error"})]}):c?.data&&c.data.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ao,{className:"w-full table-auto",children:[a.jsx(Co,{children:a.jsxs(zr,{className:"border-b border-[#1a1a1a]",children:[a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:"Name"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden md:table-cell whitespace-nowrap",children:"Email"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden lg:table-cell whitespace-nowrap",children:"Phone"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:"Vehicle"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden xl:table-cell whitespace-nowrap",children:"VIN#"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden xl:table-cell whitespace-nowrap",children:"Plate #"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden lg:table-cell whitespace-nowrap",children:"Submitted"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:"Status"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden md:table-cell whitespace-nowrap",children:"Contract"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden 2xl:table-cell whitespace-nowrap",children:"Car Onboarding Date"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden 2xl:table-cell whitespace-nowrap",children:"Offboarding"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:"Actions"})]})}),a.jsx(ko,{children:c.data.map(m=>a.jsxs(zr,{className:_e("border-b border-[#1a1a1a] hover:bg-[#111111] transition-colors"),children:[a.jsxs(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-foreground text-xs sm:text-sm max-w-[120px] truncate",title:`${m.firstNameOwner} ${m.lastNameOwner}`,children:[m.firstNameOwner," ",m.lastNameOwner]}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm hidden md:table-cell max-w-[150px] truncate",title:m.emailOwner,children:m.emailOwner}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm hidden lg:table-cell max-w-[120px] truncate",title:m.phoneOwner,children:m.phoneOwner}),a.jsxs(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm max-w-[150px] truncate",title:`${m.vehicleMake} ${m.vehicleModel} ${m.vehicleYear}`,children:[m.vehicleMake," ",m.vehicleModel," ",m.vehicleYear]}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 font-mono text-xs hidden xl:table-cell max-w-[120px] truncate",title:m.vinNumber||"",children:m.vinNumber||a.jsx("span",{className:"text-gray-500",children:""})}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 font-mono text-xs hidden xl:table-cell max-w-[100px] truncate",title:m.licensePlate||"",children:m.licensePlate||a.jsx("span",{className:"text-gray-500",children:""})}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm hidden lg:table-cell whitespace-nowrap",children:new Date(m.createdAt).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center justify-center",children:f(m.contractStatus)})}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 hidden md:table-cell whitespace-nowrap",children:a.jsx("div",{className:"flex items-center justify-center gap-2",children:m.contractStatus==="signed"&&m.signedContractUrl?a.jsxs(ie,{size:"sm",variant:"outline",className:"h-7 px-2 bg-green-500/10 border-green-500/30 text-green-400 hover:bg-green-500/20",onClick:()=>{window.open(je(`/api/contracts/${m.id}/view`),"_blank")},children:[a.jsx(Ar,{className:"w-3 h-3 mr-1"}),"View PDF"]}):a.jsx("span",{className:"text-gray-500 text-xs",children:m.contractStatus==="sent"||m.contractStatus==="opened"?"Contract sent":"Not sent"})})}),a.jsx(qe,{className:"px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm hidden 2xl:table-cell whitespace-nowrap",children:m.contractSignedAt?new Date(m.contractSignedAt).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):a.jsx("span",{className:"text-gray-500",children:"Not signed"})}),a.jsx(qe,{className:"px-2 sm:px-3 py-3 sm:py-4 hidden 2xl:table-cell whitespace-nowrap",children:m.isOffboarded?a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ot,{variant:"outline",className:"border-red-500/50 text-red-400 bg-red-500/10 text-xs",children:"Offboarded"}),m.carOffboardAt&&a.jsx("span",{className:"text-xs text-gray-500",children:new Date(m.carOffboardAt).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})}),m.carOffboardReason&&a.jsx("span",{className:"text-xs text-gray-500 capitalize",children:m.carOffboardReason.replace("_"," ")})]}):a.jsx(Ot,{variant:"outline",className:"border-green-500/50 text-green-400 bg-green-500/10 text-xs",children:"Active"})}),a.jsx(qe,{className:"px-6 py-4",children:a.jsx(ie,{size:"sm",variant:"outline",className:"h-8 px-3 bg-[#EAEB80]/10 border-[#EAEB80]/30 text-[#EAEB80] hover:bg-[#EAEB80]/20",onClick:()=>{h.mutate(m.id)},disabled:h.isPending,children:h.isPending?a.jsx(Gt,{className:"w-4 h-4 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(uU,{className:"w-4 h-4 mr-1"}),"Resend Contract"]})})})]},m.id))})]})})}),c.pagination&&a.jsx(Qu,{totalItems:c.pagination.total,itemsPerPage:s,currentPage:r,onPageChange:m=>{n(m),window.scrollTo({top:0,behavior:"smooth"})},onItemsPerPageChange:m=>{i(m),n(1)},isLoading:d})]}):a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("p",{className:"text-lg",children:"No records found"}),a.jsx("p",{className:"text-sm mt-2",children:t?"Try adjusting your search":"No contracts found"})]})})})]})}const Ave=Ma({date:ge().min(1,"Date is required"),name:ge().min(1,"Name is required"),carMakeModelYear:ge().min(1,"Car Make/Model/Year is required"),plateNumber:ge().optional(),dropOffDate:ge().min(1,"Drop-off date is required")});function Cve(){const[t,e]=y.useState(""),[r,n]=y.useState("active"),[s,i]=y.useState(1),[o,l]=y.useState(!1),[,c]=wr(),{toast:d}=kr(),u=Wr(),[h,f]=y.useState(()=>{const b=localStorage.getItem("car_onboarding_limit");return b?parseInt(b):10});y.useEffect(()=>{localStorage.setItem("car_onboarding_limit",h.toString())},[h]),y.useEffect(()=>{i(1)},[t,r]);const m=ts({resolver:rs(Ave),defaultValues:{date:new Date().toISOString().split("T")[0],name:"",carMakeModelYear:"",plateNumber:"",dropOffDate:new Date().toISOString().split("T")[0]}}),{data:x,isLoading:p}=Ge({queryKey:["cars-onboarding",t,r,s,h],placeholderData:Gl,queryFn:async()=>{const b=new URLSearchParams({page:s.toString(),limit:h.toString()});t&&b.append("search",t),r&&r!=="all"&&b.append("status",r);const S=await fetch(je(`/api/cars/onboarding?${b.toString()}`),{credentials:"include"});if(!S.ok){const A=await S.json().catch(()=>({error:"Failed to fetch cars"}));throw new Error(A.error||`Failed to fetch cars: ${S.status}`)}return S.json()},refetchInterval:3e4}),v=yt({mutationFn:async b=>{const S=await fetch(je("/api/cars/onboard"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(b)});if(!S.ok){const A=await S.json().catch(()=>({error:"Failed to add car"}));throw new Error(A.error||"Failed to add car")}return S.json()},onSuccess:()=>{u.invalidateQueries({queryKey:["cars-onboarding"]}),u.invalidateQueries({queryKey:["/api/cars"]}),u.invalidateQueries({queryKey:["sidebar-badges"]}),l(!1),m.reset(),d({title:" Success",description:"New car added successfully",duration:5e3})},onError:b=>{d({title:"Error",description:b.message||"Failed to add car",variant:"destructive"})}}),g=b=>{v.mutate(b)},w=x?.data||[],N=x?.pagination,j=b=>{b.clientId?c(`/admin/clients?id=${b.clientId}`):c(`/admin/clients?search=${encodeURIComponent(b.clientName)}`)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Car On-boarding"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Manage vehicles added to the fleet"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(ae,{type:"text",placeholder:"Search by name, email, phone, VIN, plate, or make/model...",value:t,onChange:b=>e(b.target.value),className:"pl-10 bg-[#1a1a1a] border-[#2a2a2a] text-foreground placeholder:text-gray-500"})]}),a.jsx("div",{className:"w-full sm:w-48",children:a.jsxs(tt,{value:r,onValueChange:n,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Filter by status"})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"all",children:"All Status"}),a.jsx(xe,{value:"active",children:"Active"}),a.jsx(xe,{value:"offboarded",children:"Offboarded"})]})]})})]}),a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20",children:a.jsx(mt,{className:"p-0",children:p?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Gt,{className:"w-8 h-8 text-[#EAEB80] animate-spin"})}):w.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ao,{className:"w-full table-auto",children:[a.jsx(Co,{children:a.jsxs(zr,{className:"border-b border-[#1a1a1a]",children:[a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:"Name"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden md:table-cell whitespace-nowrap",children:"Email"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden lg:table-cell whitespace-nowrap",children:"Phone"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:"Vehicle"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden xl:table-cell whitespace-nowrap",children:"VIN#"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden xl:table-cell whitespace-nowrap",children:"Plate #"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden lg:table-cell whitespace-nowrap",children:"Submitted"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:"Status"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden md:table-cell whitespace-nowrap",children:"Contract"}),a.jsx(He,{className:"text-center text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden 2xl:table-cell whitespace-nowrap",children:"Car Onboarding Date"})]})}),a.jsx(ko,{children:w.map(b=>a.jsxs(zr,{className:_e("border-b border-[#1a1a1a] hover:bg-[#111111] transition-colors"),children:[a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-foreground text-xs sm:text-sm cursor-pointer max-w-[120px] truncate",onClick:()=>j(b),title:b.clientName,children:b.clientName}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm hidden md:table-cell max-w-[150px] truncate",title:b.clientEmail||"",children:b.clientEmail||""}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm hidden lg:table-cell max-w-[120px] truncate",title:b.clientPhone||"",children:b.clientPhone||""}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm max-w-[150px] truncate",title:b.carMakeModel,children:b.carMakeModel}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 font-mono text-xs hidden xl:table-cell max-w-[120px] truncate",title:b.vin||"",children:b.vin||""}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 font-mono text-xs hidden xl:table-cell max-w-[100px] truncate",title:b.licensePlate?b.licensePlate.toUpperCase():"",children:b.licensePlate?b.licensePlate.toUpperCase():""}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm hidden lg:table-cell whitespace-nowrap",children:new Date(b.createdAt).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Ot,{variant:"outline",className:_e("text-xs",b.status==="available"||b.status==="in_use"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"),children:b.status==="available"||b.status==="in_use"?"ACTIVE":"INACTIVE"})})}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 hidden md:table-cell whitespace-nowrap",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Ot,{variant:"outline",className:_e("text-xs",b.contractStatus==="signed"?"border-green-500/50 text-green-400 bg-green-500/10":b.contractStatus==="pending"?"border-yellow-500/50 text-yellow-400 bg-yellow-500/10":b.contractStatus==="sent"||b.contractStatus==="opened"?"border-blue-500/50 text-blue-400 bg-blue-500/10":b.contractStatus==="declined"?"border-red-500/50 text-red-400 bg-red-500/10":"bg-gray-800/50 text-gray-400 border-gray-700"),children:b.contractStatus?b.contractStatus.charAt(0).toUpperCase()+b.contractStatus.slice(1):"N/A"})})}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm hidden 2xl:table-cell whitespace-nowrap",children:b.onboardingDate?new Date(b.onboardingDate).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):b.createdAt?new Date(b.createdAt).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):""})]},b.id))})]})})}),N&&a.jsx(Qu,{totalItems:N.total,itemsPerPage:h,currentPage:s,onPageChange:b=>{i(b),window.scrollTo({top:0,behavior:"smooth"})},onItemsPerPageChange:b=>{f(b),i(1)},isLoading:p})]}):a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("p",{className:"text-lg",children:"No records found"}),a.jsx("p",{className:"text-sm mt-2",children:t||r!=="all"?"Try adjusting your search or filters":"No cars have been onboarded yet"})]})})}),a.jsx($t,{open:o,onOpenChange:l,children:a.jsxs(Ft,{className:"bg-[#111111] border-[#EAEB80]/30 border-2 text-foreground max-w-2xl",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-2xl font-semibold text-[#EAEB80]",children:"Add New Car"}),a.jsx(Ut,{className:"text-gray-400",children:"Add a new vehicle to the onboarding queue"})]}),a.jsx(Rs,{...m,children:a.jsxs("form",{onSubmit:m.handleSubmit(g),className:"space-y-6 mt-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{control:m.control,name:"date",render:({field:b})=>a.jsxs(Ce,{children:[a.jsxs(Ae,{className:"text-gray-300",children:["Date ",a.jsx("span",{className:"text-[#EAEB80]",children:"*"})]}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...b,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:m.control,name:"name",render:({field:b})=>a.jsxs(Ce,{children:[a.jsxs(Ae,{className:"text-gray-300",children:["Name ",a.jsx("span",{className:"text-[#EAEB80]",children:"*"})]}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"Client full name",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]}),a.jsx(ke,{control:m.control,name:"carMakeModelYear",render:({field:b})=>a.jsxs(Ce,{children:[a.jsxs(Ae,{className:"text-gray-300",children:["Car Make/Model (Year)"," ",a.jsx("span",{className:"text-[#EAEB80]",children:"*"})]}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"e.g., 2024 Lamborghini Urus",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{control:m.control,name:"plateNumber",render:({field:b})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Plate #"}),a.jsx(Pe,{children:a.jsx(ae,{...b,placeholder:"License plate number",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80] uppercase",style:{textTransform:"uppercase"}})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:m.control,name:"dropOffDate",render:({field:b})=>a.jsxs(Ce,{children:[a.jsxs(Ae,{className:"text-gray-300",children:["Date of Car Drop Off"," ",a.jsx("span",{className:"text-[#EAEB80]",children:"*"})]}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...b,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ie,{type:"button",variant:"outline",onClick:()=>{l(!1),m.reset()},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Cancel"}),a.jsx(ie,{type:"submit",disabled:v.isPending||!m.formState.isValid,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:v.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):"Confirm"})]})]})})]})})]})}const kve=Ma({date:ge().min(1,"Date is required"),name:ge().min(1,"Name is required"),vehicleMakeModelYear:ge().min(1,"Vehicle Make/Model/Year is required"),licensePlate:ge().min(1,"License Plate is required"),returnDate:ge().min(1,"Return date is required")});function Pve(){const[t,e]=y.useState(""),[r,n]=y.useState(1),[s,i]=y.useState(!1),[,o]=wr(),{toast:l}=kr(),c=Wr(),[d,u]=y.useState(()=>{const N=localStorage.getItem("car_offboarding_limit");return N?parseInt(N):10});y.useEffect(()=>{localStorage.setItem("car_offboarding_limit",d.toString())},[d]),y.useEffect(()=>{n(1)},[t]);const{data:h,isLoading:f}=Ge({queryKey:["cars-offboarding-forms",t,r,d],placeholderData:Gl,queryFn:async()=>{const N=new URLSearchParams({page:r.toString(),limit:d.toString()});t&&N.append("search",t);const j=await fetch(je(`/api/cars/offboarding-forms?${N.toString()}`),{credentials:"include"});if(!j.ok){const b=await j.json().catch(()=>({error:"Database connection failed"}));throw new Error(b.error||"Failed to fetch cars for offboarding")}return j.json()},refetchInterval:3e4}),m=ts({resolver:rs(kve),defaultValues:{date:new Date().toISOString().split("T")[0],name:"",vehicleMakeModelYear:"",licensePlate:"",returnDate:new Date().toISOString().split("T")[0]}}),x=yt({mutationFn:async N=>{const j=await fetch(je("/api/cars/offboard"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(N)});if(!j.ok){const b=await j.json().catch(()=>({error:"Failed to offboard car"}));throw new Error(b.error||"Failed to offboard car")}return j.json()},onSuccess:()=>{c.invalidateQueries({queryKey:["cars-offboarding-forms"]}),c.invalidateQueries({queryKey:["/api/cars"]}),c.invalidateQueries({queryKey:["sidebar-badges"]}),i(!1),m.reset(),l({title:" Success",description:"Car offboarded successfully",duration:5e3})},onError:N=>{l({title:"Error",description:N.message||"Failed to offboard car",variant:"destructive"})}}),p=N=>{x.mutate(N)},v=h?.data||[],g=h?.pagination,w=N=>{N.clientId?o(`/admin/clients?id=${N.clientId}`):o(`/admin/clients?search=${encodeURIComponent(N.clientName)}`)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Car Off-boarding"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"View vehicles removed from the fleet"})]}),a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(ae,{type:"text",placeholder:"Search by name, email, phone, VIN, plate, or make/model...",value:t,onChange:N=>e(N.target.value),className:"pl-10 bg-[#1a1a1a] border-[#2a2a2a] text-foreground placeholder:text-gray-500"})]}),a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20",children:a.jsx(mt,{className:"p-0",children:f?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Gt,{className:"w-8 h-8 text-[#EAEB80] animate-spin"})}):v.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ao,{className:"w-full table-auto",children:[a.jsx(Co,{children:a.jsxs(zr,{className:"border-b border-[#1a1a1a]",children:[a.jsx(He,{className:"text-left text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:"Name"}),a.jsx(He,{className:"text-left text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden md:table-cell whitespace-nowrap",children:"Email"}),a.jsx(He,{className:"text-left text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden lg:table-cell whitespace-nowrap",children:"Phone"}),a.jsx(He,{className:"text-left text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:"Vehicle"}),a.jsx(He,{className:"text-left text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden xl:table-cell whitespace-nowrap",children:"VIN#"}),a.jsx(He,{className:"text-left text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden xl:table-cell whitespace-nowrap",children:"Plate #"}),a.jsx(He,{className:"text-left text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden lg:table-cell whitespace-nowrap",children:"Submitted"}),a.jsx(He,{className:"text-left text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:"Status"}),a.jsx(He,{className:"text-left text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden md:table-cell whitespace-nowrap",children:"Contract"}),a.jsx(He,{className:"text-left text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-2 sm:px-3 py-3 sm:py-4 hidden 2xl:table-cell whitespace-nowrap",children:"Car Offboarding Date"})]})}),a.jsx(ko,{children:v.map(N=>a.jsxs(zr,{className:_e("border-b border-[#1a1a1a] hover:bg-[#111111] transition-colors"),children:[a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-foreground text-xs sm:text-sm cursor-pointer max-w-[120px] truncate",onClick:()=>w(N),title:N.clientName,children:N.clientName}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm hidden md:table-cell max-w-[150px] truncate",title:N.clientEmail||"",children:N.clientEmail||""}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm hidden lg:table-cell max-w-[120px] truncate",title:N.clientPhone||"",children:N.clientPhone||""}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm max-w-[150px] truncate",title:N.carMakeModel,children:N.carMakeModel}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 font-mono text-xs hidden xl:table-cell max-w-[120px] truncate",title:N.vin||"",children:N.vin||""}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 font-mono text-xs hidden xl:table-cell max-w-[100px] truncate",title:N.licensePlate?N.licensePlate.toUpperCase():"",children:N.licensePlate?N.licensePlate.toUpperCase():""}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm hidden lg:table-cell whitespace-nowrap",children:new Date(N.createdAt).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Ot,{variant:"outline",className:_e("text-xs",N.status==="available"||N.status==="in_use"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"),children:N.status==="available"||N.status==="in_use"?"ACTIVE":"INACTIVE"})})}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 hidden md:table-cell whitespace-nowrap",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Ot,{variant:"outline",className:_e("text-xs",N.contractStatus==="signed"?"border-green-500/50 text-green-400 bg-green-500/10":N.contractStatus==="pending"?"border-yellow-500/50 text-yellow-400 bg-yellow-500/10":N.contractStatus==="sent"||N.contractStatus==="opened"?"border-blue-500/50 text-blue-400 bg-blue-500/10":N.contractStatus==="declined"?"border-red-500/50 text-red-400 bg-red-500/10":"bg-gray-800/50 text-gray-400 border-gray-700"),children:N.contractStatus?N.contractStatus.charAt(0).toUpperCase()+N.contractStatus.slice(1):"N/A"})})}),a.jsx(qe,{className:"text-center px-2 sm:px-3 py-3 sm:py-4 text-gray-300 text-xs sm:text-sm hidden 2xl:table-cell whitespace-nowrap",children:N.offboardAt?new Date(N.offboardAt).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):""})]},N.id))})]})})}),g&&a.jsx(Qu,{totalItems:g.total,itemsPerPage:d,currentPage:r,onPageChange:N=>{n(N),window.scrollTo({top:0,behavior:"smooth"})},onItemsPerPageChange:N=>{u(N),n(1)},isLoading:f})]}):a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("p",{className:"text-lg",children:"No records found"}),a.jsx("p",{className:"text-sm mt-2",children:t?"Try adjusting your search":"No cars have been offboarded yet"})]})})}),a.jsx($t,{open:s,onOpenChange:i,children:a.jsxs(Ft,{className:"bg-[#111111] border-[#EAEB80]/30 border-2 text-foreground max-w-2xl",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-2xl font-semibold text-[#EAEB80]",children:"Offboard Car"}),a.jsx(Ut,{className:"text-gray-400",children:"Remove a vehicle from the active fleet"})]}),a.jsx(Rs,{...m,children:a.jsxs("form",{onSubmit:m.handleSubmit(p),className:"space-y-6 mt-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{control:m.control,name:"date",render:({field:N})=>a.jsxs(Ce,{children:[a.jsxs(Ae,{className:"text-gray-300",children:["Date ",a.jsx("span",{className:"text-[#EAEB80]",children:"*"})]}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...N,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:m.control,name:"name",render:({field:N})=>a.jsxs(Ce,{children:[a.jsxs(Ae,{className:"text-gray-300",children:["Name ",a.jsx("span",{className:"text-[#EAEB80]",children:"*"})]}),a.jsx(Pe,{children:a.jsx(ae,{...N,placeholder:"Client full name",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]}),a.jsx(ke,{control:m.control,name:"vehicleMakeModelYear",render:({field:N})=>a.jsxs(Ce,{children:[a.jsxs(Ae,{className:"text-gray-300",children:["Vehicle Make/Model (Year)"," ",a.jsx("span",{className:"text-[#EAEB80]",children:"*"})]}),a.jsx(Pe,{children:a.jsx(ae,{...N,placeholder:"e.g., 2024 Lamborghini Urus",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{control:m.control,name:"licensePlate",render:({field:N})=>a.jsxs(Ce,{children:[a.jsxs(Ae,{className:"text-gray-300",children:["License Plate Number"," ",a.jsx("span",{className:"text-[#EAEB80]",children:"*"})]}),a.jsx(Pe,{children:a.jsx(ae,{...N,placeholder:"License plate number",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80] uppercase",style:{textTransform:"uppercase"}})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:m.control,name:"returnDate",render:({field:N})=>a.jsxs(Ce,{children:[a.jsxs(Ae,{className:"text-gray-300",children:["Vehicle Return Date"," ",a.jsx("span",{className:"text-[#EAEB80]",children:"*"})]}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...N,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ie,{type:"button",variant:"outline",onClick:()=>{i(!1),m.reset()},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Cancel"}),a.jsx(ie,{type:"submit",disabled:x.isPending||!m.formState.isValid,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:x.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Offboarding..."]}):"Confirm Offboarding"})]})]})})]})})]})}const Tve=Ma({date:ge().min(1,"Date is required"),name:ge().min(1,"Name is required").max(255),carId:ge().min(1,"Please select a car"),carMakeModelYear:ge().min(1,"Car Make/Model/Year is required").max(255),plateNumber:ge().min(1,"Plate number is required").max(50),dropOffDate:ge().min(1,"Drop-off date is required"),dropOffTime:ge().min(1,"Drop-off time is required"),dealershipAddress:ge().optional()});function Ove(){const[t,e]=y.useState(!1),{toast:r}=kr(),[n,s]=y.useState(""),{data:i}=Ge({queryKey:["/api/auth/me"],retry:!1}),{data:o,isLoading:l}=Ge({queryKey:["/api/client/cars","onboarding"],queryFn:async()=>{const h=await fetch(je("/api/client/cars?for=onboarding"),{credentials:"include"});if(!h.ok)throw new Error("Failed to fetch cars");const f=await h.json();return console.log(" [CAR ONBOARDING] Fetched cars:",f),console.log(" [CAR ONBOARDING] Number of cars:",f.data?.length||0),f.data&&f.data.length>0&&console.log(" [CAR ONBOARDING] Car IDs:",f.data.map(m=>m.id).join(", ")),f},enabled:!!i?.user}),c=o?.data||[],d=ts({resolver:rs(Tve),defaultValues:{date:new Date().toISOString().split("T")[0],name:"",carId:"",carMakeModelYear:"",plateNumber:"",dropOffDate:new Date().toISOString().split("T")[0],dropOffTime:"09:00",dealershipAddress:""}});y.useEffect(()=>{if(i?.user){const h=`${i.user.firstName} ${i.user.lastName}`;d.setValue("name",h)}},[i,d]),y.useEffect(()=>{if(n&&c){const h=c.find(f=>f.id.toString()===n);if(h){const f=h.year?`${h.makeModel} ${h.year}`:h.makeModel;d.setValue("carMakeModelYear",f),d.setValue("plateNumber",h.plateNumber||"N/A")}}},[n,c,d]);const u=async h=>{e(!0);try{const f=new Date(h.date).toISOString(),m=new Date(`${h.dropOffDate}T${h.dropOffTime}`).toISOString(),x={date:f,name:h.name,carMakeModelYear:h.carMakeModelYear,plateNumber:h.plateNumber,dropOffDate:m,carId:h.carId,dealershipAddress:h.dealershipAddress||""},p=await fetch(je("/api/car-onboarding/submit"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)});if(!p.ok){const w=await p.json().catch(()=>({error:"Submission failed"}));throw new Error(w.error||"Failed to submit form")}const v=await p.json();r({title:" Form Submitted Successfully",description:"Your car onboarding request has been submitted. We'll notify you once it's processed.",duration:5e3});const g=new Date;d.reset({date:g.toISOString().split("T")[0],name:i?.user?`${i.user.firstName} ${i.user.lastName}`:"",carId:"",carMakeModelYear:"",plateNumber:"",dropOffDate:g.toISOString().split("T")[0],dropOffTime:"09:00",dealershipAddress:""}),s("")}catch(f){console.error("Submission error:",f),r({title:"Submission Failed",description:f.message||"Please try again later.",variant:"destructive"})}finally{e(!1)}};return a.jsxs(ft,{className:"bg-[#111111] border-[#EAEB80]/20",children:[a.jsxs($r,{children:[a.jsxs(Gr,{className:"text-[#EAEB80] flex items-center gap-2",children:[a.jsx(hs,{className:"w-5 h-5"}),"Car On-boarding Form"]}),a.jsx(nl,{className:"text-gray-400",children:"Submit this form when dropping off your car to GLA for rental, maintenance, or onboarding into the fleet."})]}),a.jsx(mt,{children:a.jsx(Rs,{...d,children:a.jsxs("form",{onSubmit:d.handleSubmit(u),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{control:d.control,name:"date",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Date *"}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...h,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:d.control,name:"name",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Name *"}),a.jsx(Pe,{children:a.jsx(ae,{...h,placeholder:"Your full name",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",readOnly:!0})}),a.jsx(Te,{})]})})]}),a.jsx(ke,{control:d.control,name:"carId",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Select Your Car *"}),a.jsxs(tt,{onValueChange:f=>{h.onChange(f),s(f)},value:h.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select a car to drop off"})})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:l?a.jsx(xe,{value:"loading",disabled:!0,children:"Loading cars..."}):c&&c.length>0?c.map(f=>{const m=f.makeModel?`${f.makeModel}${f.plateNumber?` - ${f.plateNumber}`:" - No Plate"}`:`Car #${f.id}${f.plateNumber?` - ${f.plateNumber}`:""}`;return a.jsx(xe,{value:f.id.toString(),children:m},`car-${f.id}`)}):a.jsx(xe,{value:"no-cars",disabled:!0,children:"No offboarded cars available"})})]}),a.jsx(Te,{}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only showing offboarded cars (inactive/returned vehicles)"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ke,{control:d.control,name:"carMakeModelYear",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Car Make/Model/Year *"}),a.jsx(Pe,{children:a.jsx(ae,{...h,placeholder:"Select a car above to auto-fill",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",readOnly:!0})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:d.control,name:"plateNumber",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Plate Number *"}),a.jsx(Pe,{children:a.jsx(ae,{...h,placeholder:"Enter plate number or auto-filled from car",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80] uppercase",style:{textTransform:"uppercase"}})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:d.control,name:"dealershipAddress",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Address of Dealership"}),a.jsx(Pe,{children:a.jsx(ae,{...h,placeholder:"Enter dealership address (if applicable)",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{control:d.control,name:"dropOffDate",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Date of Car Drop-off *"}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...h,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:d.control,name:"dropOffTime",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Time of Car Drop-off *"}),a.jsx(Pe,{children:a.jsx(ae,{type:"time",...h,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]}),a.jsx(ie,{type:"submit",disabled:t||l,className:"w-full bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",children:t?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Form"})]})})})]})}const _ve=Ma({date:ge().min(1,"Date is required"),name:ge().min(1,"Name is required").max(255),carId:ge().min(1,"Please select a car"),carMakeModelYear:ge().min(1,"Car Make/Model/Year is required").max(255),plateNumber:ge().min(1,"Plate number is required").max(50),pickUpDate:ge().min(1,"Pick-up date is required"),pickUpTime:ge().min(1,"Pick-up time is required"),dealershipAddress:ge().optional()});function Rve(){const[t,e]=y.useState(!1),{toast:r}=kr(),[n,s]=y.useState(""),{data:i}=Ge({queryKey:["/api/auth/me"],retry:!1}),{data:o,isLoading:l}=Ge({queryKey:["/api/client/cars","offboarding"],queryFn:async()=>{const h=await fetch(je("/api/client/cars?for=offboarding"),{credentials:"include"});if(!h.ok)throw new Error("Failed to fetch cars");const f=await h.json();return console.log(" [CAR OFFBOARDING] Fetched cars:",f),console.log(" [CAR OFFBOARDING] Number of cars:",f.data?.length||0),f},enabled:!!i?.user}),c=o?.data||[],d=ts({resolver:rs(_ve),defaultValues:{date:new Date().toISOString().split("T")[0],name:"",carId:"",carMakeModelYear:"",plateNumber:"",pickUpDate:new Date().toISOString().split("T")[0],pickUpTime:"09:00",dealershipAddress:""}});y.useEffect(()=>{if(i?.user){const h=`${i.user.firstName} ${i.user.lastName}`;d.setValue("name",h)}},[i,d]),y.useEffect(()=>{if(n&&c){const h=c.find(f=>f.id.toString()===n);if(h){const f=h.year?`${h.makeModel} ${h.year}`:h.makeModel;d.setValue("carMakeModelYear",f),d.setValue("plateNumber",h.plateNumber||"N/A")}}},[n,c,d]);const u=async h=>{e(!0);try{const f=new Date(h.date).toISOString(),m=new Date(`${h.pickUpDate}T${h.pickUpTime}`).toISOString(),x={date:f,name:h.name,carMakeModelYear:h.carMakeModelYear,plateNumber:h.plateNumber,pickUpDate:m,carId:h.carId,dealershipAddress:h.dealershipAddress||""},p=await fetch(je("/api/car-offboarding/submit"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)});if(!p.ok){const w=await p.json().catch(()=>({error:"Submission failed"}));throw new Error(w.error||"Failed to submit form")}const v=await p.json();r({title:" Form Submitted Successfully",description:"Your car offboarding request has been submitted. We'll notify you once it's processed.",duration:5e3});const g=new Date;d.reset({date:g.toISOString().split("T")[0],name:i?.user?`${i.user.firstName} ${i.user.lastName}`:"",carId:"",carMakeModelYear:"",plateNumber:"",pickUpDate:g.toISOString().split("T")[0],pickUpTime:"09:00",dealershipAddress:""}),s("")}catch(f){console.error("Submission error:",f),r({title:"Submission Failed",description:f.message||"Please try again later.",variant:"destructive"})}finally{e(!1)}};return a.jsxs(ft,{className:"bg-[#111111] border-[#EAEB80]/20",children:[a.jsxs($r,{children:[a.jsxs(Gr,{className:"text-[#EAEB80] flex items-center gap-2",children:[a.jsx(CP,{className:"w-5 h-5"}),"Car Off-boarding Form"]}),a.jsx(nl,{className:"text-gray-400",children:"Submit this form when requesting your car back from GLA (end of rental or off-boarding from the fleet)."})]}),a.jsx(mt,{children:a.jsx(Rs,{...d,children:a.jsxs("form",{onSubmit:d.handleSubmit(u),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{control:d.control,name:"date",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Date *"}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...h,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:d.control,name:"name",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Name *"}),a.jsx(Pe,{children:a.jsx(ae,{...h,placeholder:"Your full name",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",readOnly:!0})}),a.jsx(Te,{})]})})]}),a.jsx(ke,{control:d.control,name:"carId",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Select Car to Pick Up *"}),a.jsxs(tt,{onValueChange:f=>{h.onChange(f),s(f)},value:h.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select a car to pick up"})})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:l?a.jsx(xe,{value:"loading",disabled:!0,children:"Loading cars..."}):c&&c.length>0?c.map(f=>{const m=f.makeModel?`${f.makeModel}${f.plateNumber?` - ${f.plateNumber}`:" - No Plate"}`:`Car #${f.id}${f.plateNumber?` - ${f.plateNumber}`:""}`;return a.jsx(xe,{value:f.id.toString(),children:m},`car-${f.id}`)}):a.jsx(xe,{value:"no-cars",disabled:!0,children:"No active cars available for pick-up"})})]}),a.jsx(Te,{}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only showing cars currently with GLA (on-boarded status)"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ke,{control:d.control,name:"carMakeModelYear",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Car Make/Model/Year *"}),a.jsx(Pe,{children:a.jsx(ae,{...h,placeholder:"Select a car above to auto-fill",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",readOnly:!0})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:d.control,name:"plateNumber",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Plate Number *"}),a.jsx(Pe,{children:a.jsx(ae,{...h,placeholder:"Enter plate number or auto-filled from car",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80] uppercase",style:{textTransform:"uppercase"}})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:d.control,name:"dealershipAddress",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Address of Dealership"}),a.jsx(Pe,{children:a.jsx(ae,{...h,placeholder:"Enter dealership address (if applicable)",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{control:d.control,name:"pickUpDate",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Pick-up Date *"}),a.jsx(Pe,{children:a.jsx(ae,{type:"date",...h,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:d.control,name:"pickUpTime",render:({field:h})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-300",children:"Pick-up Time *"}),a.jsx(Pe,{children:a.jsx(ae,{type:"time",...h,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]}),a.jsx(ie,{type:"submit",disabled:t||l||c.length===0,className:"w-full bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",children:t?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Form"})]})})})]})}var Ive=Object.defineProperty,Mb=Object.getOwnPropertySymbols,bH=Object.prototype.hasOwnProperty,wH=Object.prototype.propertyIsEnumerable,P4=(t,e,r)=>e in t?Ive(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fve=(t,e)=>{for(var r in e||(e={}))bH.call(e,r)&&P4(t,r,e[r]);if(Mb)for(var r of Mb(e))wH.call(e,r)&&P4(t,r,e[r]);return t},Dve=(t,e)=>{var r={};for(var n in t)bH.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Mb)for(var n of Mb(t))e.indexOf(n)<0&&wH.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var _u;(t=>{const e=class{constructor(c,d,u,h){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<e.MIN_VERSION||c>e.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let f=[];for(let x=0;x<this.size;x++)f.push(!1);for(let x=0;x<this.size;x++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(u);if(this.drawCodewords(m),h==-1){let x=1e9;for(let p=0;p<8;p++){this.applyMask(p),this.drawFormatBits(p);const v=this.getPenaltyScore();v<x&&(h=p,x=v),this.applyMask(p)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,d){const u=t.QrSegment.makeSegments(c);return e.encodeSegments(u,d)}static encodeBinary(c,d){const u=t.QrSegment.makeBytes(c);return e.encodeSegments([u],d)}static encodeSegments(c,d,u=1,h=40,f=-1,m=!0){if(!(e.MIN_VERSION<=u&&u<=h&&h<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let x,p;for(x=u;;x++){const N=e.getNumDataCodewords(x,d)*8,j=l.getTotalBits(c,x);if(j<=N){p=j;break}if(x>=h)throw new RangeError("Data too long")}for(const N of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])m&&p<=e.getNumDataCodewords(x,N)*8&&(d=N);let v=[];for(const N of c){n(N.mode.modeBits,4,v),n(N.numChars,N.mode.numCharCountBits(x),v);for(const j of N.getData())v.push(j)}i(v.length==p);const g=e.getNumDataCodewords(x,d)*8;i(v.length<=g),n(0,Math.min(4,g-v.length),v),n(0,(8-v.length%8)%8,v),i(v.length%8==0);for(let N=236;v.length<g;N^=253)n(N,8,v);let w=[];for(;w.length*8<v.length;)w.push(0);return v.forEach((N,j)=>w[j>>>3]|=N<<7-(j&7)),new e(x,d,w,f)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let h=0;h<d;h++)u==0&&h==0||u==0&&h==d-1||u==d-1&&h==0||this.drawAlignmentPattern(c[u],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const h=(d<<10|u)^21522;i(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,s(h,f));this.setFunctionModule(8,7,s(h,6)),this.setFunctionModule(8,8,s(h,7)),this.setFunctionModule(7,8,s(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,s(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,s(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,s(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;i(d>>>18==0);for(let u=0;u<18;u++){const h=s(d,u),f=this.size-11+u%3,m=Math.floor(u/3);this.setFunctionModule(f,m,h),this.setFunctionModule(m,f,h)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(u)),m=c+h,x=d+u;0<=m&&m<this.size&&0<=x&&x<this.size&&this.setFunctionModule(m,x,f!=2&&f!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,d+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=e.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const h=e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],f=e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],m=Math.floor(e.getNumRawDataModules(d)/8),x=h-m%h,p=Math.floor(m/h);let v=[];const g=e.reedSolomonComputeDivisor(f);for(let N=0,j=0;N<h;N++){let b=c.slice(j,j+p-f+(N<x?0:1));j+=b.length;const S=e.reedSolomonComputeRemainder(b,g);N<x&&b.push(0),v.push(b.concat(S))}let w=[];for(let N=0;N<v[0].length;N++)v.forEach((j,b)=>{(N!=p-f||b>=x)&&w.push(j[N])});return i(w.length==m),w}drawCodewords(c){if(c.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const m=u-f,p=(u+1&2)==0?this.size-1-h:h;!this.isFunction[p][m]&&d<c.length*8&&(this.modules[p][m]=s(c[d>>>3],7-(d&7)),d++)}}i(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let h;switch(c){case 0:h=(u+d)%2==0;break;case 1:h=d%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+d)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:h=u*d%2+u*d%3==0;break;case 6:h=(u*d%2+u*d%3)%2==0;break;case 7:h=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&h&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let f=0;f<this.size;f++){let m=!1,x=0,p=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[f][v]==m?(x++,x==5?c+=e.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,p),m||(c+=this.finderPenaltyCountPatterns(p)*e.PENALTY_N3),m=this.modules[f][v],x=1);c+=this.finderPenaltyTerminateAndCount(m,x,p)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let m=!1,x=0,p=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][f]==m?(x++,x==5?c+=e.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,p),m||(c+=this.finderPenaltyCountPatterns(p)*e.PENALTY_N3),m=this.modules[v][f],x=1);c+=this.finderPenaltyTerminateAndCount(m,x,p)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let m=0;m<this.size-1;m++){const x=this.modules[f][m];x==this.modules[f][m+1]&&x==this.modules[f+1][m]&&x==this.modules[f+1][m+1]&&(c+=e.PENALTY_N2)}let d=0;for(const f of this.modules)d=f.reduce((m,x)=>m+(x?1:0),d);const u=this.size*this.size,h=Math.ceil(Math.abs(d*20-u*10)/u)-1;return i(0<=h&&h<=9),c+=h*e.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let h=this.size-7;u.length<c;h-=d)u.splice(1,0,h);return u}}static getNumRawDataModules(c){if(c<e.MIN_VERSION||c>e.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(e.getNumRawDataModules(c)/8)-e.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*e.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let h=0;h<c-1;h++)d.push(0);d.push(1);let u=1;for(let h=0;h<c;h++){for(let f=0;f<d.length;f++)d[f]=e.reedSolomonMultiply(d[f],u),f+1<d.length&&(d[f]^=d[f+1]);u=e.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(h=>0);for(const h of c){const f=h^u.shift();u.push(0),d.forEach((m,x)=>u[x]^=e.reedSolomonMultiply(m,f))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(d>>>h&1)*c;return i(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];i(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};let r=e;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function n(c,d,u){if(d<0||d>31||c>>>d)throw new RangeError("Value out of range");for(let h=d-1;h>=0;h--)u.push(c>>>h&1)}function s(c,d){return(c>>>d&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const o=class{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)n(u,8,d);return new o(o.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!o.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const h=Math.min(c.length-u,3);n(parseInt(c.substr(u,h),10),h*3+1,d),u+=h}return new o(o.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!o.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let h=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;h+=o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),n(h,11,d)}return u<c.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new o(o.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:o.isNumeric(c)?[o.makeNumeric(c)]:o.isAlphanumeric(c)?[o.makeAlphanumeric(c)]:[o.makeBytes(o.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,d)}static isNumeric(c){return o.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return o.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const h of c){const f=h.mode.numCharCountBits(d);if(h.numChars>=1<<f)return 1/0;u+=4+f+h.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substr(u+1,2),16)),u+=2);return d}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=l})(_u||(_u={}));(t=>{(e=>{const r=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(_u||(_u={}));(t=>{(e=>{const r=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(_u||(_u={}));var Bp=_u;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Mve={L:Bp.QrCode.Ecc.LOW,M:Bp.QrCode.Ecc.MEDIUM,Q:Bp.QrCode.Ecc.QUARTILE,H:Bp.QrCode.Ecc.HIGH},Lve=128,Bve="L",$ve="#FFFFFF",Uve="#000000",Vve=!1,jH=4,zve=.1;function Wve(t,e=0){const r=[];return t.forEach(function(n,s){let i=null;n.forEach(function(o,l){if(!o&&i!==null){r.push(`M${i+e} ${s+e}h${l-i}v1H${i+e}z`),i=null;return}if(l===n.length-1){if(!o)return;i===null?r.push(`M${l+e},${s+e} h1v1H${l+e}z`):r.push(`M${i+e},${s+e} h${l+1-i}v1H${i+e}z`);return}o&&i===null&&(i=l)})}),r.join("")}function qve(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function Hve(t,e,r,n){if(n==null)return null;const s=r?jH:0,i=t.length+s*2,o=Math.floor(e*zve),l=i/e,c=(n.width||o)*l,d=(n.height||o)*l,u=n.x==null?t.length/2-c/2:n.x*l,h=n.y==null?t.length/2-d/2:n.y*l;let f=null;if(n.excavate){let m=Math.floor(u),x=Math.floor(h),p=Math.ceil(c+u-m),v=Math.ceil(d+h-x);f={x:m,y:x,w:p,h:v}}return{x:u,y:h,h:d,w:c,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function Gve(t){const e=t,{value:r,size:n=Lve,level:s=Bve,bgColor:i=$ve,fgColor:o=Uve,includeMargin:l=Vve,imageSettings:c}=e,d=Dve(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=Bp.QrCode.encodeText(r,Mve[s]).getModules();const h=l?jH:0,f=u.length+h*2,m=Hve(u,n,l,c);let x=null;c!=null&&m!=null&&(m.excavation!=null&&(u=qve(u,m.excavation)),x=ve.createElement("image",{xlinkHref:c.src,height:m.h,width:m.w,x:m.x+h,y:m.y+h,preserveAspectRatio:"none"}));const p=Wve(u,h);return ve.createElement("svg",Fve({height:n,width:n,viewBox:`0 0 ${f} ${f}`},d),ve.createElement("path",{fill:i,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),ve.createElement("path",{fill:o,d:p,shapeRendering:"crispEdges"}),x)}function Kve(){const t=y.useRef(null),{toast:e}=kr(),r=typeof window<"u"?`${window.location.origin}/onboarding`:"/onboarding",n=async o=>{if(navigator.clipboard?.writeText){await navigator.clipboard.writeText(o);return}const l=document.createElement("textarea");l.value=o,l.setAttribute("readonly",""),l.style.position="fixed",l.style.left="-9999px",document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l)},s=async()=>{try{await n(r),e({title:"Link copied",description:"Onboarding form URL copied to clipboard."})}catch(o){console.error("Failed to copy onboarding link:",o),e({title:"Copy failed",description:"Could not copy the link. Please copy it manually.",variant:"destructive"})}},i=()=>{if(!t.current)return;const o=t.current.querySelector("svg");if(o)try{const l=new XMLSerializer().serializeToString(o),c=document.createElement("canvas"),d=c.getContext("2d");if(!d)return;const u=new Image,h=new Blob([l],{type:"image/svg+xml;charset=utf-8"}),f=URL.createObjectURL(h);u.onload=()=>{c.width=u.width*2,c.height=u.height*2,d.fillStyle="#FFFFFF",d.fillRect(0,0,c.width,c.height),d.drawImage(u,0,0,c.width,c.height),c.toBlob(x=>{if(x){const p=URL.createObjectURL(x),v=document.createElement("a");v.href=p,v.download="Golden-Luxury-Auto-Onboarding-QR.png",document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(p),e({title:"QR Code downloaded",description:"The QR code has been saved to your downloads."})}URL.revokeObjectURL(f)},"image/png")},u.onerror=()=>{URL.revokeObjectURL(f),e({title:"Download failed",description:"Failed to generate QR code image.",variant:"destructive"})},u.src=f}catch(l){console.error("Error downloading QR code:",l),e({title:"Download failed",description:"An error occurred while downloading the QR code.",variant:"destructive"})}};return a.jsx(ft,{className:"bg-[#0a0a0a] border-[#EAEB80]/30 border-2",children:a.jsx(mt,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-start",children:[a.jsxs("div",{className:"flex-1 flex flex-col items-center lg:items-start",children:[a.jsxs("div",{className:"mb-4 text-center lg:text-left",children:[a.jsx("h2",{className:"text-xl font-semibold text-[#EAEB80] mb-2",children:"Client Onboarding Form LYC"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Fill out for new clients or share the QR code for them to complete"})]}),a.jsx("div",{ref:t,className:"bg-white p-4 rounded-lg shadow-lg mb-4",children:a.jsx(Gve,{value:r,size:200,level:"H",includeMargin:!1})}),a.jsxs(ie,{onClick:i,variant:"outline",className:"w-full lg:w-auto border-[#EAEB80]/50 text-[#EAEB80] hover:bg-[#EAEB80]/10 hover:border-[#EAEB80]",children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Download QR Code"]})]}),a.jsx("div",{className:"flex-1 flex flex-col justify-center items-center lg:items-start",children:a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Share with New Clients"}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Send the onboarding form link directly to your clients via email, SMS, or messaging apps."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full items-stretch",children:[a.jsxs(ie,{onClick:s,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium w-full sm:w-auto whitespace-nowrap",children:[a.jsx(Ote,{className:"w-4 h-4 mr-2"}),"Click to Copy the Link"]}),a.jsx(ae,{value:r,readOnly:!0,className:"bg-[#0f0f0f] border-[#2a2a2a] text-[#EAEB80] w-full",onFocus:o=>o.currentTarget.select()})]})]})})]})})})}function Xve(){const[t,e]=y.useState(["client-onboarding"]),[r,n]=y.useState([]),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,d]=y.useState(!1),[u,h]=y.useState(!1),[f,m]=y.useState(!1),[x,p]=y.useState(!1),[v,g]=y.useState(""),[w,N]=y.useState(null),[j,b]=y.useState(null),[S,A]=y.useState(null),[E,P]=y.useState(null),[O,k]=y.useState([]),[L,R]=y.useState([]),[_,B]=y.useState(1),[I,C]=y.useState(()=>{const ue=localStorage.getItem("submissions_limit");return ue?parseInt(ue):10});y.useEffect(()=>{localStorage.setItem("submissions_limit",I.toString())},[I]);const{toast:D}=kr(),W=Wr(),{data:K}=Ge({queryKey:["/api/admin/form-visibility"],queryFn:async()=>{const ue=await fetch(je("/api/admin/form-visibility"),{credentials:"include"});if(!ue.ok)throw new Error("Failed to fetch form visibility");return ue.json()},retry:!1}),H=ue=>{e(Y=>Y.includes(ue)?Y.filter(V=>V!==ue):[...Y,ue])},G=ue=>{(ue==="lyc"||ue==="contract"||ue==="car-on"||ue==="car-off")&&n(Y=>Y.includes(ue)?Y.filter(V=>V!==ue):[...Y,ue])},{data:ee,isLoading:Q,error:te}=Ge({queryKey:["onboarding-submissions",s,_,I],placeholderData:Gl,queryFn:async()=>{const ue=new URLSearchParams({page:_.toString(),limit:I.toString()});s&&ue.append("search",s);const Y=je(`/api/onboarding/submissions?${ue.toString()}`);console.log(" [FORMS PAGE] Fetching submissions from:",Y);const V=await fetch(Y,{credentials:"include"});if(console.log(" [FORMS PAGE] Response status:",V.status,V.statusText),!V.ok){const X=await V.json().catch(()=>({error:"Failed to fetch submissions"}));throw console.error(" [FORMS PAGE] API error:",X),new Error(X.error||`Failed to fetch submissions: ${V.status} ${V.statusText}`)}return await V.json()},enabled:r.includes("lyc"),retry:1,refetchInterval:8e3,refetchOnWindowFocus:!0}),U=y.useRef(new Set);y.useEffect(()=>{if(!ee?.data)return;const ue=new Set(ee.data.filter(V=>V.contractStatus==="signed").map(V=>V.id)),Y=U.current;Y.size>0&&Array.from(ue).filter($=>!Y.has($)).forEach($=>{const X=ee.data.find(me=>me.id===$);X&&D({title:" New Contract Signed!",description:`${X.firstNameOwner} ${X.lastNameOwner} has signed their contract.`,duration:5e3})}),U.current=ue},[ee?.data]);const q=yt({mutationFn:async({id:ue,action:Y,reason:V})=>{const $=await fetch(je(`/api/onboarding/submissions/${ue}/${Y}`),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:V})});if(!$.ok){const X=await $.json().catch(()=>({error:`Failed to ${Y} submission`}));throw new Error(X.error||`Failed to ${Y} submission`)}return $.json()},onSuccess:(ue,Y)=>{Y.action==="approve"?D({title:" Submission Approved",description:"Email and Slack notifications sent. Status updated."}):D({title:"Submission Declined",description:"Email and Slack notifications sent. Status updated."}),p(!1),g(""),N(null),W.invalidateQueries({queryKey:["onboarding-submissions"]}),W.invalidateQueries({queryKey:["/api/cars"]}),W.invalidateQueries({queryKey:["sidebar-badges"]})},onError:(ue,Y)=>{D({title:"Error",description:ue.message,variant:"destructive"})}}),{data:ne}=Ge({queryKey:["onboarding-submission",o?.id],queryFn:async()=>{const ue=await fetch(je(`/api/onboarding/submissions/${o?.id}`),{credentials:"include"});if(!ue.ok)throw new Error("Failed to fetch submission details");return ue.json()},enabled:!!o?.id&&c}),fe=async ue=>{l(ue),h(!1),d(!0),A(null),P(null),k([]),R([])};yt({mutationFn:async ue=>{const Y=new FormData;S&&Y.append("insuranceCard",S),O.length>0&&O.forEach($=>{Y.append("driversLicense",$)});const V=await fetch(je(`/api/onboarding/submissions/${ue}/documents`),{method:"PUT",body:Y,credentials:"include"});if(!V.ok){const $=await V.json();throw new Error($.message||"Failed to update documents")}return V.json()},onSuccess:()=>{D({title:"Success",description:"Documents updated successfully"}),A(null),P(null),k([]),R([]),W.invalidateQueries({queryKey:["onboarding-submission",o?.id]}),W.invalidateQueries({queryKey:["/api/onboarding/submissions"]})},onError:ue=>{D({title:"Error",description:ue.message||"Failed to update documents",variant:"destructive"})}});const pe=yt({mutationFn:async ue=>{const Y=await fetch(je(`/api/onboarding/submissions/${ue}/log-access`),{method:"POST",credentials:"include"});if(!Y.ok)throw new Error("Failed to log access");return Y.json()},onSuccess:()=>{h(!0),m(!1)},onError:ue=>{D({title:"Error",description:ue.message||"Failed to log access",variant:"destructive"})}}),ye=()=>{m(!0)},Z=()=>{o?.id&&pe.mutate(o.id)},Ne=ue=>{if(!ue)return"Not provided";try{const Y=new Date(ue),V=new Date,$=V.getFullYear()-Y.getFullYear(),X=V.getMonth()-Y.getMonth();return X<0||X===0&&V.getDate()<Y.getDate()?`Age ${$-1}`:`Age ${$}`}catch{const Y=ue.match(/\d{4}/);return Y?`Birth Year: ${Y[0]}`:"Not provided"}},J=ue=>ue?u?ue:ue.length>=4?`--${ue.slice(-4)}`:"--":"Not provided",le=ue=>ue?u?ue:ue.length>=3?`${ue.slice(-3)}`:"":"Not provided",De=(()=>{const ue=[{id:"lyc",title:"Client Onboarding Form LYC",icon:Ln},{id:"contract",title:"Contract / Agreement",icon:Ln},{id:"car-on",title:"Car On-boarding",icon:hs},{id:"car-off",title:"Car Off-boarding",icon:CP}];if(K?.isAdmin)return[{id:"client-onboarding",title:"Client Onboarding Form",icon:eb,items:ue}];const Y=ue.map(V=>{const X={lyc:"Client Onboarding Form LYC",contract:"Contract / Agreement","car-on":"Car On-boarding","car-off":"Car Off-boarding"}[V.id];if(!X)return null;const me=K?.formVisibility?.[X];return!me||!me.isVisible?null:{...V,externalUrl:me.externalUrl??null}}).filter(V=>V!==null);return[{id:"client-onboarding",title:"Client Onboarding Form",icon:eb,items:Y}]})();return a.jsxs(jt,{children:[a.jsx("div",{className:"space-y-6 max-w-full",children:a.jsx(ft,{className:"bg-[#111111] border-[#EAEB80]/20 max-w-full overflow-hidden",children:a.jsx(mt,{className:"p-0 max-w-full overflow-hidden",children:De.map(ue=>{const Y=ue.icon,V=t.includes(ue.id);return a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>H(ue.id),className:"w-full flex items-center justify-between px-5 py-4 hover:bg-[#1a1a1a] transition-colors","data-testid":`button-section-${ue.id}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Y,{className:"w-5 h-5 text-[#EAEB80]"}),a.jsx("span",{className:"text-foreground font-medium",children:ue.title})]}),V?a.jsx(ol,{className:"w-5 h-5 text-gray-400"}):a.jsx(pa,{className:"w-5 h-5 text-gray-400"})]}),V&&a.jsx("div",{className:"bg-[#0d0d0d] max-w-full",children:ue.items.map($=>{const X=$.icon,me=r.includes($.id),z=($.id==="lyc"||$.id==="contract"||$.id==="car-on"||$.id==="car-off")&&!$.comingSoon;return a.jsxs("div",{children:[$.externalUrl?a.jsxs("a",{href:$.externalUrl,target:"_blank",rel:"noopener noreferrer",className:_e("w-full flex items-center justify-between px-5 py-3.5 transition-colors border-t border-[#1a1a1a]","hover:bg-[#1a1a1a] cursor-pointer"),"data-testid":`button-form-${$.id}`,children:[a.jsxs("div",{className:"flex items-center gap-3 pl-6",children:[a.jsx(X,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{className:"text-sm text-[#EAEB80]",children:$.title}),a.jsx(Ar,{className:"w-3 h-3 text-gray-500 ml-1"})]}),a.jsx(pa,{className:"w-4 h-4 text-gray-500"})]}):a.jsxs("button",{className:_e("w-full flex items-center justify-between px-5 py-3.5 transition-colors border-t border-[#1a1a1a]",$.comingSoon?"cursor-default":"hover:bg-[#1a1a1a] cursor-pointer"),disabled:$.comingSoon,onClick:()=>z&&G($.id),"data-testid":`button-form-${$.id}`,children:[a.jsxs("div",{className:"flex items-center gap-3 pl-6",children:[a.jsx(X,{className:_e("w-4 h-4",$.comingSoon?"text-gray-600":"text-[#EAEB80]")}),a.jsx("span",{className:_e("text-sm",$.comingSoon?"text-gray-600":"text-[#EAEB80]"),children:$.title}),$.comingSoon&&a.jsx(Ot,{variant:"outline",className:"bg-gray-800/50 text-gray-500 border-gray-700 text-xs ml-2",children:"Coming soon"})]}),z?me?a.jsx(ol,{className:"w-4 h-4 text-gray-500"}):a.jsx(pa,{className:"w-4 h-4 text-gray-500"}):a.jsx(pa,{className:_e("w-4 h-4",$.comingSoon?"text-gray-700":"text-gray-500")})]}),me&&$.id==="contract"&&a.jsx("div",{className:"bg-[#050505] border-t border-[#1a1a1a] px-5 py-4",children:a.jsx(Sve,{})}),me&&$.id==="car-on"&&a.jsx("div",{className:"bg-[#050505] border-t border-[#1a1a1a] px-3 sm:px-5 py-4 space-y-6 max-w-full",children:K?.isAdmin||K?.isEmployee?a.jsx(Cve,{}):a.jsx(Ove,{})}),me&&$.id==="car-off"&&a.jsx("div",{className:"bg-[#050505] border-t border-[#1a1a1a] px-3 sm:px-5 py-4 space-y-6 max-w-full",children:K?.isAdmin||K?.isEmployee?a.jsx(Pve,{}):a.jsx(Rve,{})}),me&&$.id==="lyc"&&a.jsxs("div",{className:"bg-[#050505] border-t border-[#1a1a1a] px-3 sm:px-5 py-4 space-y-6 max-w-full",children:[a.jsx(Kve,{}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"Recent Submissions"}),a.jsxs("div",{className:"relative",children:[a.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),a.jsx(ae,{type:"text",placeholder:"Search by name, email, phone, or vehicle...",value:s,onChange:T=>i(T.target.value),className:"pl-10 bg-[#111111] border-[#1a1a1a] text-foreground placeholder:text-gray-600"})]})]}),Q?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Gt,{className:"w-6 h-6 text-[#EAEB80] animate-spin"})}):te?a.jsxs("div",{className:"text-center py-8 text-red-400",children:[a.jsx("p",{className:"mb-2",children:"Error loading submissions"}),a.jsx("p",{className:"text-sm text-gray-500",children:te.message})]}):ee?.data&&ee.data.length>0?a.jsxs("div",{className:"w-full overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm table-auto",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[#1a1a1a]",children:[a.jsx("th",{className:"text-left py-3 px-2 sm:px-3 text-gray-400 font-medium text-xs whitespace-nowrap",children:"Name"}),a.jsx("th",{className:"text-left py-3 px-2 sm:px-3 text-gray-400 font-medium text-xs hidden md:table-cell whitespace-nowrap",children:"Email"}),a.jsx("th",{className:"text-left py-3 px-2 sm:px-3 text-gray-400 font-medium text-xs hidden lg:table-cell whitespace-nowrap",children:"Phone"}),a.jsx("th",{className:"text-left py-3 px-2 sm:px-3 text-gray-400 font-medium text-xs whitespace-nowrap",children:"Vehicle"}),a.jsx("th",{className:"text-left py-3 px-2 sm:px-3 text-gray-400 font-medium text-xs hidden xl:table-cell whitespace-nowrap",children:"VIN#"}),a.jsx("th",{className:"text-left py-3 px-2 sm:px-3 text-gray-400 font-medium text-xs hidden xl:table-cell whitespace-nowrap",children:"Plate #"}),a.jsx("th",{className:"text-left py-3 px-2 sm:px-3 text-gray-400 font-medium text-xs hidden lg:table-cell whitespace-nowrap",children:"Submitted"}),a.jsx("th",{className:"text-left py-3 px-2 sm:px-3 text-gray-400 font-medium text-xs whitespace-nowrap",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-2 sm:px-3 text-gray-400 font-medium text-xs hidden md:table-cell whitespace-nowrap",children:"Contract"}),a.jsx("th",{className:"text-left py-3 px-2 sm:px-3 text-gray-400 font-medium text-xs hidden 2xl:table-cell whitespace-nowrap",children:"Car Onboarding Date"}),a.jsx("th",{className:"text-left py-3 px-2 sm:px-3 text-gray-400 font-medium text-xs hidden 2xl:table-cell whitespace-nowrap",children:"Car Offboarding Date"}),a.jsx("th",{className:"text-left py-3 px-2 sm:px-3 text-gray-400 font-medium text-xs whitespace-nowrap",children:"Actions"})]})}),a.jsx("tbody",{children:ee.data.map(T=>a.jsxs("tr",{className:"border-b border-[#1a1a1a] hover:bg-[#111111] transition-colors",children:[a.jsxs("td",{className:"py-3 px-2 sm:px-3 text-foreground text-xs sm:text-sm max-w-[120px] truncate",title:`${T.firstNameOwner} ${T.lastNameOwner}`,children:[T.firstNameOwner," ",T.lastNameOwner]}),a.jsx("td",{className:"py-3 px-2 sm:px-3 text-gray-300 text-xs sm:text-sm hidden md:table-cell max-w-[150px] truncate",title:T.emailOwner,children:T.emailOwner}),a.jsx("td",{className:"py-3 px-2 sm:px-3 text-gray-300 text-xs sm:text-sm hidden lg:table-cell max-w-[120px] truncate",title:T.phoneOwner,children:T.phoneOwner}),a.jsxs("td",{className:"py-3 px-2 sm:px-3 text-gray-300 text-xs sm:text-sm max-w-[150px] truncate",title:`${T.vehicleMake} ${T.vehicleModel} ${T.vehicleYear}`,children:[T.vehicleMake," ",T.vehicleModel," ",T.vehicleYear]}),a.jsx("td",{className:"py-3 px-2 sm:px-3 text-gray-300 font-mono text-xs hidden xl:table-cell max-w-[120px] truncate",title:T.vinNumber||"N/A",children:T.vinNumber||a.jsx("span",{className:"text-gray-500",children:"N/A"})}),a.jsx("td",{className:"py-3 px-2 sm:px-3 text-gray-300 font-mono text-xs hidden xl:table-cell max-w-[100px] truncate",title:T.licensePlate||"N/A",children:T.licensePlate||a.jsx("span",{className:"text-gray-500",children:"N/A"})}),a.jsx("td",{className:"py-3 px-2 sm:px-3 text-gray-400 text-xs sm:text-sm hidden lg:table-cell whitespace-nowrap",children:new Date(T.createdAt).toLocaleDateString()}),a.jsx("td",{className:"py-3 px-2 sm:px-3 whitespace-nowrap",children:a.jsx(Ot,{variant:"outline",className:_e("text-xs",T.status==="pending"?"border-yellow-500/50 text-yellow-500 bg-yellow-500/10":T.status==="approved"?"border-green-500/50 text-green-500 bg-green-500/10":T.status==="rejected"?"border-red-500/50 text-red-500 bg-red-500/10":"border-gray-500/50 text-gray-500 bg-gray-500/10"),children:T.status||"pending"})}),a.jsx("td",{className:"py-3 px-2 sm:px-3 hidden md:table-cell whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[T.contractStatus==="sent"&&a.jsx(Ot,{variant:"outline",className:"border-blue-500/50 text-blue-400 bg-blue-500/10 text-xs",children:"Sent"}),T.contractStatus==="opened"&&a.jsx(Ot,{variant:"outline",className:"border-yellow-500/50 text-yellow-400 bg-yellow-500/10 text-xs",children:"Opened"}),T.contractStatus==="signed"&&a.jsxs(a.Fragment,{children:[a.jsx(Ot,{variant:"outline",className:"border-green-500/50 text-green-400 bg-green-500/10 text-xs",children:"Signed"}),a.jsxs(ie,{size:"sm",variant:"outline",className:"h-7 px-2 bg-green-500/10 border-green-500/30 text-green-400 hover:bg-green-500/20",onClick:()=>{window.open(je(`/api/contracts/${T.id}/view`),"_blank")},children:[a.jsx(Ar,{className:"w-3 h-3 mr-1"}),"View PDF"]})]}),T.contractStatus==="declined"&&a.jsx(Ot,{variant:"outline",className:"border-red-500/50 text-red-400 bg-red-500/10 text-xs",children:"Declined"}),(!T.contractStatus||T.contractStatus==="pending")&&a.jsx(Ot,{variant:"outline",className:"bg-gray-800/50 text-gray-400 border-gray-700 text-xs",children:"Not Sent"})]})}),a.jsx("td",{className:"py-3 px-2 sm:px-3 text-gray-300 text-xs sm:text-sm hidden 2xl:table-cell whitespace-nowrap",children:T.contractSignedAt?new Date(T.contractSignedAt).toLocaleDateString():a.jsx("span",{className:"text-gray-500",children:"Not signed"})}),a.jsx("td",{className:"py-3 px-2 sm:px-3 text-gray-300 text-xs sm:text-sm hidden 2xl:table-cell whitespace-nowrap",children:T.carOffboardAt?new Date(T.carOffboardAt).toLocaleDateString():a.jsx("span",{className:"text-gray-500",children:"N/A"})}),a.jsx("td",{className:"py-3 px-2 sm:px-3 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-gray-800",onClick:()=>fe(T),title:"View Details",children:a.jsx(_s,{className:"w-4 h-4 text-gray-400 hover:text-foreground"})}),a.jsx(ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-[#d4af37]",onClick:()=>{q.mutate({id:T.id,action:"approve"})},disabled:T.contractStatus!=="signed"&&T.contractStatus!==null&&T.contractStatus!==void 0||T.status==="approved"||T.status==="rejected"||q.isPending,title:T.contractStatus!=="signed"&&T.contractStatus!==null&&T.contractStatus!==void 0?"Contract must be signed before approval":T.status==="approved"?"Already approved":T.status==="rejected"?"Already rejected":"Approve submission",children:a.jsx(SP,{className:"w-4 h-4"})}),a.jsx(ie,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-400",onClick:()=>{N(T),p(!0)},disabled:T.contractStatus!=="signed"&&T.contractStatus!==null&&T.contractStatus!==void 0||T.status==="approved"||T.status==="rejected"||q.isPending,title:T.contractStatus!=="signed"&&T.contractStatus!==null&&T.contractStatus!==void 0?"Contract must be signed before decline":T.status==="approved"?"Already approved":T.status==="rejected"?"Already declined":"Decline submission",children:a.jsx(aU,{className:"w-4 h-4"})})]})})]},T.id))})]})}),ee.pagination&&a.jsx(Qu,{totalItems:ee.pagination.total,itemsPerPage:I,currentPage:_,onPageChange:T=>{B(T),window.scrollTo({top:0,behavior:"smooth"}),window.scrollTo({top:0,behavior:"smooth"})},onItemsPerPageChange:T=>{C(T),B(1)},isLoading:Q})]}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No submissions found"})]})]},$.id)})})]},ue.id)})})})}),a.jsx($t,{open:c,onOpenChange:ue=>{d(ue),ue||(h(!1),m(!1))},children:a.jsxs(Ft,{className:"max-w-5xl max-h-[90vh] overflow-y-auto bg-[#111111] border-[#EAEB80]/30 border-2 text-foreground",children:[a.jsx(Dt,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(Mt,{className:"text-foreground text-2xl",children:"Complete Submission Details"}),a.jsx(Ut,{className:"text-gray-400",children:"Full onboarding form submission information - All data from database"})]}),!u&&a.jsx(ie,{onClick:ye,variant:"outline",className:"bg-yellow-500/10 border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/20",children:"View Full Sensitive Information"})]})}),a.jsx($t,{open:f,onOpenChange:m,children:a.jsxs(Ft,{className:"bg-[#111111] border-[#EAEB80]/30 border-2 text-foreground max-w-md",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-xl",children:"Access Sensitive Data"}),a.jsx(Ut,{className:"text-gray-400 mt-2",children:"This action is logged. Continue?"})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[a.jsx(ie,{onClick:()=>m(!1),variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Cancel"}),a.jsx(ie,{onClick:Z,disabled:pe.isPending,className:"bg-yellow-500/20 border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/30",children:pe.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Logging..."]}):"Continue"})]})]})}),ne?.data?a.jsx("div",{className:"space-y-6 mt-4",children:(()=>{const ue=z=>z==null||z===""?"Not provided":String(z),Y=z=>{if(!z)return"Not provided";try{return new Date(z).toLocaleString()}catch{return String(z)}},V=z=>{if(!z)return"Not provided";const T=parseFloat(z);return isNaN(T)?z:`$${T.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`},$=ne.data,X=z=>{if(!z)return!1;const T=z.toLowerCase();return T.endsWith(".pdf")||T.includes(".pdf")};let me=[];if($.driversLicenseUrls)if(typeof $.driversLicenseUrls=="string")try{const z=JSON.parse($.driversLicenseUrls);me=Array.isArray(z)?z:[]}catch{me=[]}else Array.isArray($.driversLicenseUrls)&&(me=$.driversLicenseUrls);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Full Name:"}),a.jsxs("span",{className:"text-foreground font-medium",children:[ue($.firstNameOwner)," ",ue($.lastNameOwner)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Email:"}),a.jsx("span",{className:"text-foreground",children:ue($.emailOwner)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Phone:"}),a.jsx("span",{className:"text-foreground",children:ue($.phoneOwner)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Date of Birth:"}),a.jsx("span",{className:"text-foreground",children:u?ue($.birthday):Ne($.birthday)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"T-Shirt Size:"}),a.jsx("span",{className:"text-foreground",children:ue($.tshirtSize)})]}),u&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"SSN:"}),a.jsx("span",{className:"text-foreground font-mono",children:J($.ssn)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Representative:"}),a.jsx("span",{className:"text-foreground",children:ue($.representative)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"How Did You Hear About Us:"}),a.jsx("span",{className:"text-foreground",children:ue($.heardAboutUs)})]}),u&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Emergency Contact Name:"}),a.jsx("span",{className:"text-foreground",children:ue($.emergencyContactName)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Emergency Contact Phone:"}),a.jsx("span",{className:"text-foreground",children:ue($.emergencyContactPhone)})]})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Address Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"T-Shirt Size:"}),a.jsx("span",{className:"text-foreground",children:ue($.tshirtSize)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"First Name:"}),a.jsx("span",{className:"text-foreground font-medium",children:ue($.firstNameOwner)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Last Name:"}),a.jsx("span",{className:"text-foreground font-medium",children:ue($.lastNameOwner)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Phone:"}),a.jsx("span",{className:"text-foreground",children:ue($.phoneOwner)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Email:"}),a.jsx("span",{className:"text-foreground",children:ue($.emailOwner)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Representative:"}),a.jsx("span",{className:"text-foreground",children:ue($.representative)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"How Did You Hear About Us:"}),a.jsx("span",{className:"text-foreground",children:ue($.heardAboutUs)})]}),u&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Date of Birth:"}),a.jsx("span",{className:"text-foreground",children:ue($.birthday)})]}),u&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Street Address:"}),a.jsx("span",{className:"text-foreground",children:ue($.streetAddress)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"City:"}),a.jsx("span",{className:"text-foreground",children:ue($.city)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"State:"}),a.jsx("span",{className:"text-foreground",children:ue($.state)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Zip Code:"}),a.jsx("span",{className:"text-foreground",children:ue($.zipCode)})]}),u&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Emergency Contact Name:"}),a.jsx("span",{className:"text-foreground",children:ue($.emergencyContactName)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Emergency Contact Phone:"}),a.jsx("span",{className:"text-foreground",children:ue($.emergencyContactPhone)})]})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Vehicle Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Year:"}),a.jsx("span",{className:"text-foreground",children:ue($.vehicleYear)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Make:"}),a.jsx("span",{className:"text-foreground",children:ue($.vehicleMake)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Model:"}),a.jsx("span",{className:"text-foreground",children:ue($.vehicleModel)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Trim:"}),a.jsx("span",{className:"text-foreground",children:ue($.vehicleTrim)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"VIN Number:"}),a.jsx("span",{className:"text-foreground font-mono text-xs",children:ue($.vinNumber)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"License Plate:"}),a.jsx("span",{className:"text-foreground",children:ue($.licensePlate)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Mileage:"}),a.jsx("span",{className:"text-foreground",children:ue($.vehicleMiles)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Exterior Color:"}),a.jsx("span",{className:"text-foreground",children:ue($.exteriorColor)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Interior Color:"}),a.jsx("span",{className:"text-foreground",children:ue($.interiorColor)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Title Type:"}),a.jsx("span",{className:"text-foreground",children:ue($.titleType)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Registration Expiration:"}),a.jsx("span",{className:"text-foreground",children:ue($.registrationExpiration)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Fuel Type:"}),a.jsx("span",{className:"text-foreground",children:ue($.fuelType)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Vehicle Recall:"}),a.jsx("span",{className:"text-foreground",children:ue($.vehicleRecall)})]}),$.vehicleFeatures&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("span",{className:"text-gray-400 block mb-2",children:"Features:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{let z=[];try{if(typeof $.vehicleFeatures=="string"){const T=JSON.parse($.vehicleFeatures);z=Array.isArray(T)?T:[]}else Array.isArray($.vehicleFeatures)&&(z=$.vehicleFeatures)}catch{z=[]}return z.length>0?z.map((T,M)=>a.jsx(Ot,{variant:"outline",className:"border-[#EAEB80]/50 text-[#EAEB80] bg-[#EAEB80]/10 text-xs",children:T},M)):a.jsx("span",{className:"text-gray-500 text-sm",children:"No features selected"})})()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Does Your Vehicle Have Free Dealership Oil Changes?:"}),a.jsx("span",{className:"text-foreground",children:ue($.freeDealershipOilChanges)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"If Yes, For How Many Years of Oil Changes OR What Oil Package:"}),a.jsx("span",{className:"text-foreground",children:$.freeDealershipOilChanges==="Yes"?ue($.oilPackageDetails):"N/A"})]})]})]}),(!$.vehicleRecall||$.vehicleRecall.trim()===""||$.vehicleRecall==="Not provided")&&a.jsx("div",{className:"relative my-4 z-20",children:a.jsx("div",{className:"bg-white border-4 border-red-500 rounded-lg p-6 shadow-2xl flex items-center justify-center",children:a.jsx("p",{className:"text-red-500 text-xl font-semibold text-center m-0",children:"Vehicle Recall is missing"})})}),a.jsxs("div",{className:`bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20 ${!$.vehicleRecall||$.vehicleRecall.trim()===""||$.vehicleRecall==="Not provided"?"opacity-30":""}`,children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Financial Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Plate #:"}),a.jsx("span",{className:"text-foreground font-medium",children:V($.purchasePrice)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Down Payment:"}),a.jsx("span",{className:"text-foreground font-medium",children:V($.downPayment)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Monthly Payment:"}),a.jsx("span",{className:"text-foreground font-medium",children:V($.monthlyPayment)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Interest Rate:"}),a.jsxs("span",{className:"text-foreground",children:[ue($.interestRate),"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Transport City to City:"}),a.jsx("span",{className:"text-foreground",children:ue($.transportCityToCity)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Ultimate Goal:"}),a.jsx("span",{className:"text-foreground",children:ue($.ultimateGoal)})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Banking Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Bank Name:"}),a.jsx("span",{className:"text-foreground",children:ue($.bankName)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Tax Classification:"}),a.jsx("span",{className:"text-foreground",children:ue($.taxClassification)})]}),u&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Routing Number:"}),a.jsx("span",{className:"text-foreground font-mono",children:le($.routingNumber)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Account Number:"}),a.jsx("span",{className:"text-foreground font-mono",children:le($.accountNumber)})]})]}),$.businessName&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Business Name:"}),a.jsx("span",{className:"text-foreground",children:ue($.businessName)})]}),$.ein&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"EIN:"}),a.jsx("span",{className:"text-foreground font-mono",children:u?ue($.ein):le($.ein)})]}),$.ssn&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"SSN:"}),a.jsx("span",{className:"text-foreground font-mono",children:u?ue($.ssn):le($.ssn)})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Insurance Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Provider:"}),a.jsx("span",{className:"text-foreground",children:ue($.insuranceProvider)})]}),u&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Policy Number:"}),a.jsx("span",{className:"text-foreground",children:ue($.policyNumber)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Insurance Phone:"}),a.jsx("span",{className:"text-foreground",children:ue($.insurancePhone)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Insurance Expiration:"}),a.jsx("span",{className:"text-foreground",children:ue($.insuranceExpiration)})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Contract Status & Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Contract Status:"}),a.jsx(Ot,{variant:"outline",className:_e("mt-1",$.contractStatus==="signed"?"border-green-500/50 text-green-400 bg-green-500/10":$.contractStatus==="sent"?"border-blue-500/50 text-blue-400 bg-blue-500/10":$.contractStatus==="opened"?"border-yellow-500/50 text-yellow-400 bg-yellow-500/10":$.contractStatus==="declined"?"border-red-500/50 text-red-400 bg-red-500/10":"border-gray-500/50 text-gray-400 bg-gray-500/10"),children:ue($.contractStatus||"Not sent")})]}),u&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Contract Token:"}),a.jsx("span",{className:"text-foreground font-mono text-xs break-all",children:ue($.contractToken)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Contract Sent At:"}),a.jsx("span",{className:"text-foreground",children:Y($.contractSentAt)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Contract Signed At:"}),a.jsx("span",{className:"text-foreground",children:Y($.contractSignedAt)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Reminder Count:"}),a.jsxs("span",{className:"text-foreground font-medium",children:[$.reminderCount||0," / 3"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Last Reminder Sent:"}),a.jsx("span",{className:"text-foreground",children:Y($.lastReminderSentAt)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Next Reminder Due:"}),a.jsx("span",{className:"text-foreground",children:Y($.nextReminderDueAt)})]}),$.contractStatus==="signed"&&a.jsx("div",{className:"md:col-span-2",children:a.jsxs(ie,{onClick:()=>{window.open(je(`/api/contracts/${$.id}/view`),"_blank")},className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Download Signed PDF"]})})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-[#EAEB80]/30",children:a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80]",children:"Documents"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-base font-semibold text-gray-200",children:"Insurance Card"}),$.insuranceCardUrl?(()=>{const z=$.insuranceCardUrl.startsWith("http")?$.insuranceCardUrl:je($.insuranceCardUrl),T=X($.insuranceCardUrl);return a.jsx("div",{className:"relative group cursor-pointer",onClick:()=>{b({url:z,type:"insurance",isPdf:T})},children:a.jsxs("div",{className:`relative w-full aspect-[4/3] bg-[#0a0a0a] rounded-lg border-2 transition-all overflow-hidden shadow-lg ${T?"border-[#EAEB80]/50 hover:border-[#EAEB80] shadow-[#EAEB80]/20":"border-[#EAEB80]/30 hover:border-[#EAEB80] shadow-[#EAEB80]/20"}`,children:[T?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4",children:[a.jsx(Ln,{className:"w-16 h-16 text-[#EAEB80] mb-2"}),a.jsx("p",{className:"text-[#EAEB80] text-sm font-semibold",children:"PDF Document"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Click to open in PDF viewer"})]}):a.jsx("img",{src:z,alt:"Insurance Card",className:"w-full h-full object-contain p-2",onError:M=>{console.error("Failed to load insurance card image:",$.insuranceCardUrl);const re=M.target;re.style.display="none";const oe=re.parentElement?.parentElement;if(oe&&!oe.querySelector(".error-message")){const ce=document.createElement("div");ce.className="error-message text-sm text-gray-500 absolute inset-0 flex items-center justify-center",ce.textContent="Failed to load image",oe.appendChild(ce)}}}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-black/70 text-foreground px-4 py-2 rounded-lg text-sm font-medium",children:T?"Click to open PDF":"Click to view full screen"})}),T&&a.jsx("div",{className:"absolute top-2 right-2 bg-[#EAEB80]/90 text-black text-xs px-2 py-1 rounded font-semibold",children:"PDF"})]})})})():a.jsx("div",{className:"w-full aspect-[4/3] bg-[#0a0a0a] rounded-lg border border-gray-700 flex items-center justify-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"No insurance card uploaded"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-base font-semibold text-gray-200",children:"Driver License"}),me.length>0?a.jsx("div",{className:"space-y-4",children:me.map((z,T)=>{const M=z.startsWith("http")?z:je(z),re=X(z);return a.jsx("div",{className:"relative group cursor-pointer",onClick:()=>b({url:M,type:"license",index:T,isPdf:re}),children:a.jsxs("div",{className:`relative w-full aspect-[4/3] bg-[#0a0a0a] rounded-lg border-2 transition-all overflow-hidden shadow-lg ${re?"border-[#EAEB80]/50 hover:border-[#EAEB80] shadow-[#EAEB80]/20":"border-[#EAEB80]/30 hover:border-[#EAEB80] shadow-[#EAEB80]/20"}`,children:[re?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4",children:[a.jsx(Ln,{className:"w-16 h-16 text-[#EAEB80] mb-2"}),a.jsx("p",{className:"text-[#EAEB80] text-sm font-semibold",children:"PDF Document"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Click to open in PDF viewer"})]}):a.jsx("img",{src:M,alt:`Driver's License ${T+1}`,className:"w-full h-full object-contain p-2",onError:oe=>{console.error("Failed to load drivers license image:",z);const ce=oe.target;ce.style.display="none";const Ee=ce.parentElement?.parentElement;if(Ee&&!Ee.querySelector(".error-message")){const se=document.createElement("div");se.className="error-message text-sm text-gray-500 absolute inset-0 flex items-center justify-center",se.textContent="Failed to load image",Ee.appendChild(se)}}}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-black/70 text-foreground px-4 py-2 rounded-lg text-sm font-medium",children:re?"Click to open PDF":"Click to view full screen"})}),re&&a.jsx("div",{className:"absolute top-2 right-2 bg-[#EAEB80]/90 text-black text-xs px-2 py-1 rounded font-semibold",children:"PDF"}),me.length>1&&a.jsxs("div",{className:"absolute top-2 left-2 bg-black/80 text-foreground text-xs px-2 py-1 rounded",children:[T+1," / ",me.length]})]})},T)})}):a.jsx("div",{className:"w-full aspect-[4/3] bg-[#0a0a0a] rounded-lg border border-gray-700 flex items-center justify-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"No driver's license uploaded"})})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Timestamps"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Created At:"}),a.jsx("span",{className:"text-foreground",children:Y($.createdAt)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Last Updated:"}),a.jsx("span",{className:"text-foreground",children:Y($.updatedAt)})]})]})]})]})})()}):a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Gt,{className:"w-6 h-6 text-[#EAEB80] animate-spin"})})]})}),a.jsx($t,{open:x,onOpenChange:p,children:a.jsxs(Ft,{className:"bg-[#0a0a0a] border-[#1a1a1a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-[#EAEB80]",children:"Decline Submission"}),a.jsx(Ut,{className:"text-gray-400",children:"Please provide a reason for declining this submission. The client will receive an email with this reason."})]}),a.jsxs("div",{className:"space-y-4",children:[w&&a.jsxs("div",{className:"text-sm text-gray-300",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"Client:"})," ",w.firstNameOwner," ",w.lastNameOwner]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"Email:"})," ",w.emailOwner]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Se,{htmlFor:"decline-reason",className:"text-gray-300",children:["Reason for Decline ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx(Fa,{id:"decline-reason",value:v,onChange:ue=>g(ue.target.value),placeholder:"Enter reason for declining this submission...",className:"bg-[#111111] border-[#1a1a1a] text-foreground placeholder:text-gray-600 min-h-[100px]",required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ie,{variant:"outline",onClick:()=>{p(!1),g(""),N(null)},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Cancel"}),a.jsx(ie,{onClick:()=>{if(!v.trim()){D({title:"Reason Required",description:"Please provide a reason for declining.",variant:"destructive"});return}w&&q.mutate({id:w.id,action:"reject",reason:v.trim()})},disabled:!v.trim()||q.isPending,className:"bg-red-500 hover:bg-red-600 text-foreground",children:q.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Declining..."]}):"Decline Submission"})]})]})]})}),j&&a.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/98 flex items-center justify-center",onClick:()=>b(null),children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:ue=>{ue.stopPropagation(),b(null)},className:"fixed top-4 right-4 z-[9999] h-14 w-14 bg-red-600/90 hover:bg-red-600 text-foreground border-2 border-white rounded-full shadow-2xl backdrop-blur-sm transition-all hover:scale-110 flex items-center justify-center","aria-label":"Close full screen view",style:{position:"fixed",top:"1rem",right:"1rem",zIndex:9999},children:a.jsx(pr,{className:"w-8 h-8",strokeWidth:3})}),a.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-8",children:[j.type==="license"&&ne?.data?.driversLicenseUrls&&j.index!==void 0&&(()=>{let ue=[];if(ne.data.driversLicenseUrls)if(typeof ne.data.driversLicenseUrls=="string")try{const Y=JSON.parse(ne.data.driversLicenseUrls);ue=Array.isArray(Y)?Y:[]}catch{ue=[]}else Array.isArray(ne.data.driversLicenseUrls)&&(ue=ne.data.driversLicenseUrls);return ue.length>1?a.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-[101] bg-black/80 backdrop-blur-sm px-6 py-3 rounded-full border-2 border-white/40 shadow-2xl",children:a.jsxs("span",{className:"text-foreground text-base font-semibold tracking-wide",children:[j.index+1," / ",ue.length]})}):null})(),j.type==="license"&&ne?.data?.driversLicenseUrls&&j.index!==void 0&&(()=>{let ue=[];if(ne.data.driversLicenseUrls)if(typeof ne.data.driversLicenseUrls=="string")try{const Y=JSON.parse(ne.data.driversLicenseUrls);ue=Array.isArray(Y)?Y:[]}catch{ue=[]}else Array.isArray(ne.data.driversLicenseUrls)&&(ue=ne.data.driversLicenseUrls);return ue.length>1?a.jsxs(a.Fragment,{children:[j.index>0&&a.jsx(ie,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation();const V=j.index-1,$=ue[V],X=$.startsWith("http")?$:je($),me=$.toLowerCase().endsWith(".pdf")||$.toLowerCase().includes(".pdf");b({url:X,type:"license",index:V,isPdf:me})},className:"fixed left-6 top-1/2 -translate-y-1/2 z-[200] h-14 w-14 bg-black/90 hover:bg-[#EAEB80]/20 text-foreground border-2 border-white/60 rounded-full shadow-2xl backdrop-blur-sm transition-all hover:scale-110","aria-label":"Previous image",children:a.jsx(Kl,{className:"w-6 h-6"})}),j.index<ue.length-1&&a.jsx(ie,{variant:"ghost",size:"icon",onClick:Y=>{Y.stopPropagation();const V=j.index+1,$=ue[V],X=$.startsWith("http")?$:je($),me=$.toLowerCase().endsWith(".pdf")||$.toLowerCase().includes(".pdf");b({url:X,type:"license",index:V,isPdf:me})},className:"fixed right-6 top-1/2 -translate-y-1/2 z-[200] h-14 w-14 bg-black/90 hover:bg-[#EAEB80]/20 text-foreground border-2 border-white/60 rounded-full shadow-2xl backdrop-blur-sm transition-all hover:scale-110","aria-label":"Next image",children:a.jsx(pa,{className:"w-6 h-6"})})]}):null})(),j.isPdf?a.jsx("iframe",{src:j.url,className:"w-full h-full border-0",style:{maxWidth:"100vw",maxHeight:"100vh"},onClick:ue=>ue.stopPropagation(),title:j.type==="insurance"?"Insurance Card PDF":`Driver's License PDF ${j.index!==void 0?j.index+1:""}`}):a.jsx("img",{src:j.url,alt:j.type==="insurance"?"Insurance Card":`Driver's License ${j.index!==void 0?j.index+1:""}`,className:"w-full h-full object-contain",onClick:ue=>ue.stopPropagation(),style:{maxWidth:"100vw",maxHeight:"100vh"},onError:ue=>{console.error("Failed to load image in full screen viewer:",j.url),ue.target.style.display="none"}})]})]})]})}const Yve=Ma({vin:ge().length(17,"VIN must be exactly 17 characters"),makeModel:ge().min(1,"Make & Model is required"),make:ge().optional(),model:ge().optional(),licensePlate:ge().optional(),year:ge().optional(),color:ge().optional(),interiorColor:ge().optional(),mileage:ge().optional(),status:Fl(["ACTIVE","INACTIVE"]).optional(),tireSize:ge().optional(),oilType:ge().optional(),lastOilChange:ge().optional(),fuelType:ge().optional(),titleType:ge().optional(),turoLink:ge().url().optional().or(Qo("")),adminTuroLink:ge().url().optional().or(Qo("")),offboardAt:ge().optional(),offboardReason:Fl(["sold","damaged","end_lease","other"]).optional().or(Qo("")),offboardNote:ge().optional()});function Qve(){const[,t]=wr(),[e,r]=y.useState(!1),[n,s]=y.useState(!1),[i,o]=y.useState(null),[l,c]=y.useState(""),[d,u]=y.useState("all"),[h,f]=y.useState(1),[m,x]=y.useState(!1),[p,v]=y.useState(null),[g,w]=y.useState(()=>{const C=localStorage.getItem("cars_limit");return C?parseInt(C):10});y.useEffect(()=>{localStorage.setItem("cars_limit",g.toString())},[g]);const{toast:N}=kr(),j=Wr(),{data:b}=Ge({queryKey:["/api/auth/me"],retry:!1}),S=b?.user?.isAdmin===!0,A=b?.user?.isClient===!0,E=ts({resolver:rs(Yve),defaultValues:{vin:"",makeModel:"",make:"",model:"",licensePlate:"",year:"",color:"",interiorColor:"",mileage:"",status:"ACTIVE",tireSize:"",oilType:"",lastOilChange:"",fuelType:"",titleType:"",turoLink:"",adminTuroLink:"",offboardAt:"",offboardReason:"",offboardNote:""}}),{data:P,isLoading:O}=Ge({queryKey:A?["/api/client/cars",d,l,h,g]:["/api/cars",d,l,h,g],placeholderData:Gl,queryFn:async()=>{if(A){const H=je(`/api/client/cars?includeReturned=${d==="all"?"true":"false"}`),G=await fetch(H,{credentials:"include"});if(!G.ok){const we=await G.json().catch(()=>({error:"Failed to fetch client cars"}));throw new Error(we.error||"Failed to fetch client cars")}const ee=await G.json(),Q=Array.isArray(ee?.data)?ee.data:[],te=(we,De)=>we==="off_fleet"?"INACTIVE":we==="available"||we==="in_use"||we==="pending"||De?"ACTIVE":"INACTIVE",U=we=>{if(!we)return[];if(Array.isArray(we))return we.filter(De=>typeof De=="string");if(typeof we=="string"){try{const De=JSON.parse(we);if(Array.isArray(De))return De.filter(ue=>typeof ue=="string");if(typeof De=="string")return[De]}catch{return[we]}return[we]}return[]},q=Q.map(we=>({id:we.id,vin:we.vin||"",makeModel:we.makeModel||[we.make,we.model,we.year].filter(Boolean).join(" ")||"N/A",make:we.make||null,model:we.model||null,licensePlate:we.plateNumber||null,year:we.year||null,color:null,mileage:typeof we.mileage=="number"?we.mileage:0,status:te(we.carStatus,we.isActive),photos:U(we.photo),offboardReason:null,offboardNote:null,offboardAt:we.returnedAt||null,clientId:we.clientId||null,tireSize:we.tireSize||null,oilType:we.oilType||null,lastOilChange:null,fuelType:we.fuelType||null,turoLink:we.turoLink||null,adminTuroLink:we.adminTuroLink||null,isActive:we.isActive?1:0,managementStatus:void 0,contactPhone:we.contactPhone||null,owner:we.ownerFirstName||we.ownerLastName?{firstName:we.ownerFirstName||"",lastName:we.ownerLastName||"",email:null,phone:we.contactPhone||null}:null})),ne=l.trim().toLowerCase(),fe=we=>!ne||we.makeModel.toLowerCase().includes(ne)||(we.licensePlate||"").toLowerCase().includes(ne),pe=we=>d==="all"?!0:we.status===d,ye=q.filter(we=>fe(we)&&pe(we)),Z=ye.length,Ne=Math.max(1,Math.ceil(Z/g)),J=(h-1)*g;return{success:!0,data:ye.slice(J,J+g),pagination:{page:h,limit:g,total:Z,totalPages:Ne}}}const C=new URLSearchParams;d!=="all"&&C.append("status",d),l&&C.append("search",l),C.append("page",h.toString()),C.append("limit",g.toString());const D=je(`/api/cars?${C.toString()}`),W=await fetch(D,{credentials:"include"});if(!W.ok){const K=await W.json().catch(()=>({error:"Database connection failed"}));throw new Error(K.error||"Failed to fetch cars")}return W.json()},enabled:!!b?.user,retry:!1}),k=yt({mutationFn:async C=>{const D=new FormData;D.append("vin",C.vin),D.append("makeModel",C.makeModel),C.make&&D.append("make",C.make),C.model&&D.append("model",C.model),C.licensePlate&&D.append("licensePlate",C.licensePlate),C.year&&D.append("year",C.year),C.color&&D.append("color",C.color),C.interiorColor&&D.append("interiorColor",C.interiorColor),C.mileage&&D.append("mileage",C.mileage),C.status&&D.append("status",C.status),C.tireSize&&D.append("tireSize",C.tireSize),C.oilType&&D.append("oilType",C.oilType),C.lastOilChange&&D.append("lastOilChange",C.lastOilChange),C.fuelType&&D.append("fuelType",C.fuelType),C.titleType&&D.append("titleType",C.titleType),C.turoLink&&D.append("turoLink",C.turoLink),C.adminTuroLink&&D.append("adminTuroLink",C.adminTuroLink);const W=await fetch(je("/api/cars"),{method:"POST",credentials:"include",body:D});if(!W.ok){const K=await W.json();throw new Error(K.error||"Failed to create car")}return W.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/cars"]}),j.invalidateQueries({queryKey:["sidebar-badges"]}),N({title:"Success",description:"Car added successfully"}),r(!1),E.reset()},onError:C=>{N({title:"Error",description:C.message||"Failed to create car",variant:"destructive"})}}),L=yt({mutationFn:async({id:C,data:D})=>{console.log(" [FRONTEND] Update mutation - Full form data:",D),console.log(" [FRONTEND] Status value:",D.status,`(type: ${typeof D.status})`);const W=new FormData;W.append("vin",D.vin||""),W.append("makeModel",D.makeModel||""),W.append("make",D.make||""),W.append("model",D.model||""),W.append("licensePlate",D.licensePlate||""),W.append("year",D.year||""),W.append("color",D.color||""),W.append("interiorColor",D.interiorColor||""),W.append("mileage",D.mileage||"");const K=D.status||"ACTIVE";W.append("status",K),console.log(` [FRONTEND] Appending status to FormData: "${K}"`),W.append("tireSize",D.tireSize||""),W.append("oilType",D.oilType||""),W.append("lastOilChange",D.lastOilChange||""),W.append("fuelType",D.fuelType||""),W.append("titleType",D.titleType||""),W.append("turoLink",D.turoLink||""),W.append("adminTuroLink",D.adminTuroLink||""),W.append("offboardAt",D.offboardAt||""),W.append("offboardReason",D.offboardReason||""),W.append("offboardNote",D.offboardNote||""),console.log(" [FRONTEND] FormData entries:");for(const[G,ee]of W.entries())console.log(`   ${G}: ${ee}`);const H=await fetch(je(`/api/cars/${C}`),{method:"PATCH",credentials:"include",body:W});if(!H.ok){const G=await H.json();throw new Error(G.error||"Failed to update car")}return H.json()},onSuccess:async C=>{if(C?.success&&C?.data){const D=C.data;j.setQueriesData({queryKey:["/api/cars"],exact:!1},W=>W&&{...W,data:W.data.map(K=>K.id===D.id?D:K)})}await j.invalidateQueries({queryKey:["/api/cars"],exact:!1}),j.invalidateQueries({queryKey:["sidebar-badges"]}),await j.refetchQueries({queryKey:["/api/cars"],exact:!1}),N({title:"Success",description:"Car updated successfully"}),s(!1),o(null),E.reset()},onError:C=>{N({title:"Error",description:C.message||"Failed to update car",variant:"destructive"})}}),R=C=>{i?L.mutate({id:i.id,data:C}):k.mutate(C)},_=C=>{switch(C){case"ACTIVE":return"bg-green-500/20 text-green-400 border-green-500/30";case"INACTIVE":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},B=({car:C})=>{const[D,W]=y.useState(!1),[K,H]=y.useState(!1),G=ve.useRef(null);ve.useEffect(()=>{const te=new IntersectionObserver(U=>{U.forEach(q=>{q.isIntersecting&&(H(!0),te.disconnect())})},{rootMargin:"50px",threshold:.01});return G.current&&te.observe(G.current),()=>{G.current&&te.unobserve(G.current),te.disconnect()}},[]);const ee=C.photos?.[0];if(!ee||D)return a.jsx("div",{ref:G,className:"h-7 w-7 sm:h-8 sm:w-8 rounded-md bg-black/30 border border-[#2a2a2a] flex items-center justify-center shrink-0",children:a.jsx(hs,{className:"h-4 w-4 text-gray-500"})});let Q;return ee?(Q=Zp(ee),Q.includes("/api/gcs-image-proxy")&&(Q+=(Q.includes("?")?"&":"?")+"size=128")):(console.warn(`[CARS] Empty photo path for car ${C.id}`),Q=""),a.jsx("div",{ref:G,className:"h-7 w-7 sm:h-8 sm:w-8 rounded-md bg-black/30 border border-[#2a2a2a] shrink-0 relative overflow-hidden",children:K?a.jsx("img",{src:Q,alt:"Car thumbnail",className:"h-full w-full rounded-md object-cover",loading:"lazy",decoding:"async",width:32,height:32,onError:te=>{console.error("Failed to load car thumbnail:",Q),console.error("Original photo:",ee),W(!0)},onLoad:()=>{}}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(hs,{className:"h-4 w-4 text-gray-600 animate-pulse"})})})},I=P?.data||[];return a.jsx(jt,{children:a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-foreground",children:"Cars"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:S?"Manage your vehicle fleet":"View your vehicles"})]})}),a.jsx(ft,{className:"bg-[#111111] border-[#2a2a2a]",children:a.jsx(mt,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),a.jsx(ae,{type:"text",placeholder:"Search by VIN, Plate, Owner, Make/Model/Year...",value:l,onChange:C=>{c(C.target.value),f(1)},className:"pl-10 bg-[#1a1a1a] border-[#2a2a2a] text-foreground placeholder:text-gray-600"})]}),a.jsxs(tt,{value:d,onValueChange:C=>{u(C),f(1)},children:[a.jsx(Qe,{className:"w-full md:w-[200px] bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Filter by status"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"all",children:"All Status"}),a.jsx(xe,{value:"ACTIVE",children:"ACTIVE"}),a.jsx(xe,{value:"INACTIVE",children:"INACTIVE"})]})]}),l&&a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>c(""),className:"text-gray-400 hover:text-foreground",children:a.jsx(pr,{className:"w-4 h-4"})})]})})}),a.jsx(ft,{className:"bg-[#1a1a1a] border-[#2a2a2a]",children:a.jsxs(mt,{className:"p-0",children:[a.jsx("div",{className:"overflow-x-auto -mx-3 sm:mx-0",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[#2a2a2a]",children:[a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3 w-8 sm:w-10",children:"#"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3",children:"Status"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3",children:"Stats"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3 hidden md:table-cell",children:"Management"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3",children:"Owner"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3",children:"Make"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3 hidden lg:table-cell",children:"Year"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3",children:"Model/Specs"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3 hidden lg:table-cell",children:"Contact"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3 hidden lg:table-cell",children:"VIN #"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3 hidden lg:table-cell",children:"Plate #"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3 hidden lg:table-cell",children:"Gas"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3 hidden xl:table-cell",children:"Tire Size"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3 hidden xl:table-cell",children:"Oil Type"}),a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3 hidden xl:table-cell",children:"Turo Link"}),S&&a.jsx("th",{className:"text-center text-[10px] sm:text-xs font-medium text-[#EAEB80] uppercase tracking-wider px-1.5 sm:px-2 py-2 sm:py-3 hidden xl:table-cell",children:"Admin Turo Link"})]})}),a.jsx("tbody",{className:"divide-y divide-[#2a2a2a]",children:O?a.jsx(dO,{colSpan:S?13:12,rows:5}):I.length>0?I.map((C,D)=>{const W=te=>te==null||te===0?"own":te===1?"management":te===2||te===3?"off_ride":"own",K=te=>{switch(te){case"management":return"Management";case"own":return"Own";case"off_ride":return"Off Ride";default:return"Own"}},H=W(C.isActive),G=K(H),ee=`car-${C.id}-${D}-${C.vin||"no-vin"}`,Q=(h-1)*g+D+1;return a.jsxs("tr",{className:"hover:bg-[#252525] transition-colors group border-b border-[#2a2a2a]",children:[a.jsx("td",{className:"text-center text-[#EAEB80] text-xs sm:text-sm px-1.5 sm:px-2 py-2 sm:py-3 align-middle",children:Q}),a.jsx("td",{className:"text-center px-1.5 sm:px-2 py-2 sm:py-3 align-middle",children:a.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[a.jsx(B,{car:C}),a.jsx(Ot,{variant:"outline",className:_e(_(C.status),"text-xs"),children:C.status==="ACTIVE"?"ACTIVE":C.status==="INACTIVE"?"INACTIVE":C.status||"ACTIVE"})]})}),a.jsx("td",{className:"text-center px-1.5 sm:px-2 py-2 sm:py-3 align-middle",children:a.jsx("a",{href:`/admin/view-car/${C.id}`,onClick:te=>{te.preventDefault(),t(`/admin/view-car/${C.id}`)},className:"text-[#EAEB80] hover:underline text-xs sm:text-sm",children:"View Stats"})}),a.jsx("td",{className:"text-center px-1.5 sm:px-2 py-2 sm:py-3 align-middle hidden md:table-cell",children:a.jsx(Ot,{variant:"outline",className:_e("text-xs",H==="management"?"bg-blue-500/20 text-blue-400 border-blue-500/30":H==="off_ride"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"),children:G})}),a.jsx("td",{className:"text-center px-1.5 sm:px-2 py-2 sm:py-3 align-middle",children:C.owner?a.jsx("div",{children:C.clientId?a.jsxs(a.Fragment,{children:[a.jsxs("a",{href:`/admin/clients/${C.clientId}`,onClick:te=>{te.preventDefault(),t(`/admin/clients/${C.clientId}`)},className:"text-[#EAEB80] hover:underline text-xs sm:text-sm font-medium cursor-pointer block",children:[C.owner.firstName," ",C.owner.lastName]}),C.owner.email&&a.jsx("a",{href:`/admin/clients/${C.clientId}`,onClick:te=>{te.preventDefault(),t(`/admin/clients/${C.clientId}`)},className:"text-[#EAEB80] hover:underline text-[10px] sm:text-xs cursor-pointer block mt-0.5",children:C.owner.email})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-foreground text-xs sm:text-sm",children:[C.owner.firstName," ",C.owner.lastName]}),C.owner.email&&a.jsx("div",{className:"text-gray-500 text-[10px] sm:text-xs",children:C.owner.email})]})}):a.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:"Unassigned"})}),a.jsx("td",{className:"text-center text-foreground text-xs sm:text-sm px-1.5 sm:px-2 py-2 sm:py-3 align-middle",children:C.make||"N/A"}),a.jsx("td",{className:"text-center text-foreground text-xs sm:text-sm px-1.5 sm:px-2 py-2 sm:py-3 align-middle hidden lg:table-cell",children:C.year||"N/A"}),a.jsx("td",{className:"text-center text-foreground text-xs sm:text-sm px-1.5 sm:px-2 py-2 sm:py-3 align-middle",children:C.model||"N/A"}),a.jsx("td",{className:"text-center text-gray-400 text-xs sm:text-sm px-1.5 sm:px-2 py-2 sm:py-3 align-middle hidden lg:table-cell",children:C.contactPhone||C.owner?.phone||"N/A"}),a.jsx("td",{className:"text-center text-foreground font-mono text-xs sm:text-sm px-1.5 sm:px-2 py-2 sm:py-3 align-middle hidden lg:table-cell",children:C.vin||"N/A"}),a.jsx("td",{className:"text-center text-gray-400 text-xs sm:text-sm px-1.5 sm:px-2 py-2 sm:py-3 align-middle hidden lg:table-cell",children:C.licensePlate||"N/A"}),a.jsx("td",{className:"text-center text-gray-400 text-xs sm:text-sm px-1.5 sm:px-2 py-2 sm:py-3 align-middle hidden lg:table-cell",children:C.fuelType||"N/A"}),a.jsx("td",{className:"text-center text-gray-400 text-xs sm:text-sm px-1.5 sm:px-2 py-2 sm:py-3 align-middle hidden xl:table-cell",children:C.tireSize||"N/A"}),a.jsx("td",{className:"text-center text-gray-400 text-xs sm:text-sm px-1.5 sm:px-2 py-2 sm:py-3 align-middle hidden xl:table-cell",children:C.oilType||"N/A"}),a.jsx("td",{className:"text-center px-1.5 sm:px-2 py-2 sm:py-3 align-middle hidden xl:table-cell",children:C.turoLink?a.jsx("a",{href:C.turoLink,target:"_blank",rel:"noopener noreferrer",onClick:te=>te.stopPropagation(),className:"text-[#EAEB80] hover:underline inline-flex items-center justify-center",children:a.jsx(Ar,{className:"w-3 h-3 sm:w-4 sm:h-4"})}):a.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:"N/A"})}),S&&a.jsx("td",{className:"text-center px-1.5 sm:px-2 py-2 sm:py-3 align-middle hidden xl:table-cell",children:C.adminTuroLink?a.jsx("a",{href:C.adminTuroLink,target:"_blank",rel:"noopener noreferrer",onClick:te=>te.stopPropagation(),className:"text-[#EAEB80] hover:underline inline-flex items-center justify-center",children:a.jsx(Ar,{className:"w-3 h-3 sm:w-4 sm:h-4"})}):a.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:"N/A"})})]},ee)}):a.jsx("tr",{children:a.jsx("td",{colSpan:S?13:12,className:"px-4 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("p",{className:"text-gray-400 text-lg",children:"No cars found"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search or filters"})]})})})})]})}),P?.pagination&&a.jsx(Qu,{totalItems:P.pagination.total,itemsPerPage:g,currentPage:h,onPageChange:C=>{f(C),window.scrollTo({top:0,behavior:"smooth"})},onItemsPerPageChange:C=>{w(C),f(1)},isLoading:O})]})}),a.jsx($t,{open:e||n,onOpenChange:C=>{C||(r(!1),s(!1),o(null),E.reset())},children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-xl font-semibold",children:i?"Edit Car":"Add New Car"}),a.jsx(Ut,{className:"text-gray-400",children:i?"Update car information":"Add a new vehicle to the fleet"})]}),a.jsx(Rs,{...E,children:a.jsxs("form",{onSubmit:E.handleSubmit(R),className:"space-y-4 mt-4",children:[a.jsx(ke,{control:E.control,name:"vin",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"VIN *"}),a.jsx(Pe,{children:a.jsx(ae,{...C,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"1HGBH41JXMN109186",maxLength:17})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:E.control,name:"makeModel",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Make & Model *"}),a.jsx(Pe,{children:a.jsx(ae,{...C,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"2024 Mercedes S580"})}),a.jsx(Te,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:E.control,name:"make",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Make"}),a.jsx(Pe,{children:a.jsx(ae,{...C,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Mercedes"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:E.control,name:"model",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Model"}),a.jsx(Pe,{children:a.jsx(ae,{...C,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"S580"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:E.control,name:"licensePlate",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"License Plate"}),a.jsx(Pe,{children:a.jsx(ae,{...C,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"ABC-1234"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:E.control,name:"year",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Year"}),a.jsx(Pe,{children:a.jsx(ae,{...C,type:"number",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"2024"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:E.control,name:"color",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Exterior Color"}),a.jsx(Pe,{children:a.jsx(ae,{...C,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Black"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:E.control,name:"interiorColor",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Interior Color"}),a.jsx(Pe,{children:a.jsx(ae,{...C,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Black"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:E.control,name:"mileage",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Current Mileage"}),a.jsx(Pe,{children:a.jsx(ae,{...C,type:"number",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"0"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:E.control,name:"status",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Status *"}),a.jsxs(tt,{onValueChange:async D=>{if(console.log(` [FRONTEND] Status changed to: ${D}`),D==="INACTIVE"&&i&&i.userId)try{const W=await fetch(je(`/api/cars/check-last-active?carId=${i.id}&userId=${i.userId}`),{credentials:"include"});if(W.ok&&(await W.json()).isLastActiveCar){v("INACTIVE"),x(!0);return}}catch(W){console.error("Error checking last active car:",W)}C.onChange(D)},value:C.value||"ACTIVE",children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select status"})})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"ACTIVE",children:"ACTIVE"}),a.jsx(xe,{value:"INACTIVE",children:"INACTIVE"})]})]}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:E.control,name:"tireSize",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Tire Size"}),a.jsx(Pe,{children:a.jsx(ae,{...C,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"225/50R17"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:E.control,name:"oilType",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Oil Type"}),a.jsx(Pe,{children:a.jsx(ae,{...C,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"5W-30"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:E.control,name:"lastOilChange",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Last Oil Change"}),a.jsx(Pe,{children:a.jsx(ae,{...C,type:"date",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:E.control,name:"fuelType",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Fuel Type"}),a.jsxs(tt,{onValueChange:C.onChange,defaultValue:C.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select fuel type"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Regular",children:"Regular"}),a.jsx(xe,{value:"Premium",children:"Premium"}),a.jsx(xe,{value:"Premium 91 Unleaded",children:"Premium 91 Unleaded"}),a.jsx(xe,{value:"Regular Unleaded",children:"Regular Unleaded"}),a.jsx(xe,{value:"91 Unleaded",children:"91 Unleaded"}),a.jsx(xe,{value:"Gasoline",children:"Gasoline"}),a.jsx(xe,{value:"Electric",children:"Electric"}),a.jsx(xe,{value:"Diesel",children:"Diesel"}),a.jsx(xe,{value:"Others",children:"Others"})]})]}),a.jsx(Te,{})]})})]}),a.jsx(ke,{control:E.control,name:"titleType",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Title Type"}),a.jsx(Pe,{children:a.jsx(ae,{...C,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Enter title type"})}),a.jsx(Te,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(ke,{control:E.control,name:"turoLink",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Turo Link"}),a.jsx(Pe,{children:a.jsx(ae,{...C,type:"url",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"https://turo.com/us/en/car/..."})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:E.control,name:"adminTuroLink",render:({field:C})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Admin Turo Link"}),a.jsx(Pe,{children:a.jsx(ae,{...C,type:"url",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"https://turo.com/us/en/car/..."})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ie,{type:"button",variant:"ghost",onClick:()=>{r(!1),s(!1),o(null),E.reset()},className:"text-gray-400 hover:text-foreground",children:"Cancel"}),a.jsx(ie,{type:"submit",className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",disabled:k.isPending||L.isPending,children:i?"Update":"Create"})]})]})})]})}),a.jsx(lO,{open:m,onOpenChange:x,children:a.jsxs(c1,{className:"bg-[#111111] border-[#2a2a2a] text-foreground",children:[a.jsxs(d1,{children:[a.jsx(h1,{className:"text-xl font-semibold text-[#EAEB80]",children:"Last Active Car Warning"}),a.jsx(f1,{className:"text-gray-400",children:"This is the client's last active car. Changing the status to INACTIVE will leave the client with no active vehicles. You may want to consider deactivating the client account as well."})]}),a.jsxs(u1,{children:[a.jsx(p1,{onClick:()=>{x(!1),v(null),i&&E.setValue("status",i.status)},className:"text-gray-400 hover:text-foreground",children:"Cancel"}),a.jsx(m1,{onClick:()=>{p&&i&&(E.setValue("status",p),x(!1),v(null))},className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",children:"Continue"})]})]})})]})})}function Zve(t){const[e,r]=y.useState(null),[n,s]=y.useState(!1),[i,o]=y.useState(!1),l=!!t?.includes("/api/cars/documents/file-content");return y.useEffect(()=>{if(!t||!t.trim()){r(null),s(!1),o(!1);return}if(!l){r(t),s(!1),o(!1);return}s(!0),o(!1);let c=!1;return fetch(t,{credentials:"include"}).then(d=>{if(!d.ok)throw new Error(`HTTP ${d.status}`);return d.blob()}).then(d=>{if(c)return;const u=URL.createObjectURL(d);r(u),s(!1)}).catch(()=>{c||(o(!0),s(!1),r(null))}),()=>{c=!0}},[t,l]),y.useEffect(()=>()=>{e&&URL.revokeObjectURL(e)},[e]),{src:l?e:t,loading:l&&n,error:l&&i}}function T4({url:t,alt:e,className:r,onLoad:n,onError:s}){const{src:i,loading:o,error:l}=Zve(t);return o?a.jsx("div",{className:_e("w-full h-full flex items-center justify-center text-gray-500 text-sm",r),children:"Loading..."}):l||!i?a.jsx("div",{className:_e("w-full h-full flex items-center justify-center text-gray-500 text-sm",r),children:"Failed to load document"}):a.jsx("img",{src:i,alt:e,className:r,onLoad:n,onError:s})}const Jve=Ma({vin:ge().length(17,"VIN must be exactly 17 characters"),makeModel:ge().min(1,"Make & Model is required"),licensePlate:ge().optional(),year:ge().optional(),color:ge().optional(),mileage:ge().optional(),vehicleTrim:ge().optional(),interiorColor:ge().optional(),registrationExpiration:ge().optional(),vehicleRecall:ge().optional(),numberOfSeats:ge().optional(),numberOfDoors:ge().optional(),skiRacks:ge().optional(),skiCrossBars:ge().optional(),roofRails:ge().optional(),oilType:ge().optional(),lastOilChange:ge().optional(),freeDealershipOilChanges:ge().optional(),oilPackageDetails:ge().optional(),dealershipAddress:ge().optional(),fuelType:ge().optional(),tireSize:ge().optional(),titleType:ge().optional(),vehicleFeatures:$oe([ge(),iT(ge())]).optional(),purchasePrice:ge().optional(),downPayment:ge().optional(),monthlyPayment:ge().optional(),interestRate:ge().optional(),transportCityToCity:ge().optional(),ultimateGoal:ge().optional(),insuranceProvider:ge().optional(),insurancePhone:ge().optional(),policyNumber:ge().optional(),insuranceExpiration:ge().optional(),carManufacturerWebsite:ge().optional(),carManufacturerUsername:ge().optional(),password:ge().optional(),turoLink:ge().optional(),adminTuroLink:ge().optional(),status:Fl(["ACTIVE","INACTIVE"]).optional(),managementStatus:Fl(["management","own","off_ride"]).optional(),offboardAt:ge().optional(),offboardReason:Fl(["sold","damaged","end_lease","other"]).optional(),offboardNote:ge().optional(),insuranceCardUrl:ge().optional(),driversLicenseUrls:ge().optional()});function eye(){const[,t]=Ia("/admin/cars/:id"),[,e]=wr(),{toast:r}=kr(),n=Wr(),s=t?.id?parseInt(t.id,10):null,[i,o]=y.useState(!1),[l,c]=y.useState(!1),[d,u]=y.useState(new Set),[h,f]=y.useState(0),[m,x]=y.useState(!1),[p,v]=y.useState(null),[g,w]=y.useState(null),[N,j]=y.useState(null),[b,S]=y.useState(null),[A,E]=y.useState([]),[P,O]=y.useState([]),k=T=>{if(!T)return!1;const M=T.toLowerCase();return M.endsWith(".pdf")||M.includes(".pdf?")||M.includes("application/pdf")},{data:L}=Ge({queryKey:["/api/auth/me"],retry:!1}),R=L?.user?.isAdmin===!0,{data:_,isLoading:B,error:I}=Ge({queryKey:["/api/cars",s],queryFn:async()=>{if(!s)throw new Error("Invalid car ID");const T=je(`/api/cars/${s}`),M=await fetch(T,{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch car");return M.json()},enabled:!!s,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:1/0,gcTime:1/0,placeholderData:T=>T}),C=_?.data;y.useEffect(()=>{C?.photos?console.log(" [CAR DETAIL] Car photos loaded:",{count:C.photos.length,photos:C.photos.map((T,M)=>({index:M,url:T?.substring(0,100)||"empty",isGcs:T?.startsWith("https://storage.googleapis.com/")||!1}))}):console.log(` [CAR DETAIL] No photos found for car ${s}`)},[C?.photos,s]);const{data:D,isLoading:W}=Ge({queryKey:["/api/onboarding/vin",C?.vin,"onboarding"],queryFn:async()=>{if(!C?.vin)throw new Error("No VIN");const T=je(`/api/onboarding/vin/${encodeURIComponent(C.vin)}`),M=await fetch(T,{credentials:"include"});if(!M.ok){const oe=await M.json().catch(()=>({}));if(M.status===404)return{success:!1,data:null};throw new Error(oe.error||`Failed to fetch onboarding: ${M.statusText}`)}return await M.json()},enabled:!!C?.vin,retry:!1}),K=D?.success?D?.data:null;y.useEffect(()=>{},[K]);const H=y.useMemo(()=>{if(!K?.driversLicenseUrls)return[];let T=[];if(Array.isArray(K.driversLicenseUrls))T=K.driversLicenseUrls;else if(typeof K.driversLicenseUrls=="string")try{const M=JSON.parse(K.driversLicenseUrls);T=Array.isArray(M)?M:[]}catch(M){console.error("[Car Detail] Failed to parse driversLicenseUrls as JSON:",M),T=[]}return T.filter(M=>M&&typeof M=="string"&&M.trim()).map(M=>M.trim())},[K?.driversLicenseUrls]),G=y.useMemo(()=>C?.owner?vx(C.owner.lastLoginAt,C.owner.lastLogoutAt):null,[C?.owner?.lastLoginAt,C?.owner?.lastLogoutAt,C?.owner?.firstName,C?.owner?.lastName,C?.owner?.email]),ee=T=>T==null||T===""?"Not provided":String(T),Q=T=>{if(!T)return"Not provided";const M=parseFloat(T);return isNaN(M)?T:`$${M.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`};y.useEffect(()=>{C?.photos&&C.photos.length>0?(h>=C.photos.length&&f(Math.max(0,C.photos.length-1)),h<0&&f(0)):f(0)},[C?.photos?.length,h]),y.useEffect(()=>{if(g===null||!K)return;const T=M=>{if(g.type==="license"&&H.length>1&&g.index!==void 0){if(M.key==="ArrowLeft"&&g.index>0){const re=g.index-1,oe=H[re],ce=oe&&!oe.includes("/")&&!oe.includes(".")&&oe.length>=10&&/^[a-zA-Z0-9_-]+$/.test(oe)&&!oe.startsWith("http"),Ee=ce?je(`/api/cars/documents/file-content?fileId=${encodeURIComponent(oe)}`):oe.startsWith("http")?oe:je(oe.startsWith("/")?oe:`/${oe}`);w({url:Ee,type:"license",index:re,isPdf:ce?oe.toLowerCase().includes("pdf")||oe.toLowerCase().endsWith(".pdf"):k(oe)})}else if(M.key==="ArrowRight"&&g.index<H.length-1){const re=g.index+1,oe=H[re],ce=oe&&!oe.includes("/")&&!oe.includes(".")&&oe.length>=10&&/^[a-zA-Z0-9_-]+$/.test(oe)&&!oe.startsWith("http"),Ee=ce?je(`/api/cars/documents/file-content?fileId=${encodeURIComponent(oe)}`):oe.startsWith("http")?oe:je(oe.startsWith("/")?oe:`/${oe}`);w({url:Ee,type:"license",index:re,isPdf:ce?oe.toLowerCase().includes("pdf")||oe.toLowerCase().endsWith(".pdf"):k(oe)})}}M.key==="Escape"&&w(null)};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[g,H]),y.useEffect(()=>{if(p===null||!C?.photos)return;const T=M=>{if(M.key==="Escape")v(null);else if(M.key==="ArrowLeft"&&C.photos&&C.photos.length>1){const re=(p-1+C.photos.length)%C.photos.length;v(re)}else if(M.key==="ArrowRight"&&C.photos&&C.photos.length>1){const re=(p+1)%C.photos.length;v(re)}};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[p,C?.photos]),y.useEffect(()=>{if(!C?.photos||C.photos.length<=1||m)return;const T=setInterval(()=>{f(M=>(M+1)%C.photos.length)},3e3);return()=>clearInterval(T)},[C?.photos,h,m]);const te=ts({resolver:rs(Jve),defaultValues:{vin:"",makeModel:"",licensePlate:"",year:"",color:"",mileage:"",vehicleTrim:"",interiorColor:"",registrationExpiration:"",vehicleRecall:"",numberOfSeats:"",numberOfDoors:"",skiRacks:"",skiCrossBars:"",roofRails:"",oilType:"",lastOilChange:"",freeDealershipOilChanges:"",oilPackageDetails:"",dealershipAddress:"",fuelType:"",tireSize:"",titleType:"",vehicleFeatures:"",purchasePrice:"",downPayment:"",monthlyPayment:"",interestRate:"",transportCityToCity:"",ultimateGoal:"",insuranceProvider:"",insurancePhone:"",policyNumber:"",insuranceExpiration:"",carManufacturerWebsite:"",carManufacturerUsername:"",password:"",turoLink:"",adminTuroLink:"",status:"ACTIVE",managementStatus:"own",offboardAt:"",offboardReason:void 0,offboardNote:"",insuranceCardUrl:"",driversLicenseUrls:""}}),U=yt({mutationFn:async T=>{const M=new FormData;if(M.append("vin",T.vin),M.append("makeModel",T.makeModel),M.append("licensePlate",T.licensePlate||""),M.append("year",T.year||""),M.append("color",T.color||""),M.append("mileage",T.mileage||""),M.append("vehicleTrim",T.vehicleTrim||""),M.append("interiorColor",T.interiorColor||""),M.append("registrationExpiration",T.registrationExpiration||""),M.append("vehicleRecall",T.vehicleRecall||""),M.append("numberOfSeats",T.numberOfSeats||""),M.append("numberOfDoors",T.numberOfDoors||""),M.append("skiRacks",T.skiRacks||""),M.append("skiCrossBars",T.skiCrossBars||""),M.append("roofRails",T.roofRails||""),M.append("oilType",T.oilType||""),M.append("lastOilChange",T.lastOilChange||""),M.append("freeDealershipOilChanges",T.freeDealershipOilChanges||""),M.append("oilPackageDetails",T.oilPackageDetails||""),M.append("dealershipAddress",T.dealershipAddress||""),M.append("fuelType",T.fuelType||""),M.append("tireSize",T.tireSize||""),M.append("titleType",T.titleType||""),T.vehicleFeatures)if(Array.isArray(T.vehicleFeatures))M.append("vehicleFeatures",JSON.stringify(T.vehicleFeatures));else if(typeof T.vehicleFeatures=="string")try{JSON.parse(T.vehicleFeatures),M.append("vehicleFeatures",T.vehicleFeatures)}catch{const ce=T.vehicleFeatures.split(",").map(Ee=>Ee.trim()).filter(Ee=>Ee);M.append("vehicleFeatures",JSON.stringify(ce))}else M.append("vehicleFeatures","");else M.append("vehicleFeatures","");M.append("purchasePrice",T.purchasePrice||""),M.append("downPayment",T.downPayment||""),M.append("monthlyPayment",T.monthlyPayment||""),M.append("interestRate",T.interestRate||""),M.append("transportCityToCity",T.transportCityToCity||""),M.append("ultimateGoal",T.ultimateGoal||""),M.append("insuranceProvider",T.insuranceProvider||""),M.append("insurancePhone",T.insurancePhone||""),M.append("policyNumber",T.policyNumber||""),M.append("insuranceExpiration",T.insuranceExpiration||""),M.append("carManufacturerWebsite",T.carManufacturerWebsite||""),M.append("carManufacturerUsername",T.carManufacturerUsername||""),M.append("password",T.password||""),M.append("turoLink",T.turoLink||""),M.append("adminTuroLink",T.adminTuroLink||""),R&&T.status&&M.append("status",T.status),R&&T.managementStatus&&M.append("managementStatus",T.managementStatus),M.append("offboardAt",T.offboardAt||""),M.append("offboardReason",T.offboardReason||""),M.append("offboardNote",T.offboardNote||""),N instanceof File?M.append("insuranceCard",N):T.insuranceCardUrl!==void 0&&M.append("insuranceCardUrl",T.insuranceCardUrl||""),A&&A.length>0?A.forEach(ce=>{ce instanceof File&&M.append("driversLicense",ce)}):T.driversLicenseUrls!==void 0&&M.append("driversLicenseUrls",T.driversLicenseUrls||"");const re=await fetch(je(`/api/cars/${s}`),{method:"PATCH",credentials:"include",body:M});if(!re.ok){const ce=await re.json();throw new Error(ce.error||"Failed to update car")}return await re.json()},onSuccess:async(T,M)=>{T?.data&&n.setQueryData(["/api/cars",s],T);const re=T?.data||C,oe=M?.vin||re?.vin||C?.vin,ce=C?.vin;if(await n.refetchQueries({queryKey:["/api/cars",s]}),ce&&ce!==oe&&n.invalidateQueries({queryKey:["/api/onboarding/vin",ce,"onboarding"]}),oe){n.invalidateQueries({queryKey:["/api/onboarding/vin",oe,"onboarding"]}),n.invalidateQueries({predicate:se=>{const be=se.queryKey;return Array.isArray(be)&&be.length>=2&&be[0]==="/api/onboarding/vin"&&(be[1]===oe||be[1]===ce)}});try{await n.refetchQueries({queryKey:["/api/onboarding/vin",oe,"onboarding"],exact:!1}),console.log(` [CAR DETAIL] Refetched onboarding data for VIN: ${oe}`)}catch(se){console.error(" [CAR DETAIL] Failed to refetch onboarding data:",se)}}else console.warn(` [CAR DETAIL] No VIN found for car ${s}, invalidating all onboarding queries`),n.invalidateQueries({predicate:se=>{const be=se.queryKey;return Array.isArray(be)&&be[0]==="/api/onboarding/vin"}});const Ee=re;Ee?.clientId?(n.invalidateQueries({queryKey:["/api/clients",Ee.clientId,"onboarding"]}),await n.refetchQueries({queryKey:["/api/clients",Ee.clientId,"onboarding"]})):C?.clientId&&(n.invalidateQueries({queryKey:["/api/clients",C.clientId,"onboarding"]}),await n.refetchQueries({queryKey:["/api/clients",C.clientId,"onboarding"]})),n.invalidateQueries({queryKey:["/api/cars"]}),n.invalidateQueries({queryKey:["sidebar-badges"]}),r({title:"Success",description:"Car information updated successfully"}),j(null),S(null),E([]),O([]),o(!1)},onError:T=>{r({title:"Error",description:T.message||"Failed to update car",variant:"destructive"})}}),q=yt({mutationFn:async T=>{const M=await fetch(je(`/api/cars/${s}/photos/${encodeURIComponent(T)}`),{method:"DELETE",credentials:"include"});if(!M.ok){const re=await M.json();throw new Error(re.error||"Failed to delete photo")}return M.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/cars",s]}),r({title:"Success",description:"Photo deleted successfully"})},onError:T=>{r({title:"Error",description:T.message||"Failed to delete photo",variant:"destructive"})}}),ne=yt({mutationFn:async T=>{const M=[],re=[];for(const oe of T)try{const ce=oe.split("/").pop()?.split("?")[0]||oe.substring(0,50),Ee=await fetch(je(`/api/cars/${s}/photos/${encodeURIComponent(oe)}`),{method:"DELETE",credentials:"include"});if(Ee.ok){const se=await Ee.json();M.push(se)}else{const se=await Ee.json();re.push(`${ce}: ${se.error||"Failed to delete"}`)}}catch(ce){const Ee=oe.split("/").pop()?.split("?")[0]||oe.substring(0,50);re.push(`${Ee}: ${ce.message||"Failed to delete"}`)}if(re.length>0)throw new Error(`Failed to delete some photos:
${re.join(`
`)}`);return{success:!0,deletedCount:M.length}},onSuccess:(T,M)=>{n.invalidateQueries({queryKey:["/api/cars",s]});const re=M.length;r({title:"Success",description:`${re} photo(s) deleted successfully`}),u(new Set),f(0),x(!1),v(null)},onError:T=>{r({title:"Error",description:T.message||"Failed to delete photos",variant:"destructive"})}}),fe=yt({mutationFn:async T=>{const M=await fetch(je(`/api/cars/${s}/photos/main`),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({photoPath:T})});if(!M.ok){const re=await M.json().catch(()=>({}));throw new Error(re.error||re.message||"Failed to set main photo")}return M.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/cars",s]}),n.invalidateQueries({queryKey:["/api/cars"]}),r({title:"Success",description:"Main photo updated successfully"}),f(0)},onError:T=>{r({title:"Error",description:T.message||"Failed to set main photo",variant:"destructive"})}}),pe=async T=>{const M=T.target.files;if(!M||M.length===0)return;const re=C?.photos?.length||0;if(re+M.length>20){r({title:"Error",description:`Maximum 20 photos allowed. Current: ${re}, Trying to add: ${M.length}`,variant:"destructive"}),T.target.value="";return}c(!0);try{const oe=new FormData;Array.from(M).forEach(be=>{oe.append("photos",be)});const ce=await fetch(je(`/api/cars/${s}/photos`),{method:"POST",credentials:"include",body:oe});if(!ce.ok){const be=await ce.json();throw new Error(be.error||"Failed to upload photos")}const Ee=await ce.json();console.log(" [CAR DETAIL] Photo upload response:",{success:Ee.success,message:Ee.message,hasData:!!Ee.data,photoCount:Ee.data?.photos?.length||0,photos:Ee.data?.photos||[]}),Ee.data&&(n.setQueryData(["/api/cars",s],{success:!0,data:Ee.data}),console.log(" [CAR DETAIL] Updated query cache with new car data:",{photoCount:Ee.data.photos?.length||0,photos:Ee.data.photos||[]})),await n.invalidateQueries({queryKey:["/api/cars",s]}),await n.refetchQueries({queryKey:["/api/cars",s]}),(!C?.photos||C.photos.length===0)&&Ee.data?.photos&&Ee.data.photos.length>0&&(f(0),console.log(" [CAR DETAIL] Reset carousel to first image")),r({title:"Success",description:Ee.message||"Photos uploaded successfully"})}catch(oe){r({title:"Error",description:oe.message||"Failed to upload photos",variant:"destructive"})}finally{c(!1),T.target.value=""}},ye=()=>{if(!C)return;let T=[];if(K?.vehicleFeatures){if(Array.isArray(K.vehicleFeatures))T=K.vehicleFeatures;else if(typeof K.vehicleFeatures=="string")try{const oe=JSON.parse(K.vehicleFeatures);Array.isArray(oe)?T=oe:T=K.vehicleFeatures.split(",").map(ce=>ce.trim()).filter(ce=>ce)}catch{T=K.vehicleFeatures.split(",").map(oe=>oe.trim()).filter(oe=>oe)}}const M=oe=>{if(!oe)return"";try{const ce=new Date(oe);return isNaN(ce.getTime())?"":ce.toISOString().split("T")[0]}catch{return typeof oe=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(oe)?oe:""}},re=oe=>oe==null?"":typeof oe=="number"?oe.toString():typeof oe=="string"?oe:String(oe||"");te.reset({vin:C.vin||"",makeModel:C.makeModel||"",licensePlate:C.licensePlate||"",year:re(C.year),color:C.color||"",mileage:re(K?.vehicleMiles||C.mileage),vehicleTrim:K?.vehicleTrim||"",interiorColor:K?.interiorColor||C.interiorColor||"",registrationExpiration:M(K?.registrationExpiration),vehicleRecall:K?.vehicleRecall||"",numberOfSeats:re(K?.numberOfSeats),numberOfDoors:re(K?.numberOfDoors),skiRacks:K?.skiRacks||"",skiCrossBars:K?.skiCrossBars||"",roofRails:K?.roofRails||"",oilType:K?.oilType||C.oilType||"",lastOilChange:K?.lastOilChange||C.lastOilChange||"",freeDealershipOilChanges:K?.freeDealershipOilChanges||"",oilPackageDetails:K?.oilPackageDetails||"",dealershipAddress:K?.dealershipAddress||"",fuelType:K?.fuelType||C.fuelType||"",tireSize:K?.tireSize||C.tireSize||"",titleType:K?.titleType||"",vehicleFeatures:T,purchasePrice:K?.purchasePrice?re(K.purchasePrice):"",downPayment:K?.downPayment?re(K.downPayment):"",monthlyPayment:K?.monthlyPayment?re(K.monthlyPayment):"",interestRate:K?.interestRate?re(K.interestRate):"",transportCityToCity:K?.transportCityToCity||"",ultimateGoal:K?.ultimateGoal||"",insuranceProvider:K?.insuranceProvider||"",insurancePhone:K?.insurancePhone||"",policyNumber:K?.policyNumber||"",insuranceExpiration:M(K?.insuranceExpiration),carManufacturerWebsite:K?.carManufacturerWebsite||"",carManufacturerUsername:K?.carManufacturerUsername||"",password:K?.password||"",turoLink:C.turoLink||"",adminTuroLink:C.adminTuroLink||"",status:C.status||"ACTIVE",managementStatus:C.managementStatus||"own",offboardAt:M(C.offboardAt),offboardReason:C.offboardReason||void 0,offboardNote:C.offboardNote||"",insuranceCardUrl:K?.insuranceCardUrl||"",driversLicenseUrls:K?.driversLicenseUrls?Array.isArray(K.driversLicenseUrls)?JSON.stringify(K.driversLicenseUrls):K.driversLicenseUrls:""}),j(null),S(null),E([]),O([]),o(!0)},Z=T=>{const M=T.target.files?.[0];if(M)if(j(M),M.type==="application/pdf")S(null);else{const re=new FileReader;re.onloadend=()=>{S(re.result)},re.readAsDataURL(M)}},Ne=T=>{const M=T.target.files;if(M&&M.length>0){const re=Array.from(M);E(re);const oe=[];let ce=0;re.forEach((Ee,se)=>{if(Ee.type==="application/pdf")oe[se]="pdf",ce++,ce===re.length&&O(oe);else{const be=new FileReader;be.onloadend=()=>{oe[se]=be.result,ce++,ce===re.length&&O(oe)},be.readAsDataURL(Ee)}})}},J=()=>{j(null),S(null);const T=document.getElementById("insurance-card-input");T&&(T.value="")},le=T=>{const M=A.filter((oe,ce)=>ce!==T),re=P.filter((oe,ce)=>ce!==T);if(E(M),O(re),M.length===0){const oe=document.getElementById("drivers-license-input");oe&&(oe.value="")}},we=T=>{U.mutate(T)},De=T=>{if(!R)return;const M=new Set(d);M.has(T)?M.delete(T):M.add(T),u(M)},ue=()=>{if(!R||!C?.photos)return;const T=C.photos.map((re,oe)=>oe);T.length>0&&T.every(re=>d.has(re))&&d.size===T.length?u(new Set):u(new Set(T))},Y=()=>{if(!R||!C?.photos||d.size===0)return;const M=Array.from(d).map(re=>C.photos[re]).filter(Boolean);if(M.length===0){r({title:"Error",description:"No valid photos selected",variant:"destructive"});return}ne.mutate(M)},V=()=>{if(!C?.photos||C.photos.length===0)return;x(!0);const T=(h+1)%C.photos.length;f(T),setTimeout(()=>x(!1),5e3)},$=()=>{if(!C?.photos||C.photos.length===0)return;x(!0);const T=(h-1+C.photos.length)%C.photos.length;f(T),setTimeout(()=>x(!1),5e3)},X=T=>{!C?.photos||C.photos.length===0||(x(!0),f(T),setTimeout(()=>x(!1),5e3))};y.useEffect(()=>{const T=M=>{!C?.photos||C.photos.length===0||(M.key==="ArrowLeft"?f(re=>(re-1+C.photos.length)%C.photos.length):M.key==="ArrowRight"&&f(re=>(re+1)%C.photos.length))};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[C?.photos]);const me=T=>{switch(T){case"ACTIVE":return"bg-green-500/20 text-green-400 border-green-500/30";case"INACTIVE":return"bg-gray-500/20 text-gray-400 border-gray-500/30";case"available":case"in_use":return"bg-green-500/20 text-green-400 border-green-500/30";case"maintenance":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"off_fleet":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},z=T=>{try{return new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"N/A"}};return B?a.jsx(jt,{children:a.jsx(Is,{})}):I||!C?a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[a.jsx("p",{className:"text-red-400 mb-4",children:"Failed to load car details"}),a.jsxs(ie,{onClick:()=>{e(s?`/admin/view-car/${s}`:"/cars")},className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:[a.jsx(yn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}):a.jsx(jt,{children:a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[a.jsxs(ie,{variant:"ghost",onClick:()=>e(`/admin/view-car/${s}`),className:"text-gray-400 hover:text-foreground",children:[a.jsx(yn,{className:"w-4 h-4 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-serif text-[#EAEB80] italic",children:C.makeModel}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Car Details"})]})]}),R&&a.jsxs(ie,{onClick:ye,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] w-full sm:w-auto",children:[a.jsx(tl,{className:"w-4 h-4 mr-2"}),"Edit"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-stretch",children:[a.jsxs(ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] lg:col-span-6 flex flex-col",children:[a.jsx($r,{className:"pb-2",children:a.jsxs(Gr,{className:"text-[#EAEB80] text-base sm:text-lg flex items-center gap-2",children:[a.jsx(hs,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Vehicle Information"]})}),a.jsxs(mt,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Make & Model"}),a.jsx("p",{className:"text-foreground text-base font-medium",children:C.makeModel})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Year"}),a.jsx("p",{className:"text-foreground text-base",children:C.year||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"VIN"}),a.jsx("p",{className:"text-foreground text-base font-mono",children:C.vin})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"License Plate"}),a.jsx("p",{className:"text-foreground text-base",children:C.licensePlate||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Title Type"}),a.jsx("p",{className:"text-foreground text-base",children:K?.titleType?ee(K.titleType):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Trim"}),a.jsx("p",{className:"text-foreground text-base",children:C.vehicleTrim?ee(C.vehicleTrim):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Mileage"}),a.jsx("p",{className:"text-foreground text-base",children:C.mileage?`${C.mileage.toLocaleString()} miles`:"N/A"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Exterior Color"}),a.jsx("p",{className:"text-foreground text-base",children:C.color?ee(C.color):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Interior Color"}),a.jsx("p",{className:"text-foreground text-base",children:C.interiorColor?ee(C.interiorColor):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Fuel Type"}),a.jsx("p",{className:"text-foreground text-base",children:C.fuelType?ee(C.fuelType):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Tire Size"}),a.jsx("p",{className:"text-foreground text-base",children:C.tireSize?ee(C.tireSize):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Number of Doors"}),a.jsx("p",{className:"text-foreground text-base",children:C.numberOfDoors?ee(C.numberOfDoors):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Number of Seats"}),a.jsx("p",{className:"text-foreground text-base",children:C.numberOfSeats?ee(C.numberOfSeats):"N/A"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Oil Type"}),a.jsx("p",{className:"text-foreground text-base",children:C.oilType?ee(C.oilType):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Last Oil Change"}),a.jsx("p",{className:"text-foreground text-base",children:C.lastOilChange?ee(C.lastOilChange):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Does Your Vehicle Have Free Dealership Oil Changes?"}),a.jsx("p",{className:"text-foreground text-base",children:C.freeDealershipOilChanges?ee(C.freeDealershipOilChanges):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"If Yes, For How Many Years of Oil Changes, or What Oil Package"}),a.jsx("p",{className:"text-foreground text-base",children:C.oilPackageDetails?ee(C.oilPackageDetails):"N/A"})]}),C.dealershipAddress&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Dealership Address"}),a.jsx("p",{className:"text-foreground text-base",children:ee(C.dealershipAddress)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Registration Expiration"}),a.jsx("p",{className:"text-foreground text-base",children:C.registrationExpiration?ee(C.registrationExpiration):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vehicle Recall"}),a.jsx("p",{className:"text-foreground text-base",children:C.vehicleRecall?ee(C.vehicleRecall):"N/A"})]})]})]}),a.jsx("div",{className:"pt-4 border-t border-[#2a2a2a]",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Roof Rails"}),a.jsx("p",{className:"text-foreground text-base",children:C.roofRails?ee(C.roofRails):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ski Crossbars"}),a.jsx("p",{className:"text-foreground text-base",children:C.skiCrossBars?ee(C.skiCrossBars):"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ski Rack"}),a.jsx("p",{className:"text-foreground text-base",children:C.skiRacks?ee(C.skiRacks):"N/A"})]})]})}),a.jsxs("div",{className:"pt-4 border-t border-[#2a2a2a]",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Features"}),a.jsx("p",{className:"text-foreground text-base",children:C.vehicleFeatures&&Array.isArray(C.vehicleFeatures)&&C.vehicleFeatures.length>0?C.vehicleFeatures.join(", "):C.vehicleFeatures&&typeof C.vehicleFeatures=="string"?C.vehicleFeatures:"N/A"})]}),a.jsx("div",{className:"pt-1.5 border-t border-[#2a2a2a]",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 lg:gap-8",children:[a.jsxs("div",{className:"flex-shrink-0 text-center lg:text-left",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1.5",children:"Assigned To"}),C.rawStatus==="maintenance"?a.jsxs("div",{children:[a.jsx(Ot,{variant:"outline",className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30 mb-2",children:"Maintenance"}),C.owner&&a.jsxs("div",{className:"mt-2",children:[a.jsxs("p",{className:"text-foreground text-sm sm:text-base font-semibold",children:[C.owner.firstName," ",C.owner.lastName]}),C.owner.email&&a.jsx("p",{className:"text-foreground text-xs mt-0.5 break-all",children:C.owner.email})]})]}):C.owner?C.clientId?a.jsxs("button",{onClick:()=>e(`/admin/clients/${C.clientId}`),className:"hover:text-[#EAEB80] transition-colors",children:[a.jsxs("p",{className:"text-foreground text-sm sm:text-base font-semibold hover:underline",children:[C.owner.firstName," ",C.owner.lastName]}),C.owner.email&&a.jsx("p",{className:"text-foreground text-xs mt-0.5 hover:text-[#EAEB80] break-all",children:C.owner.email})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-foreground text-sm sm:text-base font-semibold",children:[C.owner.firstName," ",C.owner.lastName]}),C.owner.email&&a.jsx("p",{className:"text-foreground text-xs mt-0.5 break-all",children:C.owner.email})]}):a.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Unassigned"})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:flex lg:items-start lg:gap-8 lg:flex-1 lg:justify-end gap-4",children:[a.jsxs("div",{className:"text-center lg:min-w-[100px]",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1.5",children:"Car Status"}),a.jsx("div",{className:"flex justify-center",children:a.jsx(Ot,{variant:"outline",className:_e(me(C.status),"text-xs"),children:C.status==="ACTIVE"?"ACTIVE":C.status==="INACTIVE"?"INACTIVE":String(C.status).replace("_"," ").toUpperCase()})})]}),a.jsxs("div",{className:"text-center lg:min-w-[100px]",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1.5",children:"Management"}),a.jsx("p",{className:"text-foreground text-xs sm:text-sm font-medium",children:C.managementStatus==="management"?"Management":C.managementStatus==="own"?"Own":C.managementStatus==="off_ride"?"Off Ride":"N/A"})]}),a.jsxs("div",{className:"text-center lg:min-w-[120px]",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1.5",children:"Online Status"}),C.owner?G?a.jsx("div",{className:"flex justify-center",children:a.jsx(Ot,{variant:"outline",className:_e(G.className,"text-xs"),children:G.text})}):a.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"N/A"}):a.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"N/A"})]}),a.jsxs("div",{className:"text-center lg:min-w-[140px] col-span-2 lg:col-span-1",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1.5",children:"Last Login"}),a.jsx("p",{className:"text-foreground text-xs sm:text-sm font-medium whitespace-normal break-words",children:C.owner?_A(C.owner.lastLoginAt):"N/A"})]})]})]})}),C.offboardAt&&a.jsxs("div",{className:"pt-1.5 border-t border-[#2a2a2a]",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Off-boarded"}),a.jsx("p",{className:"text-foreground text-base",children:z(C.offboardAt)}),C.offboardReason&&a.jsxs("p",{className:"text-gray-400 text-xs mt-0.5",children:["Reason: ",C.offboardReason.replace("_"," ")]}),C.offboardNote&&a.jsxs("p",{className:"text-gray-400 text-xs mt-0.5",children:["Note: ",C.offboardNote]})]})]})]}),a.jsxs("div",{className:"lg:col-span-6 flex flex-col gap-6",children:[a.jsxs(ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] flex flex-col flex-1",children:[a.jsx($r,{className:"pb-2",children:a.jsxs(Gr,{className:"text-[#EAEB80] text-lg flex items-center gap-2",children:[a.jsx(hs,{className:"w-5 h-5"}),"Car Photos"]})}),a.jsx(mt,{className:"flex-1 flex flex-col",children:C.photos&&C.photos.length>0?a.jsxs("div",{className:"space-y-2 flex-1 flex flex-col",children:[a.jsxs("div",{className:"relative w-full flex-1 bg-black rounded-lg overflow-hidden border border-[#2a2a2a]",children:[C.photos.map((T,M)=>{let re;T?(re=Zp(T),M===0&&console.log(` [CAR DETAIL] Photo ${M+1}: Using proxied URL:`,re.substring(0,100)+"...")):(console.warn(` [CAR DETAIL] Empty photo path at index ${M}`),re="");const oe=M===h;return a.jsx("div",{className:_e("absolute inset-0 transition-all duration-500 ease-in-out px-6",oe?"opacity-100 z-10":"opacity-0 z-0"),children:a.jsx("img",{src:re,alt:`Car photo ${M+1}`,className:"w-full h-full object-contain",onError:ce=>{console.error(" [CAR DETAIL] Failed to load photo:",re),console.error("   Original photo:",T),console.error("   API Base URL:","Not set"),console.error("   Photo URL type:",T?.startsWith("https://storage.googleapis.com/")?"GCS":"Other"),console.error("   Proxy URL:",re),re&&re.includes("/api/gcs-image-proxy")&&fetch(re).then(se=>(console.error("   Proxy response status:",se.status),console.error("   Proxy response headers:",Object.fromEntries(se.headers.entries())),se.text())).then(se=>console.error("   Proxy response body:",se.substring(0,200))).catch(se=>console.error("   Proxy fetch error:",se));const Ee=ce.target;Ee.style.opacity="0.3",Ee.style.filter="grayscale(100%)"}})},M)}),C.photos.length>1&&a.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 flex items-center gap-3",children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:$,className:"h-9 w-9 bg-black/70 hover:bg-black/90 text-foreground border border-white/30 rounded-full shadow-lg backdrop-blur-sm transition-all hover:scale-110","aria-label":"Previous image",children:a.jsx(Kl,{className:"w-5 h-5"})}),a.jsx("div",{className:"bg-black/70 px-4 py-2 rounded-full border border-white/30 shadow-lg backdrop-blur-sm",children:a.jsxs("span",{className:"text-foreground text-sm font-medium",children:[h+1," / ",C.photos.length]})}),a.jsx(ie,{variant:"ghost",size:"icon",onClick:V,className:"h-9 w-9 bg-black/70 hover:bg-black/90 text-foreground border border-white/30 rounded-full shadow-lg backdrop-blur-sm transition-all hover:scale-110","aria-label":"Next image",children:a.jsx(pa,{className:"w-5 h-5"})})]})]}),C.photos.length>1&&a.jsx("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:C.photos.map((T,M)=>a.jsx("button",{onClick:()=>X(M),className:_e("w-3 h-3 rounded-full transition-all duration-300",M===h?"bg-[#EAEB80] w-8":"bg-gray-600 hover:bg-gray-500"),"aria-label":`Go to image ${M+1}`},M))})]}):a.jsx("div",{className:"flex items-center justify-center flex-1 bg-black/20 rounded-lg border border-[#2a2a2a]",children:a.jsx("p",{className:"text-gray-400 text-center",children:"No photos available"})})})]}),a.jsxs(ft,{className:"bg-[#0f0f0f] border-[#1a1a1a]",children:[a.jsx($r,{children:a.jsxs(Gr,{className:"text-[#EAEB80] text-lg flex items-center gap-2",children:[a.jsx(hs,{className:"w-5 h-5"}),"Car Links"]})}),a.jsx(mt,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Turo Link"}),C.turoLink?a.jsx("p",{className:"text-foreground text-base break-all",children:a.jsx("a",{href:C.turoLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline",children:ee(C.turoLink)})}):a.jsx("p",{className:"text-gray-500 text-base",children:"Not provided"})]}),R&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Admin Turo Link"}),C.adminTuroLink?a.jsx("p",{className:"text-foreground text-base break-all",children:a.jsx("a",{href:C.adminTuroLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline",children:ee(C.adminTuroLink)})}):a.jsx("p",{className:"text-gray-500 text-base",children:"Not provided"})]})]})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[a.jsxs(ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] lg:col-span-3",children:[a.jsx($r,{children:a.jsx(Gr,{className:"text-[#EAEB80] text-lg",children:"Documents"})}),a.jsx(mt,{children:W?a.jsx("div",{className:"text-center py-8 text-gray-400",children:a.jsx("p",{className:"text-sm",children:"Loading documents..."})}):K?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-200 mb-4",children:"Insurance Card"}),K.insuranceCardUrl&&String(K.insuranceCardUrl).trim()?(()=>{const T=String(K.insuranceCardUrl).trim(),M=T.startsWith("http://")||T.startsWith("https://")||T.startsWith("/"),re=T.includes("/")&&(T.includes(".")||T.startsWith("/")),oe=T&&!M&&!re&&T.length>=10&&/^[a-zA-Z0-9_-]+$/.test(T),ce=oe?je(`/api/cars/documents/file-content?fileId=${encodeURIComponent(T)}`):T.startsWith("http")?T:je(T.startsWith("/")?T:`/${T}`),Ee=oe?!1:k(T);return a.jsx("div",{className:"relative group cursor-pointer",onClick:()=>{w({url:ce,type:"insurance",isPdf:Ee})},children:a.jsxs("div",{className:`relative w-full aspect-[4/3] bg-[#0a0a0a] rounded-lg border-2 transition-all overflow-hidden shadow-lg ${Ee?"border-[#EAEB80]/50 hover:border-[#EAEB80] shadow-[#EAEB80]/20":"border-[#EAEB80]/30 hover:border-[#EAEB80] shadow-[#EAEB80]/20"}`,children:[Ee?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4",children:[a.jsx(Ln,{className:"w-16 h-16 text-[#EAEB80] mb-2"}),a.jsx("p",{className:"text-[#EAEB80] text-sm font-semibold",children:"PDF Document"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Click to open in PDF viewer"})]}):oe?a.jsx(T4,{url:ce,alt:"Insurance Card",className:"w-full h-full object-contain p-2",onError:se=>{const be=se.target,Le=be.parentElement;if(Le&&!Le.querySelector("iframe")){be.style.display="none";const Me=document.createElement("iframe");Me.src=ce,Me.className="w-full h-full border-0",Me.title="Insurance Card",Le.appendChild(Me)}else if(Le&&!Le.querySelector(".error-message")){const Me=document.createElement("div");Me.className="error-message text-sm text-gray-500 absolute inset-0 flex items-center justify-center",Me.textContent="Failed to load document",Le.appendChild(Me)}}}):a.jsx("img",{src:ce,alt:"Insurance Card",className:"w-full h-full object-contain p-2",onLoad:se=>{const Le=se.target.parentElement?.parentElement;if(Le){const Me=Le.querySelector(".error-message");Me&&Me.remove()}},onError:se=>{console.error("Failed to load insurance card image:",K.insuranceCardUrl);const be=se.target;be.style.display="none";const Le=be.parentElement?.parentElement;if(Le&&!Le.querySelector(".error-message")){const Me=document.createElement("div");Me.className="error-message text-sm text-gray-500 absolute inset-0 flex items-center justify-center",Me.textContent="Failed to load image",Le.appendChild(Me)}}}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-black/70 text-foreground px-4 py-2 rounded-lg text-sm font-medium",children:Ee?"Click to open PDF":"Click to view full screen"})}),Ee&&a.jsx("div",{className:"absolute top-2 right-2 bg-[#EAEB80]/90 text-black text-xs px-2 py-1 rounded font-semibold",children:"PDF"})]})})})():a.jsx("div",{className:"w-full aspect-[4/3] bg-[#0a0a0a] rounded-lg border border-gray-700 flex items-center justify-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"No insurance card uploaded"})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-base font-semibold text-gray-200 mb-4",children:"Drivers License"}),H.length>0?a.jsx("div",{className:"space-y-4",children:H.map((T,M)=>{const re=T.startsWith("http://")||T.startsWith("https://")||T.startsWith("/"),oe=T.includes("/")&&(T.includes(".")||T.startsWith("/")),ce=T&&!re&&!oe&&T.length>=10&&/^[a-zA-Z0-9_-]+$/.test(T),Ee=ce?je(`/api/cars/documents/file-content?fileId=${encodeURIComponent(T)}`):T.startsWith("http")?T:je(T.startsWith("/")?T:`/${T}`),se=ce?!1:k(T);return M===0&&console.log("[Car Detail] Drivers License URL:",{url:T,isGoogleDriveId:ce,documentUrl:Ee,isPdf:se,totalUrls:H.length,looksLikeUrl:T.startsWith("http://")||T.startsWith("https://")||T.startsWith("/"),hasSlash:T.includes("/"),hasDot:T.includes("."),length:T.length,matchesPattern:/^[a-zA-Z0-9_-]+$/.test(T)}),a.jsx("div",{className:"relative group cursor-pointer",onClick:()=>w({url:Ee,type:"license",index:M,isPdf:se}),children:a.jsxs("div",{className:`relative w-full aspect-[4/3] bg-[#0a0a0a] rounded-lg border-2 transition-all overflow-hidden shadow-lg ${se?"border-[#EAEB80]/50 hover:border-[#EAEB80] shadow-[#EAEB80]/20":"border-[#EAEB80]/30 hover:border-[#EAEB80] shadow-[#EAEB80]/20"}`,children:[se?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4",children:[a.jsx("div",{className:"text-[#EAEB80] mb-2",children:a.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),a.jsx("p",{className:"text-[#EAEB80] text-sm font-semibold",children:"PDF Document"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Click to open in PDF viewer"})]}):ce?a.jsx(T4,{url:Ee,alt:`Drivers License ${M+1}`,className:"w-full h-full object-contain p-2",onError:be=>{const Le=be.target,Me=Le.parentElement;if(Me&&!Me.querySelector("iframe")){Le.style.display="none";const lt=document.createElement("iframe");lt.src=Ee,lt.className="w-full h-full border-0",lt.title=`Drivers License ${M+1}`,Me.appendChild(lt)}else if(Me&&!Me.querySelector(".error-message")){const lt=document.createElement("div");lt.className="error-message text-sm text-gray-500 absolute inset-0 flex items-center justify-center",lt.textContent="Failed to load document",Me.appendChild(lt)}}}):a.jsx("img",{src:Ee,alt:`Drivers License ${M+1}`,className:"w-full h-full object-contain p-2",onLoad:be=>{const Me=be.target.parentElement?.parentElement;if(Me){const lt=Me.querySelector(".error-message");lt&&lt.remove()}},onError:be=>{console.error("Failed to load drivers license image:",T);const Le=be.target;Le.style.display="none";const Me=Le.parentElement?.parentElement;if(Me&&!Me.querySelector(".error-message")){const lt=document.createElement("div");lt.className="error-message text-sm text-gray-500 absolute inset-0 flex items-center justify-center",lt.textContent="Failed to load image",Me.appendChild(lt)}}}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-black/70 text-foreground px-4 py-2 rounded-lg text-sm font-medium",children:se?"Click to open PDF":"Click to view full screen"})}),se&&a.jsx("div",{className:"absolute top-2 right-2 bg-[#EAEB80]/90 text-black text-xs px-2 py-1 rounded font-semibold",children:"PDF"}),H.length>1&&a.jsxs("div",{className:"absolute top-2 left-2 bg-black/80 text-foreground text-xs px-2 py-1 rounded",children:[M+1," / ",H.length]})]})},M)})}):a.jsx("div",{className:"w-full aspect-[4/3] bg-[#0a0a0a] rounded-lg border border-gray-700 flex items-center justify-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"No drivers license uploaded"})})]})]}):a.jsx("div",{className:"text-center py-8 text-gray-400",children:a.jsx("p",{className:"text-sm",children:"No documents available"})})})]}),a.jsxs(ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] lg:col-span-3",children:[a.jsx($r,{children:a.jsx(Gr,{className:"text-[#EAEB80] text-lg",children:"Purchase Information"})}),a.jsx(mt,{className:"space-y-4",children:W?a.jsx("div",{className:"text-center py-4 text-gray-400",children:a.jsx("p",{className:"text-sm",children:"Loading..."})}):K?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Purchase Price"}),a.jsx("p",{className:"text-foreground text-base font-medium",children:Q(K.purchasePrice)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Down Payment"}),a.jsx("p",{className:"text-foreground text-base font-medium",children:Q(K.downPayment)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Monthly Payment"}),a.jsx("p",{className:"text-foreground text-base font-medium",children:Q(K.monthlyPayment)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Interest Rate"}),a.jsxs("p",{className:"text-foreground text-base font-medium",children:[ee(K.interestRate),"%"]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-[#2a2a2a] space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Transport City to City"}),a.jsx("p",{className:"text-foreground text-base",children:ee(K.transportCityToCity)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Ultimate Goal"}),a.jsx("p",{className:"text-foreground text-base",children:ee(K.ultimateGoal)})]})]})]}):a.jsx("div",{className:"text-center py-4 text-gray-400",children:a.jsx("p",{className:"text-sm",children:"No financial information available"})})})]}),a.jsxs(ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] lg:col-span-3",children:[a.jsx($r,{children:a.jsx(Gr,{className:"text-[#EAEB80] text-lg",children:"Car Login Information"})}),a.jsxs(mt,{className:"space-y-2",children:[W?a.jsx("div",{className:"text-center py-4 text-gray-400",children:a.jsx("p",{className:"text-sm",children:"Loading..."})}):K?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[K.carManufacturerWebsite&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Car Manufacturer Website"}),a.jsx("p",{className:"text-foreground text-base break-all",children:a.jsx("a",{href:K.carManufacturerWebsite,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline",children:ee(K.carManufacturerWebsite)})})]}),K.carManufacturerUsername&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Manufacturer Username"}),a.jsx("p",{className:"text-foreground text-base",children:ee(K.carManufacturerUsername)})]}),K.password&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Password"}),a.jsx("p",{className:"text-foreground text-base font-mono",children:ee(K.password)})]})]}):a.jsx("div",{className:"text-center py-4 text-gray-400",children:a.jsx("p",{className:"text-sm",children:"No additional information available"})}),a.jsxs("div",{className:"pt-3 border-t border-[#2a2a2a] space-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Created"}),a.jsx("p",{className:"text-foreground text-base",children:z(C.createdAt)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Last Updated"}),a.jsx("p",{className:"text-foreground text-base",children:z(C.updatedAt)})]})]})]})]}),a.jsxs(ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] lg:col-span-3",children:[a.jsx($r,{children:a.jsx(Gr,{className:"text-[#EAEB80] text-lg",children:"Insurance Information"})}),a.jsx(mt,{className:"space-y-2",children:W?a.jsx("div",{className:"text-center py-4 text-gray-400",children:a.jsx("p",{className:"text-sm",children:"Loading..."})}):K?a.jsx(a.Fragment,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Provider"}),a.jsx("p",{className:"text-foreground text-base",children:ee(K.insuranceProvider)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),a.jsx("p",{className:"text-foreground text-base",children:ee(K.insurancePhone)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Policy Number"}),a.jsx("p",{className:"text-foreground text-base font-mono",children:ee(K.policyNumber)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Expiration"}),a.jsx("p",{className:"text-foreground text-base",children:ee(K.insuranceExpiration)})]})]})}):a.jsx("div",{className:"text-center py-4 text-gray-400",children:a.jsx("p",{className:"text-sm",children:"No insurance information available"})})})]})]}),R&&a.jsxs(ft,{className:"bg-[#0f0f0f] border-[#1a1a1a]",children:[a.jsx($r,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Gr,{className:"text-[#EAEB80] text-lg flex items-center gap-2",children:[a.jsx(gn,{className:"w-5 h-5"}),"Photos (",C.photos?.length||0," / 20)"]}),R&&a.jsxs("div",{className:"flex items-center gap-2",children:[d.size>0&&a.jsxs(a.Fragment,{children:[a.jsx(hf,{trigger:a.jsx(ie,{variant:"outline",disabled:ne.isPending,className:"border-red-500/50 text-red-400 hover:bg-red-500/10 hover:border-red-500",children:ne.isPending?a.jsx(a.Fragment,{children:"Deleting..."}):a.jsxs(a.Fragment,{children:[a.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Delete Selected (",d.size,")"]})}),title:"Delete Selected Photos",description:`Are you sure you want to delete ${d.size} photo(s)? This action cannot be undone. Photos will be deleted from both the interface and storage.`,confirmText:"Delete",cancelText:"Cancel",variant:"destructive",onConfirm:Y}),a.jsx(ie,{variant:"ghost",onClick:()=>u(new Set),className:"text-gray-400 hover:text-foreground",children:"Clear Selection"})]}),C.photos&&C.photos.length>0&&a.jsx(ie,{variant:"outline",onClick:ue,className:"border-[#EAEB80]/50 text-[#EAEB80] hover:bg-[#EAEB80]/10",children:(()=>{const T=C.photos.map((re,oe)=>oe);return T.length>0&&T.every(re=>d.has(re))&&d.size===T.length?a.jsxs(a.Fragment,{children:[a.jsx(Ite,{className:"w-4 h-4 mr-2"}),"Deselect All"]}):a.jsxs(a.Fragment,{children:[a.jsx(bI,{className:"w-4 h-4 mr-2"}),"Select All"]})})()}),a.jsx(ae,{type:"file",accept:"image/*",multiple:!0,onChange:pe,disabled:l,className:"hidden",id:"photo-upload"}),a.jsx(ie,{asChild:!0,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",disabled:l,children:a.jsx("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:l?a.jsx(a.Fragment,{children:"Uploading..."}):a.jsxs(a.Fragment,{children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Upload Photos"]})})})]})]})}),a.jsx(mt,{children:C.photos&&C.photos.length>0?a.jsx("div",{className:"grid grid-cols-8 gap-4",children:C.photos.map((T,M)=>{let re;T?re=Zp(T):(console.warn(`[CAR DETAIL] Empty photo path at index ${M}`),re=""),M===0&&(console.log("[CAR DETAIL] Main photo URL (grid):",re),console.log("[CAR DETAIL] Photo path (grid):",T),console.log("[CAR DETAIL] Original photo (grid):",T));const oe=d.has(M),ce=M===0;return a.jsx("div",{className:_e("relative group",oe&&"ring-2 ring-[#EAEB80] rounded-lg",R&&"cursor-pointer"),onClick:Ee=>{if(R){const se=Ee.target;!se.closest(".checkbox-area")&&!se.closest("button")&&De(M)}},children:a.jsxs("div",{className:"relative aspect-square",children:[a.jsx("img",{src:re,alt:`Car photo ${M+1}`,className:_e("w-full h-full object-cover rounded-lg border transition-all",oe?"border-[#EAEB80] opacity-80":"border-[#2a2a2a] group-hover:border-[#EAEB80]/50"),onError:Ee=>{const se=Ee.target;se.style.opacity="0.3",se.style.filter="grayscale(100%)"}}),ce&&a.jsx("div",{className:"absolute bottom-2 left-2 bg-black/70 text-[#EAEB80] text-[10px] px-2 py-1 rounded border border-[#EAEB80]/30",children:"Main"}),R&&a.jsx("div",{className:"absolute top-2 left-2 z-10 checkbox-area",onClick:Ee=>Ee.stopPropagation(),children:a.jsx("button",{type:"button",onClick:Ee=>{Ee.stopPropagation(),De(M)},className:_e("w-6 h-6 rounded border-2 flex items-center justify-center transition-all cursor-pointer",oe?"bg-[#EAEB80] border-[#EAEB80] hover:bg-[#d4d570]":"bg-black/50 border-white/50 hover:border-white hover:bg-black/70"),children:oe&&a.jsx(bI,{className:"w-4 h-4 text-black"})})}),R&&a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",onClick:Ee=>Ee.stopPropagation(),children:a.jsx(hf,{trigger:a.jsx(ie,{variant:"ghost",size:"sm",className:"bg-red-500/80 hover:bg-red-500 text-foreground",children:a.jsx(pr,{className:"w-4 h-4"})}),title:"Delete Photo",description:"Are you sure you want to delete this photo? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"destructive",onConfirm:()=>{const Ee=T,se=M;q.mutate(Ee,{onSuccess:()=>{if(d.has(se)){const be=new Set(d);be.delete(se),u(be)}C.photos&&h>=C.photos.length-1&&f(Math.max(0,C.photos.length-2))}})}})}),R&&!ce&&a.jsx("div",{className:"absolute bottom-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",onClick:Ee=>Ee.stopPropagation(),children:a.jsx(ie,{type:"button",variant:"ghost",size:"sm",disabled:fe.isPending,onClick:Ee=>{Ee.stopPropagation(),fe.mutate(T)},className:"bg-black/70 hover:bg-black/90 text-[#EAEB80] border border-[#EAEB80]/30 h-7 w-7 p-0",title:"Set as main photo",children:a.jsx(fU,{className:"w-4 h-4"})})}),a.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 px-2 py-1 rounded text-xs text-foreground",children:M+1})]})},M)})}):a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsxs("p",{className:"text-gray-400 text-center",children:["No photos uploaded. ",R&&"Upload photos to get started."]})})})]}),a.jsxs(ft,{className:"bg-[#0f0f0f] border-[#1a1a1a]",children:[a.jsx($r,{children:a.jsx(Gr,{className:"text-[#EAEB80] text-lg",children:"Rental History"})}),a.jsx(mt,{children:a.jsx("p",{className:"text-gray-400 text-center py-8",children:"Rental history tracking coming soon"})})]}),R&&a.jsx($t,{open:i,onOpenChange:T=>{o(T),T||(j(null),S(null),E([]),O([]))},children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-[95vw] sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold",children:"Edit Car Information"}),a.jsx(Ut,{className:"text-gray-400",children:"Update vehicle information, documents, vehicle purchase information, vehicle login information, and insurance information"})]}),a.jsx(Rs,{...te,children:a.jsxs("form",{onSubmit:te.handleSubmit(we),className:"space-y-6 mt-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Vehicle Information"}),a.jsx(ke,{control:te.control,name:"vin",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"VIN *"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",maxLength:17})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"makeModel",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Make & Model *"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:te.control,name:"licensePlate",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"License Plate"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"year",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Year"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"number",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:te.control,name:"color",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Exterior Color"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"mileage",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Mileage"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"number",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"titleType",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Title Type"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"vehicleTrim",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Trim"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"interiorColor",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Interior Color"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"registrationExpiration",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Registration Expiration"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"date",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"vehicleRecall",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Vehicle Recall"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"numberOfSeats",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Number of Seats"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"number",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"numberOfDoors",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Number of Doors"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"number",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"skiRacks",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Ski Rack"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"skiCrossBars",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Ski Crossbars"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"roofRails",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Roof Rails"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"oilType",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Oil Type"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"lastOilChange",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Last Oil Change Date"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"date",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"freeDealershipOilChanges",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Does Your Vehicle Have Free Dealership Oil Changes?"}),a.jsxs(tt,{onValueChange:T.onChange,value:T.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select"})})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Yes",children:"Yes"}),a.jsx(xe,{value:"No",children:"No"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"oilPackageDetails",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"If Yes, For How Many Years of Oil Changes, or What Oil Package"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"e.g., 3 years or Premium Package"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"dealershipAddress",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Dealership Address"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"fuelType",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Fuel Type"}),a.jsxs(tt,{onValueChange:T.onChange,defaultValue:T.value,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select fuel type"})})}),a.jsxs(Ze,{children:[a.jsx(xe,{value:"Regular",children:"Regular"}),a.jsx(xe,{value:"Premium",children:"Premium"}),a.jsx(xe,{value:"Premium 91 Unleaded",children:"Premium 91 Unleaded"}),a.jsx(xe,{value:"Regular Unleaded",children:"Regular Unleaded"}),a.jsx(xe,{value:"91 Unleaded",children:"91 Unleaded"}),a.jsx(xe,{value:"Gasoline",children:"Gasoline"}),a.jsx(xe,{value:"Electric",children:"Electric"}),a.jsx(xe,{value:"Diesel",children:"Diesel"}),a.jsx(xe,{value:"Others",children:"Others"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"tireSize",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Tire Size"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"vehicleFeatures",render:()=>a.jsxs(Ce,{className:"col-span-2",children:[a.jsx("div",{className:"mb-4",children:a.jsx(Ae,{className:"text-gray-400 text-base font-semibold",children:"Features (check all that apply)"})}),a.jsx("div",{className:"border border-[#2a2a2a] rounded-lg p-4 bg-[#1a1a1a]",children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["All-wheel drive","AUX input","Blind Spot Warning","Convertible","Keyless Entry","Snow Tires or Chains","USB Charger","Android Auto","Back Up Camera","Bluetooth","GPS","Pet Friendly","Sunroof","USB Input","Apple CarPlay","Bike Rack","Toll Pass","Wheelchair Accessible"].map(T=>a.jsx(ke,{control:te.control,name:"vehicleFeatures",render:({field:M})=>a.jsxs(Ce,{className:"flex flex-row items-start space-x-3 space-y-0",children:[a.jsx(Pe,{children:a.jsx(pn,{checked:Array.isArray(M.value)?M.value.includes(T):!1,onCheckedChange:re=>{const oe=Array.isArray(M.value)?M.value:[];return re?M.onChange([...oe,T]):M.onChange(oe.filter(ce=>ce!==T))},className:"border-[#2a2a2a] data-[state=checked]:bg-[#EAEB80] data-[state=checked]:border-[#EAEB80]"})}),a.jsx(Ae,{className:"text-gray-300 text-sm font-normal cursor-pointer",children:T})]},T)},T))})}),a.jsx(Te,{})]})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Purchase Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:te.control,name:"purchasePrice",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Purchase Price"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"number",step:"0.01",placeholder:"0.00",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"downPayment",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Down Payment"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"number",step:"0.01",placeholder:"0.00",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"monthlyPayment",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Monthly Payment"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"number",step:"0.01",placeholder:"0.00",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"interestRate",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Interest Rate (%)"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"number",step:"0.01",placeholder:"0.00",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"transportCityToCity",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Transport City to City"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"ultimateGoal",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Ultimate Goal"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Insurance Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:te.control,name:"insuranceProvider",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Provider"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"insurancePhone",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Phone"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"tel",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"policyNumber",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Policy Number"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80] font-mono"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"insuranceExpiration",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Expiration"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"date",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Car Login Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:te.control,name:"carManufacturerWebsite",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Car Manufacturer Website"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"url",placeholder:"https://example.com",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"carManufacturerUsername",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Manufacturer Username"}),a.jsx(Pe,{children:a.jsx(ae,{...T,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:te.control,name:"password",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Password"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"password",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80] font-mono"})}),a.jsx(Te,{})]})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Car Links"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(ke,{control:te.control,name:"turoLink",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Turo Link"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"url",placeholder:"https://turo.com/...",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),R&&a.jsx(ke,{control:te.control,name:"adminTuroLink",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Admin Turo Link"}),a.jsx(Pe,{children:a.jsx(ae,{...T,type:"url",placeholder:"https://turo.com/...",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]})]}),R&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Car Status"}),a.jsx(ke,{control:te.control,name:"status",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Car Status"}),a.jsx(Pe,{children:a.jsxs(tt,{value:T.value||"ACTIVE",onValueChange:M=>{T.onChange(M),M==="INACTIVE"?te.getValues("offboardAt")||te.setValue("offboardAt",new Date().toISOString().split("T")[0]):M==="ACTIVE"&&(te.setValue("offboardAt",""),te.setValue("offboardReason",void 0),te.setValue("offboardNote",""))},disabled:!R,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select car status"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"ACTIVE",children:"Active"}),a.jsx(xe,{value:"INACTIVE",children:"Inactive"})]})]})}),a.jsx(Te,{}),a.jsx("p",{className:"text-xs text-gray-500",children:"Only admins can change car status. When set to Inactive, offboarding status will be automatically updated to Offboarded. When set to Active, offboarding status will be automatically updated to Active."})]})})]}),R&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Management Status"}),a.jsx(ke,{control:te.control,name:"managementStatus",render:({field:T})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Management Status"}),a.jsx(Pe,{children:a.jsxs(tt,{value:T.value||"own",onValueChange:T.onChange,disabled:!R,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select management status"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"management",children:"Management"}),a.jsx(xe,{value:"own",children:"Own"}),a.jsx(xe,{value:"off_ride",children:"Off Ride"})]})]})}),a.jsx(Te,{}),a.jsx("p",{className:"text-xs text-gray-500",children:"Only admins can change management status. Automatic updates occur on onboarding approval, offboarding, and maintenance events."})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#2a2a2a] pb-2",children:"Documents"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-1 w-1 rounded-full bg-[#EAEB80]"}),a.jsx(Se,{className:"text-gray-300 text-base font-semibold",children:"Insurance Card"})]}),K?.insuranceCardUrl&&!N&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Current Document"}),a.jsx("div",{className:"relative w-full aspect-[4/3] bg-gradient-to-br from-[#0a0a0a] to-[#1a1a1a] rounded-xl border-2 border-[#2a2a2a] overflow-hidden shadow-lg hover:border-[#EAEB80]/30 transition-all",children:(()=>{const T=String(K.insuranceCardUrl).trim(),M=T&&!T.includes("/")&&!T.includes(".")&&T.length>=10&&/^[a-zA-Z0-9_-]+$/.test(T)&&!T.startsWith("http"),re=M?je(`/api/cars/documents/file-content?fileId=${encodeURIComponent(T)}`):T.startsWith("http")?T:je(T.startsWith("/")?T:`/${T}`);return(M?T.toLowerCase().includes("pdf")||T.toLowerCase().endsWith(".pdf"):k(T))?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ln,{className:"w-16 h-16 text-[#EAEB80] mb-2"}),a.jsx("div",{className:"absolute -top-1 -right-1 bg-[#EAEB80]/20 text-[#EAEB80] text-xs px-2 py-0.5 rounded-full font-bold",children:"PDF"})]}),a.jsx("p",{className:"text-[#EAEB80] text-sm font-semibold",children:"PDF Document"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1 truncate max-w-full px-2",children:M?"Google Drive File":K.insuranceCardUrl.split("/").pop()})]}):a.jsx("img",{src:re,alt:"Current Insurance Card",className:"w-full h-full object-contain p-2"})})()})]}),N&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-[#EAEB80] font-semibold",children:"New Document Selected"}),a.jsx("div",{className:"relative w-full aspect-[4/3] bg-gradient-to-br from-[#EAEB80]/10 to-[#EAEB80]/5 rounded-xl border-2 border-[#EAEB80]/60 overflow-hidden shadow-lg ring-2 ring-[#EAEB80]/20",children:N.type==="application/pdf"?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ln,{className:"w-16 h-16 text-[#EAEB80] mb-2"}),a.jsx("div",{className:"absolute -top-1 -right-1 bg-[#EAEB80] text-black text-xs px-2 py-0.5 rounded-full font-bold",children:"PDF"})]}),a.jsx("p",{className:"text-[#EAEB80] text-sm font-semibold",children:"PDF Document"}),a.jsx("p",{className:"text-gray-300 text-xs mt-1 truncate max-w-full px-2",children:N.name})]}):b?a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx("img",{src:b,alt:"Preview",className:"w-full h-full object-contain p-2"}),a.jsx(ie,{type:"button",variant:"ghost",size:"icon",onClick:J,className:"absolute top-2 right-2 h-8 w-8 bg-red-600/90 hover:bg-red-600 text-foreground rounded-full shadow-lg hover:scale-110 transition-transform",children:a.jsx(pr,{className:"w-4 h-4"})})]}):null})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("label",{htmlFor:"insurance-card-input",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-[#EAEB80]/40 rounded-xl bg-[#0a0a0a]/50 hover:border-[#EAEB80]/60 hover:bg-[#EAEB80]/5 transition-all cursor-pointer group",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(gn,{className:"w-8 h-8 text-[#EAEB80] mb-2 group-hover:scale-110 transition-transform"}),a.jsx("p",{className:"mb-2 text-sm font-semibold text-gray-300 group-hover:text-[#EAEB80] transition-colors",children:N?"Change File":"Click to Upload"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Image or PDF (Max 10MB)"})]}),a.jsx(ae,{id:"insurance-card-input",type:"file",accept:"image/*,application/pdf",onChange:Z,className:"hidden"})]}),N&&a.jsx("p",{className:"text-xs text-[#EAEB80] mt-2 text-center font-medium",children:" Ready to update"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-1 w-1 rounded-full bg-[#EAEB80]"}),a.jsx(Se,{className:"text-gray-300 text-base font-semibold",children:"Drivers License"})]}),K?.driversLicenseUrls&&Array.isArray(K.driversLicenseUrls)&&K.driversLicenseUrls.length>0&&A.length===0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["Current Documents (",K.driversLicenseUrls.length,")"]}),K.driversLicenseUrls.length===1?a.jsx("div",{className:"relative w-full aspect-[4/3] bg-gradient-to-br from-[#0a0a0a] to-[#1a1a1a] rounded-xl border-2 border-[#2a2a2a] overflow-hidden shadow-lg hover:border-[#EAEB80]/30 transition-all",children:(()=>{const T=K.driversLicenseUrls[0],M=T&&!T.includes("/")&&!T.includes(".")&&T.length>=10&&/^[a-zA-Z0-9_-]+$/.test(T)&&!T.startsWith("http"),re=M?je(`/api/cars/documents/file-content?fileId=${encodeURIComponent(T)}`):T.startsWith("http")?T:je(T);return(M?T.toLowerCase().includes("pdf")||T.toLowerCase().endsWith(".pdf"):k(T))?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ln,{className:"w-16 h-16 text-[#EAEB80] mb-2"}),a.jsx("div",{className:"absolute -top-1 -right-1 bg-[#EAEB80]/20 text-[#EAEB80] text-xs px-2 py-0.5 rounded-full font-bold",children:"PDF"})]}),a.jsx("p",{className:"text-[#EAEB80] text-sm font-semibold",children:"PDF Document"}),a.jsx("p",{className:"text-gray-400 text-xs mt-1 truncate max-w-full px-2",children:M?"Google Drive File":T.split("/").pop()})]}):a.jsx("img",{src:re,alt:"Drivers License",className:"w-full h-full object-contain p-2"})})()}):a.jsx("div",{className:"grid grid-cols-2 gap-3",children:K.driversLicenseUrls.map((T,M)=>{const re=T&&!T.includes("/")&&!T.includes(".")&&T.length>=10&&/^[a-zA-Z0-9_-]+$/.test(T)&&!T.startsWith("http"),oe=re?je(`/api/cars/documents/file-content?fileId=${encodeURIComponent(T)}`):T.startsWith("http")?T:je(T),ce=re?T.toLowerCase().includes("pdf")||T.toLowerCase().endsWith(".pdf"):k(T);return a.jsxs("div",{className:"relative w-full aspect-[4/3] bg-gradient-to-br from-[#0a0a0a] to-[#1a1a1a] rounded-xl border-2 border-[#2a2a2a] overflow-hidden shadow-lg hover:border-[#EAEB80]/30 transition-all",children:[ce?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ln,{className:"w-12 h-12 text-[#EAEB80] mb-1"}),a.jsx("div",{className:"absolute -top-1 -right-1 bg-[#EAEB80]/20 text-[#EAEB80] text-xs px-1.5 py-0.5 rounded-full font-bold",children:"PDF"})]}),a.jsx("p",{className:"text-[#EAEB80] text-xs font-semibold",children:"PDF"})]}):a.jsx("img",{src:oe,alt:`License ${M+1}`,className:"w-full h-full object-contain p-1"}),a.jsx("div",{className:"absolute top-1 left-1 bg-black/90 text-[#EAEB80] text-xs px-1.5 py-0.5 rounded font-semibold shadow-lg",children:M+1})]},M)})})]}),A.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-[#EAEB80] font-semibold",children:["New Documents Selected (",A.length,")"]}),A.length===1?a.jsx("div",{className:"relative w-full aspect-[4/3] bg-gradient-to-br from-[#EAEB80]/10 to-[#EAEB80]/5 rounded-xl border-2 border-[#EAEB80]/60 overflow-hidden shadow-lg ring-2 ring-[#EAEB80]/20",children:A[0].type==="application/pdf"?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ln,{className:"w-16 h-16 text-[#EAEB80] mb-2"}),a.jsx("div",{className:"absolute -top-1 -right-1 bg-[#EAEB80] text-black text-xs px-2 py-0.5 rounded-full font-bold",children:"PDF"})]}),a.jsx("p",{className:"text-[#EAEB80] text-sm font-semibold",children:"PDF Document"}),a.jsx("p",{className:"text-gray-300 text-xs mt-1 truncate max-w-full px-2",children:A[0].name})]}):P[0]&&P[0]!=="pdf"?a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx("img",{src:P[0],alt:"Preview",className:"w-full h-full object-contain p-2"}),a.jsx(ie,{type:"button",variant:"ghost",size:"icon",onClick:()=>le(0),className:"absolute top-2 right-2 h-8 w-8 bg-red-600/90 hover:bg-red-600 text-foreground rounded-full shadow-lg hover:scale-110 transition-transform",children:a.jsx(pr,{className:"w-4 h-4"})})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:"Loading..."})})}):a.jsx("div",{className:"grid grid-cols-2 gap-3",children:A.map((T,M)=>a.jsxs("div",{className:"relative w-full aspect-[4/3] bg-gradient-to-br from-[#EAEB80]/10 to-[#EAEB80]/5 rounded-xl border-2 border-[#EAEB80]/60 overflow-hidden shadow-lg ring-2 ring-[#EAEB80]/20",children:[T.type==="application/pdf"?a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ln,{className:"w-12 h-12 text-[#EAEB80] mb-1"}),a.jsx("div",{className:"absolute -top-1 -right-1 bg-[#EAEB80] text-black text-xs px-1.5 py-0.5 rounded-full font-bold",children:"PDF"})]}),a.jsx("p",{className:"text-[#EAEB80] text-xs font-semibold",children:"PDF"}),a.jsx("p",{className:"text-gray-300 text-xs truncate w-full px-1",children:T.name})]}):P[M]&&P[M]!=="pdf"?a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx("img",{src:P[M],alt:`Preview ${M+1}`,className:"w-full h-full object-contain p-1"}),a.jsx(ie,{type:"button",variant:"ghost",size:"icon",onClick:()=>le(M),className:"absolute top-1 right-1 h-6 w-6 bg-red-600/90 hover:bg-red-600 text-foreground rounded-full shadow-lg hover:scale-110 transition-transform",children:a.jsx(pr,{className:"w-3 h-3"})})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:"Loading..."})}),a.jsx("div",{className:"absolute top-1 left-1 bg-[#EAEB80] text-black text-xs px-1.5 py-0.5 rounded font-bold shadow-lg",children:M+1})]},M))})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("label",{htmlFor:"drivers-license-input",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-[#EAEB80]/40 rounded-xl bg-[#0a0a0a]/50 hover:border-[#EAEB80]/60 hover:bg-[#EAEB80]/5 transition-all cursor-pointer group",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(gn,{className:"w-8 h-8 text-[#EAEB80] mb-2 group-hover:scale-110 transition-transform"}),a.jsx("p",{className:"mb-2 text-sm font-semibold text-gray-300 group-hover:text-[#EAEB80] transition-colors",children:A.length>0?`Change Files (${A.length} selected)`:"Click to Upload"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Multiple files allowed (Max 10MB each)"})]}),a.jsx(ae,{id:"drivers-license-input",type:"file",accept:"image/*,application/pdf",multiple:!0,onChange:Ne,className:"hidden"})]}),A.length>0&&a.jsxs("p",{className:"text-xs text-[#EAEB80] mt-2 text-center font-medium",children:[" ",A.length," file(s) ready to update"]})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-[#2a2a2a]",children:[a.jsx(ie,{type:"button",variant:"ghost",onClick:()=>o(!1),className:"text-gray-400 hover:text-foreground",children:"Cancel"}),a.jsx(ie,{type:"submit",className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",disabled:U.isPending,children:U.isPending?"Updating...":"Update"})]})]})})]})}),p!==null&&C?.photos&&C.photos[p]&&a.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/98 flex items-center justify-center",onClick:()=>v(null),children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),v(null)},className:"fixed top-6 right-6 z-[200] h-12 w-12 bg-black/90 hover:bg-red-600/90 text-foreground border-2 border-white/60 rounded-full shadow-2xl backdrop-blur-sm transition-all hover:scale-110","aria-label":"Close full screen view",children:a.jsx(pr,{className:"w-7 h-7"})}),a.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[C.photos.length>1&&a.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-[101] bg-black/80 backdrop-blur-sm px-6 py-3 rounded-full border-2 border-white/40 shadow-2xl",children:a.jsxs("span",{className:"text-foreground text-base font-semibold tracking-wide",children:[p+1," / ",C.photos.length]})}),C.photos&&C.photos[p]&&a.jsx("img",{src:Zp(C.photos[p]),alt:`Car photo ${p+1}`,className:"w-full h-full object-contain",onClick:T=>T.stopPropagation(),style:{maxWidth:"100vw",maxHeight:"100vh"},onError:T=>{console.error("Failed to load photo:",C.photos?.[p]),T.target.style.display="none"}})]})]}),g&&a.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/98 flex items-center justify-center",onClick:()=>w(null),children:[a.jsx(ie,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation(),w(null)},className:"fixed top-4 right-4 z-[9999] h-14 w-14 bg-red-600/90 hover:bg-red-600 text-foreground border-2 border-white rounded-full shadow-2xl backdrop-blur-sm transition-all hover:scale-110 flex items-center justify-center","aria-label":"Close full screen view",style:{position:"fixed",top:"1rem",right:"1rem",zIndex:9999},children:a.jsx(pr,{className:"w-8 h-8",strokeWidth:3})}),a.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-8",children:[g.type==="license"&&H.length>1&&g.index!==void 0&&a.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-[101] bg-black/80 backdrop-blur-sm px-6 py-3 rounded-full border-2 border-white/40 shadow-2xl",children:a.jsxs("span",{className:"text-foreground text-base font-semibold tracking-wide",children:[g.index+1," / ",H.length]})}),g.type==="license"&&H.length>1&&g.index!==void 0&&a.jsxs(a.Fragment,{children:[g.index>0&&a.jsx(ie,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation();const M=g.index-1,re=H[M],oe=re&&!re.includes("/")&&!re.includes(".")&&re.length>=10&&/^[a-zA-Z0-9_-]+$/.test(re)&&!re.startsWith("http"),ce=oe?je(`/api/cars/documents/file-content?fileId=${encodeURIComponent(re)}`):re.startsWith("http")?re:je(re.startsWith("/")?re:`/${re}`);w({url:ce,type:"license",index:M,isPdf:oe?re.toLowerCase().includes("pdf")||re.toLowerCase().endsWith(".pdf"):k(re)})},className:"fixed left-6 top-1/2 -translate-y-1/2 z-[200] h-14 w-14 bg-black/90 hover:bg-[#EAEB80]/20 text-foreground border-2 border-white/60 rounded-full shadow-2xl backdrop-blur-sm transition-all hover:scale-110","aria-label":"Previous image",children:a.jsx(Kl,{className:"w-6 h-6"})}),g.index<H.length-1&&a.jsx(ie,{variant:"ghost",size:"icon",onClick:T=>{T.stopPropagation();const M=g.index+1,re=H[M],oe=re&&!re.includes("/")&&!re.includes(".")&&re.length>=10&&/^[a-zA-Z0-9_-]+$/.test(re)&&!re.startsWith("http"),ce=oe?je(`/api/cars/documents/file-content?fileId=${encodeURIComponent(re)}`):re.startsWith("http")?re:je(re.startsWith("/")?re:`/${re}`);w({url:ce,type:"license",index:M,isPdf:oe?re.toLowerCase().includes("pdf")||re.toLowerCase().endsWith(".pdf"):k(re)})},className:"fixed right-6 top-1/2 -translate-y-1/2 z-[200] h-14 w-14 bg-black/90 hover:bg-[#EAEB80]/20 text-foreground border-2 border-white/60 rounded-full shadow-2xl backdrop-blur-sm transition-all hover:scale-110","aria-label":"Next image",children:a.jsx(pa,{className:"w-6 h-6"})})]}),g.isPdf?a.jsx("iframe",{src:g.url,className:"w-full h-full border-0",style:{maxWidth:"100vw",maxHeight:"100vh"},onClick:T=>T.stopPropagation(),title:g.type==="insurance"?"Insurance Card PDF":`Drivers License PDF ${g.index!==void 0?g.index+1:""}`}):a.jsx("img",{src:g.url,alt:g.type==="insurance"?"Insurance Card":`Drivers License ${g.index!==void 0?g.index+1:""}`,className:"w-full h-full object-contain",onClick:T=>T.stopPropagation(),style:{maxWidth:"100vw",maxHeight:"100vh"},onError:T=>{console.error("Failed to load image in full screen viewer:",g.url),T.target.style.display="none"}})]})]})]})})}function tye(){const[,t]=Ia("/admin/view-car/:id"),[,e]=wr(),r=t?.id?parseInt(t.id,10):null,{data:n}=Ge({queryKey:["/api/auth/me"],queryFn:async()=>{try{const S=await fetch(je("/api/auth/me"),{credentials:"include"});return S.ok?S.json():{user:void 0}}catch{return{user:void 0}}},retry:!1}),i=n?.user?.isClient===!0,{data:o,isLoading:l,error:c}=Ge({queryKey:["/api/cars",r],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const S=je(`/api/cars/${r}`),A=await fetch(S,{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch car");return A.json()},enabled:!!r,retry:!1}),d=o?.data,{data:u}=Ge({queryKey:["/api/onboarding/vin",d?.vin,"onboarding"],queryFn:async()=>{if(!d?.vin)throw new Error("No VIN");const S=je(`/api/onboarding/vin/${encodeURIComponent(d.vin)}`),A=await fetch(S,{credentials:"include"});if(!A.ok){if(A.status===404)return{success:!1,data:null};throw new Error("Failed to fetch onboarding")}return A.json()},enabled:!!d?.vin,retry:!1}),h=u?.success?u?.data:null,f=[{label:"Car Detail",path:`/admin/cars/${r}`},{label:"Earnings",path:`/admin/cars/${r}/earnings`},{label:"Income and Expense",path:`/admin/cars/${r}/income-expense`},{label:"NADA Depreciation Schedule",path:`/admin/cars/${r}/depreciation`},{label:"Totals",path:`/admin/cars/${r}/totals`},{label:"Records and Files",path:`/admin/cars/${r}/records`},{label:"Maintenance",path:`/admin/cars/${r}/maintenance`},{label:"Payment history",path:`/admin/cars/${r}/payments`}],m=i?f.filter(S=>S.label!=="Income and Expense"):f,x=S=>{S.external?window.open(S.path,"_blank"):e(S.path)};if(l)return a.jsx(jt,{children:a.jsx(Is,{})});if(c||!d)return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("p",{className:"text-red-400",children:"Failed to load car details"}),a.jsx("button",{onClick:()=>e("/cars"),className:"mt-4 text-[#EAEB80] hover:underline",children:" Back to Cars"})]})});const p=d.makeModel||`${d.year||""} ${d.vin}`.trim(),v=d.owner?`${d.owner.firstName} ${d.owner.lastName}`:"N/A",g=d.owner?.phone||"N/A",w=d.owner?.email||"N/A",N=h?.fuelType||d.fuelType||"N/A",j=h?.tireSize||d.tireSize||"N/A",b=h?.oilType||d.oilType||"N/A";return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col h-full overflow-x-hidden",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>e("/cars"),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Cars"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"View Car"}),d&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Car: ",d.makeModel||"Unknown Car"]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Car Information"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Car Name: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-words",children:p})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"VIN #: "}),a.jsx("span",{className:"text-foreground font-mono text-xs sm:text-sm break-all",children:d.vin})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"License: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:d.licensePlate||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Owner Information"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Name: "}),d?.clientId?a.jsx("button",{onClick:()=>e(`/admin/clients/${d.clientId}`),className:"text-[#EAEB80] hover:text-[#d4d570] hover:underline transition-colors text-xs sm:text-sm break-words cursor-pointer",children:v}):a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-words",children:v})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Contact #: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:g})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Email: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-all",children:w})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Car Specifications"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Fuel/Gas: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:N})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Tire Size: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:j})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Oil Type: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:b})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Turo Links"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[d.turoLink&&a.jsx("div",{children:a.jsxs("a",{href:d.turoLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),d.adminTuroLink&&a.jsx("div",{children:a.jsxs("a",{href:d.adminTuroLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Admin Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),!d.turoLink&&!d.adminTuroLink&&a.jsx("span",{className:"text-gray-500 text-sm",children:"No Turo links available"})]})]})]})}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-auto",children:a.jsx("div",{className:"divide-y divide-[#1a1a1a]",children:m.map((S,A)=>a.jsxs("button",{onClick:()=>x(S),className:_e("w-full px-4 sm:px-6 py-3 sm:py-4 text-left flex items-center justify-between","hover:bg-[#1a1a1a] transition-colors","text-foreground group"),children:[a.jsx("span",{className:"text-xs sm:text-sm break-words pr-2",children:S.label}),a.jsx(pa,{className:"w-4 h-4 text-gray-400 group-hover:text-[#EAEB80] transition-colors flex-shrink-0"})]},A))})})]})})}var rye=Array.isArray,Fs=rye,nye=typeof Ah=="object"&&Ah&&Ah.Object===Object&&Ah,NH=nye,aye=NH,sye=typeof self=="object"&&self&&self.Object===Object&&self,iye=aye||sye||Function("return this")(),fl=iye,oye=fl,lye=oye.Symbol,S0=lye,O4=S0,EH=Object.prototype,cye=EH.hasOwnProperty,dye=EH.toString,hp=O4?O4.toStringTag:void 0;function uye(t){var e=cye.call(t,hp),r=t[hp];try{t[hp]=void 0;var n=!0}catch{}var s=dye.call(t);return n&&(e?t[hp]=r:delete t[hp]),s}var hye=uye,fye=Object.prototype,mye=fye.toString;function pye(t){return mye.call(t)}var xye=pye,_4=S0,gye=hye,vye=xye,yye="[object Null]",bye="[object Undefined]",R4=_4?_4.toStringTag:void 0;function wye(t){return t==null?t===void 0?bye:yye:R4&&R4 in Object(t)?gye(t):vye(t)}var ic=wye;function jye(t){return t!=null&&typeof t=="object"}var oc=jye,Nye=ic,Eye=oc,Sye="[object Symbol]";function Aye(t){return typeof t=="symbol"||Eye(t)&&Nye(t)==Sye}var Cm=Aye,Cye=Fs,kye=Cm,Pye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tye=/^\w*$/;function Oye(t,e){if(Cye(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||kye(t)?!0:Tye.test(t)||!Pye.test(t)||e!=null&&t in Object(e)}var gO=Oye;function _ye(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ad=_ye;const km=Mr(Ad);var Rye=ic,Iye=Ad,Fye="[object AsyncFunction]",Dye="[object Function]",Mye="[object GeneratorFunction]",Lye="[object Proxy]";function Bye(t){if(!Iye(t))return!1;var e=Rye(t);return e==Dye||e==Mye||e==Fye||e==Lye}var vO=Bye;const cr=Mr(vO);var $ye=fl,Uye=$ye["__core-js_shared__"],Vye=Uye,H2=Vye,I4=function(){var t=/[^.]+$/.exec(H2&&H2.keys&&H2.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function zye(t){return!!I4&&I4 in t}var Wye=zye,qye=Function.prototype,Hye=qye.toString;function Gye(t){if(t!=null){try{return Hye.call(t)}catch{}try{return t+""}catch{}}return""}var SH=Gye,Kye=vO,Xye=Wye,Yye=Ad,Qye=SH,Zye=/[\\^$.*+?()[\]{}|]/g,Jye=/^\[object .+?Constructor\]$/,ebe=Function.prototype,tbe=Object.prototype,rbe=ebe.toString,nbe=tbe.hasOwnProperty,abe=RegExp("^"+rbe.call(nbe).replace(Zye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sbe(t){if(!Yye(t)||Xye(t))return!1;var e=Kye(t)?abe:Jye;return e.test(Qye(t))}var ibe=sbe;function obe(t,e){return t?.[e]}var lbe=obe,cbe=ibe,dbe=lbe;function ube(t,e){var r=dbe(t,e);return cbe(r)?r:void 0}var Zu=ube,hbe=Zu,fbe=hbe(Object,"create"),b1=fbe,F4=b1;function mbe(){this.__data__=F4?F4(null):{},this.size=0}var pbe=mbe;function xbe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gbe=xbe,vbe=b1,ybe="__lodash_hash_undefined__",bbe=Object.prototype,wbe=bbe.hasOwnProperty;function jbe(t){var e=this.__data__;if(vbe){var r=e[t];return r===ybe?void 0:r}return wbe.call(e,t)?e[t]:void 0}var Nbe=jbe,Ebe=b1,Sbe=Object.prototype,Abe=Sbe.hasOwnProperty;function Cbe(t){var e=this.__data__;return Ebe?e[t]!==void 0:Abe.call(e,t)}var kbe=Cbe,Pbe=b1,Tbe="__lodash_hash_undefined__";function Obe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Pbe&&e===void 0?Tbe:e,this}var _be=Obe,Rbe=pbe,Ibe=gbe,Fbe=Nbe,Dbe=kbe,Mbe=_be;function Pm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Pm.prototype.clear=Rbe;Pm.prototype.delete=Ibe;Pm.prototype.get=Fbe;Pm.prototype.has=Dbe;Pm.prototype.set=Mbe;var Lbe=Pm;function Bbe(){this.__data__=[],this.size=0}var $be=Bbe;function Ube(t,e){return t===e||t!==t&&e!==e}var yO=Ube,Vbe=yO;function zbe(t,e){for(var r=t.length;r--;)if(Vbe(t[r][0],e))return r;return-1}var w1=zbe,Wbe=w1,qbe=Array.prototype,Hbe=qbe.splice;function Gbe(t){var e=this.__data__,r=Wbe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Hbe.call(e,r,1),--this.size,!0}var Kbe=Gbe,Xbe=w1;function Ybe(t){var e=this.__data__,r=Xbe(e,t);return r<0?void 0:e[r][1]}var Qbe=Ybe,Zbe=w1;function Jbe(t){return Zbe(this.__data__,t)>-1}var ewe=Jbe,twe=w1;function rwe(t,e){var r=this.__data__,n=twe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var nwe=rwe,awe=$be,swe=Kbe,iwe=Qbe,owe=ewe,lwe=nwe;function Tm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Tm.prototype.clear=awe;Tm.prototype.delete=swe;Tm.prototype.get=iwe;Tm.prototype.has=owe;Tm.prototype.set=lwe;var j1=Tm,cwe=Zu,dwe=fl,uwe=cwe(dwe,"Map"),bO=uwe,D4=Lbe,hwe=j1,fwe=bO;function mwe(){this.size=0,this.__data__={hash:new D4,map:new(fwe||hwe),string:new D4}}var pwe=mwe;function xwe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gwe=xwe,vwe=gwe;function ywe(t,e){var r=t.__data__;return vwe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var N1=ywe,bwe=N1;function wwe(t){var e=bwe(this,t).delete(t);return this.size-=e?1:0,e}var jwe=wwe,Nwe=N1;function Ewe(t){return Nwe(this,t).get(t)}var Swe=Ewe,Awe=N1;function Cwe(t){return Awe(this,t).has(t)}var kwe=Cwe,Pwe=N1;function Twe(t,e){var r=Pwe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Owe=Twe,_we=pwe,Rwe=jwe,Iwe=Swe,Fwe=kwe,Dwe=Owe;function Om(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Om.prototype.clear=_we;Om.prototype.delete=Rwe;Om.prototype.get=Iwe;Om.prototype.has=Fwe;Om.prototype.set=Dwe;var wO=Om,AH=wO,Mwe="Expected a function";function jO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Mwe);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=t.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(jO.Cache||AH),r}jO.Cache=AH;var CH=jO;const Lwe=Mr(CH);var Bwe=CH,$we=500;function Uwe(t){var e=Bwe(t,function(n){return r.size===$we&&r.clear(),n}),r=e.cache;return e}var Vwe=Uwe,zwe=Vwe,Wwe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qwe=/\\(\\)?/g,Hwe=zwe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Wwe,function(r,n,s,i){e.push(s?i.replace(qwe,"$1"):n||r)}),e}),Gwe=Hwe;function Kwe(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var NO=Kwe,M4=S0,Xwe=NO,Ywe=Fs,Qwe=Cm,L4=M4?M4.prototype:void 0,B4=L4?L4.toString:void 0;function kH(t){if(typeof t=="string")return t;if(Ywe(t))return Xwe(t,kH)+"";if(Qwe(t))return B4?B4.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Zwe=kH,Jwe=Zwe;function eje(t){return t==null?"":Jwe(t)}var PH=eje,tje=Fs,rje=gO,nje=Gwe,aje=PH;function sje(t,e){return tje(t)?t:rje(t,e)?[t]:nje(aje(t))}var TH=sje,ije=Cm;function oje(t){if(typeof t=="string"||ije(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var E1=oje,lje=TH,cje=E1;function dje(t,e){e=lje(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[cje(e[r++])];return r&&r==n?t:void 0}var EO=dje,uje=EO;function hje(t,e,r){var n=t==null?void 0:uje(t,e);return n===void 0?r:n}var OH=hje;const Di=Mr(OH);function fje(t){return t==null}var mje=fje;const xr=Mr(mje);var pje=ic,xje=Fs,gje=oc,vje="[object String]";function yje(t){return typeof t=="string"||!xje(t)&&gje(t)&&pje(t)==vje}var bje=yje;const Ru=Mr(bje);var _H={exports:{}},Xr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO=Symbol.for("react.element"),AO=Symbol.for("react.portal"),S1=Symbol.for("react.fragment"),A1=Symbol.for("react.strict_mode"),C1=Symbol.for("react.profiler"),k1=Symbol.for("react.provider"),P1=Symbol.for("react.context"),wje=Symbol.for("react.server_context"),T1=Symbol.for("react.forward_ref"),O1=Symbol.for("react.suspense"),_1=Symbol.for("react.suspense_list"),R1=Symbol.for("react.memo"),I1=Symbol.for("react.lazy"),jje=Symbol.for("react.offscreen"),RH;RH=Symbol.for("react.module.reference");function Ki(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case SO:switch(t=t.type,t){case S1:case C1:case A1:case O1:case _1:return t;default:switch(t=t&&t.$$typeof,t){case wje:case P1:case T1:case I1:case R1:case k1:return t;default:return e}}case AO:return e}}}Xr.ContextConsumer=P1;Xr.ContextProvider=k1;Xr.Element=SO;Xr.ForwardRef=T1;Xr.Fragment=S1;Xr.Lazy=I1;Xr.Memo=R1;Xr.Portal=AO;Xr.Profiler=C1;Xr.StrictMode=A1;Xr.Suspense=O1;Xr.SuspenseList=_1;Xr.isAsyncMode=function(){return!1};Xr.isConcurrentMode=function(){return!1};Xr.isContextConsumer=function(t){return Ki(t)===P1};Xr.isContextProvider=function(t){return Ki(t)===k1};Xr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===SO};Xr.isForwardRef=function(t){return Ki(t)===T1};Xr.isFragment=function(t){return Ki(t)===S1};Xr.isLazy=function(t){return Ki(t)===I1};Xr.isMemo=function(t){return Ki(t)===R1};Xr.isPortal=function(t){return Ki(t)===AO};Xr.isProfiler=function(t){return Ki(t)===C1};Xr.isStrictMode=function(t){return Ki(t)===A1};Xr.isSuspense=function(t){return Ki(t)===O1};Xr.isSuspenseList=function(t){return Ki(t)===_1};Xr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===S1||t===C1||t===A1||t===O1||t===_1||t===jje||typeof t=="object"&&t!==null&&(t.$$typeof===I1||t.$$typeof===R1||t.$$typeof===k1||t.$$typeof===P1||t.$$typeof===T1||t.$$typeof===RH||t.getModuleId!==void 0)};Xr.typeOf=Ki;_H.exports=Xr;var Nje=_H.exports,Eje=ic,Sje=oc,Aje="[object Number]";function Cje(t){return typeof t=="number"||Sje(t)&&Eje(t)==Aje}var IH=Cje;const kje=Mr(IH);var Pje=IH;function Tje(t){return Pje(t)&&t!=+t}var Oje=Tje;const A0=Mr(Oje);var vo=function(e){return e===0?0:e>0?1:-1},eu=function(e){return Ru(e)&&e.indexOf("%")===e.length-1},st=function(e){return kje(e)&&!A0(e)},_je=function(e){return xr(e)},ra=function(e){return st(e)||Ru(e)},Rje=0,C0=function(e){var r=++Rje;return"".concat(e||"").concat(r)},Iu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!st(e)&&!Ru(e))return n;var i;if(eu(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return A0(i)&&(i=n),s&&i>r&&(i=r),i},_c=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Ije=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},ho=function(e,r){return st(e)&&st(r)?function(n){return e+n*(r-e)}:function(){return r}};function Lb(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Di(n,e))===r})}var Fje=function(e,r){return st(e)&&st(r)?e-r:Ru(e)&&Ru(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ff(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function IA(t){"@babel/helpers - typeof";return IA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IA(t)}var Dje=["viewBox","children"],Mje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$4=["points","pathLength"],G2={svg:Dje,polygon:$4,polyline:$4},CO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bb=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),!km(n))return null;var s={};return Object.keys(n).forEach(function(i){CO.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},Lje=function(e,r,n){return function(s){return e(r,n,s),null}},$b=function(e,r,n){if(!km(e)||IA(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];CO.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Lje(o,r,n))}),s},Bje=["children"],$je=["children"];function U4(t,e){if(t==null)return{};var r=Uje(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FA(t){"@babel/helpers - typeof";return FA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FA(t)}var V4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},$l=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},z4=null,K2=null,kO=function t(e){if(e===z4&&Array.isArray(K2))return K2;var r=[];return y.Children.forEach(e,function(n){xr(n)||(Nje.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),K2=r,z4=e,r};function Mi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return $l(s)}):n=[$l(e)],kO(t).forEach(function(s){var i=Di(s,"type.displayName")||Di(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function zs(t,e){var r=Mi(t,e);return r&&r[0]}var W4=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!st(n)||n<=0||!st(s)||s<=0)},Vje=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zje=function(e){return e&&e.type&&Ru(e.type)&&Vje.indexOf(e.type)>=0},Wje=function(e){return e&&FA(e)==="object"&&"clipDot"in e},qje=function(e,r,n,s){var i,o=(i=G2?.[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!cr(e)&&(s&&o.includes(r)||Mje.includes(r))||n&&CO.includes(r)},Sr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(y.isValidElement(e)&&(s=e.props),!km(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;qje((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},DA=function t(e,r){if(e===r)return!0;var n=y.Children.count(e);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return q4(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=e[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!q4(i,o))return!1}return!0},q4=function(e,r){if(xr(e)&&xr(r))return!0;if(!xr(e)&&!xr(r)){var n=e.props||{},s=n.children,i=U4(n,Bje),o=r.props||{},l=o.children,c=U4(o,$je);return s&&l?ff(i,c)&&DA(s,l):!s&&!l?ff(i,c):!1}return!1},H4=function(e,r){var n=[],s={};return kO(e).forEach(function(i,o){if(zje(i))n.push(i);else if(i){var l=$l(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!s[l])){var h=d(i,l,o);n.push(h),s[l]=!0}}}),n},Hje=function(e){var r=e&&e.type;return r&&V4[r]?V4[r]:null},Gje=function(e,r){return kO(r).indexOf(e)},Kje=["children","width","height","viewBox","className","style","title","desc"];function MA(){return MA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MA.apply(this,arguments)}function Xje(t,e){if(t==null)return{};var r=Yje(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LA(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=Xje(t,Kje),u=s||{width:r,height:n,x:0,y:0},h=ur("recharts-surface",i);return ve.createElement("svg",MA({},Sr(d,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ve.createElement("title",null,l),ve.createElement("desc",null,c),e)}var Qje=["children","className"];function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BA.apply(this,arguments)}function Zje(t,e){if(t==null)return{};var r=Jje(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tn=ve.forwardRef(function(t,e){var r=t.children,n=t.className,s=Zje(t,Qje),i=ur("recharts-layer",n);return ve.createElement("g",BA({className:i},Sr(s,!0),{ref:e}),r)}),Ul=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function e1e(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(s);++n<s;)i[n]=t[n+e];return i}var t1e=e1e,r1e=t1e;function n1e(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:r1e(t,e,r)}var a1e=n1e,s1e="\\ud800-\\udfff",i1e="\\u0300-\\u036f",o1e="\\ufe20-\\ufe2f",l1e="\\u20d0-\\u20ff",c1e=i1e+o1e+l1e,d1e="\\ufe0e\\ufe0f",u1e="\\u200d",h1e=RegExp("["+u1e+s1e+c1e+d1e+"]");function f1e(t){return h1e.test(t)}var FH=f1e;function m1e(t){return t.split("")}var p1e=m1e,DH="\\ud800-\\udfff",x1e="\\u0300-\\u036f",g1e="\\ufe20-\\ufe2f",v1e="\\u20d0-\\u20ff",y1e=x1e+g1e+v1e,b1e="\\ufe0e\\ufe0f",w1e="["+DH+"]",$A="["+y1e+"]",UA="\\ud83c[\\udffb-\\udfff]",j1e="(?:"+$A+"|"+UA+")",MH="[^"+DH+"]",LH="(?:\\ud83c[\\udde6-\\uddff]){2}",BH="[\\ud800-\\udbff][\\udc00-\\udfff]",N1e="\\u200d",$H=j1e+"?",UH="["+b1e+"]?",E1e="(?:"+N1e+"(?:"+[MH,LH,BH].join("|")+")"+UH+$H+")*",S1e=UH+$H+E1e,A1e="(?:"+[MH+$A+"?",$A,LH,BH,w1e].join("|")+")",C1e=RegExp(UA+"(?="+UA+")|"+A1e+S1e,"g");function k1e(t){return t.match(C1e)||[]}var P1e=k1e,T1e=p1e,O1e=FH,_1e=P1e;function R1e(t){return O1e(t)?_1e(t):T1e(t)}var I1e=R1e,F1e=a1e,D1e=FH,M1e=I1e,L1e=PH;function B1e(t){return function(e){e=L1e(e);var r=D1e(e)?M1e(e):void 0,n=r?r[0]:e.charAt(0),s=r?F1e(r,1).join(""):e.slice(1);return n[t]()+s}}var $1e=B1e,U1e=$1e,V1e=U1e("toUpperCase"),z1e=V1e;const F1=Mr(z1e);function tn(t){return function(){return t}}const VH=Math.cos,Ub=Math.sin,Ro=Math.sqrt,Vb=Math.PI,D1=2*Vb,VA=Math.PI,zA=2*VA,Ud=1e-6,W1e=zA-Ud;function zH(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function q1e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return zH;const r=10**e;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class H1e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?zH:q1e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,i,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,s,i){if(e=+e,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,d=s-r,u=o-e,h=l-r,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Ud)if(!(Math.abs(h*c-d*u)>Ud)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-o,x=s-l,p=c*c+d*d,v=m*m+x*x,g=Math.sqrt(p),w=Math.sqrt(f),N=i*Math.tan((VA-Math.acos((p+f-v)/(2*g*w)))/2),j=N/w,b=N/g;Math.abs(j-1)>Ud&&this._append`L${e+j*u},${r+j*h}`,this._append`A${i},${i},0,0,${+(h*m>u*x)},${this._x1=e+b*c},${this._y1=r+b*d}`}}arc(e,r,n,s,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),d=e+l,u=r+c,h=1^o,f=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Ud||Math.abs(this._y1-u)>Ud)&&this._append`L${d},${u}`,n&&(f<0&&(f=f%zA+zA),f>W1e?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=u}`:f>Ud&&this._append`A${n},${n},0,${+(f>=VA)},${h},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function PO(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new H1e(e)}function TO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function WH(t){this._context=t}WH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function M1(t){return new WH(t)}function qH(t){return t[0]}function HH(t){return t[1]}function GH(t,e){var r=tn(!0),n=null,s=M1,i=null,o=PO(l);t=typeof t=="function"?t:t===void 0?qH:tn(t),e=typeof e=="function"?e:e===void 0?HH:tn(e);function l(c){var d,u=(c=TO(c)).length,h,f=!1,m;for(n==null&&(i=s(m=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+t(h,d,c),+e(h,d,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:tn(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:tn(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:tn(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Ov(t,e,r){var n=null,s=tn(!0),i=null,o=M1,l=null,c=PO(d);t=typeof t=="function"?t:t===void 0?qH:tn(+t),e=typeof e=="function"?e:tn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?HH:tn(+r);function d(h){var f,m,x,p=(h=TO(h)).length,v,g=!1,w,N=new Array(p),j=new Array(p);for(i==null&&(l=o(w=c())),f=0;f<=p;++f){if(!(f<p&&s(v=h[f],f,h))===g)if(g=!g)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=f-1;x>=m;--x)l.point(N[x],j[x]);l.lineEnd(),l.areaEnd()}g&&(N[f]=+t(v,f,h),j[f]=+e(v,f,h),l.point(n?+n(v,f,h):N[f],r?+r(v,f,h):j[f]))}if(w)return l=null,w+""||null}function u(){return GH().defined(s).curve(o).context(i)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:tn(+h),n=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:tn(+h),d):t},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:tn(+h),d):n},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:tn(+h),r=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:tn(+h),d):e},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:tn(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(t).y(e)},d.lineY1=function(){return u().x(t).y(r)},d.lineX1=function(){return u().x(n).y(e)},d.defined=function(h){return arguments.length?(s=typeof h=="function"?h:tn(!!h),d):s},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class KH{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function G1e(t){return new KH(t,!0)}function K1e(t){return new KH(t,!1)}const OO={draw(t,e){const r=Ro(e/Vb);t.moveTo(r,0),t.arc(0,0,r,0,D1)}},X1e={draw(t,e){const r=Ro(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},XH=Ro(1/3),Y1e=XH*2,Q1e={draw(t,e){const r=Ro(e/Y1e),n=r*XH;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Z1e={draw(t,e){const r=Ro(e),n=-r/2;t.rect(n,n,r,r)}},J1e=.8908130915292852,YH=Ub(Vb/10)/Ub(7*Vb/10),eNe=Ub(D1/10)*YH,tNe=-VH(D1/10)*YH,rNe={draw(t,e){const r=Ro(e*J1e),n=eNe*r,s=tNe*r;t.moveTo(0,-r),t.lineTo(n,s);for(let i=1;i<5;++i){const o=D1*i/5,l=VH(o),c=Ub(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*s,c*n+l*s)}t.closePath()}},X2=Ro(3),nNe={draw(t,e){const r=-Ro(e/(X2*3));t.moveTo(0,r*2),t.lineTo(-X2*r,-r),t.lineTo(X2*r,-r),t.closePath()}},xi=-.5,gi=Ro(3)/2,WA=1/Ro(12),aNe=(WA/2+1)*3,sNe={draw(t,e){const r=Ro(e/aNe),n=r/2,s=r*WA,i=n,o=r*WA+r,l=-i,c=o;t.moveTo(n,s),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(xi*n-gi*s,gi*n+xi*s),t.lineTo(xi*i-gi*o,gi*i+xi*o),t.lineTo(xi*l-gi*c,gi*l+xi*c),t.lineTo(xi*n+gi*s,xi*s-gi*n),t.lineTo(xi*i+gi*o,xi*o-gi*i),t.lineTo(xi*l+gi*c,xi*c-gi*l),t.closePath()}};function iNe(t,e){let r=null,n=PO(s);t=typeof t=="function"?t:tn(t||OO),e=typeof e=="function"?e:tn(e===void 0?64:+e);function s(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:tn(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:tn(+i),s):e},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function zb(){}function Wb(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function QH(t){this._context=t}QH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oNe(t){return new QH(t)}function ZH(t){this._context=t}ZH.prototype={areaStart:zb,areaEnd:zb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lNe(t){return new ZH(t)}function JH(t){this._context=t}JH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cNe(t){return new JH(t)}function eG(t){this._context=t}eG.prototype={areaStart:zb,areaEnd:zb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function dNe(t){return new eG(t)}function G4(t){return t<0?-1:1}function K4(t,e,r){var n=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(G4(i)+G4(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function X4(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Y2(t,e,r){var n=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,s+l*e,i-l,o-l*r,i,o)}function qb(t){this._context=t}qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Y2(this,this._t0,X4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Y2(this,X4(this,r=K4(this,t,e)),r);break;default:Y2(this,this._t0,r=K4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function tG(t){this._context=new rG(t)}(tG.prototype=Object.create(qb.prototype)).point=function(t,e){qb.prototype.point.call(this,e,t)};function rG(t){this._context=t}rG.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,i){this._context.bezierCurveTo(e,t,n,r,i,s)}};function uNe(t){return new qb(t)}function hNe(t){return new tG(t)}function nG(t){this._context=t}nG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Y4(t),s=Y4(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Y4(t){var e,r=t.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function fNe(t){return new nG(t)}function L1(t,e){this._context=t,this._t=e}L1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function mNe(t){return new L1(t,.5)}function pNe(t){return new L1(t,0)}function xNe(t){return new L1(t,1)}function Df(t,e){if((o=t.length)>1)for(var r=1,n,s,i=t[e[0]],o,l=i.length;r<o;++r)for(s=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function qA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function gNe(t,e){return t[e]}function vNe(t){const e=[];return e.key=t,e}function yNe(){var t=tn([]),e=qA,r=Df,n=gNe;function s(i){var o=Array.from(t.apply(this,arguments),vNe),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(h,o[l].key,d,i)]).data=h;for(l=0,u=TO(e(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:tn(Array.from(i)),s):t},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:tn(+i),s):n},s.order=function(i){return arguments.length?(e=i==null?qA:typeof i=="function"?i:tn(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(r=i??Df,s):r},s}function bNe(t,e){if((n=t.length)>0){for(var r,n,s=0,i=t[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}Df(t,e)}}function wNe(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Df(t,e)}}function jNe(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[e[l]],h=u[n][1]||0,f=u[n-1][1]||0,m=(h-f)/2,x=0;x<l;++x){var p=t[e[x]],v=p[n][1]||0,g=p[n-1][1]||0;m+=v-g}c+=h,d+=m*h}s[n-1][1]+=s[n-1][0]=r,c&&(r-=d/c)}s[n-1][1]+=s[n-1][0]=r,Df(t,e)}}function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}var NNe=["type","size","sizeType"];function HA(){return HA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HA.apply(this,arguments)}function Q4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Z4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(r),!0).forEach(function(n){ENe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ENe(t,e,r){return e=SNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SNe(t){var e=ANe(t,"string");return cg(e)=="symbol"?e:e+""}function ANe(t,e){if(cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CNe(t,e){if(t==null)return{};var r=kNe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var aG={symbolCircle:OO,symbolCross:X1e,symbolDiamond:Q1e,symbolSquare:Z1e,symbolStar:rNe,symbolTriangle:nNe,symbolWye:sNe},PNe=Math.PI/180,TNe=function(e){var r="symbol".concat(F1(e));return aG[r]||OO},ONe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*PNe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_Ne=function(e,r){aG["symbol".concat(F1(e))]=r},_O=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=CNe(e,NNe),d=Z4(Z4({},c),{},{type:n,size:i,sizeType:l}),u=function(){var v=TNe(n),g=iNe().type(v).size(ONe(i,l,n));return g()},h=d.className,f=d.cx,m=d.cy,x=Sr(d,!0);return f===+f&&m===+m&&i===+i?ve.createElement("path",HA({},x,{className:ur("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(m,")"),d:u()})):null};_O.registerSymbol=_Ne;function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GA.apply(this,arguments)}function J4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function RNe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(r),!0).forEach(function(n){dg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function INe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iG(n.key),n)}}function DNe(t,e,r){return e&&FNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MNe(t,e,r){return e=Hb(e),LNe(t,sG()?Reflect.construct(e,r||[],Hb(t).constructor):e.apply(t,r))}function LNe(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BNe(t)}function BNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sG=function(){return!!t})()}function Hb(t){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(t)}function $Ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KA(t,e)}function KA(t,e){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},KA(t,e)}function dg(t,e,r){return e=iG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iG(t){var e=UNe(t,"string");return Mf(e)=="symbol"?e:e+""}function UNe(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vi=32,RO=function(t){function e(){return INe(this,e),MNe(this,e,arguments)}return $Ne(e,t),DNe(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=vi/2,o=vi/6,l=vi/3,c=n.inactive?s:n.color;if(n.type==="plainline")return ve.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:vi,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ve.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(vi,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ve.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(vi/8,"h").concat(vi,"v").concat(vi*3/4,"h").concat(-vi,"z"),className:"recharts-legend-icon"});if(ve.isValidElement(n.legendIcon)){var d=RNe({},n);return delete d.legendIcon,ve.cloneElement(n.legendIcon,d)}return ve.createElement(_O,{fill:c,cx:i,cy:i,size:vi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:vi,height:vi},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,x){var p=m.formatter||c,v=ur(dg(dg({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var g=cr(m.value)?null:m.value;Ul(!cr(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?d:m.color;return ve.createElement("li",GA({className:v,style:h,key:"legend-item-".concat(x)},$b(n.props,m,x)),ve.createElement(LA,{width:o,height:o,viewBox:u,style:f},n.renderIcon(m)),ve.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},p?p(g,m,x):g))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ve.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);dg(RO,"displayName","Legend");dg(RO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var VNe=j1;function zNe(){this.__data__=new VNe,this.size=0}var WNe=zNe;function qNe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var HNe=qNe;function GNe(t){return this.__data__.get(t)}var KNe=GNe;function XNe(t){return this.__data__.has(t)}var YNe=XNe,QNe=j1,ZNe=bO,JNe=wO,e2e=200;function t2e(t,e){var r=this.__data__;if(r instanceof QNe){var n=r.__data__;if(!ZNe||n.length<e2e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new JNe(n)}return r.set(t,e),this.size=r.size,this}var r2e=t2e,n2e=j1,a2e=WNe,s2e=HNe,i2e=KNe,o2e=YNe,l2e=r2e;function _m(t){var e=this.__data__=new n2e(t);this.size=e.size}_m.prototype.clear=a2e;_m.prototype.delete=s2e;_m.prototype.get=i2e;_m.prototype.has=o2e;_m.prototype.set=l2e;var oG=_m,c2e="__lodash_hash_undefined__";function d2e(t){return this.__data__.set(t,c2e),this}var u2e=d2e;function h2e(t){return this.__data__.has(t)}var f2e=h2e,m2e=wO,p2e=u2e,x2e=f2e;function Gb(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new m2e;++e<r;)this.add(t[e])}Gb.prototype.add=Gb.prototype.push=p2e;Gb.prototype.has=x2e;var lG=Gb;function g2e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var cG=g2e;function v2e(t,e){return t.has(e)}var dG=v2e,y2e=lG,b2e=cG,w2e=dG,j2e=1,N2e=2;function E2e(t,e,r,n,s,i){var o=r&j2e,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(t),u=i.get(e);if(d&&u)return d==e&&u==t;var h=-1,f=!0,m=r&N2e?new y2e:void 0;for(i.set(t,e),i.set(e,t);++h<l;){var x=t[h],p=e[h];if(n)var v=o?n(p,x,h,e,t,i):n(x,p,h,t,e,i);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!b2e(e,function(g,w){if(!w2e(m,w)&&(x===g||s(x,g,r,n,i)))return m.push(w)})){f=!1;break}}else if(!(x===p||s(x,p,r,n,i))){f=!1;break}}return i.delete(t),i.delete(e),f}var uG=E2e,S2e=fl,A2e=S2e.Uint8Array,C2e=A2e;function k2e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var P2e=k2e;function T2e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var IO=T2e,eM=S0,tM=C2e,O2e=yO,_2e=uG,R2e=P2e,I2e=IO,F2e=1,D2e=2,M2e="[object Boolean]",L2e="[object Date]",B2e="[object Error]",$2e="[object Map]",U2e="[object Number]",V2e="[object RegExp]",z2e="[object Set]",W2e="[object String]",q2e="[object Symbol]",H2e="[object ArrayBuffer]",G2e="[object DataView]",rM=eM?eM.prototype:void 0,Q2=rM?rM.valueOf:void 0;function K2e(t,e,r,n,s,i,o){switch(r){case G2e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case H2e:return!(t.byteLength!=e.byteLength||!i(new tM(t),new tM(e)));case M2e:case L2e:case U2e:return O2e(+t,+e);case B2e:return t.name==e.name&&t.message==e.message;case V2e:case W2e:return t==e+"";case $2e:var l=R2e;case z2e:var c=n&F2e;if(l||(l=I2e),t.size!=e.size&&!c)return!1;var d=o.get(t);if(d)return d==e;n|=D2e,o.set(t,e);var u=_2e(l(t),l(e),n,s,i,o);return o.delete(t),u;case q2e:if(Q2)return Q2.call(t)==Q2.call(e)}return!1}var X2e=K2e;function Y2e(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var hG=Y2e,Q2e=hG,Z2e=Fs;function J2e(t,e,r){var n=e(t);return Z2e(t)?n:Q2e(n,r(t))}var eEe=J2e;function tEe(t,e){for(var r=-1,n=t==null?0:t.length,s=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[s++]=o)}return i}var rEe=tEe;function nEe(){return[]}var aEe=nEe,sEe=rEe,iEe=aEe,oEe=Object.prototype,lEe=oEe.propertyIsEnumerable,nM=Object.getOwnPropertySymbols,cEe=nM?function(t){return t==null?[]:(t=Object(t),sEe(nM(t),function(e){return lEe.call(t,e)}))}:iEe,dEe=cEe;function uEe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var hEe=uEe,fEe=ic,mEe=oc,pEe="[object Arguments]";function xEe(t){return mEe(t)&&fEe(t)==pEe}var gEe=xEe,aM=gEe,vEe=oc,fG=Object.prototype,yEe=fG.hasOwnProperty,bEe=fG.propertyIsEnumerable,wEe=aM(function(){return arguments}())?aM:function(t){return vEe(t)&&yEe.call(t,"callee")&&!bEe.call(t,"callee")},FO=wEe,Kb={exports:{}};function jEe(){return!1}var NEe=jEe;Kb.exports;(function(t,e){var r=fl,n=NEe,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Kb,Kb.exports);var mG=Kb.exports,EEe=9007199254740991,SEe=/^(?:0|[1-9]\d*)$/;function AEe(t,e){var r=typeof t;return e=e??EEe,!!e&&(r=="number"||r!="symbol"&&SEe.test(t))&&t>-1&&t%1==0&&t<e}var DO=AEe,CEe=9007199254740991;function kEe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=CEe}var MO=kEe,PEe=ic,TEe=MO,OEe=oc,_Ee="[object Arguments]",REe="[object Array]",IEe="[object Boolean]",FEe="[object Date]",DEe="[object Error]",MEe="[object Function]",LEe="[object Map]",BEe="[object Number]",$Ee="[object Object]",UEe="[object RegExp]",VEe="[object Set]",zEe="[object String]",WEe="[object WeakMap]",qEe="[object ArrayBuffer]",HEe="[object DataView]",GEe="[object Float32Array]",KEe="[object Float64Array]",XEe="[object Int8Array]",YEe="[object Int16Array]",QEe="[object Int32Array]",ZEe="[object Uint8Array]",JEe="[object Uint8ClampedArray]",eSe="[object Uint16Array]",tSe="[object Uint32Array]",sn={};sn[GEe]=sn[KEe]=sn[XEe]=sn[YEe]=sn[QEe]=sn[ZEe]=sn[JEe]=sn[eSe]=sn[tSe]=!0;sn[_Ee]=sn[REe]=sn[qEe]=sn[IEe]=sn[HEe]=sn[FEe]=sn[DEe]=sn[MEe]=sn[LEe]=sn[BEe]=sn[$Ee]=sn[UEe]=sn[VEe]=sn[zEe]=sn[WEe]=!1;function rSe(t){return OEe(t)&&TEe(t.length)&&!!sn[PEe(t)]}var nSe=rSe;function aSe(t){return function(e){return t(e)}}var pG=aSe,Xb={exports:{}};Xb.exports;(function(t,e){var r=NH,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Xb,Xb.exports);var sSe=Xb.exports,iSe=nSe,oSe=pG,sM=sSe,iM=sM&&sM.isTypedArray,lSe=iM?oSe(iM):iSe,xG=lSe,cSe=hEe,dSe=FO,uSe=Fs,hSe=mG,fSe=DO,mSe=xG,pSe=Object.prototype,xSe=pSe.hasOwnProperty;function gSe(t,e){var r=uSe(t),n=!r&&dSe(t),s=!r&&!n&&hSe(t),i=!r&&!n&&!s&&mSe(t),o=r||n||s||i,l=o?cSe(t.length,String):[],c=l.length;for(var d in t)(e||xSe.call(t,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||fSe(d,c)))&&l.push(d);return l}var vSe=gSe,ySe=Object.prototype;function bSe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||ySe;return t===r}var wSe=bSe;function jSe(t,e){return function(r){return t(e(r))}}var gG=jSe,NSe=gG,ESe=NSe(Object.keys,Object),SSe=ESe,ASe=wSe,CSe=SSe,kSe=Object.prototype,PSe=kSe.hasOwnProperty;function TSe(t){if(!ASe(t))return CSe(t);var e=[];for(var r in Object(t))PSe.call(t,r)&&r!="constructor"&&e.push(r);return e}var OSe=TSe,_Se=vO,RSe=MO;function ISe(t){return t!=null&&RSe(t.length)&&!_Se(t)}var k0=ISe,FSe=vSe,DSe=OSe,MSe=k0;function LSe(t){return MSe(t)?FSe(t):DSe(t)}var B1=LSe,BSe=eEe,$Se=dEe,USe=B1;function VSe(t){return BSe(t,USe,$Se)}var zSe=VSe,oM=zSe,WSe=1,qSe=Object.prototype,HSe=qSe.hasOwnProperty;function GSe(t,e,r,n,s,i){var o=r&WSe,l=oM(t),c=l.length,d=oM(e),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in e:HSe.call(e,f)))return!1}var m=i.get(t),x=i.get(e);if(m&&x)return m==e&&x==t;var p=!0;i.set(t,e),i.set(e,t);for(var v=o;++h<c;){f=l[h];var g=t[f],w=e[f];if(n)var N=o?n(w,g,f,e,t,i):n(g,w,f,t,e,i);if(!(N===void 0?g===w||s(g,w,r,n,i):N)){p=!1;break}v||(v=f=="constructor")}if(p&&!v){var j=t.constructor,b=e.constructor;j!=b&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof b=="function"&&b instanceof b)&&(p=!1)}return i.delete(t),i.delete(e),p}var KSe=GSe,XSe=Zu,YSe=fl,QSe=XSe(YSe,"DataView"),ZSe=QSe,JSe=Zu,eAe=fl,tAe=JSe(eAe,"Promise"),rAe=tAe,nAe=Zu,aAe=fl,sAe=nAe(aAe,"Set"),vG=sAe,iAe=Zu,oAe=fl,lAe=iAe(oAe,"WeakMap"),cAe=lAe,XA=ZSe,YA=bO,QA=rAe,ZA=vG,JA=cAe,yG=ic,Rm=SH,lM="[object Map]",dAe="[object Object]",cM="[object Promise]",dM="[object Set]",uM="[object WeakMap]",hM="[object DataView]",uAe=Rm(XA),hAe=Rm(YA),fAe=Rm(QA),mAe=Rm(ZA),pAe=Rm(JA),Vd=yG;(XA&&Vd(new XA(new ArrayBuffer(1)))!=hM||YA&&Vd(new YA)!=lM||QA&&Vd(QA.resolve())!=cM||ZA&&Vd(new ZA)!=dM||JA&&Vd(new JA)!=uM)&&(Vd=function(t){var e=yG(t),r=e==dAe?t.constructor:void 0,n=r?Rm(r):"";if(n)switch(n){case uAe:return hM;case hAe:return lM;case fAe:return cM;case mAe:return dM;case pAe:return uM}return e});var xAe=Vd,Z2=oG,gAe=uG,vAe=X2e,yAe=KSe,fM=xAe,mM=Fs,pM=mG,bAe=xG,wAe=1,xM="[object Arguments]",gM="[object Array]",_v="[object Object]",jAe=Object.prototype,vM=jAe.hasOwnProperty;function NAe(t,e,r,n,s,i){var o=mM(t),l=mM(e),c=o?gM:fM(t),d=l?gM:fM(e);c=c==xM?_v:c,d=d==xM?_v:d;var u=c==_v,h=d==_v,f=c==d;if(f&&pM(t)){if(!pM(e))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new Z2),o||bAe(t)?gAe(t,e,r,n,s,i):vAe(t,e,c,r,n,s,i);if(!(r&wAe)){var m=u&&vM.call(t,"__wrapped__"),x=h&&vM.call(e,"__wrapped__");if(m||x){var p=m?t.value():t,v=x?e.value():e;return i||(i=new Z2),s(p,v,r,n,i)}}return f?(i||(i=new Z2),yAe(t,e,r,n,s,i)):!1}var EAe=NAe,SAe=EAe,yM=oc;function bG(t,e,r,n,s){return t===e?!0:t==null||e==null||!yM(t)&&!yM(e)?t!==t&&e!==e:SAe(t,e,r,n,bG,s)}var LO=bG,AAe=oG,CAe=LO,kAe=1,PAe=2;function TAe(t,e,r,n){var s=r.length,i=s,o=!n;if(t==null)return!i;for(t=Object(t);s--;){var l=r[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<i;){l=r[s];var c=l[0],d=t[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in t))return!1}else{var h=new AAe;if(n)var f=n(d,u,c,t,e,h);if(!(f===void 0?CAe(u,d,kAe|PAe,n,h):f))return!1}}return!0}var OAe=TAe,_Ae=Ad;function RAe(t){return t===t&&!_Ae(t)}var wG=RAe,IAe=wG,FAe=B1;function DAe(t){for(var e=FAe(t),r=e.length;r--;){var n=e[r],s=t[n];e[r]=[n,s,IAe(s)]}return e}var MAe=DAe;function LAe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var jG=LAe,BAe=OAe,$Ae=MAe,UAe=jG;function VAe(t){var e=$Ae(t);return e.length==1&&e[0][2]?UAe(e[0][0],e[0][1]):function(r){return r===t||BAe(r,t,e)}}var zAe=VAe;function WAe(t,e){return t!=null&&e in Object(t)}var qAe=WAe,HAe=TH,GAe=FO,KAe=Fs,XAe=DO,YAe=MO,QAe=E1;function ZAe(t,e,r){e=HAe(e,t);for(var n=-1,s=e.length,i=!1;++n<s;){var o=QAe(e[n]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++n!=s?i:(s=t==null?0:t.length,!!s&&YAe(s)&&XAe(o,s)&&(KAe(t)||GAe(t)))}var JAe=ZAe,eCe=qAe,tCe=JAe;function rCe(t,e){return t!=null&&tCe(t,e,eCe)}var nCe=rCe,aCe=LO,sCe=OH,iCe=nCe,oCe=gO,lCe=wG,cCe=jG,dCe=E1,uCe=1,hCe=2;function fCe(t,e){return oCe(t)&&lCe(e)?cCe(dCe(t),e):function(r){var n=sCe(r,t);return n===void 0&&n===e?iCe(r,t):aCe(e,n,uCe|hCe)}}var mCe=fCe;function pCe(t){return t}var Im=pCe;function xCe(t){return function(e){return e?.[t]}}var gCe=xCe,vCe=EO;function yCe(t){return function(e){return vCe(e,t)}}var bCe=yCe,wCe=gCe,jCe=bCe,NCe=gO,ECe=E1;function SCe(t){return NCe(t)?wCe(ECe(t)):jCe(t)}var ACe=SCe,CCe=zAe,kCe=mCe,PCe=Im,TCe=Fs,OCe=ACe;function _Ce(t){return typeof t=="function"?t:t==null?PCe:typeof t=="object"?TCe(t)?kCe(t[0],t[1]):CCe(t):OCe(t)}var Cd=_Ce;function RCe(t,e,r,n){for(var s=t.length,i=r+(n?1:-1);n?i--:++i<s;)if(e(t[i],i,t))return i;return-1}var NG=RCe;function ICe(t){return t!==t}var FCe=ICe;function DCe(t,e,r){for(var n=r-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}var MCe=DCe,LCe=NG,BCe=FCe,$Ce=MCe;function UCe(t,e,r){return e===e?$Ce(t,e,r):LCe(t,BCe,r)}var VCe=UCe,zCe=VCe;function WCe(t,e){var r=t==null?0:t.length;return!!r&&zCe(t,e,0)>-1}var qCe=WCe;function HCe(t,e,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(e,t[n]))return!0;return!1}var GCe=HCe;function KCe(){}var XCe=KCe,J2=vG,YCe=XCe,QCe=IO,ZCe=1/0,JCe=J2&&1/QCe(new J2([,-0]))[1]==ZCe?function(t){return new J2(t)}:YCe,eke=JCe,tke=lG,rke=qCe,nke=GCe,ake=dG,ske=eke,ike=IO,oke=200;function lke(t,e,r){var n=-1,s=rke,i=t.length,o=!0,l=[],c=l;if(r)o=!1,s=nke;else if(i>=oke){var d=e?null:ske(t);if(d)return ike(d);o=!1,s=ake,c=new tke}else c=e?[]:l;e:for(;++n<i;){var u=t[n],h=e?e(u):u;if(u=r||u!==0?u:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;e&&c.push(h),l.push(u)}else s(c,h,r)||(c!==l&&c.push(h),l.push(u))}return l}var cke=lke,dke=Cd,uke=cke;function hke(t,e){return t&&t.length?uke(t,dke(e)):[]}var fke=hke;const bM=Mr(fke);function EG(t,e,r){return e===!0?bM(t,r):cr(e)?bM(t,e):t}function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}var mke=["ref"];function wM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function yl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(r),!0).forEach(function(n){$1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AG(n.key),n)}}function xke(t,e,r){return e&&jM(t.prototype,e),r&&jM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gke(t,e,r){return e=Yb(e),vke(t,SG()?Reflect.construct(e,r||[],Yb(t).constructor):e.apply(t,r))}function vke(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yke(t)}function yke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SG=function(){return!!t})()}function Yb(t){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yb(t)}function bke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}function eC(t,e){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eC(t,e)}function $1(t,e,r){return e=AG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AG(t){var e=wke(t,"string");return Lf(e)=="symbol"?e:e+""}function wke(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jke(t,e){if(t==null)return{};var r=Nke(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Eke(t){return t.value}function Ske(t,e){if(ve.isValidElement(t))return ve.cloneElement(t,e);if(typeof t=="function")return ve.createElement(t,e);e.ref;var r=jke(e,mke);return ve.createElement(RO,r)}var NM=1,Aa=function(t){function e(){var r;pke(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=gke(this,e,[].concat(s)),$1(r,"lastBoundingBox",{width:-1,height:-1}),r}return bke(e,t),xke(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>NM||Math.abs(s.height-this.lastBoundingBox.height)>NM)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();h={left:((d||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();f={top:((u||0)-x.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return yl(yl({},h),f)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,h=yl(yl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ve.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){n.wrapperNode=m}},Ske(i,yl(yl({},this.props),{},{payload:EG(u,d,Eke)})))}}],[{key:"getWithHeight",value:function(n,s){var i=yl(yl({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&st(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(y.PureComponent);$1(Aa,"displayName","Legend");$1(Aa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var EM=S0,Ake=FO,Cke=Fs,SM=EM?EM.isConcatSpreadable:void 0;function kke(t){return Cke(t)||Ake(t)||!!(SM&&t&&t[SM])}var Pke=kke,Tke=hG,Oke=Pke;function CG(t,e,r,n,s){var i=-1,o=t.length;for(r||(r=Oke),s||(s=[]);++i<o;){var l=t[i];e>0&&r(l)?e>1?CG(l,e-1,r,n,s):Tke(s,l):n||(s[s.length]=l)}return s}var kG=CG;function _ke(t){return function(e,r,n){for(var s=-1,i=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++s];if(r(i[c],c,i)===!1)break}return e}}var Rke=_ke,Ike=Rke,Fke=Ike(),Dke=Fke,Mke=Dke,Lke=B1;function Bke(t,e){return t&&Mke(t,e,Lke)}var PG=Bke,$ke=k0;function Uke(t,e){return function(r,n){if(r==null)return r;if(!$ke(r))return t(r,n);for(var s=r.length,i=e?s:-1,o=Object(r);(e?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var Vke=Uke,zke=PG,Wke=Vke,qke=Wke(zke),BO=qke,Hke=BO,Gke=k0;function Kke(t,e){var r=-1,n=Gke(t)?Array(t.length):[];return Hke(t,function(s,i,o){n[++r]=e(s,i,o)}),n}var TG=Kke;function Xke(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Yke=Xke,AM=Cm;function Qke(t,e){if(t!==e){var r=t!==void 0,n=t===null,s=t===t,i=AM(t),o=e!==void 0,l=e===null,c=e===e,d=AM(e);if(!l&&!d&&!i&&t>e||i&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!d&&t<e||d&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Zke=Qke,Jke=Zke;function ePe(t,e,r){for(var n=-1,s=t.criteria,i=e.criteria,o=s.length,l=r.length;++n<o;){var c=Jke(s[n],i[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return t.index-e.index}var tPe=ePe,eE=NO,rPe=EO,nPe=Cd,aPe=TG,sPe=Yke,iPe=pG,oPe=tPe,lPe=Im,cPe=Fs;function dPe(t,e,r){e.length?e=eE(e,function(i){return cPe(i)?function(o){return rPe(o,i.length===1?i[0]:i)}:i}):e=[lPe];var n=-1;e=eE(e,iPe(nPe));var s=aPe(t,function(i,o,l){var c=eE(e,function(d){return d(i)});return{criteria:c,index:++n,value:i}});return sPe(s,function(i,o){return oPe(i,o,r)})}var uPe=dPe;function hPe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var fPe=hPe,mPe=fPe,CM=Math.max;function pPe(t,e,r){return e=CM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,i=CM(n.length-e,0),o=Array(i);++s<i;)o[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(o),mPe(t,this,l)}}var xPe=pPe;function gPe(t){return function(){return t}}var vPe=gPe,yPe=Zu,bPe=function(){try{var t=yPe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),OG=bPe,wPe=vPe,kM=OG,jPe=Im,NPe=kM?function(t,e){return kM(t,"toString",{configurable:!0,enumerable:!1,value:wPe(e),writable:!0})}:jPe,EPe=NPe,SPe=800,APe=16,CPe=Date.now;function kPe(t){var e=0,r=0;return function(){var n=CPe(),s=APe-(n-r);if(r=n,s>0){if(++e>=SPe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var PPe=kPe,TPe=EPe,OPe=PPe,_Pe=OPe(TPe),RPe=_Pe,IPe=Im,FPe=xPe,DPe=RPe;function MPe(t,e){return DPe(FPe(t,e,IPe),t+"")}var LPe=MPe,BPe=yO,$Pe=k0,UPe=DO,VPe=Ad;function zPe(t,e,r){if(!VPe(r))return!1;var n=typeof e;return(n=="number"?$Pe(r)&&UPe(e,r.length):n=="string"&&e in r)?BPe(r[e],t):!1}var U1=zPe,WPe=kG,qPe=uPe,HPe=LPe,PM=U1,GPe=HPe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&PM(t,e[0],e[1])?e=[]:r>2&&PM(e[0],e[1],e[2])&&(e=[e[0]]),qPe(t,WPe(e,1),[])}),KPe=GPe;const $O=Mr(KPe);function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function tC(){return tC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tC.apply(this,arguments)}function XPe(t,e){return JPe(t)||ZPe(t,e)||QPe(t,e)||YPe()}function YPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QPe(t,e){if(t){if(typeof t=="string")return TM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TM(t,e)}}function TM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function JPe(t){if(Array.isArray(t))return t}function OM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(r),!0).forEach(function(n){eTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eTe(t,e,r){return e=tTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tTe(t){var e=rTe(t,"string");return ug(e)=="symbol"?e:e+""}function rTe(t,e){if(ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nTe(t){return Array.isArray(t)&&ra(t[0])&&ra(t[1])?t.join(" ~ "):t}var aTe=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,u=e.payload,h=e.formatter,f=e.itemSorter,m=e.wrapperClassName,x=e.labelClassName,p=e.label,v=e.labelFormatter,g=e.accessibilityLayer,w=g===void 0?!1:g,N=function(){if(u&&u.length){var L={padding:0,margin:0},R=(f?$O(u,f):u).map(function(_,B){if(_.type==="none")return null;var I=tE({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},l),C=_.formatter||h||nTe,D=_.value,W=_.name,K=D,H=W;if(C&&K!=null&&H!=null){var G=C(D,W,_,B,u);if(Array.isArray(G)){var ee=XPe(G,2);K=ee[0],H=ee[1]}else K=G}return ve.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:I},ra(H)?ve.createElement("span",{className:"recharts-tooltip-item-name"},H):null,ra(H)?ve.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ve.createElement("span",{className:"recharts-tooltip-item-value"},K),ve.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return ve.createElement("ul",{className:"recharts-tooltip-item-list",style:L},R)}return null},j=tE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=tE({margin:0},d),S=!xr(p),A=S?p:"",E=ur("recharts-default-tooltip",m),P=ur("recharts-tooltip-label",x);S&&v&&u!==void 0&&u!==null&&(A=v(p,u));var O=w?{role:"status","aria-live":"assertive"}:{};return ve.createElement("div",tC({className:E,style:j},O),ve.createElement("p",{className:P,style:b},ve.isValidElement(A)?A:"".concat(A)),N())};function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function Rv(t,e,r){return e=sTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sTe(t){var e=iTe(t,"string");return hg(e)=="symbol"?e:e+""}function iTe(t,e){if(hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fp="recharts-tooltip-wrapper",oTe={visibility:"hidden"};function lTe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ur(fp,Rv(Rv(Rv(Rv({},"".concat(fp,"-right"),st(r)&&e&&st(e.x)&&r>=e.x),"".concat(fp,"-left"),st(r)&&e&&st(e.x)&&r<e.x),"".concat(fp,"-bottom"),st(n)&&e&&st(e.y)&&n>=e.y),"".concat(fp,"-top"),st(n)&&e&&st(e.y)&&n<e.y))}function _M(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&st(i[n]))return i[n];var u=r[n]-l-s,h=r[n]+s;if(e[n])return o[n]?u:h;if(o[n]){var f=u,m=c[n];return f<m?Math.max(h,c[n]):Math.max(u,c[n])}var x=h+l,p=c[n]+d;return x>p?Math.max(u,c[n]):Math.max(h,c[n])}function cTe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function dTe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=_M({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=_M({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=cTe({translateX:u,translateY:h,useTranslate3d:l})):d=oTe,{cssProperties:d,cssClasses:lTe({translateX:u,translateY:h,coordinate:r})}}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function RM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function IM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(r),!0).forEach(function(n){nC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RG(n.key),n)}}function fTe(t,e,r){return e&&hTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mTe(t,e,r){return e=Qb(e),pTe(t,_G()?Reflect.construct(e,r||[],Qb(t).constructor):e.apply(t,r))}function pTe(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xTe(t)}function xTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_G=function(){return!!t})()}function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qb(t)}function gTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rC(t,e)}function rC(t,e){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},rC(t,e)}function nC(t,e,r){return e=RG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RG(t){var e=vTe(t,"string");return Bf(e)=="symbol"?e:e+""}function vTe(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FM=1,yTe=function(t){function e(){var r;uTe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=mTe(this,e,[].concat(s)),nC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nC(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return gTe(e,t),fTe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>FM||Math.abs(n.height-this.state.lastBoundingBox.height)>FM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,h=s.hasPayload,f=s.isAnimationActive,m=s.offset,x=s.position,p=s.reverseDirection,v=s.useTranslate3d,g=s.viewBox,w=s.wrapperStyle,N=dTe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:m,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:g}),j=N.cssClasses,b=N.cssProperties,S=IM(IM({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return ve.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(E){n.wrapperNode=E}},d)}}])}(y.PureComponent),bTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fm={isSsr:bTe()};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function DM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function MM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(r),!0).forEach(function(n){UO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FG(n.key),n)}}function NTe(t,e,r){return e&&jTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ETe(t,e,r){return e=Zb(e),STe(t,IG()?Reflect.construct(e,r||[],Zb(t).constructor):e.apply(t,r))}function STe(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ATe(t)}function ATe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IG=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(t)}function CTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aC(t,e)}function aC(t,e){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},aC(t,e)}function UO(t,e,r){return e=FG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FG(t){var e=kTe(t,"string");return $f(e)=="symbol"?e:e+""}function kTe(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PTe(t){return t.dataKey}function TTe(t,e){return ve.isValidElement(t)?ve.cloneElement(t,e):typeof t=="function"?ve.createElement(t,e):ve.createElement(aTe,e)}var kn=function(t){function e(){return wTe(this,e),ETe(this,e,arguments)}return CTe(e,t),NTe(e,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,h=s.filterNull,f=s.isAnimationActive,m=s.offset,x=s.payload,p=s.payloadUniqBy,v=s.position,g=s.reverseDirection,w=s.useTranslate3d,N=s.viewBox,j=s.wrapperStyle,b=x??[];h&&b.length&&(b=EG(x.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),p,PTe));var S=b.length>0;return ve.createElement(yTe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:u,hasPayload:S,offset:m,position:v,reverseDirection:g,useTranslate3d:w,viewBox:N,wrapperStyle:j},TTe(d,MM(MM({},this.props),{},{payload:b})))}}])}(y.PureComponent);UO(kn,"displayName","Tooltip");UO(kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var OTe=fl,_Te=function(){return OTe.Date.now()},RTe=_Te,ITe=/\s/;function FTe(t){for(var e=t.length;e--&&ITe.test(t.charAt(e)););return e}var DTe=FTe,MTe=DTe,LTe=/^\s+/;function BTe(t){return t&&t.slice(0,MTe(t)+1).replace(LTe,"")}var $Te=BTe,UTe=$Te,LM=Ad,VTe=Cm,BM=NaN,zTe=/^[-+]0x[0-9a-f]+$/i,WTe=/^0b[01]+$/i,qTe=/^0o[0-7]+$/i,HTe=parseInt;function GTe(t){if(typeof t=="number")return t;if(VTe(t))return BM;if(LM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=LM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=UTe(t);var r=WTe.test(t);return r||qTe.test(t)?HTe(t.slice(2),r?2:8):zTe.test(t)?BM:+t}var DG=GTe,KTe=Ad,rE=RTe,$M=DG,XTe="Expected a function",YTe=Math.max,QTe=Math.min;function ZTe(t,e,r){var n,s,i,o,l,c,d=0,u=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(XTe);e=$M(e)||0,KTe(r)&&(u=!!r.leading,h="maxWait"in r,i=h?YTe($M(r.maxWait)||0,e):i,f="trailing"in r?!!r.trailing:f);function m(S){var A=n,E=s;return n=s=void 0,d=S,o=t.apply(E,A),o}function x(S){return d=S,l=setTimeout(g,e),u?m(S):o}function p(S){var A=S-c,E=S-d,P=e-A;return h?QTe(P,i-E):P}function v(S){var A=S-c,E=S-d;return c===void 0||A>=e||A<0||h&&E>=i}function g(){var S=rE();if(v(S))return w(S);l=setTimeout(g,p(S))}function w(S){return l=void 0,f&&n?m(S):(n=s=void 0,o)}function N(){l!==void 0&&clearTimeout(l),d=0,n=c=s=l=void 0}function j(){return l===void 0?o:w(rE())}function b(){var S=rE(),A=v(S);if(n=arguments,s=this,c=S,A){if(l===void 0)return x(c);if(h)return clearTimeout(l),l=setTimeout(g,e),m(c)}return l===void 0&&(l=setTimeout(g,e)),o}return b.cancel=N,b.flush=j,b}var JTe=ZTe,eOe=JTe,tOe=Ad,rOe="Expected a function";function nOe(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(rOe);return tOe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),eOe(t,e,{leading:n,maxWait:e,trailing:s})}var aOe=nOe;const MG=Mr(aOe);function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function UM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Iv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(r),!0).forEach(function(n){sOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sOe(t,e,r){return e=iOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iOe(t){var e=oOe(t,"string");return fg(e)=="symbol"?e:e+""}function oOe(t,e){if(fg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lOe(t,e){return hOe(t)||uOe(t,e)||dOe(t,e)||cOe()}function cOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dOe(t,e){if(t){if(typeof t=="string")return VM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VM(t,e)}}function VM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function hOe(t){if(Array.isArray(t))return t}var Ni=y.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,u=d===void 0?0:d,h=t.minHeight,f=t.maxHeight,m=t.children,x=t.debounce,p=x===void 0?0:x,v=t.id,g=t.className,w=t.onResize,N=t.style,j=N===void 0?{}:N,b=y.useRef(null),S=y.useRef();S.current=w,y.useImperativeHandle(e,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var A=y.useState({containerWidth:s.width,containerHeight:s.height}),E=lOe(A,2),P=E[0],O=E[1],k=y.useCallback(function(R,_){O(function(B){var I=Math.round(R),C=Math.round(_);return B.containerWidth===I&&B.containerHeight===C?B:{containerWidth:I,containerHeight:C}})},[]);y.useEffect(function(){var R=function(W){var K,H=W[0].contentRect,G=H.width,ee=H.height;k(G,ee),(K=S.current)===null||K===void 0||K.call(S,G,ee)};p>0&&(R=MG(R,p,{trailing:!0,leading:!1}));var _=new ResizeObserver(R),B=b.current.getBoundingClientRect(),I=B.width,C=B.height;return k(I,C),_.observe(b.current),function(){_.disconnect()}},[k,p]);var L=y.useMemo(function(){var R=P.containerWidth,_=P.containerHeight;if(R<0||_<0)return null;Ul(eu(o)||eu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ul(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=eu(o)?R:o,I=eu(c)?_:c;r&&r>0&&(B?I=B/r:I&&(B=I*r),f&&I>f&&(I=f)),Ul(B>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,I,o,c,u,h,r);var C=!Array.isArray(m)&&$l(m.type).endsWith("Chart");return ve.Children.map(m,function(D){return ve.isValidElement(D)?y.cloneElement(D,Iv({width:B,height:I},C?{style:Iv({height:"100%",width:"100%",maxHeight:I,maxWidth:B},D.props.style)}:{})):D})},[r,m,c,f,h,u,P,o]);return ve.createElement("div",{id:v?"".concat(v):void 0,className:ur("recharts-responsive-container",g),style:Iv(Iv({},j),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:f}),ref:b},L)}),LG=function(e){return null};LG.displayName="Cell";function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function zM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(r),!0).forEach(function(n){fOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fOe(t,e,r){return e=mOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mOe(t){var e=pOe(t,"string");return mg(e)=="symbol"?e:e+""}function pOe(t,e){if(mg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gh={widthCache:{},cacheCount:0},xOe=2e3,gOe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WM="recharts_measurement_span";function vOe(t){var e=sC({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var yx=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Fm.isSsr)return{width:0,height:0};var n=vOe(r),s=JSON.stringify({text:e,copyStyle:n});if(gh.widthCache[s])return gh.widthCache[s];try{var i=document.getElementById(WM);i||(i=document.createElement("span"),i.setAttribute("id",WM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=sC(sC({},gOe),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return gh.widthCache[s]=c,++gh.cacheCount>xOe&&(gh.cacheCount=0,gh.widthCache={}),c}catch{return{width:0,height:0}}},yOe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function Jb(t,e){return NOe(t)||jOe(t,e)||wOe(t,e)||bOe()}function bOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wOe(t,e){if(t){if(typeof t=="string")return qM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(t,e)}}function qM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function NOe(t){if(Array.isArray(t))return t}function EOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AOe(n.key),n)}}function SOe(t,e,r){return e&&HM(t.prototype,e),r&&HM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function AOe(t){var e=COe(t,"string");return pg(e)=="symbol"?e:e+""}function COe(t,e){if(pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kOe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,POe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},TOe=Object.keys(BG),zh="NaN";function OOe(t,e){return t*BG[e]}var Fv=function(){function t(e,r){EOe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!kOe.test(r)&&(this.num=NaN,this.unit=""),TOe.includes(r)&&(this.num=OOe(e,r),this.unit="px")}return SOe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=POe.exec(r))!==null&&n!==void 0?n:[],i=Jb(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])}();function $G(t){if(t.includes(zh))return zh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=GM.exec(e))!==null&&r!==void 0?r:[],s=Jb(n,4),i=s[1],o=s[2],l=s[3],c=Fv.parse(i??""),d=Fv.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return zh;e=e.replace(GM,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=KM.exec(e))!==null&&h!==void 0?h:[],m=Jb(f,4),x=m[1],p=m[2],v=m[3],g=Fv.parse(x??""),w=Fv.parse(v??""),N=p==="+"?g.add(w):g.subtract(w);if(N.isNaN())return zh;e=e.replace(KM,N.toString())}return e}var XM=/\(([^()]*)\)/;function _Oe(t){for(var e=t;e.includes("(");){var r=XM.exec(e),n=Jb(r,2),s=n[1];e=e.replace(XM,$G(s))}return e}function ROe(t){var e=t.replace(/\s+/g,"");return e=_Oe(e),e=$G(e),e}function IOe(t){try{return ROe(t)}catch{return zh}}function nE(t){var e=IOe(t.slice(5,-1));return e===zh?"":e}var FOe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],DOe=["dx","dy","angle","className","breakAll"];function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iC.apply(this,arguments)}function YM(t,e){if(t==null)return{};var r=MOe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QM(t,e){return UOe(t)||$Oe(t,e)||BOe(t,e)||LOe()}function LOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BOe(t,e){if(t){if(typeof t=="string")return ZM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZM(t,e)}}function ZM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Oe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function UOe(t){if(Array.isArray(t))return t}var UG=/[ \f\n\r\t\v\u2028\u2029]+/,VG=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var i=[];xr(r)||(n?i=r.toString().split(""):i=r.toString().split(UG));var o=i.map(function(c){return{word:c,width:yx(c,s).width}}),l=n?0:yx("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},VOe=function(e,r,n,s,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,u=st(o),h=l,f=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(I,C){var D=C.word,W=C.width,K=I[I.length-1];if(K&&(s==null||i||K.width+W+n<Number(s)))K.words.push(D),K.width+=W+n;else{var H={words:[D],width:W};I.push(H)}return I},[])},m=f(r),x=function(B){return B.reduce(function(I,C){return I.width>C.width?I:C})};if(!u)return m;for(var p="",v=function(B){var I=h.slice(0,B),C=VG({breakAll:d,style:c,children:I+p}).wordsWithComputedWidth,D=f(C),W=D.length>o||x(D).width>Number(s);return[W,D]},g=0,w=h.length-1,N=0,j;g<=w&&N<=h.length-1;){var b=Math.floor((g+w)/2),S=b-1,A=v(S),E=QM(A,2),P=E[0],O=E[1],k=v(b),L=QM(k,1),R=L[0];if(!P&&!R&&(g=b+1),P&&R&&(w=b-1),!P&&R){j=O;break}N++}return j||m},JM=function(e){var r=xr(e)?[]:e.toString().split(UG);return[{words:r}]},zOe=function(e){var r=e.width,n=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Fm.isSsr){var c,d,u=VG({breakAll:o,children:s,style:i});if(u){var h=u.wordsWithComputedWidth,f=u.spaceWidth;c=h,d=f}else return JM(s);return VOe({breakAll:o,children:s,maxLines:l,style:i},c,d,r,n)}return JM(s)},e3="#808080",ew=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,u=e.scaleToFit,h=u===void 0?!1:u,f=e.textAnchor,m=f===void 0?"start":f,x=e.verticalAnchor,p=x===void 0?"end":x,v=e.fill,g=v===void 0?e3:v,w=YM(e,FOe),N=y.useMemo(function(){return zOe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),j=w.dx,b=w.dy,S=w.angle,A=w.className,E=w.breakAll,P=YM(w,DOe);if(!ra(n)||!ra(i))return null;var O=n+(st(j)?j:0),k=i+(st(b)?b:0),L;switch(p){case"start":L=nE("calc(".concat(d,")"));break;case"middle":L=nE("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:L=nE("calc(".concat(N.length-1," * -").concat(l,")"));break}var R=[];if(h){var _=N[0].width,B=w.width;R.push("scale(".concat((st(B)?B/_:1)/_,")"))}return S&&R.push("rotate(".concat(S,", ").concat(O,", ").concat(k,")")),R.length&&(P.transform=R.join(" ")),ve.createElement("text",iC({},Sr(P,!0),{x:O,y:k,className:ur("recharts-text",A),textAnchor:m,fill:g.includes("url")?e3:g}),N.map(function(I,C){var D=I.words.join(E?"":" ");return ve.createElement("tspan",{x:O,dy:C===0?L:l,key:"".concat(D,"-").concat(C)},D)}))};function td(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function WOe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VO(t){let e,r,n;t.length!==2?(e=td,r=(l,c)=>td(t(l),c),n=(l,c)=>t(l)-c):(e=t===td||t===WOe?t:qOe,r=t,n=t);function s(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=s(l,c,d,u-1);return h>d&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:s,center:o,right:i}}function qOe(){return 0}function zG(t){return t===null?NaN:+t}function*HOe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const GOe=VO(td),P0=GOe.right;VO(zG).center;class t3 extends Map{constructor(e,r=YOe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(r3(this,e))}has(e){return super.has(r3(this,e))}set(e,r){return super.set(KOe(this,e),r)}delete(e){return super.delete(XOe(this,e))}}function r3({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function KOe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function XOe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function YOe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function QOe(t=td){if(t===td)return WG;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function WG(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ZOe=Math.sqrt(50),JOe=Math.sqrt(10),e_e=Math.sqrt(2);function tw(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=ZOe?10:i>=JOe?5:i>=e_e?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?tw(t,e,r*2):[l,c,d]}function oC(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,i,o]=n?tw(e,t,r):tw(t,e,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function lC(t,e,r){return e=+e,t=+t,r=+r,tw(t,e,r)[2]}function cC(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?lC(e,t,r):lC(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function n3(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function a3(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function qG(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?WG:QOe(s);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(e-d*h/c+f)),x=Math.min(n,Math.floor(e+(c-d)*h/c+f));qG(t,e,m,x,s)}const i=t[e];let o=r,l=n;for(mp(t,r,e),s(t[n],i)>0&&mp(t,r,n);o<l;){for(mp(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[r],i)===0?mp(t,r,l):(++l,mp(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function mp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function t_e(t,e,r){if(t=Float64Array.from(HOe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return a3(t);if(e>=1)return n3(t);var n,s=(n-1)*e,i=Math.floor(s),o=n3(qG(t,i).subarray(0,i+1)),l=a3(t.subarray(i+1));return o+(l-o)*(s-i)}}function r_e(t,e,r=zG){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,i=Math.floor(s),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function n_e(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(s);++n<s;)i[n]=t+n*r;return i}function Xi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function lc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const dC=Symbol("implicit");function zO(){var t=new t3,e=[],r=[],n=dC;function s(i){let o=t.get(i);if(o===void 0){if(n!==dC)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new t3;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return zO(e,r).unknown(n)},Xi.apply(s,arguments),s}function xg(){var t=zO().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function h(){var f=e().length,m=s<n,x=m?s:n,p=m?n:s;i=(p-x)/Math.max(1,f-c+d*2),l&&(i=Math.floor(i)),x+=(p-x-i*(f-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=n_e(f).map(function(g){return x+i*g});return r(m?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,s]=f,n=+n,s=+s,h()):[n,s]},t.rangeRound=function(f){return[n,s]=f,n=+n,s=+s,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(d=+f,h()):d},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},t.copy=function(){return xg(e(),[n,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},Xi.apply(h(),arguments)}function HG(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return HG(e())},t}function bx(){return HG(xg.apply(null,arguments).paddingInner(1))}function WO(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function GG(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function T0(){}var gg=.7,rw=1/gg,mf="\\s*([+-]?\\d+)\\s*",vg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a_e=/^#([0-9a-f]{3,8})$/,s_e=new RegExp(`^rgb\\(${mf},${mf},${mf}\\)$`),i_e=new RegExp(`^rgb\\(${sl},${sl},${sl}\\)$`),o_e=new RegExp(`^rgba\\(${mf},${mf},${mf},${vg}\\)$`),l_e=new RegExp(`^rgba\\(${sl},${sl},${sl},${vg}\\)$`),c_e=new RegExp(`^hsl\\(${vg},${sl},${sl}\\)$`),d_e=new RegExp(`^hsla\\(${vg},${sl},${sl},${vg}\\)$`),s3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};WO(T0,yg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:i3,formatHex:i3,formatHex8:u_e,formatHsl:h_e,formatRgb:o3,toString:o3});function i3(){return this.rgb().formatHex()}function u_e(){return this.rgb().formatHex8()}function h_e(){return KG(this).formatHsl()}function o3(){return this.rgb().formatRgb()}function yg(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=a_e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?l3(e):r===3?new ks(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Dv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Dv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=s_e.exec(t))?new ks(e[1],e[2],e[3],1):(e=i_e.exec(t))?new ks(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=o_e.exec(t))?Dv(e[1],e[2],e[3],e[4]):(e=l_e.exec(t))?Dv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=c_e.exec(t))?u3(e[1],e[2]/100,e[3]/100,1):(e=d_e.exec(t))?u3(e[1],e[2]/100,e[3]/100,e[4]):s3.hasOwnProperty(t)?l3(s3[t]):t==="transparent"?new ks(NaN,NaN,NaN,0):null}function l3(t){return new ks(t>>16&255,t>>8&255,t&255,1)}function Dv(t,e,r,n){return n<=0&&(t=e=r=NaN),new ks(t,e,r,n)}function f_e(t){return t instanceof T0||(t=yg(t)),t?(t=t.rgb(),new ks(t.r,t.g,t.b,t.opacity)):new ks}function uC(t,e,r,n){return arguments.length===1?f_e(t):new ks(t,e,r,n??1)}function ks(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}WO(ks,uC,GG(T0,{brighter(t){return t=t==null?rw:Math.pow(rw,t),new ks(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gg:Math.pow(gg,t),new ks(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ks(ou(this.r),ou(this.g),ou(this.b),nw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c3,formatHex:c3,formatHex8:m_e,formatRgb:d3,toString:d3}));function c3(){return`#${tu(this.r)}${tu(this.g)}${tu(this.b)}`}function m_e(){return`#${tu(this.r)}${tu(this.g)}${tu(this.b)}${tu((isNaN(this.opacity)?1:this.opacity)*255)}`}function d3(){const t=nw(this.opacity);return`${t===1?"rgb(":"rgba("}${ou(this.r)}, ${ou(this.g)}, ${ou(this.b)}${t===1?")":`, ${t})`}`}function nw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ou(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tu(t){return t=ou(t),(t<16?"0":"")+t.toString(16)}function u3(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new go(t,e,r,n)}function KG(t){if(t instanceof go)return new go(t.h,t.s,t.l,t.opacity);if(t instanceof T0||(t=yg(t)),!t)return new go;if(t instanceof go)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new go(o,l,c,t.opacity)}function p_e(t,e,r,n){return arguments.length===1?KG(t):new go(t,e,r,n??1)}function go(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}WO(go,p_e,GG(T0,{brighter(t){return t=t==null?rw:Math.pow(rw,t),new go(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gg:Math.pow(gg,t),new go(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new ks(aE(t>=240?t-240:t+120,s,n),aE(t,s,n),aE(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new go(h3(this.h),Mv(this.s),Mv(this.l),nw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=nw(this.opacity);return`${t===1?"hsl(":"hsla("}${h3(this.h)}, ${Mv(this.s)*100}%, ${Mv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function h3(t){return t=(t||0)%360,t<0?t+360:t}function Mv(t){return Math.max(0,Math.min(1,t||0))}function aE(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const qO=t=>()=>t;function x_e(t,e){return function(r){return t+r*e}}function g_e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function v_e(t){return(t=+t)==1?XG:function(e,r){return r-e?g_e(e,r,t):qO(isNaN(e)?r:e)}}function XG(t,e){var r=e-t;return r?x_e(t,r):qO(isNaN(t)?e:t)}const f3=function t(e){var r=v_e(e);function n(s,i){var o=r((s=uC(s)).r,(i=uC(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=XG(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return n.gamma=t,n}(1);function y_e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=t[s]*(1-i)+e[s]*i;return n}}function b_e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function w_e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Dm(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function j_e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function aw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function N_e(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=Dm(t[s],e[s]):n[s]=e[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var hC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sE=new RegExp(hC.source,"g");function E_e(t){return function(){return t}}function S_e(t){return function(e){return t(e)+""}}function A_e(t,e){var r=hC.lastIndex=sE.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=hC.exec(t))&&(s=sE.exec(e));)(i=s.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:aw(n,s)})),r=sE.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?S_e(c[0].x):E_e(e):(e=c.length,function(d){for(var u=0,h;u<e;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Dm(t,e){var r=typeof e,n;return e==null||r==="boolean"?qO(e):(r==="number"?aw:r==="string"?(n=yg(e))?(e=n,f3):A_e:e instanceof yg?f3:e instanceof Date?j_e:b_e(e)?y_e:Array.isArray(e)?w_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?N_e:aw)(t,e)}function HO(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function C_e(t,e){e===void 0&&(e=t,t=Dm);for(var r=0,n=e.length-1,s=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(s,s=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function k_e(t){return function(){return t}}function sw(t){return+t}var m3=[0,1];function ds(t){return t}function fC(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:k_e(isNaN(e)?NaN:.5)}function P_e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function T_e(t,e,r){var n=t[0],s=t[1],i=e[0],o=e[1];return s<n?(n=fC(s,n),i=r(o,i)):(n=fC(n,s),i=r(i,o)),function(l){return i(n(l))}}function O_e(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=fC(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=P0(t,l,1,n)-1;return i[c](s[c](l))}}function O0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function V1(){var t=m3,e=m3,r=Dm,n,s,i,o=ds,l,c,d;function u(){var f=Math.min(t.length,e.length);return o!==ds&&(o=P_e(t[0],t[f-1])),l=f>2?O_e:T_e,c=d=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(t.map(n),e,r)))(n(o(f)))}return h.invert=function(f){return o(s((d||(d=l(e,t.map(n),aw)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,sw),u()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=HO,u()},h.clamp=function(f){return arguments.length?(o=f?!0:ds,u()):o!==ds},h.interpolate=function(f){return arguments.length?(r=f,u()):r},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return n=f,s=m,u()}}function GO(){return V1()(ds,ds)}function __e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function iw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Uf(t){return t=iw(Math.abs(t)),t?t[1]:NaN}function R_e(t,e){return function(r,n){for(var s=r.length,i=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function I_e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var F_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bg(t){if(!(e=F_e.exec(t)))throw new Error("invalid format: "+t);var e;return new KO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bg.prototype=KO.prototype;function KO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}KO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function D_e(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var YG;function M_e(t,e){var r=iw(t,e);if(!r)return t+"";var n=r[0],s=r[1],i=s-(YG=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+iw(t,Math.max(0,e+i-1))[0]}function p3(t,e){var r=iw(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const x3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:__e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>p3(t*100,e),r:p3,s:M_e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function g3(t){return t}var v3=Array.prototype.map,y3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function L_e(t){var e=t.grouping===void 0||t.thousands===void 0?g3:R_e(v3.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?g3:I_e(v3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=bg(h);var f=h.fill,m=h.align,x=h.sign,p=h.symbol,v=h.zero,g=h.width,w=h.comma,N=h.precision,j=h.trim,b=h.type;b==="n"?(w=!0,b="g"):x3[b]||(N===void 0&&(N=12),j=!0,b="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",A=p==="$"?n:/[%p]/.test(b)?o:"",E=x3[b],P=/[defgprs%]/.test(b);N=N===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function O(k){var L=S,R=A,_,B,I;if(b==="c")R=E(k)+R,k="";else{k=+k;var C=k<0||1/k<0;if(k=isNaN(k)?c:E(Math.abs(k),N),j&&(k=D_e(k)),C&&+k==0&&x!=="+"&&(C=!1),L=(C?x==="("?x:l:x==="-"||x==="("?"":x)+L,R=(b==="s"?y3[8+YG/3]:"")+R+(C&&x==="("?")":""),P){for(_=-1,B=k.length;++_<B;)if(I=k.charCodeAt(_),48>I||I>57){R=(I===46?s+k.slice(_+1):k.slice(_))+R,k=k.slice(0,_);break}}}w&&!v&&(k=e(k,1/0));var D=L.length+k.length+R.length,W=D<g?new Array(g-D+1).join(f):"";switch(w&&v&&(k=e(W+k,W.length?g-R.length:1/0),W=""),m){case"<":k=L+k+R+W;break;case"=":k=L+W+k+R;break;case"^":k=W.slice(0,D=W.length>>1)+L+k+R+W.slice(D);break;default:k=W+L+k+R;break}return i(k)}return O.toString=function(){return h+""},O}function u(h,f){var m=d((h=bg(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(Uf(f)/3)))*3,p=Math.pow(10,-x),v=y3[8+x/3];return function(g){return m(p*g)+v}}return{format:d,formatPrefix:u}}var Lv,XO,QG;B_e({thousands:",",grouping:[3],currency:["$",""]});function B_e(t){return Lv=L_e(t),XO=Lv.format,QG=Lv.formatPrefix,Lv}function $_e(t){return Math.max(0,-Uf(Math.abs(t)))}function U_e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uf(e)/3)))*3-Uf(Math.abs(t)))}function V_e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Uf(e)-Uf(t))+1}function ZG(t,e,r,n){var s=cC(t,e,r),i;switch(n=bg(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=U_e(s,o))&&(n.precision=i),QG(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=V_e(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=$_e(s))&&(n.precision=i-(n.type==="%")*2);break}}return XO(n)}function kd(t){var e=t.domain;return t.ticks=function(r){var n=e();return oC(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return ZG(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,i=n.length-1,o=n[s],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=lC(o,l,r),d===c)return n[s]=o,n[i]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function ow(){var t=GO();return t.copy=function(){return O0(t,ow())},Xi.apply(t,arguments),kd(t)}function JG(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,sw),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return JG(t).unknown(e)},t=arguments.length?Array.from(t,sw):[0,1],kd(r)}function e9(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],i=t[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),t[r]=e.floor(s),t[n]=e.ceil(i),t}function b3(t){return Math.log(t)}function w3(t){return Math.exp(t)}function z_e(t){return-Math.log(-t)}function W_e(t){return-Math.exp(-t)}function q_e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function H_e(t){return t===10?q_e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function G_e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function j3(t){return(e,r)=>-t(-e,r)}function YO(t){const e=t(b3,w3),r=e.domain;let n=10,s,i;function o(){return s=G_e(n),i=H_e(n),r()[0]<0?(s=j3(s),i=j3(i),t(z_e,W_e)):t(b3,w3),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let f=s(d),m=s(u),x,p;const v=l==null?10:+l;let g=[];if(!(n%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),d>0){for(;f<=m;++f)for(x=1;x<n;++x)if(p=f<0?x/i(-f):x*i(f),!(p<d)){if(p>u)break;g.push(p)}}else for(;f<=m;++f)for(x=n-1;x>=1;--x)if(p=f>0?x/i(-f):x*i(f),!(p<d)){if(p>u)break;g.push(p)}g.length*2<v&&(g=oC(d,u,v))}else g=oC(f,m,Math.min(m-f,v)).map(i);return h?g.reverse():g},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=bg(c)).precision==null&&(c.trim=!0),c=XO(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return u=>{let h=u/i(Math.round(s(u)));return h*n<n-.5&&(h*=n),h<=d?c(u):""}},e.nice=()=>r(e9(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function t9(){const t=YO(V1()).domain([1,10]);return t.copy=()=>O0(t,t9()).base(t.base()),Xi.apply(t,arguments),t}function N3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function E3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function QO(t){var e=1,r=t(N3(e),E3(e));return r.constant=function(n){return arguments.length?t(N3(e=+n),E3(e)):e},kd(r)}function r9(){var t=QO(V1());return t.copy=function(){return O0(t,r9()).constant(t.constant())},Xi.apply(t,arguments)}function S3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function K_e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function X_e(t){return t<0?-t*t:t*t}function ZO(t){var e=t(ds,ds),r=1;function n(){return r===1?t(ds,ds):r===.5?t(K_e,X_e):t(S3(r),S3(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},kd(e)}function JO(){var t=ZO(V1());return t.copy=function(){return O0(t,JO()).exponent(t.exponent())},Xi.apply(t,arguments),t}function Y_e(){return JO.apply(null,arguments).exponent(.5)}function A3(t){return Math.sign(t)*t*t}function Q_e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function n9(){var t=GO(),e=[0,1],r=!1,n;function s(i){var o=Q_e(t(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return t.invert(A3(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,sw)).map(A3)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return n9(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Xi.apply(s,arguments),kd(s)}function a9(){var t=[],e=[],r=[],n;function s(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=r_e(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[P0(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(td),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return a9().domain(t).range(e).unknown(n)},Xi.apply(i,arguments)}function s9(){var t=0,e=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[P0(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return s9().domain([t,e]).range(s).unknown(i)},Xi.apply(kd(o),arguments)}function i9(){var t=[.5],e=[0,1],r,n=1;function s(i){return i!=null&&i<=i?e[P0(t,i,0,n)]:r}return s.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return i9().domain(t).range(e).unknown(r)},Xi.apply(s,arguments)}const iE=new Date,oE=new Date;function ia(t,e,r,n){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},s.filter=i=>ia(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(s.count=(i,o)=>(iE.setTime(+i),oE.setTime(+o),t(iE),t(oE),Math.floor(r(iE,oE))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const lw=ia(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);lw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ia(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):lw);lw.range;const Tl=1e3,Oi=Tl*60,Ol=Oi*60,Ql=Ol*24,e_=Ql*7,C3=Ql*30,lE=Ql*365,ru=ia(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Tl)},(t,e)=>(e-t)/Tl,t=>t.getUTCSeconds());ru.range;const t_=ia(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tl)},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getMinutes());t_.range;const r_=ia(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getUTCMinutes());r_.range;const n_=ia(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tl-t.getMinutes()*Oi)},(t,e)=>{t.setTime(+t+e*Ol)},(t,e)=>(e-t)/Ol,t=>t.getHours());n_.range;const a_=ia(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ol)},(t,e)=>(e-t)/Ol,t=>t.getUTCHours());a_.range;const _0=ia(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Oi)/Ql,t=>t.getDate()-1);_0.range;const z1=ia(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ql,t=>t.getUTCDate()-1);z1.range;const o9=ia(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ql,t=>Math.floor(t/Ql));o9.range;function Ju(t){return ia(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Oi)/e_)}const W1=Ju(0),cw=Ju(1),Z_e=Ju(2),J_e=Ju(3),Vf=Ju(4),eRe=Ju(5),tRe=Ju(6);W1.range;cw.range;Z_e.range;J_e.range;Vf.range;eRe.range;tRe.range;function eh(t){return ia(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/e_)}const q1=eh(0),dw=eh(1),rRe=eh(2),nRe=eh(3),zf=eh(4),aRe=eh(5),sRe=eh(6);q1.range;dw.range;rRe.range;nRe.range;zf.range;aRe.range;sRe.range;const s_=ia(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());s_.range;const i_=ia(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());i_.range;const Zl=ia(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Zl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ia(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Zl.range;const Jl=ia(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Jl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ia(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Jl.range;function l9(t,e,r,n,s,i){const o=[[ru,1,Tl],[ru,5,5*Tl],[ru,15,15*Tl],[ru,30,30*Tl],[i,1,Oi],[i,5,5*Oi],[i,15,15*Oi],[i,30,30*Oi],[s,1,Ol],[s,3,3*Ol],[s,6,6*Ol],[s,12,12*Ol],[n,1,Ql],[n,2,2*Ql],[r,1,e_],[e,1,C3],[e,3,3*C3],[t,1,lE]];function l(d,u,h){const f=u<d;f&&([d,u]=[u,d]);const m=h&&typeof h.range=="function"?h:c(d,u,h),x=m?m.range(d,+u+1):[];return f?x.reverse():x}function c(d,u,h){const f=Math.abs(u-d)/h,m=VO(([,,v])=>v).right(o,f);if(m===o.length)return t.every(cC(d/lE,u/lE,h));if(m===0)return lw.every(Math.max(cC(d,u,h),1));const[x,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return x.every(p)}return[l,c]}const[iRe,oRe]=l9(Jl,i_,q1,o9,a_,r_),[lRe,cRe]=l9(Zl,s_,W1,_0,n_,t_);function cE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function pp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function dRe(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=xp(s),u=gp(s),h=xp(i),f=gp(i),m=xp(o),x=gp(o),p=xp(l),v=gp(l),g=xp(c),w=gp(c),N={a:C,A:D,b:W,B:K,c:null,d:R3,e:R3,f:RRe,g:zRe,G:qRe,H:TRe,I:ORe,j:_Re,L:c9,m:IRe,M:FRe,p:H,q:G,Q:D3,s:M3,S:DRe,u:MRe,U:LRe,V:BRe,w:$Re,W:URe,x:null,X:null,y:VRe,Y:WRe,Z:HRe,"%":F3},j={a:ee,A:Q,b:te,B:U,c:null,d:I3,e:I3,f:YRe,g:iIe,G:lIe,H:GRe,I:KRe,j:XRe,L:u9,m:QRe,M:ZRe,p:q,q:ne,Q:D3,s:M3,S:JRe,u:eIe,U:tIe,V:rIe,w:nIe,W:aIe,x:null,X:null,y:sIe,Y:oIe,Z:cIe,"%":F3},b={a:O,A:k,b:L,B:R,c:_,d:O3,e:O3,f:ARe,g:T3,G:P3,H:_3,I:_3,j:jRe,L:SRe,m:wRe,M:NRe,p:P,q:bRe,Q:kRe,s:PRe,S:ERe,u:pRe,U:xRe,V:gRe,w:mRe,W:vRe,x:B,X:I,y:T3,Y:P3,Z:yRe,"%":CRe};N.x=S(r,N),N.X=S(n,N),N.c=S(e,N),j.x=S(r,j),j.X=S(n,j),j.c=S(e,j);function S(fe,pe){return function(ye){var Z=[],Ne=-1,J=0,le=fe.length,we,De,ue;for(ye instanceof Date||(ye=new Date(+ye));++Ne<le;)fe.charCodeAt(Ne)===37&&(Z.push(fe.slice(J,Ne)),(De=k3[we=fe.charAt(++Ne)])!=null?we=fe.charAt(++Ne):De=we==="e"?" ":"0",(ue=pe[we])&&(we=ue(ye,De)),Z.push(we),J=Ne+1);return Z.push(fe.slice(J,Ne)),Z.join("")}}function A(fe,pe){return function(ye){var Z=pp(1900,void 0,1),Ne=E(Z,fe,ye+="",0),J,le;if(Ne!=ye.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(pe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(J=dE(pp(Z.y,0,1)),le=J.getUTCDay(),J=le>4||le===0?dw.ceil(J):dw(J),J=z1.offset(J,(Z.V-1)*7),Z.y=J.getUTCFullYear(),Z.m=J.getUTCMonth(),Z.d=J.getUTCDate()+(Z.w+6)%7):(J=cE(pp(Z.y,0,1)),le=J.getDay(),J=le>4||le===0?cw.ceil(J):cw(J),J=_0.offset(J,(Z.V-1)*7),Z.y=J.getFullYear(),Z.m=J.getMonth(),Z.d=J.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),le="Z"in Z?dE(pp(Z.y,0,1)).getUTCDay():cE(pp(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(le+5)%7:Z.w+Z.U*7-(le+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,dE(Z)):cE(Z)}}function E(fe,pe,ye,Z){for(var Ne=0,J=pe.length,le=ye.length,we,De;Ne<J;){if(Z>=le)return-1;if(we=pe.charCodeAt(Ne++),we===37){if(we=pe.charAt(Ne++),De=b[we in k3?pe.charAt(Ne++):we],!De||(Z=De(fe,ye,Z))<0)return-1}else if(we!=ye.charCodeAt(Z++))return-1}return Z}function P(fe,pe,ye){var Z=d.exec(pe.slice(ye));return Z?(fe.p=u.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function O(fe,pe,ye){var Z=m.exec(pe.slice(ye));return Z?(fe.w=x.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function k(fe,pe,ye){var Z=h.exec(pe.slice(ye));return Z?(fe.w=f.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function L(fe,pe,ye){var Z=g.exec(pe.slice(ye));return Z?(fe.m=w.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function R(fe,pe,ye){var Z=p.exec(pe.slice(ye));return Z?(fe.m=v.get(Z[0].toLowerCase()),ye+Z[0].length):-1}function _(fe,pe,ye){return E(fe,e,pe,ye)}function B(fe,pe,ye){return E(fe,r,pe,ye)}function I(fe,pe,ye){return E(fe,n,pe,ye)}function C(fe){return o[fe.getDay()]}function D(fe){return i[fe.getDay()]}function W(fe){return c[fe.getMonth()]}function K(fe){return l[fe.getMonth()]}function H(fe){return s[+(fe.getHours()>=12)]}function G(fe){return 1+~~(fe.getMonth()/3)}function ee(fe){return o[fe.getUTCDay()]}function Q(fe){return i[fe.getUTCDay()]}function te(fe){return c[fe.getUTCMonth()]}function U(fe){return l[fe.getUTCMonth()]}function q(fe){return s[+(fe.getUTCHours()>=12)]}function ne(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var pe=S(fe+="",N);return pe.toString=function(){return fe},pe},parse:function(fe){var pe=A(fe+="",!1);return pe.toString=function(){return fe},pe},utcFormat:function(fe){var pe=S(fe+="",j);return pe.toString=function(){return fe},pe},utcParse:function(fe){var pe=A(fe+="",!0);return pe.toString=function(){return fe},pe}}}var k3={"-":"",_:" ",0:"0"},ga=/^\s*\d+/,uRe=/^%/,hRe=/[\\^$*+?|[\]().{}]/g;function Dr(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(e)+s:s)}function fRe(t){return t.replace(hRe,"\\$&")}function xp(t){return new RegExp("^(?:"+t.map(fRe).join("|")+")","i")}function gp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function mRe(t,e,r){var n=ga.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function pRe(t,e,r){var n=ga.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function xRe(t,e,r){var n=ga.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function gRe(t,e,r){var n=ga.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function vRe(t,e,r){var n=ga.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function P3(t,e,r){var n=ga.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function T3(t,e,r){var n=ga.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function yRe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bRe(t,e,r){var n=ga.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function wRe(t,e,r){var n=ga.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function O3(t,e,r){var n=ga.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function jRe(t,e,r){var n=ga.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function _3(t,e,r){var n=ga.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function NRe(t,e,r){var n=ga.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function ERe(t,e,r){var n=ga.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function SRe(t,e,r){var n=ga.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function ARe(t,e,r){var n=ga.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function CRe(t,e,r){var n=uRe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function kRe(t,e,r){var n=ga.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function PRe(t,e,r){var n=ga.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function R3(t,e){return Dr(t.getDate(),e,2)}function TRe(t,e){return Dr(t.getHours(),e,2)}function ORe(t,e){return Dr(t.getHours()%12||12,e,2)}function _Re(t,e){return Dr(1+_0.count(Zl(t),t),e,3)}function c9(t,e){return Dr(t.getMilliseconds(),e,3)}function RRe(t,e){return c9(t,e)+"000"}function IRe(t,e){return Dr(t.getMonth()+1,e,2)}function FRe(t,e){return Dr(t.getMinutes(),e,2)}function DRe(t,e){return Dr(t.getSeconds(),e,2)}function MRe(t){var e=t.getDay();return e===0?7:e}function LRe(t,e){return Dr(W1.count(Zl(t)-1,t),e,2)}function d9(t){var e=t.getDay();return e>=4||e===0?Vf(t):Vf.ceil(t)}function BRe(t,e){return t=d9(t),Dr(Vf.count(Zl(t),t)+(Zl(t).getDay()===4),e,2)}function $Re(t){return t.getDay()}function URe(t,e){return Dr(cw.count(Zl(t)-1,t),e,2)}function VRe(t,e){return Dr(t.getFullYear()%100,e,2)}function zRe(t,e){return t=d9(t),Dr(t.getFullYear()%100,e,2)}function WRe(t,e){return Dr(t.getFullYear()%1e4,e,4)}function qRe(t,e){var r=t.getDay();return t=r>=4||r===0?Vf(t):Vf.ceil(t),Dr(t.getFullYear()%1e4,e,4)}function HRe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dr(e/60|0,"0",2)+Dr(e%60,"0",2)}function I3(t,e){return Dr(t.getUTCDate(),e,2)}function GRe(t,e){return Dr(t.getUTCHours(),e,2)}function KRe(t,e){return Dr(t.getUTCHours()%12||12,e,2)}function XRe(t,e){return Dr(1+z1.count(Jl(t),t),e,3)}function u9(t,e){return Dr(t.getUTCMilliseconds(),e,3)}function YRe(t,e){return u9(t,e)+"000"}function QRe(t,e){return Dr(t.getUTCMonth()+1,e,2)}function ZRe(t,e){return Dr(t.getUTCMinutes(),e,2)}function JRe(t,e){return Dr(t.getUTCSeconds(),e,2)}function eIe(t){var e=t.getUTCDay();return e===0?7:e}function tIe(t,e){return Dr(q1.count(Jl(t)-1,t),e,2)}function h9(t){var e=t.getUTCDay();return e>=4||e===0?zf(t):zf.ceil(t)}function rIe(t,e){return t=h9(t),Dr(zf.count(Jl(t),t)+(Jl(t).getUTCDay()===4),e,2)}function nIe(t){return t.getUTCDay()}function aIe(t,e){return Dr(dw.count(Jl(t)-1,t),e,2)}function sIe(t,e){return Dr(t.getUTCFullYear()%100,e,2)}function iIe(t,e){return t=h9(t),Dr(t.getUTCFullYear()%100,e,2)}function oIe(t,e){return Dr(t.getUTCFullYear()%1e4,e,4)}function lIe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?zf(t):zf.ceil(t),Dr(t.getUTCFullYear()%1e4,e,4)}function cIe(){return"+0000"}function F3(){return"%"}function D3(t){return+t}function M3(t){return Math.floor(+t/1e3)}var vh,f9,m9;dIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dIe(t){return vh=dRe(t),f9=vh.format,vh.parse,m9=vh.utcFormat,vh.utcParse,vh}function uIe(t){return new Date(t)}function hIe(t){return t instanceof Date?+t:+new Date(+t)}function o_(t,e,r,n,s,i,o,l,c,d){var u=GO(),h=u.invert,f=u.domain,m=d(".%L"),x=d(":%S"),p=d("%I:%M"),v=d("%I %p"),g=d("%a %d"),w=d("%b %d"),N=d("%B"),j=d("%Y");function b(S){return(c(S)<S?m:l(S)<S?x:o(S)<S?p:i(S)<S?v:n(S)<S?s(S)<S?g:w:r(S)<S?N:j)(S)}return u.invert=function(S){return new Date(h(S))},u.domain=function(S){return arguments.length?f(Array.from(S,hIe)):f().map(uIe)},u.ticks=function(S){var A=f();return t(A[0],A[A.length-1],S??10)},u.tickFormat=function(S,A){return A==null?b:d(A)},u.nice=function(S){var A=f();return(!S||typeof S.range!="function")&&(S=e(A[0],A[A.length-1],S??10)),S?f(e9(A,S)):u},u.copy=function(){return O0(u,o_(t,e,r,n,s,i,o,l,c,d))},u}function fIe(){return Xi.apply(o_(lRe,cRe,Zl,s_,W1,_0,n_,t_,ru,f9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mIe(){return Xi.apply(o_(iRe,oRe,Jl,i_,q1,z1,a_,r_,ru,m9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function H1(){var t=0,e=1,r,n,s,i,o=ds,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(i(h)-r)*s,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,r=i(t=+t),n=i(e=+e),s=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(f){var m,x;return arguments.length?([m,x]=f,o=h(m,x),d):[o(0),o(1)]}}return d.range=u(Dm),d.rangeRound=u(HO),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(t),n=h(e),s=r===n?0:1/(n-r),d}}function Pd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function p9(){var t=kd(H1()(ds));return t.copy=function(){return Pd(t,p9())},lc.apply(t,arguments)}function x9(){var t=YO(H1()).domain([1,10]);return t.copy=function(){return Pd(t,x9()).base(t.base())},lc.apply(t,arguments)}function g9(){var t=QO(H1());return t.copy=function(){return Pd(t,g9()).constant(t.constant())},lc.apply(t,arguments)}function l_(){var t=ZO(H1());return t.copy=function(){return Pd(t,l_()).exponent(t.exponent())},lc.apply(t,arguments)}function pIe(){return l_.apply(null,arguments).exponent(.5)}function v9(){var t=[],e=ds;function r(n){if(n!=null&&!isNaN(n=+n))return e((P0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(td),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>t_e(t,i/n))},r.copy=function(){return v9(e).domain(t)},lc.apply(r,arguments)}function G1(){var t=0,e=.5,r=1,n=1,s,i,o,l,c,d=ds,u,h=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-i)*(n*p<n*i?l:c),d(h?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([t,e,r]=p,s=u(t=+t),i=u(e=+e),o=u(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m):[t,e,r]},m.clamp=function(p){return arguments.length?(h=!!p,m):h},m.interpolator=function(p){return arguments.length?(d=p,m):d};function x(p){return function(v){var g,w,N;return arguments.length?([g,w,N]=v,d=C_e(p,[g,w,N]),m):[d(0),d(.5),d(1)]}}return m.range=x(Dm),m.rangeRound=x(HO),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return u=p,s=p(t),i=p(e),o=p(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m}}function y9(){var t=kd(G1()(ds));return t.copy=function(){return Pd(t,y9())},lc.apply(t,arguments)}function b9(){var t=YO(G1()).domain([.1,1,10]);return t.copy=function(){return Pd(t,b9()).base(t.base())},lc.apply(t,arguments)}function w9(){var t=QO(G1());return t.copy=function(){return Pd(t,w9()).constant(t.constant())},lc.apply(t,arguments)}function c_(){var t=ZO(G1());return t.copy=function(){return Pd(t,c_()).exponent(t.exponent())},lc.apply(t,arguments)}function xIe(){return c_.apply(null,arguments).exponent(.5)}const L3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xg,scaleDiverging:y9,scaleDivergingLog:b9,scaleDivergingPow:c_,scaleDivergingSqrt:xIe,scaleDivergingSymlog:w9,scaleIdentity:JG,scaleImplicit:dC,scaleLinear:ow,scaleLog:t9,scaleOrdinal:zO,scalePoint:bx,scalePow:JO,scaleQuantile:a9,scaleQuantize:s9,scaleRadial:n9,scaleSequential:p9,scaleSequentialLog:x9,scaleSequentialPow:l_,scaleSequentialQuantile:v9,scaleSequentialSqrt:pIe,scaleSequentialSymlog:g9,scaleSqrt:Y_e,scaleSymlog:r9,scaleThreshold:i9,scaleTime:fIe,scaleUtc:mIe,tickFormat:ZG},Symbol.toStringTag,{value:"Module"}));var gIe=Cm;function vIe(t,e,r){for(var n=-1,s=t.length;++n<s;){var i=t[n],o=e(i);if(o!=null&&(l===void 0?o===o&&!gIe(o):r(o,l)))var l=o,c=i}return c}var j9=vIe;function yIe(t,e){return t>e}var bIe=yIe,wIe=j9,jIe=bIe,NIe=Im;function EIe(t){return t&&t.length?wIe(t,NIe,jIe):void 0}var SIe=EIe;const K1=Mr(SIe);function AIe(t,e){return t<e}var CIe=AIe,kIe=j9,PIe=CIe,TIe=Im;function OIe(t){return t&&t.length?kIe(t,TIe,PIe):void 0}var _Ie=OIe;const X1=Mr(_Ie);var RIe=NO,IIe=Cd,FIe=TG,DIe=Fs;function MIe(t,e){var r=DIe(t)?RIe:FIe;return r(t,IIe(e))}var LIe=MIe,BIe=kG,$Ie=LIe;function UIe(t,e){return BIe($Ie(t,e),1)}var VIe=UIe;const zIe=Mr(VIe);var WIe=LO;function qIe(t,e){return WIe(t,e)}var HIe=qIe;const Y1=Mr(HIe);var Mm=1e9,GIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},u_,hn=!0,qi="[DecimalError] ",lu=qi+"Invalid argument: ",d_=qi+"Exponent out of range: ",Lm=Math.floor,zd=Math.pow,KIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ks,ua=1e7,on=7,N9=9007199254740991,uw=Lm(N9/on),gt={};gt.absoluteValue=gt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};gt.comparedTo=gt.cmp=function(t){var e,r,n,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};gt.decimalPlaces=gt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*on;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};gt.dividedBy=gt.div=function(t){return Vl(this,new this.constructor(t))};gt.dividedToIntegerBy=gt.idiv=function(t){var e=this,r=e.constructor;return Jr(Vl(e,new r(t),0,1),r.precision)};gt.equals=gt.eq=function(t){return!this.cmp(t)};gt.exponent=function(){return zn(this)};gt.greaterThan=gt.gt=function(t){return this.cmp(t)>0};gt.greaterThanOrEqualTo=gt.gte=function(t){return this.cmp(t)>=0};gt.isInteger=gt.isint=function(){return this.e>this.d.length-2};gt.isNegative=gt.isneg=function(){return this.s<0};gt.isPositive=gt.ispos=function(){return this.s>0};gt.isZero=function(){return this.s===0};gt.lessThan=gt.lt=function(t){return this.cmp(t)<0};gt.lessThanOrEqualTo=gt.lte=function(t){return this.cmp(t)<1};gt.logarithm=gt.log=function(t){var e,r=this,n=r.constructor,s=n.precision,i=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ks))throw Error(qi+"NaN");if(r.s<1)throw Error(qi+(r.s?"NaN":"-Infinity"));return r.eq(Ks)?new n(0):(hn=!1,e=Vl(wg(r,i),wg(t,i),i),hn=!0,Jr(e,s))};gt.minus=gt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A9(e,t):E9(e,(t.s=-t.s,t))};gt.modulo=gt.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(qi+"NaN");return r.s?(hn=!1,e=Vl(r,t,0,1).times(t),hn=!0,r.minus(e)):Jr(new n(r),s)};gt.naturalExponential=gt.exp=function(){return S9(this)};gt.naturalLogarithm=gt.ln=function(){return wg(this)};gt.negated=gt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};gt.plus=gt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?E9(e,t):A9(e,(t.s=-t.s,t))};gt.precision=gt.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(lu+t);if(e=zn(s)+1,n=s.d.length-1,r=n*on+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};gt.squareRoot=gt.sqrt=function(){var t,e,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(qi+"NaN")}for(t=zn(l),hn=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=Zo(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Lm((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Vl(l,i,o+2)).times(.5),Zo(i.d).slice(0,o)===(e=Zo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(Jr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return hn=!0,Jr(n,r)};gt.times=gt.mul=function(t){var e,r,n,s,i,o,l,c,d,u=this,h=u.constructor,f=u.d,m=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,r=u.e+t.e,c=f.length,d=m.length,c<d&&(i=f,f=m,m=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(e=0,s=c+n;s>n;)l=i[s]+m[n]*f[s-n-1]+e,i[s--]=l%ua|0,e=l/ua|0;i[s]=(i[s]+e)%ua|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,hn?Jr(t,h.precision):t};gt.toDecimalPlaces=gt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(dl(t,0,Mm),e===void 0?e=n.rounding:dl(e,0,8),Jr(r,t+zn(r)+1,e))};gt.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=Fu(n,!0):(dl(t,0,Mm),e===void 0?e=s.rounding:dl(e,0,8),n=Jr(new s(n),t+1,e),r=Fu(n,!0,t+1)),r};gt.toFixed=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?Fu(s):(dl(t,0,Mm),e===void 0?e=i.rounding:dl(e,0,8),n=Jr(new i(s),t+zn(s)+1,e),r=Fu(n.abs(),!1,t+zn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};gt.toInteger=gt.toint=function(){var t=this,e=t.constructor;return Jr(new e(t),zn(t)+1,e.rounding)};gt.toNumber=function(){return+this};gt.toPower=gt.pow=function(t){var e,r,n,s,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(Ks);if(l=new c(l),!l.s){if(t.s<1)throw Error(qi+"Infinity");return l}if(l.eq(Ks))return l;if(n=c.precision,t.eq(Ks))return Jr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=u<0?-u:u)<=N9){for(s=new c(Ks),e=Math.ceil(n/on+4),hn=!1;r%2&&(s=s.times(l),$3(s.d,e)),r=Lm(r/2),r!==0;)l=l.times(l),$3(l.d,e);return hn=!0,t.s<0?new c(Ks).div(s):Jr(s,n)}}else if(i<0)throw Error(qi+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,hn=!1,s=t.times(wg(l,n+d)),hn=!0,s=S9(s),s.s=i,s};gt.toPrecision=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?(r=zn(s),n=Fu(s,r<=i.toExpNeg||r>=i.toExpPos)):(dl(t,1,Mm),e===void 0?e=i.rounding:dl(e,0,8),s=Jr(new i(s),t,e),r=zn(s),n=Fu(s,t<=r||r<=i.toExpNeg,t)),n};gt.toSignificantDigits=gt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(dl(t,1,Mm),e===void 0?e=n.rounding:dl(e,0,8)),Jr(new n(r),t,e)};gt.toString=gt.valueOf=gt.val=gt.toJSON=gt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zn(t),r=t.constructor;return Fu(t,e<=r.toExpNeg||e>=r.toExpPos)};function E9(t,e){var r,n,s,i,o,l,c,d,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),hn?Jr(e,h):e;if(c=t.d,d=e.d,o=t.e,s=e.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,s=o,l=c.length),o=Math.ceil(h/on),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/ua|0,c[i]%=ua;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,hn?Jr(e,h):e}function dl(t,e,r){if(t!==~~t||t<e||t>r)throw Error(lu+t)}function Zo(t){var e,r,n,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)n=t[e]+"",r=on-n.length,r&&(i+=Sc(r)),i+=n;o=t[e],n=o+"",r=on-n.length,r&&(i+=Sc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Vl=function(){function t(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%ua|0,o=i/ua|0;return o&&n.unshift(o),n}function e(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*ua+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,d,u,h,f,m,x,p,v,g,w,N,j,b,S,A,E,P=n.constructor,O=n.s==s.s?1:-1,k=n.d,L=s.d;if(!n.s)return new P(n);if(!s.s)throw Error(qi+"Division by zero");for(c=n.e-s.e,A=L.length,b=k.length,m=new P(O),x=m.d=[],d=0;L[d]==(k[d]||0);)++d;if(L[d]>(k[d]||0)&&--c,i==null?w=i=P.precision:o?w=i+(zn(n)-zn(s))+1:w=i,w<0)return new P(0);if(w=w/on+2|0,d=0,A==1)for(u=0,L=L[0],w++;(d<b||u)&&w--;d++)N=u*ua+(k[d]||0),x[d]=N/L|0,u=N%L|0;else{for(u=ua/(L[0]+1)|0,u>1&&(L=t(L,u),k=t(k,u),A=L.length,b=k.length),j=A,p=k.slice(0,A),v=p.length;v<A;)p[v++]=0;E=L.slice(),E.unshift(0),S=L[0],L[1]>=ua/2&&++S;do u=0,l=e(L,p,A,v),l<0?(g=p[0],A!=v&&(g=g*ua+(p[1]||0)),u=g/S|0,u>1?(u>=ua&&(u=ua-1),h=t(L,u),f=h.length,v=p.length,l=e(h,p,f,v),l==1&&(u--,r(h,A<f?E:L,f))):(u==0&&(l=u=1),h=L.slice()),f=h.length,f<v&&h.unshift(0),r(p,h,v),l==-1&&(v=p.length,l=e(L,p,A,v),l<1&&(u++,r(p,A<v?E:L,v))),v=p.length):l===0&&(u++,p=[0]),x[d++]=u,l&&p[0]?p[v++]=k[j]||0:(p=[k[j]],v=1);while((j++<b||p[0]!==void 0)&&w--)}return x[0]||x.shift(),m.e=c,Jr(m,o?i+zn(m)+1:i)}}();function S9(t,e){var r,n,s,i,o,l,c=0,d=0,u=t.constructor,h=u.precision;if(zn(t)>16)throw Error(d_+zn(t));if(!t.s)return new u(Ks);for(hn=!1,l=h,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(zd(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new u(Ks),u.precision=l;;){if(s=Jr(s.times(t),l),r=r.times(++c),o=i.plus(Vl(s,r,l)),Zo(o.d).slice(0,l)===Zo(i.d).slice(0,l)){for(;d--;)i=Jr(i.times(i),l);return u.precision=h,e==null?(hn=!0,Jr(i,h)):i}i=o}}function zn(t){for(var e=t.e*on,r=t.d[0];r>=10;r/=10)e++;return e}function uE(t,e,r){if(e>t.LN10.sd())throw hn=!0,r&&(t.precision=r),Error(qi+"LN10 precision limit exceeded");return Jr(new t(t.LN10),e)}function Sc(t){for(var e="";t--;)e+="0";return e}function wg(t,e){var r,n,s,i,o,l,c,d,u,h=1,f=10,m=t,x=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(qi+(m.s?"NaN":"-Infinity"));if(m.eq(Ks))return new p(0);if(e==null?(hn=!1,d=v):d=e,m.eq(10))return e==null&&(hn=!0),uE(p,d);if(d+=f,p.precision=d,r=Zo(x),n=r.charAt(0),i=zn(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Zo(m.d),n=r.charAt(0),h++;i=zn(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=uE(p,d+2,v).times(i+""),m=wg(new p(n+"."+r.slice(1)),d-f).plus(c),p.precision=v,e==null?(hn=!0,Jr(m,v)):m;for(l=o=m=Vl(m.minus(Ks),m.plus(Ks),d),u=Jr(m.times(m),d),s=3;;){if(o=Jr(o.times(u),d),c=l.plus(Vl(o,new p(s),d)),Zo(c.d).slice(0,d)===Zo(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(uE(p,d+2,v).times(i+""))),l=Vl(l,new p(h),d),p.precision=v,e==null?(hn=!0,Jr(l,v)):l;l=c,s+=2}}function B3(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=Lm(r/on),t.d=[],n=(r+1)%on,r<0&&(n+=on),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=on;n<s;)t.d.push(+e.slice(n,n+=on));e=e.slice(n),n=on-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),hn&&(t.e>uw||t.e<-uw))throw Error(d_+r)}else t.s=0,t.e=0,t.d=[0];return t}function Jr(t,e,r){var n,s,i,o,l,c,d,u,h=t.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=on,s=e,d=h[u=0];else{if(u=Math.ceil((n+1)/on),i=h.length,u>=i)return t;for(d=i=h[u],o=1;i>=10;i/=10)o++;n%=on,s=n-on+o}if(r!==void 0&&(i=zd(10,o-s-1),l=d/i%10|0,c=e<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?d/zd(10,o-s):0:h[u-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(i=zn(t),h.length=1,e=e-i-1,h[0]=zd(10,(on-e%on)%on),t.e=Lm(-e/on)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=u,i=1,u--):(h.length=u+1,i=zd(10,on-n),h[u]=s>0?(d/zd(10,o-s)%zd(10,s)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==ua&&(h[0]=1,++t.e);break}else{if(h[u]+=i,h[u]!=ua)break;h[u--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(hn&&(t.e>uw||t.e<-uw))throw Error(d_+zn(t));return t}function A9(t,e){var r,n,s,i,o,l,c,d,u,h,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),hn?Jr(e,m):e;if(c=t.d,h=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,n=d,l=c.length),s=Math.max(Math.ceil(m/on),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=h.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){u=c[s]<h[s];break}o=0}for(u&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(i=s;i&&c[--i]===0;)c[i]=ua-1;--c[i],c[s]+=ua}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,hn?Jr(e,m):e):new f(0)}function Fu(t,e,r){var n,s=zn(t),i=Zo(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Sc(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Sc(-s-1)+i,r&&(n=r-o)>0&&(i+=Sc(n))):s>=o?(i+=Sc(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+Sc(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=Sc(n))),t.s<0?"-"+i:i}function $3(t,e){if(t.length>e)return t.length=e,!0}function C9(t){var e,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(lu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return B3(o,i.toString())}else if(typeof i!="string")throw Error(lu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,KIe.test(i))B3(o,i);else throw Error(lu+i)}if(s.prototype=gt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=C9,s.config=s.set=XIe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function XIe(t){if(!t||typeof t!="object")throw Error(qi+"Object expected");var e,r,n,s=["precision",1,Mm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(Lm(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(lu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(lu+r+": "+n);return this}var u_=C9(GIe);Ks=new u_(1);const Zr=u_;function YIe(t){return eFe(t)||JIe(t)||ZIe(t)||QIe()}function QIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZIe(t,e){if(t){if(typeof t=="string")return mC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mC(t,e)}}function JIe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function eFe(t){if(Array.isArray(t))return mC(t)}function mC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tFe=function(e){return e},k9={},P9=function(e){return e===k9},U3=function(e){return function r(){return arguments.length===0||arguments.length===1&&P9(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},rFe=function t(e,r){return e===1?r:U3(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==k9}).length;return o>=e?r.apply(void 0,s):t(e-o,U3(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=s.map(function(h){return P9(h)?c.shift():h});return r.apply(void 0,YIe(u).concat(c))}))})},Q1=function(e){return rFe(e.length,e)},pC=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},nFe=Q1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),aFe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return tFe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},xC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},T9=function(e){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function sFe(t){var e;return t===0?e=1:e=Math.floor(new Zr(t).abs().log(10).toNumber())+1,e}function iFe(t,e,r){for(var n=new Zr(t),s=0,i=[];n.lt(e)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var oFe=Q1(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),lFe=Q1(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),cFe=Q1(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Z1={rangeStep:iFe,getDigitCount:sFe,interpolateNumber:oFe,uninterpolateNumber:lFe,uninterpolateTruncation:cFe};function gC(t){return hFe(t)||uFe(t)||O9(t)||dFe()}function dFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function hFe(t){if(Array.isArray(t))return vC(t)}function jg(t,e){return pFe(t)||mFe(t,e)||O9(t,e)||fFe()}function fFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O9(t,e){if(t){if(typeof t=="string")return vC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vC(t,e)}}function vC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mFe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function pFe(t){if(Array.isArray(t))return t}function _9(t){var e=jg(t,2),r=e[0],n=e[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function R9(t,e,r){if(t.lte(0))return new Zr(0);var n=Z1.getDigitCount(t.toNumber()),s=new Zr(10).pow(n),i=t.div(s),o=n!==1?.05:.1,l=new Zr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return e?c:new Zr(Math.ceil(c))}function xFe(t,e,r){var n=1,s=new Zr(t);if(!s.isint()&&r){var i=Math.abs(t);i<1?(n=new Zr(10).pow(Z1.getDigitCount(t)-1),s=new Zr(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Zr(Math.floor(t)))}else t===0?s=new Zr(Math.floor((e-1)/2)):r||(s=new Zr(Math.floor(t)));var o=Math.floor((e-1)/2),l=aFe(nFe(function(c){return s.add(new Zr(c-o).mul(n)).toNumber()}),pC);return l(0,e)}function I9(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Zr(0),tickMin:new Zr(0),tickMax:new Zr(0)};var i=R9(new Zr(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new Zr(0):(o=new Zr(t).add(e).div(2),o=o.sub(new Zr(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new Zr(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?I9(t,e,r,n,s+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Zr(l).mul(i)),tickMax:o.add(new Zr(c).mul(i))})}function gFe(t){var e=jg(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=_9([r,n]),c=jg(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(gC(pC(0,s-1).map(function(){return 1/0}))):[].concat(gC(pC(0,s-1).map(function(){return-1/0})),[u]);return r>n?xC(h):h}if(d===u)return xFe(d,s,i);var f=I9(d,u,o,i),m=f.step,x=f.tickMin,p=f.tickMax,v=Z1.rangeStep(x,p.add(new Zr(.1).mul(m)),m);return r>n?xC(v):v}function vFe(t,e){var r=jg(t,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=_9([n,s]),l=jg(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,s];if(c===d)return[c];var u=Math.max(e,2),h=R9(new Zr(d).sub(c).div(u-1),i,0),f=[].concat(gC(Z1.rangeStep(new Zr(c),new Zr(d).sub(new Zr(.99).mul(h)),h)),[d]);return n>s?xC(f):f}var yFe=T9(gFe),bFe=T9(vFe),wFe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(this,arguments)}function jFe(t,e){return AFe(t)||SFe(t,e)||EFe(t,e)||NFe()}function NFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EFe(t,e){if(t){if(typeof t=="string")return V3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V3(t,e)}}function V3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function AFe(t){if(Array.isArray(t))return t}function CFe(t,e){if(t==null)return{};var r=kFe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M9(n.key),n)}}function OFe(t,e,r){return e&&TFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Fe(t,e,r){return e=fw(e),RFe(t,F9()?Reflect.construct(e,r||[],fw(t).constructor):e.apply(t,r))}function RFe(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IFe(t)}function IFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F9=function(){return!!t})()}function fw(t){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(t)}function FFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yC(t,e)}function yC(t,e){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yC(t,e)}function D9(t,e,r){return e=M9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M9(t){var e=DFe(t,"string");return Wf(e)=="symbol"?e:e+""}function DFe(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R0=function(t){function e(){return PFe(this,e),_Fe(this,e,arguments)}return FFe(e,t),OFe(e,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,h=n.yAxis,f=CFe(n,wFe),m=Sr(f,!1);this.props.direction==="x"&&u.type!=="number"&&Pr(!1);var x=c.map(function(p){var v=d(p,l),g=v.x,w=v.y,N=v.value,j=v.errorVal;if(!j)return null;var b=[],S,A;if(Array.isArray(j)){var E=jFe(j,2);S=E[0],A=E[1]}else S=A=j;if(i==="vertical"){var P=u.scale,O=w+s,k=O+o,L=O-o,R=P(N-S),_=P(N+A);b.push({x1:_,y1:k,x2:_,y2:L}),b.push({x1:R,y1:O,x2:_,y2:O}),b.push({x1:R,y1:k,x2:R,y2:L})}else if(i==="horizontal"){var B=h.scale,I=g+s,C=I-o,D=I+o,W=B(N-S),K=B(N+A);b.push({x1:C,y1:K,x2:D,y2:K}),b.push({x1:I,y1:W,x2:I,y2:K}),b.push({x1:C,y1:W,x2:D,y2:W})}return ve.createElement(Tn,hw({className:"recharts-errorBar",key:"bar-".concat(b.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},m),b.map(function(H){return ve.createElement("line",hw({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return ve.createElement(Tn,{className:"recharts-errorBars"},x)}}])}(ve.Component);D9(R0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});D9(R0,"displayName","ErrorBar");function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function z3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Fd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(r),!0).forEach(function(n){MFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MFe(t,e,r){return e=LFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LFe(t){var e=BFe(t,"string");return Ng(e)=="symbol"?e:e+""}function BFe(t,e){if(Ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L9=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=zs(r,Aa);if(!o)return null;var l=Aa.defaultProps,c=l!==void 0?Fd(Fd({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(u,h){var f=h.item,m=h.props,x=m.sectors||m.data||[];return u.concat(x.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(n||[]).map(function(u){var h=u.item,f=h.type.defaultProps,m=f!==void 0?Fd(Fd({},f),h.props):{},x=m.dataKey,p=m.name,v=m.legendType,g=m.hide;return{inactive:g,dataKey:x,type:c.iconType||v||"square",color:h_(h),value:p||x,payload:m}}),Fd(Fd(Fd({},c),Aa.getWithHeight(o,s)),{},{payload:d,item:o})};function Eg(t){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}function W3(t){return zFe(t)||VFe(t)||UFe(t)||$Fe()}function $Fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UFe(t,e){if(t){if(typeof t=="string")return bC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bC(t,e)}}function VFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zFe(t){if(Array.isArray(t))return bC(t)}function bC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function En(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(r),!0).forEach(function(n){pf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pf(t,e,r){return e=WFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WFe(t){var e=qFe(t,"string");return Eg(e)=="symbol"?e:e+""}function qFe(t,e){if(Eg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oi(t,e,r){return xr(t)||xr(e)?r:ra(e)?Di(t,e,r):cr(e)?e(t):r}function wx(t,e,r,n){var s=zIe(t,function(l){return oi(l,e)});if(r==="number"){var i=s.filter(function(l){return st(l)||parseFloat(l)});return i.length?[X1(i),K1(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!xr(l)}):s;return o.map(function(l){return ra(l)||l instanceof Date?l:""})}var HFe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?s[d-1].coordinate:s[l-1].coordinate,h=s[d].coordinate,f=d>=l-1?s[0].coordinate:s[d+1].coordinate,m=void 0;if(vo(h-u)!==vo(f-h)){var x=[];if(vo(f-h)===vo(c[1]-c[0])){m=f;var p=h+c[1]-c[0];x[0]=Math.min(p,(p+u)/2),x[1]=Math.max(p,(p+u)/2)}else{m=u;var v=f+c[1]-c[0];x[0]=Math.min(h,(v+h)/2),x[1]=Math.max(h,(v+h)/2)}var g=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(e>g[0]&&e<=g[1]||e>=x[0]&&e<=x[1]){o=s[d].index;break}}else{var w=Math.min(u,f),N=Math.max(u,f);if(e>(w+h)/2&&e<=(N+h)/2){o=s[d].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},h_=function(e){var r,n=e,s=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?En(En({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},GFe=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),f=0,m=h.length;f<m;f++){var x=u[h[f]],p=x.items,v=x.cateAxisId,g=p.filter(function(A){return $l(A.type).indexOf("Bar")>=0});if(g&&g.length){var w=g[0].type.defaultProps,N=w!==void 0?En(En({},w),g[0].props):g[0].props,j=N.barSize,b=N[v];o[b]||(o[b]=[]);var S=xr(j)?r:j;o[b].push({item:g[0],stackList:g.slice(1),barSize:xr(S)?void 0:Iu(S,n,0)})}}return o},KFe=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Iu(r,s,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=s/c,x=o.reduce(function(j,b){return j+b.barSize||0},0);x+=(c-1)*d,x>=s&&(x-=(c-1)*d,d=0),x>=s&&m>0&&(f=!0,m*=.9,x=c*m);var p=(s-x)/2>>0,v={offset:p-d,size:0};u=o.reduce(function(j,b){var S={item:b.item,position:{offset:v.offset+v.size+d,size:f?m:b.barSize}},A=[].concat(W3(j),[S]);return v=A[A.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(E){A.push({item:E,position:v})}),A},h)}else{var g=Iu(n,s,0,!0);s-2*g-(c-1)*d<=0&&(d=0);var w=(s-2*g-(c-1)*d)/c;w>1&&(w>>=0);var N=l===+l?Math.min(w,l):w;u=o.reduce(function(j,b,S){var A=[].concat(W3(j),[{item:b.item,position:{offset:g+(w+d)*S+(w-N)/2,size:N}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(E){A.push({item:E,position:A[A.length-1].position})}),A},h)}return u},XFe=function(e,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=L9({children:i,legendWidth:c});if(d){var u=s||{},h=u.width,f=u.height,m=d.align,x=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&m!=="center"&&st(e[m]))return En(En({},e),{},pf({},m,e[m]+(h||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&x!=="middle"&&st(e[x]))return En(En({},e),{},pf({},x,e[x]+(f||0)))}return e},YFe=function(e,r,n){return xr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},B9=function(e,r,n,s,i){var o=r.props.children,l=Mi(o,R0).filter(function(d){return YFe(s,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,u){var h=oi(u,n);if(xr(h))return d;var f=Array.isArray(h)?[X1(h),K1(h)]:[h,h],m=c.reduce(function(x,p){var v=oi(u,p,0),g=f[0]-Math.abs(Array.isArray(v)?v[0]:v),w=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(g,x[0]),Math.max(w,x[1])]},[1/0,-1/0]);return[Math.min(m[0],d[0]),Math.max(m[1],d[1])]},[1/0,-1/0])}return null},QFe=function(e,r,n,s,i){var o=r.map(function(l){return B9(e,l,n,i,s)}).filter(function(l){return!xr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},$9=function(e,r,n,s,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&B9(e,c,d,s)||wx(e,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},U9=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},V9=function(e,r,n,s){if(s)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},_l=function(e,r,n){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&l?.length>=2?vo(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:s(f)+d,value:h,offset:d}});return u.filter(function(h){return!A0(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:s(h)+d,value:h,index:f,offset:d}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(h){return{coordinate:s(h)+d,value:h,offset:d}}):s.domain().map(function(h,f){return{coordinate:s(h)+d,value:i?i[h]:h,index:f,offset:d}})},hE=new WeakMap,Bv=function(e,r){if(typeof r!="function")return e;hE.has(e)||hE.set(e,new WeakMap);var n=hE.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},ZFe=function(e,r,n){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:xg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ow(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:bx(),realScaleType:"point"}:i==="category"?{scale:xg(),realScaleType:"band"}:{scale:ow(),realScaleType:"linear"};if(Ru(s)){var c="scale".concat(F1(s));return{scale:(L3[c]||bx)(),realScaleType:L3[c]?c:"point"}}return cr(s)?{scale:s}:{scale:bx(),realScaleType:"point"}},H3=1e-4,JFe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),i=Math.min(s[0],s[1])-H3,o=Math.max(s[0],s[1])+H3,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},eDe=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},tDe=function(e,r){if(!r||r.length!==2||!st(r[0])||!st(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!st(e[0])||e[0]<n)&&(i[0]=n),(!st(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},rDe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=A0(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},nDe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=A0(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},aDe={sign:rDe,expand:bNe,none:Df,silhouette:wNe,wiggle:jNe,positive:nDe},sDe=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),i=aDe[n],o=yNe().keys(s).value(function(l,c){return+oi(l,c,0)}).order(qA).offset(i);return o(e)},iDe=function(e,r,n,s,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,f){var m,x=(m=f.type)!==null&&m!==void 0&&m.defaultProps?En(En({},f.type.defaultProps),f.props):f.props,p=x.stackId,v=x.hide;if(v)return h;var g=x[n],w=h[g]||{hasStack:!1,stackGroups:{}};if(ra(p)){var N=w.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};N.items.push(f),w.hasStack=!0,w.stackGroups[p]=N}else w.stackGroups[C0("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[f]};return En(En({},h),{},pf({},g,w))},c),u={};return Object.keys(d).reduce(function(h,f){var m=d[f];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var g=m.stackGroups[v];return En(En({},p),{},pf({},v,{numericAxisId:n,cateAxisId:s,items:g.items,stackedData:sDe(e,g.items,i)}))},x)}return En(En({},h),{},pf({},f,m))},u)},oDe=function(e,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var u=yFe(d,i,l);return e.domain([X1(u),K1(u)]),{niceTicks:u}}if(i&&s==="number"){var h=e.domain(),f=bFe(h,i,l);return{niceTicks:f}}return null};function G3(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!xr(s[e.dataKey])){var l=Lb(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=oi(s,xr(o)?e.dataKey:o);return xr(c)?null:e.scale(c)}var K3=function(e){var r=e.axis,n=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=oi(o,r.dataKey,r.domain[l]);return xr(c)?null:r.scale(c)-i/2+s},lDe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},cDe=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?En(En({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(ra(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},dDe=function(e){return e.reduce(function(r,n){return[X1(n.concat([r[0]]).filter(st)),K1(n.concat([r[1]]).filter(st))]},[1/0,-1/0])},z9=function(e,r,n){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,u){var h=dDe(u.slice(r,n+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},X3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wC=function(e,r,n){if(cr(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(st(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(X3.test(e[0])){var i=+X3.exec(e[0])[1];s[0]=r[0]-i}else cr(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(st(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(Y3.test(e[1])){var o=+Y3.exec(e[1])[1];s[1]=r[1]+o}else cr(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},mw=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var i=$O(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Q3=function(e,r,n){return!e||!e.length||Y1(e,Di(n,"type.defaultProps.domain"))?r:e},W9=function(e,r){var n=e.type.defaultProps?En(En({},e.type.defaultProps),e.props):e.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return En(En({},Sr(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:h_(e),value:oi(r,s),type:c,payload:r,chartType:d,hide:u})};function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function Z3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function J3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(r),!0).forEach(function(n){uDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uDe(t,e,r){return e=hDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hDe(t){var e=fDe(t,"string");return Sg(e)=="symbol"?e:e+""}function fDe(t,e){if(Sg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pw=Math.PI/180,mDe=function(e){return e*180/Math.PI},Ta=function(e,r,n,s){return{x:e+Math.cos(-pw*s)*n,y:r+Math.sin(-pw*s)*n}},pDe=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},xDe=function(e,r){var n=e.x,s=e.y,i=r.cx,o=r.cy,l=pDe({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:mDe(d),angleInRadian:d}},gDe=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},vDe=function(e,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},eL=function(e,r){var n=e.x,s=e.y,i=xDe({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=gDe(r),h=u.startAngle,f=u.endAngle,m=l,x;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=h}return x?J3(J3({},r),{},{radius:o,angle:vDe(m,r)}):null};function Ag(t){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}var yDe=["offset"];function bDe(t){return EDe(t)||NDe(t)||jDe(t)||wDe()}function wDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jDe(t,e){if(t){if(typeof t=="string")return jC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jC(t,e)}}function NDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EDe(t){if(Array.isArray(t))return jC(t)}function jC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SDe(t,e){if(t==null)return{};var r=ADe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ADe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(r),!0).forEach(function(n){CDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CDe(t,e,r){return e=kDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kDe(t){var e=PDe(t,"string");return Ag(e)=="symbol"?e:e+""}function PDe(t,e){if(Ag(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cg.apply(this,arguments)}var TDe=function(e){var r=e.value,n=e.formatter,s=xr(e.children)?r:e.children;return cr(n)?n(s):s},ODe=function(e,r){var n=vo(r-e),s=Math.min(Math.abs(r-e),360);return n*s},_De=function(e,r,n){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,f=c.outerRadius,m=c.startAngle,x=c.endAngle,p=c.clockWise,v=(h+f)/2,g=ODe(m,x),w=g>=0?1:-1,N,j;s==="insideStart"?(N=m+w*o,j=p):s==="insideEnd"?(N=x-w*o,j=!p):s==="end"&&(N=x+w*o,j=p),j=g<=0?j:!j;var b=Ta(d,u,v,N),S=Ta(d,u,v,N+(j?1:-1)*359),A="M".concat(b.x,",").concat(b.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),E=xr(e.id)?C0("recharts-radial-line-"):e.id;return ve.createElement("text",Cg({},n,{dominantBaseline:"central",className:ur("recharts-radial-bar-label",l)}),ve.createElement("defs",null,ve.createElement("path",{id:E,d:A})),ve.createElement("textPath",{xlinkHref:"#".concat(E)},r))},RDe=function(e){var r=e.viewBox,n=e.offset,s=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,f=(u+h)/2;if(s==="outside"){var m=Ta(o,l,d+n,f),x=m.x,p=m.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,g=Ta(o,l,v,f),w=g.x,N=g.y;return{x:w,y:N,textAnchor:"middle",verticalAnchor:"middle"}},IDe=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,f=h*s,m=h>0?"end":"start",x=h>0?"start":"end",p=d>=0?1:-1,v=p*s,g=p>0?"end":"start",w=p>0?"start":"end";if(i==="top"){var N={x:l+d/2,y:c-h*s,textAnchor:"middle",verticalAnchor:m};return Hn(Hn({},N),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var j={x:l+d/2,y:c+u+f,textAnchor:"middle",verticalAnchor:x};return Hn(Hn({},j),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(i==="left"){var b={x:l-v,y:c+u/2,textAnchor:g,verticalAnchor:"middle"};return Hn(Hn({},b),n?{width:Math.max(b.x-n.x,0),height:u}:{})}if(i==="right"){var S={x:l+d+v,y:c+u/2,textAnchor:w,verticalAnchor:"middle"};return Hn(Hn({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var A=n?{width:d,height:u}:{};return i==="insideLeft"?Hn({x:l+v,y:c+u/2,textAnchor:w,verticalAnchor:"middle"},A):i==="insideRight"?Hn({x:l+d-v,y:c+u/2,textAnchor:g,verticalAnchor:"middle"},A):i==="insideTop"?Hn({x:l+d/2,y:c+f,textAnchor:"middle",verticalAnchor:x},A):i==="insideBottom"?Hn({x:l+d/2,y:c+u-f,textAnchor:"middle",verticalAnchor:m},A):i==="insideTopLeft"?Hn({x:l+v,y:c+f,textAnchor:w,verticalAnchor:x},A):i==="insideTopRight"?Hn({x:l+d-v,y:c+f,textAnchor:g,verticalAnchor:x},A):i==="insideBottomLeft"?Hn({x:l+v,y:c+u-f,textAnchor:w,verticalAnchor:m},A):i==="insideBottomRight"?Hn({x:l+d-v,y:c+u-f,textAnchor:g,verticalAnchor:m},A):km(i)&&(st(i.x)||eu(i.x))&&(st(i.y)||eu(i.y))?Hn({x:l+Iu(i.x,d),y:c+Iu(i.y,u),textAnchor:"end",verticalAnchor:"end"},A):Hn({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},FDe=function(e){return"cx"in e&&st(e.cx)};function Xa(t){var e=t.offset,r=e===void 0?5:e,n=SDe(t,yDe),s=Hn({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,u=s.className,h=u===void 0?"":u,f=s.textBreakAll;if(!i||xr(l)&&xr(c)&&!y.isValidElement(d)&&!cr(d))return null;if(y.isValidElement(d))return y.cloneElement(d,s);var m;if(cr(d)){if(m=y.createElement(d,s),y.isValidElement(m))return m}else m=TDe(s);var x=FDe(i),p=Sr(s,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return _De(s,m,p);var v=x?RDe(s):IDe(s);return ve.createElement(ew,Cg({className:ur("recharts-label",h)},p,v,{breakAll:f}),m)}Xa.displayName="Label";var q9=function(e){var r=e.cx,n=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,u=e.outerRadius,h=e.x,f=e.y,m=e.top,x=e.left,p=e.width,v=e.height,g=e.clockWise,w=e.labelViewBox;if(w)return w;if(st(p)&&st(v)){if(st(h)&&st(f))return{x:h,y:f,width:p,height:v};if(st(m)&&st(x))return{x:m,y:x,width:p,height:v}}return st(h)&&st(f)?{x:h,y:f,width:0,height:0}:st(r)&&st(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:g}:e.viewBox?e.viewBox:{}},DDe=function(e,r){return e?e===!0?ve.createElement(Xa,{key:"label-implicit",viewBox:r}):ra(e)?ve.createElement(Xa,{key:"label-implicit",viewBox:r,value:e}):y.isValidElement(e)?e.type===Xa?y.cloneElement(e,{key:"label-implicit",viewBox:r}):ve.createElement(Xa,{key:"label-implicit",content:e,viewBox:r}):cr(e)?ve.createElement(Xa,{key:"label-implicit",content:e,viewBox:r}):km(e)?ve.createElement(Xa,Cg({viewBox:r},e,{key:"label-implicit"})):null:null},MDe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=q9(e),o=Mi(s,Xa).map(function(c,d){return y.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=DDe(e.label,r||i);return[l].concat(bDe(o))};Xa.parseViewBox=q9;Xa.renderCallByParent=MDe;function LDe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var BDe=LDe;const $De=Mr(BDe);function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}var UDe=["valueAccessor"],VDe=["data","dataKey","clockWise","id","textBreakAll"];function zDe(t){return GDe(t)||HDe(t)||qDe(t)||WDe()}function WDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qDe(t,e){if(t){if(typeof t=="string")return NC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(t,e)}}function HDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GDe(t){if(Array.isArray(t))return NC(t)}function NC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xw.apply(this,arguments)}function rL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(r),!0).forEach(function(n){KDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KDe(t,e,r){return e=XDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XDe(t){var e=YDe(t,"string");return kg(e)=="symbol"?e:e+""}function YDe(t,e){if(kg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aL(t,e){if(t==null)return{};var r=QDe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ZDe=function(e){return Array.isArray(e.value)?$De(e.value):e.value};function rd(t){var e=t.valueAccessor,r=e===void 0?ZDe:e,n=aL(t,UDe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=aL(n,VDe);return!s||!s.length?null:ve.createElement(Tn,{className:"recharts-label-list"},s.map(function(u,h){var f=xr(i)?r(u,h):oi(u&&u.payload,i),m=xr(l)?{}:{id:"".concat(l,"-").concat(h)};return ve.createElement(Xa,xw({},Sr(u,!0),d,m,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:Xa.parseViewBox(xr(o)?u:nL(nL({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}rd.displayName="LabelList";function JDe(t,e){return t?t===!0?ve.createElement(rd,{key:"labelList-implicit",data:e}):ve.isValidElement(t)||cr(t)?ve.createElement(rd,{key:"labelList-implicit",data:e,content:t}):km(t)?ve.createElement(rd,xw({data:e},t,{key:"labelList-implicit"})):null:null}function e4e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=Mi(n,rd).map(function(o,l){return y.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var i=JDe(t.label,e);return[i].concat(zDe(s))}rd.renderCallByParent=e4e;function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function EC(){return EC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EC.apply(this,arguments)}function sL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function iL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(r),!0).forEach(function(n){t4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t4e(t,e,r){return e=r4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r4e(t){var e=n4e(t,"string");return Pg(e)=="symbol"?e:e+""}function n4e(t,e){if(Pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a4e=function(e,r){var n=vo(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},$v=function(e){var r=e.cx,n=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,u=c*(l?1:-1)+s,h=Math.asin(c/u)/pw,f=d?i:i+o*h,m=Ta(r,n,u,f),x=Ta(r,n,s,f),p=d?i-o*h:i,v=Ta(r,n,u*Math.cos(h*pw),p);return{center:m,circleTangency:x,lineTangency:v,theta:h}},H9=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=a4e(o,l),d=o+c,u=Ta(r,n,i,o),h=Ta(r,n,i,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var m=Ta(r,n,s,o),x=Ta(r,n,s,d);f+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},s4e=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,u=e.endAngle,h=vo(u-d),f=$v({cx:r,cy:n,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,x=f.lineTangency,p=f.theta,v=$v({cx:r,cy:n,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),g=v.circleTangency,w=v.lineTangency,N=v.theta,j=c?Math.abs(d-u):Math.abs(d-u)-p-N;if(j<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):H9({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u});var b="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(s>0){var S=$v({cx:r,cy:n,radius:s,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=S.circleTangency,E=S.lineTangency,P=S.theta,O=$v({cx:r,cy:n,radius:s,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=O.circleTangency,L=O.lineTangency,R=O.theta,_=c?Math.abs(d-u):Math.abs(d-u)-P-R;if(_<0&&o===0)return"".concat(b,"L").concat(r,",").concat(n,"Z");b+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(h>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else b+="L".concat(r,",").concat(n,"Z");return b},i4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},G9=function(e){var r=iL(iL({},i4e),e),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,h=r.endAngle,f=r.className;if(o<i||u===h)return null;var m=ur("recharts-sector",f),x=o-i,p=Iu(l,x,0,!0),v;return p>0&&Math.abs(u-h)<360?v=s4e({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):v=H9({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),ve.createElement("path",EC({},Sr(r,!0),{className:m,d:v,role:"img"}))};function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function SC(){return SC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SC.apply(this,arguments)}function oL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(r),!0).forEach(function(n){o4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o4e(t,e,r){return e=l4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l4e(t){var e=c4e(t,"string");return Tg(e)=="symbol"?e:e+""}function c4e(t,e){if(Tg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cL={curveBasisClosed:lNe,curveBasisOpen:cNe,curveBasis:oNe,curveBumpX:G1e,curveBumpY:K1e,curveLinearClosed:dNe,curveLinear:M1,curveMonotoneX:uNe,curveMonotoneY:hNe,curveNatural:fNe,curveStep:mNe,curveStepAfter:xNe,curveStepBefore:pNe},Uv=function(e){return e.x===+e.x&&e.y===+e.y},vp=function(e){return e.x},yp=function(e){return e.y},d4e=function(e,r){if(cr(e))return e;var n="curve".concat(F1(e));return(n==="curveMonotone"||n==="curveBump")&&r?cL["".concat(n).concat(r==="vertical"?"Y":"X")]:cL[n]||M1},u4e=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,u=d4e(n,l),h=d?i.filter(function(p){return Uv(p)}):i,f;if(Array.isArray(o)){var m=d?o.filter(function(p){return Uv(p)}):o,x=h.map(function(p,v){return lL(lL({},p),{},{base:m[v]})});return l==="vertical"?f=Ov().y(yp).x1(vp).x0(function(p){return p.base.x}):f=Ov().x(vp).y1(yp).y0(function(p){return p.base.y}),f.defined(Uv).curve(u),f(x)}return l==="vertical"&&st(o)?f=Ov().y(yp).x1(vp).x0(o):st(o)?f=Ov().x(vp).y1(yp).y0(o):f=GH().x(vp).y(yp),f.defined(Uv).curve(u),f(h)},AC=function(e){var r=e.className,n=e.points,s=e.path,i=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?u4e(e):s;return y.createElement("path",SC({},Sr(e,!1),Bb(e),{className:ur("recharts-curve",r),d:o,ref:i}))},h4e=Dq();const Qt=Mr(h4e);var f4e=Object.getOwnPropertyNames,m4e=Object.getOwnPropertySymbols,p4e=Object.prototype.hasOwnProperty;function dL(t,e){return function(n,s,i){return t(n,s,i)&&e(n,s,i)}}function Vv(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,s);return i.delete(r),i.delete(n),c}}function x4e(t){return t?.[Symbol.toStringTag]}function uL(t){return f4e(t).concat(m4e(t))}var g4e=Object.hasOwn||function(t,e){return p4e.call(t,e)};function th(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var v4e="__v",y4e="__o",b4e="_owner",hL=Object.getOwnPropertyDescriptor,fL=Object.keys;function w4e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function j4e(t,e){return th(t.getTime(),e.getTime())}function N4e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function E4e(t,e){return t===e}function mL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(s[h]){h++;continue}var f=o.value,m=l.value;if(r.equals(f[0],m[0],c,h,t,e,r)&&r.equals(f[1],m[1],f[0],m[0],t,e,r)){u=s[h]=!0;break}h++}if(!u)return!1;c++}return!0}var S4e=th;function A4e(t,e,r){var n=fL(t),s=n.length;if(fL(e).length!==s)return!1;for(;s-- >0;)if(!K9(t,e,r,n[s]))return!1;return!0}function bp(t,e,r){var n=uL(t),s=n.length;if(uL(e).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!K9(t,e,r,i)||(o=hL(t,i),l=hL(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function C4e(t,e){return th(t.valueOf(),e.valueOf())}function k4e(t,e){return t.source===e.source&&t.flags===e.flags}function pL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!s[u]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function P4e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function T4e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function K9(t,e,r,n){return(n===b4e||n===y4e||n===v4e)&&(t.$$typeof||e.$$typeof)?!0:g4e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var O4e="[object Arguments]",_4e="[object Boolean]",R4e="[object Date]",I4e="[object Error]",F4e="[object Map]",D4e="[object Number]",M4e="[object Object]",L4e="[object RegExp]",B4e="[object Set]",$4e="[object String]",U4e="[object URL]",V4e=Array.isArray,xL=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,gL=Object.assign,z4e=Object.prototype.toString.call.bind(Object.prototype.toString);function W4e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,s=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,u=t.areSetsEqual,h=t.areTypedArraysEqual,f=t.areUrlsEqual,m=t.unknownTagComparators;return function(p,v,g){if(p===v)return!0;if(p==null||v==null)return!1;var w=typeof p;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?o(p,v,g):w==="function"?s(p,v,g):!1;var N=p.constructor;if(N!==v.constructor)return!1;if(N===Object)return l(p,v,g);if(V4e(p))return e(p,v,g);if(xL!=null&&xL(p))return h(p,v,g);if(N===Date)return r(p,v,g);if(N===RegExp)return d(p,v,g);if(N===Map)return i(p,v,g);if(N===Set)return u(p,v,g);var j=z4e(p);if(j===R4e)return r(p,v,g);if(j===L4e)return d(p,v,g);if(j===F4e)return i(p,v,g);if(j===B4e)return u(p,v,g);if(j===M4e)return typeof p.then!="function"&&typeof v.then!="function"&&l(p,v,g);if(j===U4e)return f(p,v,g);if(j===I4e)return n(p,v,g);if(j===O4e)return l(p,v,g);if(j===_4e||j===D4e||j===$4e)return c(p,v,g);if(m){var b=m[j];if(!b){var S=x4e(p);S&&(b=m[S])}if(b)return b(p,v,g)}return!1}}function q4e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?bp:w4e,areDatesEqual:j4e,areErrorsEqual:N4e,areFunctionsEqual:E4e,areMapsEqual:n?dL(mL,bp):mL,areNumbersEqual:S4e,areObjectsEqual:n?bp:A4e,arePrimitiveWrappersEqual:C4e,areRegExpsEqual:k4e,areSetsEqual:n?dL(pL,bp):pL,areTypedArraysEqual:n?bp:P4e,areUrlsEqual:T4e,unknownTagComparators:void 0};if(r&&(s=gL({},s,r(s))),e){var i=Vv(s.areArraysEqual),o=Vv(s.areMapsEqual),l=Vv(s.areObjectsEqual),c=Vv(s.areSetsEqual);s=gL({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function H4e(t){return function(e,r,n,s,i,o,l){return t(e,r,l)}}function G4e(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,i=t.strict;if(n)return function(c,d){var u=n(),h=u.cache,f=h===void 0?e?new WeakMap:void 0:h,m=u.meta;return r(c,d,{cache:f,equals:s,meta:m,strict:i})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var K4e=Td();Td({strict:!0});Td({circular:!0});Td({circular:!0,strict:!0});Td({createInternalComparator:function(){return th}});Td({strict:!0,createInternalComparator:function(){return th}});Td({circular:!0,createInternalComparator:function(){return th}});Td({circular:!0,createInternalComparator:function(){return th},strict:!0});function Td(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,i=t.strict,o=i===void 0?!1:i,l=q4e(t),c=W4e(l),d=n?n(c):H4e(c);return G4e({circular:r,comparator:c,createState:s,equals:d,strict:o})}function X4e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function vL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>e?(t(i),r=-1):X4e(s)};requestAnimationFrame(n)}function CC(t){"@babel/helpers - typeof";return CC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CC(t)}function Y4e(t){return eMe(t)||J4e(t)||Z4e(t)||Q4e()}function Q4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z4e(t,e){if(t){if(typeof t=="string")return yL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yL(t,e)}}function yL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function J4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eMe(t){if(Array.isArray(t))return t}function tMe(){var t={},e=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Y4e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){vL(s.bind(null,d),c);return}s(c),vL(s.bind(null,d));return}CC(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}function bL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(r),!0).forEach(function(n){X9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X9(t,e,r){return e=rMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rMe(t){var e=nMe(t,"string");return Og(e)==="symbol"?e:String(e)}function nMe(t,e){if(Og(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Og(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aMe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},sMe=function(e){return e},iMe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jx=function(e,r){return Object.keys(r).reduce(function(n,s){return wL(wL({},n),{},X9({},s,e(s,r[s])))},{})},jL=function(e,r,n){return e.map(function(s){return"".concat(iMe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function oMe(t,e){return dMe(t)||cMe(t,e)||Y9(t,e)||lMe()}function lMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function dMe(t){if(Array.isArray(t))return t}function uMe(t){return mMe(t)||fMe(t)||Y9(t)||hMe()}function hMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y9(t,e){if(t){if(typeof t=="string")return kC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kC(t,e)}}function fMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mMe(t){if(Array.isArray(t))return kC(t)}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gw=1e-4,Q9=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Z9=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},NL=function(e,r){return function(n){var s=Q9(e,r);return Z9(s,n)}},pMe=function(e,r){return function(n){var s=Q9(e,r),i=[].concat(uMe(s.map(function(o,l){return o*l}).slice(1)),[0]);return Z9(i,n)}},EL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=oMe(d,4);s=u[0],i=u[1],o=u[2],l=u[3]}}}var h=NL(s,o),f=NL(i,l),m=pMe(s,o),x=function(g){return g>1?1:g<0?0:g},p=function(g){for(var w=g>1?1:g,N=w,j=0;j<8;++j){var b=h(N)-w,S=m(N);if(Math.abs(b-w)<gw||S<gw)return f(N);N=x(N-b/S)}return f(N)};return p.isStepper=!1,p},xMe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(u,h,f){var m=-(u-h)*n,x=f*i,p=f+(m-x)*l/1e3,v=f*l/1e3+u;return Math.abs(v-h)<gw&&Math.abs(p)<gw?[h,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},gMe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EL(s);case"spring":return xMe();default:if(s.split("(")[0]==="cubic-bezier")return EL(s)}return typeof s=="function"?s:null};function _g(t){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}function SL(t){return bMe(t)||yMe(t)||J9(t)||vMe()}function vMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bMe(t){if(Array.isArray(t))return TC(t)}function AL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(r),!0).forEach(function(n){PC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PC(t,e,r){return e=wMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wMe(t){var e=jMe(t,"string");return _g(e)==="symbol"?e:String(e)}function jMe(t,e){if(_g(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_g(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NMe(t,e){return AMe(t)||SMe(t,e)||J9(t,e)||EMe()}function EMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9(t,e){if(t){if(typeof t=="string")return TC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TC(t,e)}}function TC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function AMe(t){if(Array.isArray(t))return t}var vw=function(e,r,n){return e+(r-e)*n},OC=function(e){var r=e.from,n=e.to;return r!==n},CMe=function t(e,r,n){var s=jx(function(i,o){if(OC(o)){var l=e(o.from,o.to,o.velocity),c=NMe(l,2),d=c[0],u=c[1];return wa(wa({},o),{},{from:d,velocity:u})}return o},r);return n<1?jx(function(i,o){return OC(o)?wa(wa({},o),{},{velocity:vw(o.velocity,s[i].velocity,n),from:vw(o.from,s[i].from,n)}):o},r):t(e,s,n-1)};const kMe=function(t,e,r,n,s){var i=aMe(t,e),o=i.reduce(function(v,g){return wa(wa({},v),{},PC({},g,[t[g],e[g]]))},{}),l=i.reduce(function(v,g){return wa(wa({},v),{},PC({},g,{from:t[g],velocity:0,to:e[g]}))},{}),c=-1,d,u,h=function(){return null},f=function(){return jx(function(g,w){return w.from},l)},m=function(){return!Object.values(l).filter(OC).length},x=function(g){d||(d=g);var w=g-d,N=w/r.dt;l=CMe(r,l,N),s(wa(wa(wa({},t),e),f())),d=g,m()||(c=requestAnimationFrame(h))},p=function(g){u||(u=g);var w=(g-u)/n,N=jx(function(b,S){return vw.apply(void 0,SL(S).concat([r(w)]))},o);if(s(wa(wa(wa({},t),e),N)),w<1)c=requestAnimationFrame(h);else{var j=jx(function(b,S){return vw.apply(void 0,SL(S).concat([r(1)]))},o);s(wa(wa(wa({},t),e),j))}};return h=r.isStepper?x:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var PMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function TMe(t,e){if(t==null)return{};var r=OMe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OMe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function fE(t){return FMe(t)||IMe(t)||RMe(t)||_Me()}function _Me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RMe(t,e){if(t){if(typeof t=="string")return _C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _C(t,e)}}function IMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FMe(t){if(Array.isArray(t))return _C(t)}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){$p(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $p(t,e,r){return e=eK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eK(n.key),n)}}function LMe(t,e,r){return e&&MMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eK(t){var e=BMe(t,"string");return qf(e)==="symbol"?e:String(e)}function BMe(t,e){if(qf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Me(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RC(t,e)}function RC(t,e){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},RC(t,e)}function UMe(t){var e=VMe();return function(){var n=yw(t),s;if(e){var i=yw(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return IC(this,s)}}function IC(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FC(t)}function FC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yw(t){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(t)}var ec=function(t){$Me(r,t);var e=UMe(r);function r(n,s){var i;DMe(this,r),i=e.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,f=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(FC(i)),i.changeStyle=i.changeStyle.bind(FC(i)),!l||m<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:u}),IC(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof f=="function")return i.state={style:d},IC(i);i.state={style:c?$p({},c,d):d}}else i.state={style:{}};return i}return LMe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,f=this.state.style;if(l){if(!o){var m={style:c?$p({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(m);return}if(!(K4e(s.to,u)&&s.canBegin&&s.isActive)){var x=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||d?h:s.to;if(this.state&&f){var v={style:c?$p({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(v)}this.runAnimation(Ji(Ji({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,d=s.easing,u=s.begin,h=s.onAnimationEnd,f=s.onAnimationStart,m=kMe(o,l,gMe(d),c,this.changeStyle),x=function(){i.stopJSAnimation=m()};this.manager.start([f,u,x,c,h])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],u=d.style,h=d.duration,f=h===void 0?0:h,m=function(p,v,g){if(g===0)return p;var w=v.duration,N=v.easing,j=N===void 0?"ease":N,b=v.style,S=v.properties,A=v.onAnimationEnd,E=g>0?o[g-1]:v,P=S||Object.keys(b);if(typeof j=="function"||j==="spring")return[].concat(fE(p),[i.runJSAnimation.bind(i,{from:E.style,to:b,duration:w,easing:j}),w]);var O=jL(P,w,j),k=Ji(Ji(Ji({},E.style),b),{},{transition:O});return[].concat(fE(p),[k,w,A]).filter(sMe)};return this.manager.start([c].concat(fE(o.reduce(m,[u,Math.max(f,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=tMe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,h=s.onAnimationEnd,f=s.steps,m=s.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof m=="function"||d==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var p=l?$p({},l,c):c,v=jL(Object.keys(p),o,d);x.start([u,i,Ji(Ji({},p),{},{transition:v}),o,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=TMe(s,PMe),d=y.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(m){var x=m.props,p=x.style,v=p===void 0?{}:p,g=x.className,w=y.cloneElement(m,Ji(Ji({},c),{},{style:Ji(Ji({},v),u),className:g}));return w};return d===1?h(y.Children.only(i)):ve.createElement("div",null,y.Children.map(i,function(f){return h(f)}))}}]),r}(y.PureComponent);ec.displayName="Animate";ec.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ec.propTypes={from:Qt.oneOfType([Qt.object,Qt.string]),to:Qt.oneOfType([Qt.object,Qt.string]),attributeName:Qt.string,duration:Qt.number,begin:Qt.number,easing:Qt.oneOfType([Qt.string,Qt.func]),steps:Qt.arrayOf(Qt.shape({duration:Qt.number.isRequired,style:Qt.object.isRequired,easing:Qt.oneOfType([Qt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qt.func]),properties:Qt.arrayOf("string"),onAnimationEnd:Qt.func})),children:Qt.oneOfType([Qt.node,Qt.func]),isActive:Qt.bool,canBegin:Qt.bool,onAnimationEnd:Qt.func,shouldReAnimate:Qt.bool,onAnimationStart:Qt.func,onAnimationReStart:Qt.func};function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bw.apply(this,arguments)}function zMe(t,e){return GMe(t)||HMe(t,e)||qMe(t,e)||WMe()}function WMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qMe(t,e){if(t){if(typeof t=="string")return kL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kL(t,e)}}function kL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function GMe(t){if(Array.isArray(t))return t}function PL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function TL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(r),!0).forEach(function(n){KMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KMe(t,e,r){return e=XMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XMe(t){var e=YMe(t,"string");return Rg(e)=="symbol"?e:e+""}function YMe(t,e){if(Rg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OL=function(e,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,d=s>=0&&n>=0||s<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=i[f]>o?o:i[f];u="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(r)),u+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*h[1])),u+="L ".concat(e+n,",").concat(r+s-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+n-c*h[2],",").concat(r+s)),u+="L ".concat(e+c*h[3],",").concat(r+s),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+s-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(e,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+c*x,",").concat(r,`
            L `).concat(e+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*x,`
            L `).concat(e+n,",").concat(r+s-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n-c*x,",").concat(r+s,`
            L `).concat(e+c*x,",").concat(r+s,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(r+s-l*x," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return u},QMe=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return n>=d&&n<=u&&s>=h&&s<=f}return!1},ZMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f_=function(e){var r=TL(TL({},ZMe),e),n=y.useRef(),s=y.useState(-1),i=zMe(s,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,d=r.y,u=r.width,h=r.height,f=r.radius,m=r.className,x=r.animationEasing,p=r.animationDuration,v=r.animationBegin,g=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var N=ur("recharts-rectangle",m);return w?ve.createElement(ec,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:p,animationEasing:x,isActive:w},function(j){var b=j.width,S=j.height,A=j.x,E=j.y;return ve.createElement(ec,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:g,easing:x},ve.createElement("path",bw({},Sr(r,!0),{className:N,d:OL(A,E,b,S,f),ref:n})))}):ve.createElement("path",bw({},Sr(r,!0),{className:N,d:OL(c,d,u,h,f)}))};function DC(){return DC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DC.apply(this,arguments)}var m_=function(e){var r=e.cx,n=e.cy,s=e.r,i=e.className,o=ur("recharts-dot",i);return r===+r&&n===+n&&s===+s?y.createElement("circle",DC({},Sr(e,!1),Bb(e),{className:o,cx:r,cy:n,r:s})):null};function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}var JMe=["x","y","top","left","width","height","className"];function MC(){return MC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MC.apply(this,arguments)}function _L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function e3e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(r),!0).forEach(function(n){t3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t3e(t,e,r){return e=r3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r3e(t){var e=n3e(t,"string");return Ig(e)=="symbol"?e:e+""}function n3e(t,e){if(Ig(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a3e(t,e){if(t==null)return{};var r=s3e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var i3e=function(e,r,n,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},o3e=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,u=e.width,h=u===void 0?0:u,f=e.height,m=f===void 0?0:f,x=e.className,p=a3e(e,JMe),v=e3e({x:n,y:i,top:l,left:d,width:h,height:m},p);return!st(n)||!st(i)||!st(h)||!st(m)||!st(l)||!st(d)?null:ve.createElement("path",MC({},Sr(v,!0),{className:ur("recharts-cross",x),d:i3e(n,i,h,m,l,d)}))},l3e=gG,c3e=l3e(Object.getPrototypeOf,Object),d3e=c3e,u3e=ic,h3e=d3e,f3e=oc,m3e="[object Object]",p3e=Function.prototype,x3e=Object.prototype,tK=p3e.toString,g3e=x3e.hasOwnProperty,v3e=tK.call(Object);function y3e(t){if(!f3e(t)||u3e(t)!=m3e)return!1;var e=h3e(t);if(e===null)return!0;var r=g3e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&tK.call(r)==v3e}var b3e=y3e;const w3e=Mr(b3e);var j3e=ic,N3e=oc,E3e="[object Boolean]";function S3e(t){return t===!0||t===!1||N3e(t)&&j3e(t)==E3e}var A3e=S3e;const C3e=Mr(A3e);function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ww.apply(this,arguments)}function k3e(t,e){return _3e(t)||O3e(t,e)||T3e(t,e)||P3e()}function P3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T3e(t,e){if(t){if(typeof t=="string")return RL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RL(t,e)}}function RL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function _3e(t){if(Array.isArray(t))return t}function IL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function FL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(r),!0).forEach(function(n){R3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R3e(t,e,r){return e=I3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I3e(t){var e=F3e(t,"string");return Fg(e)=="symbol"?e:e+""}function F3e(t,e){if(Fg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DL=function(e,r,n,s,i){var o=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-s,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},D3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},M3e=function(e){var r=FL(FL({},D3e),e),n=y.useRef(),s=y.useState(-1),i=k3e(s,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,h=r.lowerWidth,f=r.height,m=r.className,x=r.animationEasing,p=r.animationDuration,v=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var w=ur("recharts-trapezoid",m);return g?ve.createElement(ec,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:f,x:c,y:d},duration:p,animationEasing:x,isActive:g},function(N){var j=N.upperWidth,b=N.lowerWidth,S=N.height,A=N.x,E=N.y;return ve.createElement(ec,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:x},ve.createElement("path",ww({},Sr(r,!0),{className:w,d:DL(A,E,j,b,S),ref:n})))}):ve.createElement("g",null,ve.createElement("path",ww({},Sr(r,!0),{className:w,d:DL(c,d,u,h,f)})))},L3e=["option","shapeType","propTransformer","activeClassName","isActive"];function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function B3e(t,e){if(t==null)return{};var r=$3e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ML(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(r),!0).forEach(function(n){U3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U3e(t,e,r){return e=V3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V3e(t){var e=z3e(t,"string");return Dg(e)=="symbol"?e:e+""}function z3e(t,e){if(Dg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W3e(t,e){return jw(jw({},e),t)}function q3e(t,e){return t==="symbols"}function LL(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ve.createElement(f_,r);case"trapezoid":return ve.createElement(M3e,r);case"sector":return ve.createElement(G9,r);case"symbols":if(q3e(e))return ve.createElement(_O,r);break;default:return null}}function H3e(t){return y.isValidElement(t)?t.props:t}function G3e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?W3e:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=B3e(t,L3e),d;if(y.isValidElement(e))d=y.cloneElement(e,jw(jw({},c),H3e(e)));else if(cr(e))d=e(c);else if(w3e(e)&&!C3e(e)){var u=s(e,c);d=ve.createElement(LL,{shapeType:r,elementProps:u})}else{var h=c;d=ve.createElement(LL,{shapeType:r,elementProps:h})}return l?ve.createElement(Tn,{className:o},d):d}function J1(t,e){return e!=null&&"trapezoids"in t.props}function eN(t,e){return e!=null&&"sectors"in t.props}function Mg(t,e){return e!=null&&"points"in t.props}function K3e(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&i}function X3e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Y3e(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function Q3e(t,e){var r;return J1(t,e)?r=K3e:eN(t,e)?r=X3e:Mg(t,e)&&(r=Y3e),r}function Z3e(t,e){var r;return J1(t,e)?r="trapezoids":eN(t,e)?r="sectors":Mg(t,e)&&(r="points"),r}function J3e(t,e){if(J1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(eN(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Mg(t,e)?e.payload:{}}function eLe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=Z3e(r,e),i=J3e(r,e),o=n.filter(function(c,d){var u=Y1(i,c),h=r.props[s].filter(function(x){var p=Q3e(r,e);return p(x,e)}),f=r.props[s].indexOf(h[h.length-1]),m=d===f;return u&&m}),l=n.indexOf(o[o.length-1]);return l}var tLe=Math.ceil,rLe=Math.max;function nLe(t,e,r,n){for(var s=-1,i=rLe(tLe((e-t)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=t,t+=r;return o}var aLe=nLe,sLe=DG,BL=1/0,iLe=17976931348623157e292;function oLe(t){if(!t)return t===0?t:0;if(t=sLe(t),t===BL||t===-BL){var e=t<0?-1:1;return e*iLe}return t===t?t:0}var rK=oLe,lLe=aLe,cLe=U1,mE=rK;function dLe(t){return function(e,r,n){return n&&typeof n!="number"&&cLe(e,r,n)&&(r=n=void 0),e=mE(e),r===void 0?(r=e,e=0):r=mE(r),n=n===void 0?e<r?1:-1:mE(n),lLe(e,r,n,t)}}var uLe=dLe,hLe=uLe,fLe=hLe(),mLe=fLe;const Nw=Mr(mLe);function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function $L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function UL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(r),!0).forEach(function(n){nK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nK(t,e,r){return e=pLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pLe(t){var e=xLe(t,"string");return Lg(e)=="symbol"?e:e+""}function xLe(t,e){if(Lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gLe=["Webkit","Moz","O","ms"],vLe=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=gLe.reduce(function(i,o){return UL(UL({},i),{},nK({},o+n,r))},{});return s[e]=r,s};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ew.apply(this,arguments)}function VL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function pE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(r),!0).forEach(function(n){$s(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sK(n.key),n)}}function bLe(t,e,r){return e&&zL(t.prototype,e),r&&zL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wLe(t,e,r){return e=Sw(e),jLe(t,aK()?Reflect.construct(e,r||[],Sw(t).constructor):e.apply(t,r))}function jLe(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NLe(t)}function NLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aK=function(){return!!t})()}function Sw(t){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(t)}function ELe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LC(t,e)}function LC(t,e){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},LC(t,e)}function $s(t,e,r){return e=sK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sK(t){var e=SLe(t,"string");return Hf(e)=="symbol"?e:e+""}function SLe(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ALe=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=bx().domain(Nw(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(s),scale:d,scaleValues:u}},WL=function(e){return e.changedTouches&&!!e.changedTouches.length},Gf=function(t){function e(r){var n;return yLe(this,e),n=wLe(this,e,[r]),$s(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),$s(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),$s(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o?.({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),$s(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),$s(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),$s(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),$s(n,"handleSlideDragStart",function(s){var i=WL(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ELe(e,t),bLe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(s,i),f=Math.max(s,i),m=e.getIndexInRange(o,h),x=e.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=oi(i[n],l,n);return cr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,f=c.startIndex,m=c.endIndex,x=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,d+u-h-l,d+u-h-o):p<0&&(p=Math.max(p,d-o,d-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==f||v.endIndex!==m)&&x&&x(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=WL(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],u=this.props,h=u.x,f=u.width,m=u.travellerWidth,x=u.onChange,p=u.gap,v=u.data,g={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,h+f-m-d):w<0&&(w=Math.max(w,h-d)),g[o]=d+w;var N=this.getIndex(g),j=N.startIndex,b=N.endIndex,S=function(){var E=v.length-1;return o==="startX"&&(l>c?j%p===0:b%p===0)||l<c&&b===E||o==="endX"&&(l>c?b%p===0:j%p===0)||l>c&&b===E};this.setState($s($s({},o,d+w),"brushMoveStartX",n.pageX),function(){x&&S()&&x(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[s],h=l.indexOf(u);if(h!==-1){var f=h+n;if(!(f===-1||f>=l.length)){var m=l[f];s==="startX"&&m>=d||s==="endX"&&m<=c||this.setState($s({},s,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return ve.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,h=y.Children.only(d);return h?ve.cloneElement(h,{x:s,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,f=c.traveller,m=c.ariaLabel,x=c.data,p=c.startIndex,v=c.endIndex,g=Math.max(n,this.props.x),w=pE(pE({},Sr(this.props,!1)),{},{x:g,y:d,width:u,height:h}),N=m||"Min value: ".concat((i=x[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return ve.createElement(Tn,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),l.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,w))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(n,s)+d,h=Math.max(Math.abs(s-n)-d,0);return ve.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,h=u.startX,f=u.endX,m=5,x={pointerEvents:"none",fill:d};return ve.createElement(Tn,{className:"recharts-brush-texts"},ve.createElement(ew,Ew({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-m,y:o+l/2},x),this.getTextOfTick(s)),ve.createElement(ew,Ew({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+m,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,h=n.alwaysShowText,f=this.state,m=f.startX,x=f.endX,p=f.isTextActive,v=f.isSlideMoving,g=f.isTravellerMoving,w=f.isTravellerFocused;if(!s||!s.length||!st(l)||!st(c)||!st(d)||!st(u)||d<=0||u<=0)return null;var N=ur("recharts-brush",i),j=ve.Children.count(o)===1,b=vLe("userSelect","none");return ve.createElement(Tn,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(p||v||g||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return ve.createElement(ve.Fragment,null,ve.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),ve.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),ve.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return ve.isValidElement(n)?i=ve.cloneElement(n,s):cr(n)?i=n(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,h=n.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return pE({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?ALe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var f=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(y.PureComponent);$s(Gf,"displayName","Brush");$s(Gf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CLe=BO;function kLe(t,e){var r;return CLe(t,function(n,s,i){return r=e(n,s,i),!r}),!!r}var PLe=kLe,TLe=cG,OLe=Cd,_Le=PLe,RLe=Fs,ILe=U1;function FLe(t,e,r){var n=RLe(t)?TLe:_Le;return r&&ILe(t,e,r)&&(e=void 0),n(t,OLe(e))}var DLe=FLe;const MLe=Mr(DLe);var il=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},qL=OG;function LLe(t,e,r){e=="__proto__"&&qL?qL(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var BLe=LLe,$Le=BLe,ULe=PG,VLe=Cd;function zLe(t,e){var r={};return e=VLe(e),ULe(t,function(n,s,i){$Le(r,s,e(n,s,i))}),r}var WLe=zLe;const qLe=Mr(WLe);function HLe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var GLe=HLe,KLe=BO;function XLe(t,e){var r=!0;return KLe(t,function(n,s,i){return r=!!e(n,s,i),r}),r}var YLe=XLe,QLe=GLe,ZLe=YLe,JLe=Cd,eBe=Fs,tBe=U1;function rBe(t,e,r){var n=eBe(t)?QLe:ZLe;return r&&tBe(t,e,r)&&(e=void 0),n(t,JLe(e))}var nBe=rBe;const iK=Mr(nBe);var aBe=["x","y"];function Bg(t){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}function BC(){return BC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BC.apply(this,arguments)}function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(r),!0).forEach(function(n){sBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sBe(t,e,r){return e=iBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iBe(t){var e=oBe(t,"string");return Bg(e)=="symbol"?e:e+""}function oBe(t,e){if(Bg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lBe(t,e){if(t==null)return{};var r=cBe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dBe(t,e){var r=t.x,n=t.y,s=lBe(t,aBe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||s.height),u=parseInt(d,10),h="".concat(e.width||s.width),f=parseInt(h,10);return wp(wp(wp(wp(wp({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function GL(t){return ve.createElement(G3e,BC({shapeType:"rectangle",propTransformer:dBe,activeClassName:"recharts-active-bar"},t))}var uBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var i=st(n)||_je(n);return i?e(n,s):(i||Pr(!1),r)}},hBe=["value","background"],oK;function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function fBe(t,e){if(t==null)return{};var r=mBe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aw.apply(this,arguments)}function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){$c(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cK(n.key),n)}}function xBe(t,e,r){return e&&XL(t.prototype,e),r&&XL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gBe(t,e,r){return e=Cw(e),vBe(t,lK()?Reflect.construct(e,r||[],Cw(t).constructor):e.apply(t,r))}function vBe(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yBe(t)}function yBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lK=function(){return!!t})()}function Cw(t){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cw(t)}function bBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$C(t,e)}function $c(t,e,r){return e=cK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cK(t){var e=wBe(t,"string");return Kf(e)=="symbol"?e:e+""}function wBe(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qa=function(t){function e(){var r;pBe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=gBe(this,e,[].concat(s)),$c(r,"state",{isAnimationFinished:!1}),$c(r,"id",C0("recharts-bar-")),$c(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),$c(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return bBe(e,t),xBe(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Sr(this.props,!1);return n&&n.map(function(h,f){var m=f===c,x=m?d:o,p=Dn(Dn(Dn({},u),h),{},{isActive:m,option:x,index:f,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return ve.createElement(Tn,Aw({className:"recharts-bar-rectangle"},$b(s.props,h,f),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(f)}),ve.createElement(GL,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,h=s.animationId,f=this.state.prevData;return ve.createElement(ec,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,p=i.map(function(v,g){var w=f&&f[g];if(w){var N=ho(w.x,v.x),j=ho(w.y,v.y),b=ho(w.width,v.width),S=ho(w.height,v.height);return Dn(Dn({},v),{},{x:N(x),y:j(x),width:b(x),height:S(x)})}if(o==="horizontal"){var A=ho(0,v.height),E=A(x);return Dn(Dn({},v),{},{y:v.y+v.height-E,height:E})}var P=ho(0,v.width),O=P(x);return Dn(Dn({},v),{},{width:O})});return ve.createElement(Tn,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Y1(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Sr(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,f=fBe(d,hBe);if(!h)return null;var m=Dn(Dn(Dn(Dn(Dn({},f),{},{fill:"#eee"},h),c),$b(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return ve.createElement(GL,Aw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=Mi(u,R0);if(!h)return null;var f=d==="vertical"?o[0].height/2:o[0].width/2,m=function(v,g){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:oi(v,g)}},x={clipPath:n?"url(#clipPath-".concat(s,")"):null};return ve.createElement(Tn,x,h.map(function(p){return ve.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,h=n.width,f=n.height,m=n.isAnimationActive,x=n.background,p=n.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,g=ur("recharts-bar",o),w=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,j=w||N,b=xr(p)?this.id:p;return ve.createElement(Tn,{className:g},w||N?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(b)},ve.createElement("rect",{x:w?d:d-h/2,y:N?u:u-f/2,width:w?h:h*2,height:N?f:f*2}))):null,ve.createElement(Tn,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(b,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,b),(!m||v)&&rd.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(y.PureComponent);oK=qa;$c(qa,"displayName","Bar");$c(qa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$c(qa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,f=t.offset,m=eDe(n,r);if(!m)return null;var x=e.layout,p=r.type.defaultProps,v=p!==void 0?Dn(Dn({},p),r.props):r.props,g=v.dataKey,w=v.children,N=v.minPointSize,j=x==="horizontal"?o:i,b=d?j.scale.domain():null,S=lDe({numericAxis:j}),A=Mi(w,LG),E=h.map(function(P,O){var k,L,R,_,B,I;d?k=tDe(d[u+O],b):(k=oi(P,g),Array.isArray(k)||(k=[S,k]));var C=uBe(N,oK.defaultProps.minPointSize)(k[1],O);if(x==="horizontal"){var D,W=[o.scale(k[0]),o.scale(k[1])],K=W[0],H=W[1];L=K3({axis:i,ticks:l,bandSize:s,offset:m.offset,entry:P,index:O}),R=(D=H??K)!==null&&D!==void 0?D:void 0,_=m.size;var G=K-H;if(B=Number.isNaN(G)?0:G,I={x:L,y:o.y,width:_,height:o.height},Math.abs(C)>0&&Math.abs(B)<Math.abs(C)){var ee=vo(B||C)*(Math.abs(C)-Math.abs(B));R-=ee,B+=ee}}else{var Q=[i.scale(k[0]),i.scale(k[1])],te=Q[0],U=Q[1];if(L=te,R=K3({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:P,index:O}),_=U-te,B=m.size,I={x:i.x,y:R,width:i.width,height:B},Math.abs(C)>0&&Math.abs(_)<Math.abs(C)){var q=vo(_||C)*(Math.abs(C)-Math.abs(_));_+=q}}return Dn(Dn(Dn({},P),{},{x:L,y:R,width:_,height:B,value:d?k:k[1],payload:P,background:I},A&&A[O]&&A[O].props),{},{tooltipPayload:[W9(r,P)],tooltipPosition:{x:L+_/2,y:R+B/2}})});return Dn({data:E,layout:x},f)});function $g(t){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function jBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dK(n.key),n)}}function NBe(t,e,r){return e&&YL(t.prototype,e),r&&YL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function QL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function oo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(r),!0).forEach(function(n){tN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tN(t,e,r){return e=dK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dK(t){var e=EBe(t,"string");return $g(e)=="symbol"?e:e+""}function EBe(t,e){if($g(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uK=function(e,r,n,s,i){var o=e.width,l=e.height,c=e.layout,d=e.children,u=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!zs(d,qa);return u.reduce(function(m,x){var p=r[x],v=p.orientation,g=p.domain,w=p.padding,N=w===void 0?{}:w,j=p.mirror,b=p.reversed,S="".concat(v).concat(j?"Mirror":""),A,E,P,O,k;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var L=g[1]-g[0],R=1/0,_=p.categoricalDomain.sort(Fje);if(_.forEach(function(Q,te){te>0&&(R=Math.min((Q||0)-(_[te-1]||0),R))}),Number.isFinite(R)){var B=R/L,I=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(A=B*I/2),p.padding==="no-gap"){var C=Iu(e.barCategoryGap,B*I),D=B*I/2;A=D-C-(D-C)/I*C}}}s==="xAxis"?E=[n.left+(N.left||0)+(A||0),n.left+n.width-(N.right||0)-(A||0)]:s==="yAxis"?E=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(A||0),n.top+n.height-(N.bottom||0)-(A||0)]:E=p.range,b&&(E=[E[1],E[0]]);var W=ZFe(p,i,f),K=W.scale,H=W.realScaleType;K.domain(g).range(E),JFe(K);var G=oDe(K,oo(oo({},p),{},{realScaleType:H}));s==="xAxis"?(k=v==="top"&&!j||v==="bottom"&&j,P=n.left,O=h[S]-k*p.height):s==="yAxis"&&(k=v==="left"&&!j||v==="right"&&j,P=h[S]-k*p.width,O=n.top);var ee=oo(oo(oo({},p),G),{},{realScaleType:H,x:P,y:O,scale:K,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return ee.bandSize=mw(ee,G),!p.hide&&s==="xAxis"?h[S]+=(k?-1:1)*ee.height:p.hide||(h[S]+=(k?-1:1)*ee.width),oo(oo({},m),{},tN({},x,ee))},{})},hK=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},SBe=function(e){var r=e.x1,n=e.y1,s=e.x2,i=e.y2;return hK({x:r,y:n},{x:s,y:i})},fK=function(){function t(e){jBe(this,t),this.scale=e}return NBe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])}();tN(fK,"EPS",1e-4);var p_=function(e){var r=Object.keys(e).reduce(function(n,s){return oo(oo({},n),{},tN({},s,fK.create(e[s])))},{});return oo(oo({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return qLe(s,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return iK(s,function(i,o){return r[o].isInRange(i)})}})};function ABe(t){return(t%180+180)%180}var CBe=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ABe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},kBe=Cd,PBe=k0,TBe=B1;function OBe(t){return function(e,r,n){var s=Object(e);if(!PBe(e)){var i=kBe(r);e=TBe(e),r=function(l){return i(s[l],l,s)}}var o=t(e,r,n);return o>-1?s[i?e[o]:o]:void 0}}var _Be=OBe,RBe=rK;function IBe(t){var e=RBe(t),r=e%1;return e===e?r?e-r:e:0}var FBe=IBe,DBe=NG,MBe=Cd,LBe=FBe,BBe=Math.max;function $Be(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var s=r==null?0:LBe(r);return s<0&&(s=BBe(n+s,0)),DBe(t,MBe(e),s)}var UBe=$Be,VBe=_Be,zBe=UBe,WBe=VBe(zBe),qBe=WBe;const HBe=Mr(qBe);var GBe=Lwe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),x_=y.createContext(void 0),g_=y.createContext(void 0),mK=y.createContext(void 0),pK=y.createContext({}),xK=y.createContext(void 0),gK=y.createContext(0),vK=y.createContext(0),ZL=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,u=GBe(i);return ve.createElement(x_.Provider,{value:n},ve.createElement(g_.Provider,{value:s},ve.createElement(pK.Provider,{value:i},ve.createElement(mK.Provider,{value:u},ve.createElement(xK.Provider,{value:o},ve.createElement(gK.Provider,{value:d},ve.createElement(vK.Provider,{value:c},l)))))))},KBe=function(){return y.useContext(xK)},yK=function(e){var r=y.useContext(x_);r==null&&Pr(!1);var n=r[e];return n==null&&Pr(!1),n},XBe=function(){var e=y.useContext(x_);return _c(e)},YBe=function(){var e=y.useContext(g_),r=HBe(e,function(n){return iK(n.domain,Number.isFinite)});return r||_c(e)},bK=function(e){var r=y.useContext(g_);r==null&&Pr(!1);var n=r[e];return n==null&&Pr(!1),n},QBe=function(){var e=y.useContext(mK);return e},ZBe=function(){return y.useContext(pK)},v_=function(){return y.useContext(vK)},y_=function(){return y.useContext(gK)};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function JBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jK(n.key),n)}}function t5e(t,e,r){return e&&e5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r5e(t,e,r){return e=kw(e),n5e(t,wK()?Reflect.construct(e,r||[],kw(t).constructor):e.apply(t,r))}function n5e(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a5e(t)}function a5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wK=function(){return!!t})()}function kw(t){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kw(t)}function s5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UC(t,e)}function UC(t,e){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},UC(t,e)}function JL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function eB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(r),!0).forEach(function(n){b_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b_(t,e,r){return e=jK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jK(t){var e=i5e(t,"string");return Xf(e)=="symbol"?e:e+""}function i5e(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function o5e(t,e){return u5e(t)||d5e(t,e)||c5e(t,e)||l5e()}function l5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c5e(t,e){if(t){if(typeof t=="string")return tB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tB(t,e)}}function tB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function u5e(t){if(Array.isArray(t))return t}function VC(){return VC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VC.apply(this,arguments)}var h5e=function(e,r){var n;return ve.isValidElement(e)?n=ve.cloneElement(e,r):cr(e)?n=e(r):n=ve.createElement("line",VC({},r,{className:"recharts-reference-line-line"})),n},f5e=function(e,r,n,s,i,o,l,c,d){var u=i.x,h=i.y,f=i.width,m=i.height;if(n){var x=d.y,p=e.y.apply(x,{position:o});if(il(d,"discard")&&!e.y.isInRange(p))return null;var v=[{x:u+f,y:p},{x:u,y:p}];return c==="left"?v.reverse():v}if(r){var g=d.x,w=e.x.apply(g,{position:o});if(il(d,"discard")&&!e.x.isInRange(w))return null;var N=[{x:w,y:h+m},{x:w,y:h}];return l==="top"?N.reverse():N}if(s){var j=d.segment,b=j.map(function(S){return e.apply(S,{position:o})});return il(d,"discard")&&MLe(b,function(S){return!e.isInRange(S)})?null:b}return null};function m5e(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=KBe(),u=yK(s),h=bK(i),f=QBe();if(!d||!f)return null;Ul(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=p_({x:u.scale,y:h.scale}),x=ra(e),p=ra(r),v=n&&n.length===2,g=f5e(m,x,p,v,f,t.position,u.orientation,h.orientation,t);if(!g)return null;var w=o5e(g,2),N=w[0],j=N.x,b=N.y,S=w[1],A=S.x,E=S.y,P=il(t,"hidden")?"url(#".concat(d,")"):void 0,O=eB(eB({clipPath:P},Sr(t,!0)),{},{x1:j,y1:b,x2:A,y2:E});return ve.createElement(Tn,{className:ur("recharts-reference-line",l)},h5e(o,O),Xa.renderCallByParent(t,SBe({x1:j,y1:b,x2:A,y2:E})))}var w_=function(t){function e(){return JBe(this,e),r5e(this,e,arguments)}return s5e(e,t),t5e(e,[{key:"render",value:function(){return ve.createElement(m5e,this.props)}}])}(ve.Component);b_(w_,"displayName","ReferenceLine");b_(w_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zC.apply(this,arguments)}function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function rB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(r),!0).forEach(function(n){rN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EK(n.key),n)}}function g5e(t,e,r){return e&&x5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v5e(t,e,r){return e=Pw(e),y5e(t,NK()?Reflect.construct(e,r||[],Pw(t).constructor):e.apply(t,r))}function y5e(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b5e(t)}function b5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NK=function(){return!!t})()}function Pw(t){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pw(t)}function w5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WC(t,e)}function WC(t,e){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},WC(t,e)}function rN(t,e,r){return e=EK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EK(t){var e=j5e(t,"string");return Yf(e)=="symbol"?e:e+""}function j5e(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var N5e=function(e){var r=e.x,n=e.y,s=e.xAxis,i=e.yAxis,o=p_({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return il(e,"discard")&&!o.isInRange(l)?null:l},nN=function(t){function e(){return p5e(this,e),v5e(this,e,arguments)}return w5e(e,t),g5e(e,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=ra(s),u=ra(i);if(Ul(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=N5e(this.props);if(!h)return null;var f=h.x,m=h.y,x=this.props,p=x.shape,v=x.className,g=il(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=nB(nB({clipPath:g},Sr(this.props,!0)),{},{cx:f,cy:m});return ve.createElement(Tn,{className:ur("recharts-reference-dot",v)},e.renderDot(p,w),Xa.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(ve.Component);rN(nN,"displayName","ReferenceDot");rN(nN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});rN(nN,"renderDot",function(t,e){var r;return ve.isValidElement(t)?r=ve.cloneElement(t,e):cr(t)?r=t(e):r=ve.createElement(m_,zC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qC.apply(this,arguments)}function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function aB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(r),!0).forEach(function(n){aN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AK(n.key),n)}}function A5e(t,e,r){return e&&S5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C5e(t,e,r){return e=Tw(e),k5e(t,SK()?Reflect.construct(e,r||[],Tw(t).constructor):e.apply(t,r))}function k5e(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P5e(t)}function P5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SK=function(){return!!t})()}function Tw(t){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tw(t)}function T5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HC(t,e)}function HC(t,e){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},HC(t,e)}function aN(t,e,r){return e=AK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AK(t){var e=O5e(t,"string");return Qf(e)=="symbol"?e:e+""}function O5e(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _5e=function(e,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var f=p_({x:u.scale,y:h.scale}),m={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},x={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(d,{position:"end"}):f.y.rangeMax};return il(i,"discard")&&(!f.isInRange(m)||!f.isInRange(x))?null:hK(m,x)},sN=function(t){function e(){return E5e(this,e),C5e(this,e,arguments)}return T5e(e,t),A5e(e,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;Ul(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=ra(s),f=ra(i),m=ra(o),x=ra(l),p=this.props.shape;if(!h&&!f&&!m&&!x&&!p)return null;var v=_5e(h,f,m,x,this.props);if(!v&&!p)return null;var g=il(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ve.createElement(Tn,{className:ur("recharts-reference-area",c)},e.renderRect(p,sB(sB({clipPath:g},Sr(this.props,!0)),v)),Xa.renderCallByParent(this.props,v))}}])}(ve.Component);aN(sN,"displayName","ReferenceArea");aN(sN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});aN(sN,"renderRect",function(t,e){var r;return ve.isValidElement(t)?r=ve.cloneElement(t,e):cr(t)?r=t(e):r=ve.createElement(f_,qC({},e,{className:"recharts-reference-area-rect"})),r});function CK(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function R5e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return CBe(n,r)}function I5e(t,e,r){var n=r==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Ow(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-s)<=0}function F5e(t,e){return CK(t,e+1)}function D5e(t,e,r,n,s){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,u=o,h=function(){var x=n?.[c];if(x===void 0)return{v:CK(n,d)};var p=c,v,g=function(){return v===void 0&&(v=r(x,p)),v},w=x.coordinate,N=c===0||Ow(t,w,g,u,l);N||(c=0,u=o,d+=1),N&&(u=w+t*(g()/2+s),c+=d)},f;d<=i.length;)if(f=h(),f)return f.v;return[]}function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function iB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(r),!0).forEach(function(n){M5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M5e(t,e,r){return e=L5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L5e(t){var e=B5e(t,"string");return Ug(e)=="symbol"?e:e+""}function B5e(t,e){if(Ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $5e(t,e,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(f){var m=i[f],x,p=function(){return x===void 0&&(x=r(m,f)),x};if(f===o-1){var v=t*(m.coordinate+t*p()/2-c);i[f]=m=Wa(Wa({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else i[f]=m=Wa(Wa({},m),{},{tickCoord:m.coordinate});var g=Ow(t,m.tickCoord,p,l,c);g&&(c=m.tickCoord-t*(p()/2+s),i[f]=Wa(Wa({},m),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function U5e(t,e,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var u=n[l-1],h=r(u,l-1),f=t*(u.coordinate+t*h/2-d);o[l-1]=u=Wa(Wa({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var m=Ow(t,u.tickCoord,function(){return h},c,d);m&&(d=u.tickCoord-t*(h/2+s),o[l-1]=Wa(Wa({},u),{},{isShow:!0}))}for(var x=i?l-1:l,p=function(w){var N=o[w],j,b=function(){return j===void 0&&(j=r(N,w)),j};if(w===0){var S=t*(N.coordinate-t*b()/2-c);o[w]=N=Wa(Wa({},N),{},{tickCoord:S<0?N.coordinate-S*t:N.coordinate})}else o[w]=N=Wa(Wa({},N),{},{tickCoord:N.coordinate});var A=Ow(t,N.tickCoord,b,c,d);A&&(c=N.tickCoord+t*(b()/2+s),o[w]=Wa(Wa({},N),{},{isShow:!0}))},v=0;v<x;v++)p(v);return o}function j_(t,e,r){var n=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,h=t.angle;if(!s||!s.length||!n)return[];if(st(c)||Fm.isSsr)return F5e(s,typeof c=="number"&&st(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",x=u&&m==="width"?yx(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},p=function(N,j){var b=cr(d)?d(N.value,j):N.value;return m==="width"?R5e(yx(b,{fontSize:e,letterSpacing:r}),x,h):yx(b,{fontSize:e,letterSpacing:r})[m]},v=s.length>=2?vo(s[1].coordinate-s[0].coordinate):1,g=I5e(i,v,m);return c==="equidistantPreserveStart"?D5e(v,g,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?f=U5e(v,g,p,s,o,c==="preserveStartEnd"):f=$5e(v,g,p,s,o),f.filter(function(w){return w.isShow}))}var V5e=["viewBox"],z5e=["viewBox"],W5e=["ticks"];function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wh.apply(this,arguments)}function oB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(r),!0).forEach(function(n){N_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xE(t,e){if(t==null)return{};var r=q5e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function q5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function H5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PK(n.key),n)}}function G5e(t,e,r){return e&&lB(t.prototype,e),r&&lB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function K5e(t,e,r){return e=_w(e),X5e(t,kK()?Reflect.construct(e,r||[],_w(t).constructor):e.apply(t,r))}function X5e(t,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y5e(t)}function Y5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kK=function(){return!!t})()}function _w(t){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(t)}function Q5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GC(t,e)}function GC(t,e){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},GC(t,e)}function N_(t,e,r){return e=PK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PK(t){var e=Z5e(t,"string");return Zf(e)=="symbol"?e:e+""}function Z5e(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bm=function(t){function e(r){var n;return H5e(this,e),n=K5e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Q5e(e,t),G5e(e,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=xE(n,V5e),l=this.props,c=l.viewBox,d=xE(l,z5e);return!ff(i,c)||!ff(o,d)||!ff(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,u=s.tickSize,h=s.mirror,f=s.tickMargin,m,x,p,v,g,w,N=h?-1:1,j=n.tickSize||u,b=st(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":m=x=n.coordinate,v=o+ +!h*c,p=v-N*j,w=p-N*f,g=b;break;case"left":p=v=n.coordinate,x=i+ +!h*l,m=x-N*j,g=m-N*f,w=b;break;case"right":p=v=n.coordinate,x=i+ +h*l,m=x+N*j,g=m+N*f,w=b;break;default:m=x=n.coordinate,v=o+ +h*c,p=v+N*j,w=p+N*f,g=b;break}return{line:{x1:m,y1:p,x2:x,y2:v},tick:{x:g,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,h=Wn(Wn(Wn({},Sr(this.props,!1)),Sr(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!d||c==="bottom"&&d);h=Wn(Wn({},h),{},{x1:s,y1:i+f*l,x2:s+o,y2:i+f*l})}else{var m=+(c==="left"&&!d||c==="right"&&d);h=Wn(Wn({},h),{},{x1:s+m*o,y1:i,x2:s+m*o,y2:i+l})}return ve.createElement("line",Wh({},h,{className:ur("recharts-cartesian-axis-line",Di(u,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,f=l.unit,m=j_(Wn(Wn({},this.props),{},{ticks:n}),s,i),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Sr(this.props,!1),g=Sr(u,!1),w=Wn(Wn({},v),{},{fill:"none"},Sr(c,!1)),N=m.map(function(j,b){var S=o.getTickLineCoord(j),A=S.line,E=S.tick,P=Wn(Wn(Wn(Wn({textAnchor:x,verticalAnchor:p},v),{},{stroke:"none",fill:d},g),E),{},{index:b,payload:j,visibleTicksCount:m.length,tickFormatter:h});return ve.createElement(Tn,Wh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},$b(o.props,j,b)),c&&ve.createElement("line",Wh({},w,A,{className:ur("recharts-cartesian-axis-tick-line",Di(c,"className"))})),u&&e.renderTickItem(u,P,"".concat(cr(h)?h(j.value,b):j.value).concat(f||"")))});return ve.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var h=this.props,f=h.ticks,m=xE(h,W5e),x=f;return cr(c)&&(x=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:ve.createElement(Tn,{className:ur("recharts-cartesian-axis",d),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Xa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=ur(s.className,"recharts-cartesian-axis-tick-value");return ve.isValidElement(n)?o=ve.cloneElement(n,Wn(Wn({},s),{},{className:l})):cr(n)?o=n(Wn(Wn({},s),{},{className:l})):o=ve.createElement(ew,Wh({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);N_(Bm,"displayName","CartesianAxis");N_(Bm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var J5e=["x1","y1","x2","y2","key"],e8e=["offset"];function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function cB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(r),!0).forEach(function(n){t8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t8e(t,e,r){return e=r8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r8e(t){var e=n8e(t,"string");return Du(e)=="symbol"?e:e+""}function n8e(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nu.apply(this,arguments)}function dB(t,e){if(t==null)return{};var r=a8e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function a8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var s8e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return ve.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function TK(t,e){var r;if(ve.isValidElement(t))r=ve.cloneElement(t,e);else if(cr(t))r=t(e);else{var n=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,c=dB(e,J5e),d=Sr(c,!1);d.offset;var u=dB(d,e8e);r=ve.createElement("line",nu({},u,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function i8e(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Ya(Ya({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return TK(s,d)});return ve.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function o8e(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Ya(Ya({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return TK(s,d)});return ve.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function l8e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var u=l.map(function(f){return Math.round(f+s-s)}).sort(function(f,m){return f-m});s!==u[0]&&u.unshift(0);var h=u.map(function(f,m){var x=!u[m+1],p=x?s+o-f:u[m+1]-f;if(p<=0)return null;var v=m%e.length;return ve.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function c8e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==u[0]&&u.unshift(0);var h=u.map(function(f,m){var x=!u[m+1],p=x?i+l-f:u[m+1]-f;if(p<=0)return null;var v=m%n.length;return ve.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var d8e=function(e,r){var n=e.xAxis,s=e.width,i=e.height,o=e.offset;return V9(j_(Ya(Ya(Ya({},Bm.defaultProps),n),{},{ticks:_l(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},u8e=function(e,r){var n=e.yAxis,s=e.width,i=e.height,o=e.offset;return V9(j_(Ya(Ya(Ya({},Bm.defaultProps),n),{},{ticks:_l(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},yh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function qs(t){var e,r,n,s,i,o,l=v_(),c=y_(),d=ZBe(),u=Ya(Ya({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:yh.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:yh.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:yh.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:yh.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:yh.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:yh.verticalFill,x:st(t.x)?t.x:d.left,y:st(t.y)?t.y:d.top,width:st(t.width)?t.width:d.width,height:st(t.height)?t.height:d.height}),h=u.x,f=u.y,m=u.width,x=u.height,p=u.syncWithTicks,v=u.horizontalValues,g=u.verticalValues,w=XBe(),N=YBe();if(!st(m)||m<=0||!st(x)||x<=0||!st(h)||h!==+h||!st(f)||f!==+f)return null;var j=u.verticalCoordinatesGenerator||d8e,b=u.horizontalCoordinatesGenerator||u8e,S=u.horizontalPoints,A=u.verticalPoints;if((!S||!S.length)&&cr(b)){var E=v&&v.length,P=b({yAxis:N?Ya(Ya({},N),{},{ticks:E?v:N.ticks}):void 0,width:l,height:c,offset:d},E?!0:p);Ul(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Du(P),"]")),Array.isArray(P)&&(S=P)}if((!A||!A.length)&&cr(j)){var O=g&&g.length,k=j({xAxis:w?Ya(Ya({},w),{},{ticks:O?g:w.ticks}):void 0,width:l,height:c,offset:d},O?!0:p);Ul(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Du(k),"]")),Array.isArray(k)&&(A=k)}return ve.createElement("g",{className:"recharts-cartesian-grid"},ve.createElement(s8e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ve.createElement(i8e,nu({},u,{offset:d,horizontalPoints:S,xAxis:w,yAxis:N})),ve.createElement(o8e,nu({},u,{offset:d,verticalPoints:A,xAxis:w,yAxis:N})),ve.createElement(l8e,nu({},u,{horizontalPoints:S})),ve.createElement(c8e,nu({},u,{verticalPoints:A})))}qs.displayName="CartesianGrid";var h8e=["type","layout","connectNulls","ref"],f8e=["key"];function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function uB(t,e){if(t==null)return{};var r=m8e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nx.apply(this,arguments)}function hB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(r),!0).forEach(function(n){lo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bh(t){return v8e(t)||g8e(t)||x8e(t)||p8e()}function p8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x8e(t,e){if(t){if(typeof t=="string")return KC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KC(t,e)}}function g8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v8e(t){if(Array.isArray(t))return KC(t)}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_K(n.key),n)}}function b8e(t,e,r){return e&&fB(t.prototype,e),r&&fB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w8e(t,e,r){return e=Rw(e),j8e(t,OK()?Reflect.construct(e,r||[],Rw(t).constructor):e.apply(t,r))}function j8e(t,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N8e(t)}function N8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OK=function(){return!!t})()}function Rw(t){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rw(t)}function E8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XC(t,e)}function XC(t,e){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},XC(t,e)}function lo(t,e,r){return e=_K(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _K(t){var e=S8e(t,"string");return Jf(e)=="symbol"?e:e+""}function S8e(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var da=function(t){function e(){var r;y8e(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=w8e(this,e,[].concat(s)),lo(r,"state",{isAnimationFinished:!0,totalLength:0}),lo(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),lo(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(g,w){return g+w});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),h=o%d,f=l-o,m=[],x=0,p=0;x<c.length;p+=c[x],++x)if(p+c[x]>h){m=[].concat(bh(c.slice(0,x)),[h-p]);break}var v=m.length%2===0?[0,f]:[f];return[].concat(bh(e.repeat(c,u)),bh(m),v).map(function(g){return"".concat(g,"px")}).join(", ")}),lo(r,"id",C0("recharts-line-")),lo(r,"pathRef",function(o){r.mainCurve=o}),lo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),lo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return E8e(e,t),b8e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=Mi(u,R0);if(!h)return null;var f=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:oi(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(s,")"):null};return ve.createElement(Tn,m,h.map(function(x){return ve.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,h=Sr(this.props,!1),f=Sr(c,!0),m=d.map(function(p,v){var g=Bs(Bs(Bs({key:"dot-".concat(v),r:3},h),f),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:d});return e.renderDotItem(c,g)}),x={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return ve.createElement(Tn,Nx({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var h=uB(l,h8e),f=Bs(Bs(Bs({},Sr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:u});return ve.createElement(AC,Nx({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,f=o.animationEasing,m=o.animationId,x=o.animateNewValues,p=o.width,v=o.height,g=this.state,w=g.prevPoints,N=g.totalLength;return ve.createElement(ec,{begin:u,duration:h,isActive:d,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var b=j.t;if(w){var S=w.length/l.length,A=l.map(function(L,R){var _=Math.floor(R*S);if(w[_]){var B=w[_],I=ho(B.x,L.x),C=ho(B.y,L.y);return Bs(Bs({},L),{},{x:I(b),y:C(b)})}if(x){var D=ho(p*2,L.x),W=ho(v/2,L.y);return Bs(Bs({},L),{},{x:D(b),y:W(b)})}return Bs(Bs({},L),{},{x:L.x,y:L.y})});return i.renderCurveStatically(A,n,s)}var E=ho(0,N),P=E(b),O;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});O=i.getStrokeDasharray(P,N,k)}else O=i.generateSimpleStrokeDasharray(N,P);return i.renderCurveStatically(l,n,s,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Y1(d,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.xAxis,u=s.yAxis,h=s.top,f=s.left,m=s.width,x=s.height,p=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,w=l.length===1,N=ur("recharts-line",c),j=d&&d.allowDataOverflow,b=u&&u.allowDataOverflow,S=j||b,A=xr(v)?this.id:v,E=(n=Sr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=E.r,O=P===void 0?3:P,k=E.strokeWidth,L=k===void 0?2:k,R=Wje(o)?o:{},_=R.clipDot,B=_===void 0?!0:_,I=O*2+L;return ve.createElement(Tn,{className:N},j||b?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(A)},ve.createElement("rect",{x:j?f:f-m/2,y:b?h:h-x/2,width:j?m:m*2,height:b?x:x*2})),!B&&ve.createElement("clipPath",{id:"clipPath-dots-".concat(A)},ve.createElement("rect",{x:f-I/2,y:h-I/2,width:m+I,height:x+I}))):null,!w&&this.renderCurve(S,A),this.renderErrorBar(S,A),(w||o)&&this.renderDots(S,B,A),(!p||g)&&rd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(bh(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(bh(o),bh(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(ve.isValidElement(n))i=ve.cloneElement(n,s);else if(cr(n))i=n(s);else{var o=s.key,l=uB(s,f8e),c=ur("recharts-line-dot",typeof n!="boolean"?n.className:"");i=ve.createElement(m_,Nx({key:o},l,{className:c}))}return i}}])}(y.PureComponent);lo(da,"displayName","Line");lo(da,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});lo(da,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,s=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,u=e.layout,h=c.map(function(f,m){var x=oi(f,o);return u==="horizontal"?{x:G3({axis:r,ticks:s,bandSize:l,entry:f,index:m}),y:xr(x)?null:n.scale(x),value:x,payload:f}:{x:xr(x)?null:r.scale(x),y:G3({axis:n,ticks:i,bandSize:l,entry:f,index:m}),value:x,payload:f}});return Bs({points:h,layout:u},d)});function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function A8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FK(n.key),n)}}function k8e(t,e,r){return e&&C8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P8e(t,e,r){return e=Iw(e),T8e(t,RK()?Reflect.construct(e,r||[],Iw(t).constructor):e.apply(t,r))}function T8e(t,e){if(e&&(em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O8e(t)}function O8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RK=function(){return!!t})()}function Iw(t){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iw(t)}function _8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YC(t,e)}function YC(t,e){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},YC(t,e)}function IK(t,e,r){return e=FK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FK(t){var e=R8e(t,"string");return em(e)=="symbol"?e:e+""}function R8e(t,e){if(em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QC(){return QC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QC.apply(this,arguments)}function I8e(t){var e=t.xAxisId,r=v_(),n=y_(),s=yK(e);return s==null?null:y.createElement(Bm,QC({},s,{className:ur("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return _l(o,!0)}}))}var Ha=function(t){function e(){return A8e(this,e),P8e(this,e,arguments)}return _8e(e,t),k8e(e,[{key:"render",value:function(){return y.createElement(I8e,this.props)}}])}(y.Component);IK(Ha,"displayName","XAxis");IK(Ha,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function F8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LK(n.key),n)}}function M8e(t,e,r){return e&&D8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L8e(t,e,r){return e=Fw(e),B8e(t,DK()?Reflect.construct(e,r||[],Fw(t).constructor):e.apply(t,r))}function B8e(t,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $8e(t)}function $8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DK=function(){return!!t})()}function Fw(t){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fw(t)}function U8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZC(t,e)}function ZC(t,e){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ZC(t,e)}function MK(t,e,r){return e=LK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LK(t){var e=V8e(t,"string");return tm(e)=="symbol"?e:e+""}function V8e(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function JC(){return JC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JC.apply(this,arguments)}var z8e=function(e){var r=e.yAxisId,n=v_(),s=y_(),i=bK(r);return i==null?null:y.createElement(Bm,JC({},i,{className:ur("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return _l(l,!0)}}))},Ga=function(t){function e(){return F8e(this,e),L8e(this,e,arguments)}return U8e(e,t),M8e(e,[{key:"render",value:function(){return y.createElement(z8e,this.props)}}])}(y.Component);MK(Ga,"displayName","YAxis");MK(Ga,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function mB(t){return G8e(t)||H8e(t)||q8e(t)||W8e()}function W8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8e(t,e){if(t){if(typeof t=="string")return ek(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(t,e)}}function H8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G8e(t){if(Array.isArray(t))return ek(t)}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tk=function(e,r,n,s,i){var o=Mi(e,w_),l=Mi(e,nN),c=[].concat(mB(o),mB(l)),d=Mi(e,sN),u="".concat(s,"Id"),h=s[0],f=r;if(c.length&&(f=c.reduce(function(p,v){if(v.props[u]===n&&il(v.props,"extendDomain")&&st(v.props[h])){var g=v.props[h];return[Math.min(p[0],g),Math.max(p[1],g)]}return p},f)),d.length){var m="".concat(h,"1"),x="".concat(h,"2");f=d.reduce(function(p,v){if(v.props[u]===n&&il(v.props,"extendDomain")&&st(v.props[m])&&st(v.props[x])){var g=v.props[m],w=v.props[x];return[Math.min(p[0],g,w),Math.max(p[1],g,w)]}return p},f)}return i&&i.length&&(f=i.reduce(function(p,v){return st(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},f)),f},BK={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new s(u,h||c,f),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,x=new Array(m);f<m;f++)x[f]=h[f].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,f,m,x){var p=r?r+d:d;if(!this._events[p])return!1;var v=this._events[p],g=arguments.length,w,N;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,f),!0;case 5:return v.fn.call(v.context,u,h,f,m),!0;case 6:return v.fn.call(v.context,u,h,f,m,x),!0}for(N=1,w=new Array(g-1);N<g;N++)w[N-1]=arguments[N];v.fn.apply(v.context,w)}else{var j=v.length,b;for(N=0;N<j;N++)switch(v[N].once&&this.removeListener(d,v[N].fn,void 0,!0),g){case 1:v[N].fn.call(v[N].context);break;case 2:v[N].fn.call(v[N].context,u);break;case 3:v[N].fn.call(v[N].context,u,h);break;case 4:v[N].fn.call(v[N].context,u,h,f);break;default:if(!w)for(b=1,w=new Array(g-1);b<g;b++)w[b-1]=arguments[b];v[N].fn.apply(v[N].context,w)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,f){var m=r?r+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===u&&(!f||x.once)&&(!h||x.context===h)&&o(this,m);else{for(var p=0,v=[],g=x.length;p<g;p++)(x[p].fn!==u||f&&!x[p].once||h&&x[p].context!==h)&&v.push(x[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(BK);var K8e=BK.exports;const X8e=Mr(K8e);var gE=new X8e,vE="recharts.syncMouseEvents";function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function Y8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$K(n.key),n)}}function Z8e(t,e,r){return e&&Q8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yE(t,e,r){return e=$K(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $K(t){var e=J8e(t,"string");return Vg(e)=="symbol"?e:e+""}function J8e(t,e){if(Vg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var e$e=function(){function t(){Y8e(this,t),yE(this,"activeIndex",0),yE(this,"coordinateList",[]),yE(this,"layout","horizontal")}return Z8e(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,h=u===void 0?null:u,f=r.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+c+d,f=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function t$e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],s=t?.[1];if(n&&s&&st(n)&&st(s))return!0}return!1}function r$e(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function UK(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,i=t.endAngle,o=Ta(e,r,n,s),l=Ta(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:i}}function n$e(t,e,r){var n,s,i,o;if(t==="horizontal")n=e.x,i=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,u=e.outerRadius,h=e.angle,f=Ta(l,c,d,h),m=Ta(l,c,u,h);n=f.x,s=f.y,i=m.x,o=m.y}else return UK(e);return[{x:n,y:s},{x:i,y:o}]}function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function pB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function zv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(r),!0).forEach(function(n){a$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a$e(t,e,r){return e=s$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s$e(t){var e=i$e(t,"string");return zg(e)=="symbol"?e:e+""}function i$e(t,e){if(zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o$e(t){var e,r,n=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||f!=="ScatterChart"&&s!=="axis")return null;var x,p=AC;if(f==="ScatterChart")x=o,p=o3e;else if(f==="BarChart")x=r$e(h,o,c,u),p=f_;else if(h==="radial"){var v=UK(o),g=v.cx,w=v.cy,N=v.radius,j=v.startAngle,b=v.endAngle;x={cx:g,cy:w,startAngle:j,endAngle:b,innerRadius:N,outerRadius:N},p=G9}else x={points:n$e(h,o,c)},p=AC;var S=zv(zv(zv(zv({stroke:"#ccc",pointerEvents:"none"},c),x),Sr(m,!1)),{},{payload:l,payloadIndex:d,className:ur("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,S):y.createElement(p,S)}var l$e=["item"],c$e=["children","className","width","height","style","compact","title","desc"];function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function qh(){return qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qh.apply(this,arguments)}function xB(t,e){return h$e(t)||u$e(t,e)||zK(t,e)||d$e()}function d$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function h$e(t){if(Array.isArray(t))return t}function gB(t,e){if(t==null)return{};var r=f$e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function m$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WK(n.key),n)}}function x$e(t,e,r){return e&&p$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g$e(t,e,r){return e=Dw(e),v$e(t,VK()?Reflect.construct(e,r||[],Dw(t).constructor):e.apply(t,r))}function v$e(t,e){if(e&&(rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y$e(t)}function y$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VK=function(){return!!t})()}function Dw(t){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dw(t)}function b$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rk(t,e)}function rk(t,e){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},rk(t,e)}function nm(t){return N$e(t)||j$e(t)||zK(t)||w$e()}function w$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zK(t,e){if(t){if(typeof t=="string")return nk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(t,e)}}function j$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N$e(t){if(Array.isArray(t))return nk(t)}function nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vB(Object(r),!0).forEach(function(n){It(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function It(t,e,r){return e=WK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WK(t){var e=E$e(t,"string");return rm(e)=="symbol"?e:e+""}function E$e(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S$e={xAxis:["bottom","top"],yAxis:["left","right"]},A$e={width:"100%",height:"100%"},qK={x:0,y:0};function Wv(t){return t}var C$e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},k$e=function(e,r,n,s){var i=r.find(function(u){return u&&u.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return Ue(Ue(Ue({},s),Ta(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=s.angle;return Ue(Ue(Ue({},s),Ta(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return qK},iN=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(nm(l),nm(d)):l},[]);return o.length>0?o:e&&e.length&&st(s)&&st(i)?e.slice(s,i+1):[]};function HK(t){return t==="number"?[0,"auto"]:void 0}var ak=function(e,r,n,s){var i=e.graphicalItems,o=e.tooltipAxis,l=iN(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;f=Lb(m,o.dataKey,s)}else f=h&&h[n]||l[n];return f?[].concat(nm(c),[W9(d,f)]):c},[])},yB=function(e,r,n,s){var i=s||{x:e.chartX,y:e.chartY},o=C$e(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,u=HFe(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,f=ak(e,r,u,h),m=k$e(n,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:f,activeCoordinate:m}}return null},P$e=function(e,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,f=e.stackOffset,m=U9(u,i);return n.reduce(function(x,p){var v,g=p.type.defaultProps!==void 0?Ue(Ue({},p.type.defaultProps),p.props):p.props,w=g.type,N=g.dataKey,j=g.allowDataOverflow,b=g.allowDuplicatedCategory,S=g.scale,A=g.ticks,E=g.includeHidden,P=g[o];if(x[P])return x;var O=iN(e.data,{graphicalItems:s.filter(function(G){var ee,Q=o in G.props?G.props[o]:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee[o];return Q===P}),dataStartIndex:c,dataEndIndex:d}),k=O.length,L,R,_;t$e(g.domain,j,w)&&(L=wC(g.domain,null,j),m&&(w==="number"||S!=="auto")&&(_=wx(O,N,"category")));var B=HK(w);if(!L||L.length===0){var I,C=(I=g.domain)!==null&&I!==void 0?I:B;if(N){if(L=wx(O,N,w),w==="category"&&m){var D=Ije(L);b&&D?(R=L,L=Nw(0,k)):b||(L=Q3(C,L,p).reduce(function(G,ee){return G.indexOf(ee)>=0?G:[].concat(nm(G),[ee])},[]))}else if(w==="category")b?L=L.filter(function(G){return G!==""&&!xr(G)}):L=Q3(C,L,p).reduce(function(G,ee){return G.indexOf(ee)>=0||ee===""||xr(ee)?G:[].concat(nm(G),[ee])},[]);else if(w==="number"){var W=QFe(O,s.filter(function(G){var ee,Q,te=o in G.props?G.props[o]:(ee=G.type.defaultProps)===null||ee===void 0?void 0:ee[o],U="hide"in G.props?G.props.hide:(Q=G.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return te===P&&(E||!U)}),N,i,u);W&&(L=W)}m&&(w==="number"||S!=="auto")&&(_=wx(O,N,"category"))}else m?L=Nw(0,k):l&&l[P]&&l[P].hasStack&&w==="number"?L=f==="expand"?[0,1]:z9(l[P].stackGroups,c,d):L=$9(O,s.filter(function(G){var ee=o in G.props?G.props[o]:G.type.defaultProps[o],Q="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ee===P&&(E||!Q)}),w,u,!0);if(w==="number")L=tk(h,L,P,i,A),C&&(L=wC(C,L,j));else if(w==="category"&&C){var K=C,H=L.every(function(G){return K.indexOf(G)>=0});H&&(L=K)}}return Ue(Ue({},x),{},It({},P,Ue(Ue({},g),{},{axisType:i,domain:L,categoricalDomain:_,duplicateDomain:R,originalDomain:(v=g.domain)!==null&&v!==void 0?v:B,isCategorical:m,layout:u})))},{})},T$e=function(e,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,f=iN(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),m=f.length,x=U9(u,i),p=-1;return n.reduce(function(v,g){var w=g.type.defaultProps!==void 0?Ue(Ue({},g.type.defaultProps),g.props):g.props,N=w[o],j=HK("number");if(!v[N]){p++;var b;return x?b=Nw(0,m):l&&l[N]&&l[N].hasStack?(b=z9(l[N].stackGroups,c,d),b=tk(h,b,N,i)):(b=wC(j,$9(f,n.filter(function(S){var A,E,P=o in S.props?S.props[o]:(A=S.type.defaultProps)===null||A===void 0?void 0:A[o],O="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return P===N&&!O}),"number",u),s.defaultProps.allowDataOverflow),b=tk(h,b,N,i)),Ue(Ue({},v),{},It({},N,Ue(Ue({axisType:i},s.defaultProps),{},{hide:!0,orientation:Di(S$e,"".concat(i,".").concat(p%2),null),domain:b,originalDomain:j,isCategorical:x,layout:u})))}return v},{})},O$e=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.children,h="".concat(s,"Id"),f=Mi(u,i),m={};return f&&f.length?m=P$e(e,{axes:f,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(m=T$e(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),m},_$e=function(e){var r=_c(e),n=_l(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:$O(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:mw(r,n)}},bB=function(e){var r=e.children,n=e.defaultShowTooltip,s=zs(r,Gf),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},R$e=function(e){return!e||!e.length?!1:e.some(function(r){var n=$l(r&&r.type);return n&&n.indexOf("Bar")>=0})},wB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I$e=function(e,r){var n=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,h=n.children,f=n.margin||{},m=zs(h,Gf),x=zs(h,Aa),p=Object.keys(c).reduce(function(b,S){var A=c[S],E=A.orientation;return!A.mirror&&!A.hide?Ue(Ue({},b),{},It({},E,b[E]+A.width)):b},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(b,S){var A=o[S],E=A.orientation;return!A.mirror&&!A.hide?Ue(Ue({},b),{},It({},E,Di(b,"".concat(E))+A.height)):b},{top:f.top||0,bottom:f.bottom||0}),g=Ue(Ue({},v),p),w=g.bottom;m&&(g.bottom+=m.props.height||Gf.defaultProps.height),x&&r&&(g=XFe(g,s,n,r));var N=d-g.left-g.right,j=u-g.top-g.bottom;return Ue(Ue({brushBottom:w},g),{},{width:Math.max(N,0),height:Math.max(j,0)})},F$e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},GK=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,f=function(g,w){var N=w.graphicalItems,j=w.stackGroups,b=w.offset,S=w.updateId,A=w.dataStartIndex,E=w.dataEndIndex,P=g.barSize,O=g.layout,k=g.barGap,L=g.barCategoryGap,R=g.maxBarSize,_=wB(O),B=_.numericAxisName,I=_.cateAxisName,C=R$e(N),D=[];return N.forEach(function(W,K){var H=iN(g.data,{graphicalItems:[W],dataStartIndex:A,dataEndIndex:E}),G=W.type.defaultProps!==void 0?Ue(Ue({},W.type.defaultProps),W.props):W.props,ee=G.dataKey,Q=G.maxBarSize,te=G["".concat(B,"Id")],U=G["".concat(I,"Id")],q={},ne=c.reduce(function($,X){var me=w["".concat(X.axisType,"Map")],z=G["".concat(X.axisType,"Id")];me&&me[z]||X.axisType==="zAxis"||Pr(!1);var T=me[z];return Ue(Ue({},$),{},It(It({},X.axisType,T),"".concat(X.axisType,"Ticks"),_l(T)))},q),fe=ne[I],pe=ne["".concat(I,"Ticks")],ye=j&&j[te]&&j[te].hasStack&&cDe(W,j[te].stackGroups),Z=$l(W.type).indexOf("Bar")>=0,Ne=mw(fe,pe),J=[],le=C&&GFe({barSize:P,stackGroups:j,totalSize:F$e(ne,I)});if(Z){var we,De,ue=xr(Q)?R:Q,Y=(we=(De=mw(fe,pe,!0))!==null&&De!==void 0?De:ue)!==null&&we!==void 0?we:0;J=KFe({barGap:k,barCategoryGap:L,bandSize:Y!==Ne?Y:Ne,sizeList:le[U],maxBarSize:ue}),Y!==Ne&&(J=J.map(function($){return Ue(Ue({},$),{},{position:Ue(Ue({},$.position),{},{offset:$.position.offset-Y/2})})}))}var V=W&&W.type&&W.type.getComposedData;V&&D.push({props:Ue(Ue({},V(Ue(Ue({},ne),{},{displayedData:H,props:g,dataKey:ee,item:W,bandSize:Ne,barPosition:J,offset:b,stackedData:ye,layout:O,dataStartIndex:A,dataEndIndex:E}))),{},It(It(It({key:W.key||"item-".concat(K)},B,ne[B]),I,ne[I]),"animationId",S)),childIndex:Gje(W,g.children),item:W})}),D},m=function(g,w){var N=g.props,j=g.dataStartIndex,b=g.dataEndIndex,S=g.updateId;if(!W4({props:N}))return null;var A=N.children,E=N.layout,P=N.stackOffset,O=N.data,k=N.reverseStackOrder,L=wB(E),R=L.numericAxisName,_=L.cateAxisName,B=Mi(A,n),I=iDe(O,B,"".concat(R,"Id"),"".concat(_,"Id"),P,k),C=c.reduce(function(G,ee){var Q="".concat(ee.axisType,"Map");return Ue(Ue({},G),{},It({},Q,O$e(N,Ue(Ue({},ee),{},{graphicalItems:B,stackGroups:ee.axisType===R&&I,dataStartIndex:j,dataEndIndex:b}))))},{}),D=I$e(Ue(Ue({},C),{},{props:N,graphicalItems:B}),w?.legendBBox);Object.keys(C).forEach(function(G){C[G]=u(N,C[G],D,G.replace("Map",""),r)});var W=C["".concat(_,"Map")],K=_$e(W),H=f(N,Ue(Ue({},C),{},{dataStartIndex:j,dataEndIndex:b,updateId:S,graphicalItems:B,stackGroups:I,offset:D}));return Ue(Ue({formattedGraphicalItems:H,graphicalItems:B,offset:D,stackGroups:I},K),C)},x=function(v){function g(w){var N,j,b;return m$e(this,g),b=g$e(this,g,[w]),It(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),It(b,"accessibilityManager",new e$e),It(b,"handleLegendBBoxUpdate",function(S){if(S){var A=b.state,E=A.dataStartIndex,P=A.dataEndIndex,O=A.updateId;b.setState(Ue({legendBBox:S},m({props:b.props,dataStartIndex:E,dataEndIndex:P,updateId:O},Ue(Ue({},b.state),{},{legendBBox:S}))))}}),It(b,"handleReceiveSyncEvent",function(S,A,E){if(b.props.syncId===S){if(E===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(A)}}),It(b,"handleBrushChange",function(S){var A=S.startIndex,E=S.endIndex;if(A!==b.state.dataStartIndex||E!==b.state.dataEndIndex){var P=b.state.updateId;b.setState(function(){return Ue({dataStartIndex:A,dataEndIndex:E},m({props:b.props,dataStartIndex:A,dataEndIndex:E,updateId:P},b.state))}),b.triggerSyncEvent({dataStartIndex:A,dataEndIndex:E})}}),It(b,"handleMouseEnter",function(S){var A=b.getMouseInfo(S);if(A){var E=Ue(Ue({},A),{},{isTooltipActive:!0});b.setState(E),b.triggerSyncEvent(E);var P=b.props.onMouseEnter;cr(P)&&P(E,S)}}),It(b,"triggeredAfterMouseMove",function(S){var A=b.getMouseInfo(S),E=A?Ue(Ue({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(E),b.triggerSyncEvent(E);var P=b.props.onMouseMove;cr(P)&&P(E,S)}),It(b,"handleItemMouseEnter",function(S){b.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),It(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),It(b,"handleMouseMove",function(S){S.persist(),b.throttleTriggeredAfterMouseMove(S)}),It(b,"handleMouseLeave",function(S){b.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};b.setState(A),b.triggerSyncEvent(A);var E=b.props.onMouseLeave;cr(E)&&E(A,S)}),It(b,"handleOuterEvent",function(S){var A=Hje(S),E=Di(b.props,"".concat(A));if(A&&cr(E)){var P,O;/.*touch.*/i.test(A)?O=b.getMouseInfo(S.changedTouches[0]):O=b.getMouseInfo(S),E((P=O)!==null&&P!==void 0?P:{},S)}}),It(b,"handleClick",function(S){var A=b.getMouseInfo(S);if(A){var E=Ue(Ue({},A),{},{isTooltipActive:!0});b.setState(E),b.triggerSyncEvent(E);var P=b.props.onClick;cr(P)&&P(E,S)}}),It(b,"handleMouseDown",function(S){var A=b.props.onMouseDown;if(cr(A)){var E=b.getMouseInfo(S);A(E,S)}}),It(b,"handleMouseUp",function(S){var A=b.props.onMouseUp;if(cr(A)){var E=b.getMouseInfo(S);A(E,S)}}),It(b,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),It(b,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&b.handleMouseDown(S.changedTouches[0])}),It(b,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&b.handleMouseUp(S.changedTouches[0])}),It(b,"handleDoubleClick",function(S){var A=b.props.onDoubleClick;if(cr(A)){var E=b.getMouseInfo(S);A(E,S)}}),It(b,"handleContextMenu",function(S){var A=b.props.onContextMenu;if(cr(A)){var E=b.getMouseInfo(S);A(E,S)}}),It(b,"triggerSyncEvent",function(S){b.props.syncId!==void 0&&gE.emit(vE,b.props.syncId,S,b.eventEmitterSymbol)}),It(b,"applySyncEvent",function(S){var A=b.props,E=A.layout,P=A.syncMethod,O=b.state.updateId,k=S.dataStartIndex,L=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)b.setState(Ue({dataStartIndex:k,dataEndIndex:L},m({props:b.props,dataStartIndex:k,dataEndIndex:L,updateId:O},b.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,_=S.chartY,B=S.activeTooltipIndex,I=b.state,C=I.offset,D=I.tooltipTicks;if(!C)return;if(typeof P=="function")B=P(D,S);else if(P==="value"){B=-1;for(var W=0;W<D.length;W++)if(D[W].value===S.activeLabel){B=W;break}}var K=Ue(Ue({},C),{},{x:C.left,y:C.top}),H=Math.min(R,K.x+K.width),G=Math.min(_,K.y+K.height),ee=D[B]&&D[B].value,Q=ak(b.state,b.props.data,B),te=D[B]?{x:E==="horizontal"?D[B].coordinate:H,y:E==="horizontal"?G:D[B].coordinate}:qK;b.setState(Ue(Ue({},S),{},{activeLabel:ee,activeCoordinate:te,activePayload:Q,activeTooltipIndex:B}))}else b.setState(S)}),It(b,"renderCursor",function(S){var A,E=b.state,P=E.isTooltipActive,O=E.activeCoordinate,k=E.activePayload,L=E.offset,R=E.activeTooltipIndex,_=E.tooltipAxisBandSize,B=b.getTooltipEventType(),I=(A=S.props.active)!==null&&A!==void 0?A:P,C=b.props.layout,D=S.key||"_recharts-cursor";return ve.createElement(o$e,{key:D,activeCoordinate:O,activePayload:k,activeTooltipIndex:R,chartName:r,element:S,isActive:I,layout:C,offset:L,tooltipAxisBandSize:_,tooltipEventType:B})}),It(b,"renderPolarAxis",function(S,A,E){var P=Di(S,"type.axisType"),O=Di(b.state,"".concat(P,"Map")),k=S.type.defaultProps,L=k!==void 0?Ue(Ue({},k),S.props):S.props,R=O&&O[L["".concat(P,"Id")]];return y.cloneElement(S,Ue(Ue({},R),{},{className:ur(P,R.className),key:S.key||"".concat(A,"-").concat(E),ticks:_l(R,!0)}))}),It(b,"renderPolarGrid",function(S){var A=S.props,E=A.radialLines,P=A.polarAngles,O=A.polarRadius,k=b.state,L=k.radiusAxisMap,R=k.angleAxisMap,_=_c(L),B=_c(R),I=B.cx,C=B.cy,D=B.innerRadius,W=B.outerRadius;return y.cloneElement(S,{polarAngles:Array.isArray(P)?P:_l(B,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(O)?O:_l(_,!0).map(function(K){return K.coordinate}),cx:I,cy:C,innerRadius:D,outerRadius:W,key:S.key||"polar-grid",radialLines:E})}),It(b,"renderLegend",function(){var S=b.state.formattedGraphicalItems,A=b.props,E=A.children,P=A.width,O=A.height,k=b.props.margin||{},L=P-(k.left||0)-(k.right||0),R=L9({children:E,formattedGraphicalItems:S,legendWidth:L,legendContent:d});if(!R)return null;var _=R.item,B=gB(R,l$e);return y.cloneElement(_,Ue(Ue({},B),{},{chartWidth:P,chartHeight:O,margin:k,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),It(b,"renderTooltip",function(){var S,A=b.props,E=A.children,P=A.accessibilityLayer,O=zs(E,kn);if(!O)return null;var k=b.state,L=k.isTooltipActive,R=k.activeCoordinate,_=k.activePayload,B=k.activeLabel,I=k.offset,C=(S=O.props.active)!==null&&S!==void 0?S:L;return y.cloneElement(O,{viewBox:Ue(Ue({},I),{},{x:I.left,y:I.top}),active:C,label:B,payload:C?_:[],coordinate:R,accessibilityLayer:P})}),It(b,"renderBrush",function(S){var A=b.props,E=A.margin,P=A.data,O=b.state,k=O.offset,L=O.dataStartIndex,R=O.dataEndIndex,_=O.updateId;return y.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Bv(b.handleBrushChange,S.props.onChange),data:P,x:st(S.props.x)?S.props.x:k.left,y:st(S.props.y)?S.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:st(S.props.width)?S.props.width:k.width,startIndex:L,endIndex:R,updateId:"brush-".concat(_)})}),It(b,"renderReferenceElement",function(S,A,E){if(!S)return null;var P=b,O=P.clipPathId,k=b.state,L=k.xAxisMap,R=k.yAxisMap,_=k.offset,B=S.type.defaultProps||{},I=S.props,C=I.xAxisId,D=C===void 0?B.xAxisId:C,W=I.yAxisId,K=W===void 0?B.yAxisId:W;return y.cloneElement(S,{key:S.key||"".concat(A,"-").concat(E),xAxis:L[D],yAxis:R[K],viewBox:{x:_.left,y:_.top,width:_.width,height:_.height},clipPathId:O})}),It(b,"renderActivePoints",function(S){var A=S.item,E=S.activePoint,P=S.basePoint,O=S.childIndex,k=S.isRange,L=[],R=A.props.key,_=A.item.type.defaultProps!==void 0?Ue(Ue({},A.item.type.defaultProps),A.item.props):A.item.props,B=_.activeDot,I=_.dataKey,C=Ue(Ue({index:O,dataKey:I,cx:E.x,cy:E.y,r:4,fill:h_(A.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Sr(B,!1)),Bb(B));return L.push(g.renderActiveDot(B,C,"".concat(R,"-activePoint-").concat(O))),P?L.push(g.renderActiveDot(B,Ue(Ue({},C),{},{cx:P.x,cy:P.y}),"".concat(R,"-basePoint-").concat(O))):k&&L.push(null),L}),It(b,"renderGraphicChild",function(S,A,E){var P=b.filterFormatItem(S,A,E);if(!P)return null;var O=b.getTooltipEventType(),k=b.state,L=k.isTooltipActive,R=k.tooltipAxis,_=k.activeTooltipIndex,B=k.activeLabel,I=b.props.children,C=zs(I,kn),D=P.props,W=D.points,K=D.isRange,H=D.baseLine,G=P.item.type.defaultProps!==void 0?Ue(Ue({},P.item.type.defaultProps),P.item.props):P.item.props,ee=G.activeDot,Q=G.hide,te=G.activeBar,U=G.activeShape,q=!!(!Q&&L&&C&&(ee||te||U)),ne={};O!=="axis"&&C&&C.props.trigger==="click"?ne={onClick:Bv(b.handleItemMouseEnter,S.props.onClick)}:O!=="axis"&&(ne={onMouseLeave:Bv(b.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Bv(b.handleItemMouseEnter,S.props.onMouseEnter)});var fe=y.cloneElement(S,Ue(Ue({},P.props),ne));function pe(X){return typeof R.dataKey=="function"?R.dataKey(X.payload):null}if(q)if(_>=0){var ye,Z;if(R.dataKey&&!R.allowDuplicatedCategory){var Ne=typeof R.dataKey=="function"?pe:"payload.".concat(R.dataKey.toString());ye=Lb(W,Ne,B),Z=K&&H&&Lb(H,Ne,B)}else ye=W?.[_],Z=K&&H&&H[_];if(U||te){var J=S.props.activeIndex!==void 0?S.props.activeIndex:_;return[y.cloneElement(S,Ue(Ue(Ue({},P.props),ne),{},{activeIndex:J})),null,null]}if(!xr(ye))return[fe].concat(nm(b.renderActivePoints({item:P,activePoint:ye,basePoint:Z,childIndex:_,isRange:K})))}else{var le,we=(le=b.getItemByXY(b.state.activeCoordinate))!==null&&le!==void 0?le:{graphicalItem:fe},De=we.graphicalItem,ue=De.item,Y=ue===void 0?S:ue,V=De.childIndex,$=Ue(Ue(Ue({},P.props),ne),{},{activeIndex:V});return[y.cloneElement(Y,$),null,null]}return K?[fe,null,null]:[fe,null]}),It(b,"renderCustomized",function(S,A,E){return y.cloneElement(S,Ue(Ue({key:"recharts-customized-".concat(E)},b.props),b.state))}),It(b,"renderMap",{CartesianGrid:{handler:Wv,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Wv},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Wv},YAxis:{handler:Wv},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((N=w.id)!==null&&N!==void 0?N:C0("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=MG(b.triggeredAfterMouseMove,(j=w.throttleDelay)!==null&&j!==void 0?j:1e3/60),b.state={},b}return b$e(g,v),x$e(g,[{key:"componentDidMount",value:function(){var N,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,j=N.children,b=N.data,S=N.height,A=N.layout,E=zs(j,kn);if(E){var P=E.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=ak(this.state,b,P,O),L=this.state.tooltipTicks[P].coordinate,R=(this.state.offset.top+S)/2,_=A==="horizontal",B=_?{x:L,y:R}:{y:L,x:R},I=this.state.formattedGraphicalItems.find(function(D){var W=D.item;return W.type.name==="Scatter"});I&&(B=Ue(Ue({},B),I.props.points[P].tooltipPosition),k=I.props.points[P].tooltipPayload);var C={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:k,activeCoordinate:B};this.setState(C),this.renderCursor(E),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var b,S;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(N){DA([zs(N.children,kn)],[zs(this.props.children,kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=zs(this.props.children,kn);if(N&&typeof N.props.shared=="boolean"){var j=N.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var j=this.container,b=j.getBoundingClientRect(),S=yOe(b),A={chartX:Math.round(N.pageX-S.left),chartY:Math.round(N.pageY-S.top)},E=b.width/j.offsetWidth||1,P=this.inRange(A.chartX,A.chartY,E);if(!P)return null;var O=this.state,k=O.xAxisMap,L=O.yAxisMap,R=this.getTooltipEventType(),_=yB(this.state,this.props.data,this.props.layout,P);if(R!=="axis"&&k&&L){var B=_c(k).scale,I=_c(L).scale,C=B&&B.invert?B.invert(A.chartX):null,D=I&&I.invert?I.invert(A.chartY):null;return Ue(Ue({},A),{},{xValue:C,yValue:D},_)}return _?Ue(Ue({},A),_):null}},{key:"inRange",value:function(N,j){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,A=N/b,E=j/b;if(S==="horizontal"||S==="vertical"){var P=this.state.offset,O=A>=P.left&&A<=P.left+P.width&&E>=P.top&&E<=P.top+P.height;return O?{x:A,y:E}:null}var k=this.state,L=k.angleAxisMap,R=k.radiusAxisMap;if(L&&R){var _=_c(L);return eL({x:A,y:E},_)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,j=this.getTooltipEventType(),b=zs(N,kn),S={};b&&j==="axis"&&(b.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Bb(this.props,this.handleOuterEvent);return Ue(Ue({},A),S)}},{key:"addListener",value:function(){gE.on(vE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gE.removeListener(vE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,j,b){for(var S=this.state.formattedGraphicalItems,A=0,E=S.length;A<E;A++){var P=S[A];if(P.item===N||P.props.key===N.key||j===$l(P.item.type)&&b===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,j=this.state.offset,b=j.left,S=j.top,A=j.height,E=j.width;return ve.createElement("defs",null,ve.createElement("clipPath",{id:N},ve.createElement("rect",{x:b,y:S,height:A,width:E})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(j,b){var S=xB(b,2),A=S[0],E=S[1];return Ue(Ue({},j),{},It({},A,E.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(j,b){var S=xB(b,2),A=S[0],E=S[1];return Ue(Ue({},j),{},It({},A,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[N])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(N){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[N])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(N){var j=this.state,b=j.formattedGraphicalItems,S=j.activeItem;if(b&&b.length)for(var A=0,E=b.length;A<E;A++){var P=b[A],O=P.props,k=P.item,L=k.type.defaultProps!==void 0?Ue(Ue({},k.type.defaultProps),k.props):k.props,R=$l(k.type);if(R==="Bar"){var _=(O.data||[]).find(function(D){return QMe(N,D)});if(_)return{graphicalItem:P,payload:_}}else if(R==="RadialBar"){var B=(O.data||[]).find(function(D){return eL(N,D)});if(B)return{graphicalItem:P,payload:B}}else if(J1(P,S)||eN(P,S)||Mg(P,S)){var I=eLe({graphicalItem:P,activeTooltipItem:S,itemData:L.data}),C=L.activeIndex===void 0?I:L.activeIndex;return{graphicalItem:Ue(Ue({},P),{},{childIndex:C}),payload:Mg(P,S)?L.data[I]:P.props.data[I]}}}return null}},{key:"render",value:function(){var N=this;if(!W4(this))return null;var j=this.props,b=j.children,S=j.className,A=j.width,E=j.height,P=j.style,O=j.compact,k=j.title,L=j.desc,R=gB(j,c$e),_=Sr(R,!1);if(O)return ve.createElement(ZL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement(LA,qh({},_,{width:A,height:E,title:k,desc:L}),this.renderClipPath(),H4(b,this.renderMap)));if(this.props.accessibilityLayer){var B,I;_.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,_.role=(I=this.props.role)!==null&&I!==void 0?I:"application",_.onKeyDown=function(D){N.accessibilityManager.keyboardEvent(D)},_.onFocus=function(){N.accessibilityManager.focus()}}var C=this.parseEventsOfWrapper();return ve.createElement(ZL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement("div",qh({className:ur("recharts-wrapper",S),style:Ue({position:"relative",cursor:"default",width:A,height:E},P)},C,{ref:function(W){N.container=W}}),ve.createElement(LA,qh({},_,{width:A,height:E,title:k,desc:L,style:A$e}),this.renderClipPath(),H4(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);It(x,"displayName",r),It(x,"defaultProps",Ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),It(x,"getDerivedStateFromProps",function(v,g){var w=v.dataKey,N=v.data,j=v.children,b=v.width,S=v.height,A=v.layout,E=v.stackOffset,P=v.margin,O=g.dataStartIndex,k=g.dataEndIndex;if(g.updateId===void 0){var L=bB(v);return Ue(Ue(Ue({},L),{},{updateId:0},m(Ue(Ue({props:v},L),{},{updateId:0}),g)),{},{prevDataKey:w,prevData:N,prevWidth:b,prevHeight:S,prevLayout:A,prevStackOffset:E,prevMargin:P,prevChildren:j})}if(w!==g.prevDataKey||N!==g.prevData||b!==g.prevWidth||S!==g.prevHeight||A!==g.prevLayout||E!==g.prevStackOffset||!ff(P,g.prevMargin)){var R=bB(v),_={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},B=Ue(Ue({},yB(g,N,A)),{},{updateId:g.updateId+1}),I=Ue(Ue(Ue({},R),_),B);return Ue(Ue(Ue({},I),m(Ue({props:v},I),g)),{},{prevDataKey:w,prevData:N,prevWidth:b,prevHeight:S,prevLayout:A,prevStackOffset:E,prevMargin:P,prevChildren:j})}if(!DA(j,g.prevChildren)){var C,D,W,K,H=zs(j,Gf),G=H&&(C=(D=H.props)===null||D===void 0?void 0:D.startIndex)!==null&&C!==void 0?C:O,ee=H&&(W=(K=H.props)===null||K===void 0?void 0:K.endIndex)!==null&&W!==void 0?W:k,Q=G!==O||ee!==k,te=!xr(N),U=te&&!Q?g.updateId:g.updateId+1;return Ue(Ue({updateId:U},m(Ue(Ue({props:v},g),{},{updateId:U,dataStartIndex:G,dataEndIndex:ee}),g)),{},{prevChildren:j,dataStartIndex:G,dataEndIndex:ee})}return null}),It(x,"renderActiveDot",function(v,g,w){var N;return y.isValidElement(v)?N=y.cloneElement(v,g):cr(v)?N=v(g):N=ve.createElement(m_,g),ve.createElement(Tn,{className:"recharts-active-dot",key:w},N)});var p=y.forwardRef(function(g,w){return ve.createElement(x,qh({},g,{ref:w}))});return p.displayName=x.displayName,p},Ey=GK({chartName:"LineChart",GraphicalChild:da,axisComponents:[{axisType:"xAxis",AxisComp:Ha},{axisType:"yAxis",AxisComp:Ga}],formatAxisMap:uK}),Ac=GK({chartName:"BarChart",GraphicalChild:qa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ha},{axisType:"yAxis",AxisComp:Ga}],formatAxisMap:uK});const D$e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function KK({title:t="GRAPHS AND CHART REPORT",className:e,incomeExpenseData:r,selectedYear:n,calculateCarManagementSplit:s,calculateCarOwnerSplit:i,calculateCarManagementTotalExpenses:o,calculateCarOwnerTotalExpenses:l,getMonthValue:c}){const d=y.useMemo(()=>r?D$e.map((m,x)=>{const p=x+1,v=c(r.incomeExpenses||[],p,"rentalIncome"),g=s(p),w=i(p),N=o(p),j=l(p),b=c(r.history||[],p,"daysRented"),S=c(r.history||[],p,"tripsTaken"),A=g-N,E=w-j,P=S>0?v/S:0;return{month:m,"Rental Income":v,"Car Management Profit":A,"Car Owner Profit":E,"Car Management Total Expenses":N,"Car Owner Total Expenses":j,"Days Rented":b,"Trips Taken":S,"Ave Per Rental":P}}):[],[r,n,s,i,o,l,c]),u=y.useMemo(()=>d.reduce((x,p)=>({"Rental Income":x["Rental Income"]+p["Rental Income"],"Car Management Profit":x["Car Management Profit"]+p["Car Management Profit"],"Car Owner Profit":x["Car Owner Profit"]+p["Car Owner Profit"],"Car Management Total Expenses":x["Car Management Total Expenses"]+p["Car Management Total Expenses"],"Car Owner Total Expenses":x["Car Owner Total Expenses"]+p["Car Owner Total Expenses"],"Days Rented":x["Days Rented"]+p["Days Rented"],"Trips Taken":x["Trips Taken"]+p["Trips Taken"],"Ave Per Rental":x["Trips Taken"]>0?x["Rental Income"]/x["Trips Taken"]:0}),{"Rental Income":0,"Car Management Profit":0,"Car Owner Profit":0,"Car Management Total Expenses":0,"Car Owner Total Expenses":0,"Days Rented":0,"Trips Taken":0,"Ave Per Rental":0}),[d]),h=m=>`$${m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,f=(m,x)=>x.includes("Days")||x.includes("Trips")?[m.toString(),x]:[h(m),x];return a.jsxs("div",{className:e,children:[a.jsx("h1",{className:"text-3xl font-serif text-[#EAEB80] italic mb-6",children:t}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Rental Income"}),a.jsx("div",{className:"mb-4 text-sm text-gray-400",children:a.jsxs("div",{children:["Yearly Total: ",h(u["Rental Income"])]})}),a.jsx(Ni,{width:"100%",height:300,children:a.jsxs(Ac,{data:d,children:[a.jsx(qs,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),a.jsx(Ha,{dataKey:"month",stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(Ga,{stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(kn,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",color:"#fff"},formatter:f}),a.jsx(Aa,{wrapperStyle:{color:"#9ca3af"}}),a.jsx(qa,{dataKey:"Rental Income",fill:"#38bdf8"})]})})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Car Management Profit"}),a.jsx("div",{className:"mb-4 text-sm text-gray-400",children:a.jsxs("div",{children:["Yearly Total: ",h(u["Car Management Profit"])]})}),a.jsx(Ni,{width:"100%",height:300,children:a.jsxs(Ac,{data:d,children:[a.jsx(qs,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),a.jsx(Ha,{dataKey:"month",stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(Ga,{stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(kn,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",color:"#fff"},formatter:f}),a.jsx(Aa,{wrapperStyle:{color:"#9ca3af"}}),a.jsx(qa,{dataKey:"Car Management Profit",fill:"#10b981"})]})})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Car Owner Management Profit"}),a.jsx("div",{className:"mb-4 text-sm text-gray-400",children:a.jsxs("div",{children:["Yearly Total: ",h(u["Car Owner Profit"])]})}),a.jsx(Ni,{width:"100%",height:300,children:a.jsxs(Ac,{data:d,children:[a.jsx(qs,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),a.jsx(Ha,{dataKey:"month",stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(Ga,{stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(kn,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",color:"#fff"},formatter:f}),a.jsx(Aa,{wrapperStyle:{color:"#9ca3af"}}),a.jsx(qa,{dataKey:"Car Owner Profit",fill:"#f59e0b"})]})})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Car Owner Total Expenses"}),a.jsx("div",{className:"mb-4 text-sm text-gray-400",children:a.jsxs("div",{children:["Yearly Total: ",h(u["Car Owner Total Expenses"])]})}),a.jsx(Ni,{width:"100%",height:300,children:a.jsxs(Ac,{data:d,children:[a.jsx(qs,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),a.jsx(Ha,{dataKey:"month",stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(Ga,{stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(kn,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",color:"#fff"},formatter:f}),a.jsx(Aa,{wrapperStyle:{color:"#9ca3af"}}),a.jsx(qa,{dataKey:"Car Owner Total Expenses",fill:"#ef4444"})]})})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Car Management Total Expenses"}),a.jsx("div",{className:"mb-4 text-sm text-gray-400",children:a.jsxs("div",{children:["Yearly Total: ",h(u["Car Management Total Expenses"])]})}),a.jsx(Ni,{width:"100%",height:300,children:a.jsxs(Ac,{data:d,children:[a.jsx(qs,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),a.jsx(Ha,{dataKey:"month",stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(Ga,{stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(kn,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",color:"#fff"},formatter:f}),a.jsx(Aa,{wrapperStyle:{color:"#9ca3af"}}),a.jsx(qa,{dataKey:"Car Management Total Expenses",fill:"#8b5cf6"})]})})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"History"}),a.jsxs("div",{className:"mb-4 text-sm text-gray-400",children:[a.jsxs("div",{children:["Days Rented - Yearly Total: ",u["Days Rented"]]}),a.jsxs("div",{children:["Trips Taken - Yearly Total: ",u["Trips Taken"]]})]}),a.jsx(Ni,{width:"100%",height:300,children:a.jsxs(Ey,{data:d,children:[a.jsx(qs,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),a.jsx(Ha,{dataKey:"month",stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(Ga,{stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(kn,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",color:"#fff"}}),a.jsx(Aa,{wrapperStyle:{color:"#9ca3af"}}),a.jsx(da,{type:"monotone",dataKey:"Days Rented",stroke:"#06b6d4",strokeWidth:2}),a.jsx(da,{type:"monotone",dataKey:"Trips Taken",stroke:"#ec4899",strokeWidth:2})]})})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"CAR RENTAL VALUE PER MONTH"}),a.jsxs("div",{className:"mb-4 text-sm text-gray-400",children:[a.jsxs("div",{children:["Total Car Rental Income - Yearly Total: ",h(u["Rental Income"])]}),a.jsxs("div",{children:["Trips Taken - Yearly Total: ",u["Trips Taken"]]}),a.jsxs("div",{children:["Ave Per Rental Per Trips Taken - Yearly Average: ",h(u["Ave Per Rental"])]})]}),a.jsx(Ni,{width:"100%",height:300,children:a.jsxs(Ac,{data:d,children:[a.jsx(qs,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),a.jsx(Ha,{dataKey:"month",stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(Ga,{stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(kn,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",color:"#fff"},formatter:f}),a.jsx(Aa,{wrapperStyle:{color:"#9ca3af"}}),a.jsx(qa,{dataKey:"Rental Income",fill:"#38bdf8",name:"Total Car Rental Income"}),a.jsx(qa,{dataKey:"Trips Taken",fill:"#ec4899",name:"Trips Taken"}),a.jsx(qa,{dataKey:"Ave Per Rental",fill:"#10b981",name:"Ave Per Rental Per Trips Taken"})]})})]})]})}const vt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Mw=t=>`$ ${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,M$e=t=>{const e=parseInt(t,10);return[`Jan ${e}`,`Feb ${e}`,`Mar ${e}`,`Apr ${e}`,`May ${e}`,`Jun ${e}`,`Jul ${e}`,`Aug ${e}`,`Sep ${e}`,`Oct ${e}`,`Nov ${e}`,`Dec ${e}`]},Fe=(t,e,r)=>{if(!t||!Array.isArray(t))return 0;const n=t.find(o=>o&&o.month===e);if(!n)return 0;const s=n[r];if(s==null)return 0;const i=Number(s);return isNaN(i)?0:i},L$e=t=>t.reduce((e,r)=>e+r,0);function B$e(){const[,t]=Ia("/admin/cars/:id/earnings"),[,e]=wr(),r=t?.id?parseInt(t.id,10):null,n=new Date().getFullYear(),[s,i]=y.useState(String(n)),[o,l]=y.useState({managementOwner:!0,incomeExpenses:!0,history:!0,rentalValue:!0,directDelivery:!0,cogs:!0,parkingFeeLabor:!0,parkingAverageQB:!0,reimbursedBills:!0}),[c,d]=y.useState({}),{toast:u}=kr();Wr();const h=M$e(s),{data:f}=Ge({queryKey:["/api/auth/me"],retry:!1}),m=f?.user?.isAdmin===!0,{data:x,isLoading:p,error:v}=Ge({queryKey:["/api/cars",r],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const J=je(`/api/cars/${r}`),le=await fetch(J,{credentials:"include"});if(!le.ok)throw new Error("Failed to fetch car");return le.json()},enabled:!!r,retry:!1}),g=x?.data,{data:w,isLoading:N}=Ge({queryKey:["/api/income-expense",r,s],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const J=await fetch(je(`/api/income-expense/${r}/${s}`),{credentials:"include"});return J.ok?J.json():{success:!0,data:null}},enabled:!!r&&!!s,retry:!1}),j=w?.data,b=String(parseInt(s)-1),{data:S}=Ge({queryKey:["/api/income-expense",r,b],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const J=await fetch(je(`/api/income-expense/${r}/${b}`),{credentials:"include"});return J.ok?J.json():{success:!0,data:null}},retry:!1,enabled:!!r&&!!s}),A=S?.data,{data:E}=Ge({queryKey:["/api/income-expense/dynamic-subcategories",r,s],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const le=["directDelivery","cogs","parkingFeeLabor","reimbursedBills"].map(async ue=>{try{const Y=await fetch(je(`/api/income-expense/dynamic-subcategories/${r}/${s}/${ue}`),{credentials:"include"});if(Y.ok){const V=await Y.json();return{categoryType:ue,data:V.data||[]}}return{categoryType:ue,data:[]}}catch(Y){return console.error(`Error fetching ${ue} subcategories:`,Y),{categoryType:ue,data:[]}}}),we=await Promise.all(le),De={directDelivery:[],cogs:[],parkingFeeLabor:[],reimbursedBills:[]};return we.forEach(({categoryType:ue,data:Y})=>{De[ue]=Y}),{success:!0,data:De}},enabled:!!r&&!!s,retry:!1}),P=E?.data||{directDelivery:[],cogs:[],reimbursedBills:[]};j?.formulaSetting?.monthModes;const O=j?.formulaSetting?.skiRacksOwner||{},{data:k}=Ge({queryKey:["/api/onboarding/vin",g?.vin,"onboarding"],queryFn:async()=>{if(!g?.vin)throw new Error("No VIN");const J=je(`/api/onboarding/vin/${encodeURIComponent(g.vin)}`),le=await fetch(J,{credentials:"include"});if(!le.ok){if(le.status===404)return{success:!1,data:null};throw new Error("Failed to fetch onboarding")}return le.json()},enabled:!!g?.vin,retry:!1}),L=k?.success?k?.data:null,R=J=>{l(le=>({...le,[J]:!le[J]}))},_=J=>{const le=Fe(j?.directDelivery||[],J,"laborCarCleaning")+Fe(j?.directDelivery||[],J,"laborDelivery")+Fe(j?.directDelivery||[],J,"parkingAirport")+Fe(j?.directDelivery||[],J,"parkingLot")+Fe(j?.directDelivery||[],J,"uberLyftLime"),we=P.directDelivery.reduce((De,ue)=>{const Y=ue.values.find(V=>V.month===J);return De+(Y?.value||0)},0);return le+we},B=J=>{const le=Fe(j?.cogs||[],J,"autoBodyShopWreck")+Fe(j?.cogs||[],J,"alignment")+Fe(j?.cogs||[],J,"battery")+Fe(j?.cogs||[],J,"brakes")+Fe(j?.cogs||[],J,"carPayment")+Fe(j?.cogs||[],J,"carInsurance")+Fe(j?.cogs||[],J,"carSeats")+Fe(j?.cogs||[],J,"cleaningSuppliesTools")+Fe(j?.cogs||[],J,"emissions")+Fe(j?.cogs||[],J,"gpsSystem")+Fe(j?.cogs||[],J,"keyFob")+Fe(j?.cogs||[],J,"laborCleaning")+Fe(j?.cogs||[],J,"licenseRegistration")+Fe(j?.cogs||[],J,"mechanic")+Fe(j?.cogs||[],J,"oilLube")+Fe(j?.cogs||[],J,"parts")+Fe(j?.cogs||[],J,"skiRacks")+Fe(j?.cogs||[],J,"tickets")+Fe(j?.cogs||[],J,"tiredAirStation")+Fe(j?.cogs||[],J,"tires")+Fe(j?.cogs||[],J,"towingImpoundFees")+Fe(j?.cogs||[],J,"uberLyftLime")+Fe(j?.cogs||[],J,"windshield")+Fe(j?.cogs||[],J,"wipers"),we=P.cogs.reduce((De,ue)=>{const Y=ue.values.find(V=>V.month===J);return De+(Y?.value||0)},0);return le+we},I=J=>{const le=Fe(j?.reimbursedBills||[],J,"electricReimbursed")+Fe(j?.reimbursedBills||[],J,"electricNotReimbursed")+Fe(j?.reimbursedBills||[],J,"gasReimbursed")+Fe(j?.reimbursedBills||[],J,"gasNotReimbursed")+Fe(j?.reimbursedBills||[],J,"gasServiceRun")+Fe(j?.reimbursedBills||[],J,"parkingAirport")+Fe(j?.reimbursedBills||[],J,"uberLyftLimeNotReimbursed")+Fe(j?.reimbursedBills||[],J,"uberLyftLimeReimbursed"),we=P.reimbursedBills.reduce((De,ue)=>{const Y=ue.values.find(V=>V.month===J);return De+(Y?.value||0)},0);return le+we},C=J=>{if(J===1){if(!A)return 0;const se=Fe(A.incomeExpenses||[],12,"rentalIncome"),be=Fe(A.incomeExpenses||[],12,"deliveryIncome"),Le=Fe(A.incomeExpenses||[],12,"electricPrepaidIncome");Fe(A.incomeExpenses||[],12,"smokingFines");const Me=Fe(A.incomeExpenses||[],12,"gasPrepaidIncome"),lt=Fe(A.incomeExpenses||[],12,"skiRacksIncome"),qt=Fe(A.incomeExpenses||[],12,"milesIncome"),Lr=Fe(A.incomeExpenses||[],12,"childSeatIncome"),F=Fe(A.incomeExpenses||[],12,"coolersIncome"),Re=Fe(A.incomeExpenses||[],12,"insuranceWreckIncome"),Oe=Fe(A.incomeExpenses||[],12,"otherIncome"),Ve=(Io,Rt)=>{if(Io===1)return 0;const ya=Io-1,SN=Fe(Rt.incomeExpenses||[],ya,"rentalIncome"),AN=Fe(Rt.incomeExpenses||[],ya,"deliveryIncome"),$e=Fe(Rt.incomeExpenses||[],ya,"electricPrepaidIncome");Fe(Rt.incomeExpenses||[],ya,"smokingFines");const Nt=Fe(Rt.incomeExpenses||[],ya,"gasPrepaidIncome"),ut=Fe(Rt.incomeExpenses||[],ya,"skiRacksIncome"),nt=Fe(Rt.incomeExpenses||[],ya,"milesIncome"),lr=Fe(Rt.incomeExpenses||[],ya,"childSeatIncome"),wn=Fe(Rt.incomeExpenses||[],ya,"coolersIncome"),fi=Fe(Rt.incomeExpenses||[],ya,"insuranceWreckIncome"),Yi=Fe(Rt.incomeExpenses||[],ya,"otherIncome"),Fo=ya===1?0:Ve(ya,Rt),Sn=(Rt.directDelivery||[]).reduce((_d,kt)=>kt.month===ya?_d+(Number(kt.laborCarCleaning)||0)+(Number(kt.laborDelivery)||0)+(Number(kt.parkingAirport)||0)+(Number(kt.parkingLot)||0)+(Number(kt.uberLyftLime)||0):_d,0),ah=(Rt.cogs||[]).reduce((_d,kt)=>kt.month===ya?_d+(Number(kt.autoBodyShopWreck)||0)+(Number(kt.alignment)||0)+(Number(kt.battery)||0)+(Number(kt.brakes)||0)+(Number(kt.carPayment)||0)+(Number(kt.carInsurance)||0)+(Number(kt.carSeats)||0)+(Number(kt.cleaningSuppliesTools)||0)+(Number(kt.emissions)||0)+(Number(kt.gpsSystem)||0)+(Number(kt.keyFob)||0)+(Number(kt.laborCleaning)||0)+(Number(kt.licenseRegistration)||0)+(Number(kt.mechanic)||0)+(Number(kt.oilLube)||0)+(Number(kt.parts)||0)+(Number(kt.skiRacks)||0)+(Number(kt.tickets)||0)+(Number(kt.tiredAirStation)||0)+(Number(kt.tires)||0)+(Number(kt.towingImpoundFees)||0)+(Number(kt.uberLyftLime)||0)+(Number(kt.windshield)||0)+(Number(kt.wipers)||0):_d,0),cc=SN-AN-$e-Nt-nt-ut-lr-wn-fi-Yi-Sn-ah-Fo;return cc>0?0:cc},Be=Ve(12,A),dt=(A.directDelivery||[]).reduce((Io,Rt)=>Rt.month===12?Io+(Number(Rt.laborCarCleaning)||0)+(Number(Rt.laborDelivery)||0)+(Number(Rt.parkingAirport)||0)+(Number(Rt.parkingLot)||0)+(Number(Rt.uberLyftLime)||0):Io,0),_t=(A.cogs||[]).reduce((Io,Rt)=>Rt.month===12?Io+(Number(Rt.autoBodyShopWreck)||0)+(Number(Rt.alignment)||0)+(Number(Rt.battery)||0)+(Number(Rt.brakes)||0)+(Number(Rt.carPayment)||0)+(Number(Rt.carInsurance)||0)+(Number(Rt.carSeats)||0)+(Number(Rt.cleaningSuppliesTools)||0)+(Number(Rt.emissions)||0)+(Number(Rt.gpsSystem)||0)+(Number(Rt.keyFob)||0)+(Number(Rt.laborCleaning)||0)+(Number(Rt.licenseRegistration)||0)+(Number(Rt.mechanic)||0)+(Number(Rt.oilLube)||0)+(Number(Rt.parts)||0)+(Number(Rt.skiRacks)||0)+(Number(Rt.tickets)||0)+(Number(Rt.tiredAirStation)||0)+(Number(Rt.tires)||0)+(Number(Rt.towingImpoundFees)||0)+(Number(Rt.uberLyftLime)||0)+(Number(Rt.windshield)||0)+(Number(Rt.wipers)||0):Io,0),Rn=se-be-Le-Me-qt-lt-Lr-F-Re-Oe-dt-_t-Be;return Rn>0?0:Rn}const le=J-1,we=Fe(j?.incomeExpenses||[],le,"rentalIncome"),De=Fe(j?.incomeExpenses||[],le,"deliveryIncome"),ue=Fe(j?.incomeExpenses||[],le,"electricPrepaidIncome");Fe(j?.incomeExpenses||[],le,"smokingFines");const Y=Fe(j?.incomeExpenses||[],le,"gasPrepaidIncome"),V=Fe(j?.incomeExpenses||[],le,"skiRacksIncome"),$=Fe(j?.incomeExpenses||[],le,"milesIncome"),X=Fe(j?.incomeExpenses||[],le,"childSeatIncome"),me=Fe(j?.incomeExpenses||[],le,"coolersIncome"),z=Fe(j?.incomeExpenses||[],le,"insuranceWreckIncome"),T=Fe(j?.incomeExpenses||[],le,"otherIncome"),M=C(le),re=_(le),oe=B(le),ce=we-De-ue-Y-$-V-X-me-z-T-re-oe-M;return ce>0?0:ce},D=J=>{const we=(Fe(j?.incomeExpenses||[],J,"carManagementSplit")||0)/100,De=Fe(j?.incomeExpenses||[],J,"rentalIncome"),ue=Fe(j?.incomeExpenses||[],J,"deliveryIncome"),Y=Fe(j?.incomeExpenses||[],J,"electricPrepaidIncome"),V=Fe(j?.incomeExpenses||[],J,"smokingFines"),$=Fe(j?.incomeExpenses||[],J,"gasPrepaidIncome"),X=Fe(j?.incomeExpenses||[],J,"skiRacksIncome"),me=Fe(j?.incomeExpenses||[],J,"milesIncome"),z=Fe(j?.incomeExpenses||[],J,"childSeatIncome"),T=Fe(j?.incomeExpenses||[],J,"coolersIncome"),M=Fe(j?.incomeExpenses||[],J,"insuranceWreckIncome"),re=Fe(j?.incomeExpenses||[],J,"otherIncome"),oe=C(J),ce=_(J),Ee=B(J),se=I(J),Le=parseInt(s,10)>=2026,Me=Le&&X>0,lt=Le&&X===0;if(Me)if((O[J]||"GLA")==="GLA"){const Oe=ue+Y+$+z+T+M+re+X+V*.9-se,Be=(De-Math.abs(oe)-ue-Y-V-X-me-$-z-T-M-re-ce-Ee)*we,dt=Oe+Be;return dt>=0?dt:0}else{const Oe=ue+Y+$+z+T+M+re+V*.9-se,Be=(De-Math.abs(oe)-ue-Y-V-X-me-$-z-T-M-re-ce-Ee)*we,dt=Oe+Be;return dt>=0?dt:0}if(lt){const Re=ue+Y+$+V*.9-se,Oe=(De-Math.abs(oe)-ue-Y-V-$-me-ce-Ee)*we,Ve=Re+Oe;return Ve>=0?Ve:0}const qt=ue+Y+V+$-se,Lr=(De-Math.abs(oe)-ue-Y-V-$-me-ce-Ee)*we,F=qt+Lr;return F>=0?F:0},W=J=>{const we=(Fe(j?.incomeExpenses||[],J,"carOwnerSplit")||0)/100,De=Fe(j?.incomeExpenses||[],J,"rentalIncome"),ue=Fe(j?.incomeExpenses||[],J,"deliveryIncome"),Y=Fe(j?.incomeExpenses||[],J,"electricPrepaidIncome"),V=Fe(j?.incomeExpenses||[],J,"smokingFines"),$=Fe(j?.incomeExpenses||[],J,"gasPrepaidIncome"),X=Fe(j?.incomeExpenses||[],J,"skiRacksIncome"),me=Fe(j?.incomeExpenses||[],J,"milesIncome"),z=Fe(j?.incomeExpenses||[],J,"childSeatIncome"),T=Fe(j?.incomeExpenses||[],J,"coolersIncome"),M=Fe(j?.incomeExpenses||[],J,"insuranceWreckIncome"),re=Fe(j?.incomeExpenses||[],J,"otherIncome"),oe=C(J),ce=_(J),Ee=B(J),be=parseInt(s,10)>=2026,Le=be&&X>0,Me=be&&X===0;if(Le)if((O[J]||"GLA")==="GLA"){const Re=me+V*.1,Ve=(De-Math.abs(oe)-ue-Y-V-X-me-$-z-T-M-re-ce-Ee)*we,Be=Re+Ve;return Be>=0?Be:0}else{const Re=me+$+V*.1,Ve=(De-Math.abs(oe)-ue-Y-V-X-me-$-z-T-M-re-ce-Ee)*we,Be=Re+Ve;return Be>=0?Be:0}if(Me){const F=me+V*.1,Re=(De-Math.abs(oe)-ue-Y-V-$-me-ce-Ee)*we,Oe=F+Re;return Oe>=0?Oe:0}const lt=me,qt=(De-Math.abs(oe)-ue-Y-V-$-me-ce-Ee)*we,Lr=lt+qt;return Lr>=0?Lr:0},K=J=>{const we=(Number(Fe(j?.incomeExpenses||[],J,"carManagementSplit"))||0)/100,De=_(J),ue=B(J);return I(J)+De*we+ue*we},H=J=>{const we=(Number(Fe(j?.incomeExpenses||[],J,"carOwnerSplit"))||0)/100,De=_(J),ue=B(J);return De*we+ue*we},{data:G,refetch:ee}=Ge({queryKey:["/api/earnings/charts",r,s],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const J=await fetch(je(`/api/earnings/charts/${r}/${s}`),{credentials:"include"});if(!J.ok){if(J.status===404)return{success:!0,data:{}};throw new Error("Failed to fetch chart images")}return J.json()},enabled:!!r&&!!s,retry:!1}),Q=G?.data||{},te=async(J,le)=>{if(r){d(we=>({...we,[J]:!0}));try{const we=new FormData;we.append("chart",le),we.append("month",J.toString()),we.append("year",s);const De=await fetch(je(`/api/earnings/charts/${r}`),{method:"POST",credentials:"include",body:we});if(!De.ok){const Y=await De.json();throw new Error(Y.error||"Failed to upload chart")}const ue=await De.json();await ee(),u({title:"Success",description:ue.message||"Chart uploaded successfully"})}catch(we){u({title:"Error",description:we.message||"Failed to upload chart",variant:"destructive"})}finally{d(we=>({...we,[J]:!1}))}}},U=async J=>{if(r&&confirm(`Are you sure you want to delete the chart for ${vt[J-1]}?`))try{const le=await fetch(je(`/api/earnings/charts/${r}/${s}/${J}`),{method:"DELETE",credentials:"include"});if(!le.ok){const we=await le.json();throw new Error(we.error||"Failed to delete chart")}await ee(),u({title:"Success",description:"Chart deleted successfully"})}catch(le){u({title:"Error",description:le.message||"Failed to delete chart",variant:"destructive"})}};if(p||N)return a.jsx(jt,{children:a.jsx(Is,{})});if(v||!g)return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("p",{className:"text-red-400",children:"Failed to load car details"}),a.jsx("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"mt-4 text-[#EAEB80] hover:underline",children:" Back to View Car"})]})});const q=g.makeModel||`${g.year||""} ${g.vin}`.trim(),ne=g.owner?`${g.owner.firstName} ${g.owner.lastName}`:"N/A",fe=g.owner?.phone||"N/A",pe=g.owner?.email||"N/A",ye=L?.fuelType||g.fuelType||"N/A",Z=L?.tireSize||g.tireSize||"N/A",Ne=L?.oilType||g.oilType||"N/A";return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col w-full overflow-x-hidden",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to View Car"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Earnings"}),g&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Car: ",g.makeModel||"Unknown Car"]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Car Information"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Car Name: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-words",children:q})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"VIN #: "}),a.jsx("span",{className:"text-foreground font-mono text-xs sm:text-sm break-all",children:g.vin})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"License: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:g.licensePlate||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Owner Information"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Name: "}),g?.clientId?a.jsx("button",{onClick:()=>e(`/admin/clients/${g.clientId}`),className:"text-[#EAEB80] hover:text-[#d4d570] hover:underline transition-colors text-xs sm:text-sm break-words cursor-pointer",children:ne}):a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-words",children:ne})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Contact #: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:fe})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Email: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-all",children:pe})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Car Specifications"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Fuel/Gas: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:ye})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Tire Size: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:Z})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Oil Type: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:Ne})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Turo Links"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[g.turoLink&&a.jsx("div",{children:a.jsxs("a",{href:g.turoLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),g.adminTuroLink&&a.jsx("div",{children:a.jsxs("a",{href:g.adminTuroLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Admin Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),!g.turoLink&&!g.adminTuroLink&&a.jsx("span",{className:"text-gray-500 text-sm",children:"No Turo links available"})]})]})]})}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-serif text-[#EAEB80] italic",children:"Earnings"}),a.jsx("div",{className:"w-[150px]",children:a.jsxs(tt,{value:s,onValueChange:i,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select year"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"2026",children:"2026"}),a.jsx(xe,{value:"2025",children:"2025"}),a.jsx(xe,{value:"2024",children:"2024"}),a.jsx(xe,{value:"2023",children:"2023"}),a.jsx(xe,{value:"2022",children:"2022"}),a.jsx(xe,{value:"2021",children:"2021"})]})]})})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden mb-6",children:a.jsxs("div",{className:"w-full h-[600px] overflow-y-auto overflow-x-auto",children:[a.jsxs("table",{className:"border-collapse w-full table-fixed",style:{minWidth:"1200px"},children:[a.jsxs("colgroup",{children:[a.jsx("col",{style:{width:"25%"}}),h.map((J,le)=>a.jsx("col",{style:{width:"5.5%"}},le)),a.jsx("col",{style:{width:"7%"}})]}),a.jsx("thead",{className:"bg-[#1a1a1a]",children:a.jsxs("tr",{className:"bg-[#1a1a1a] border-b border-[#2a2a2a]",children:[a.jsx("th",{className:"text-left px-3 py-2 text-sm font-medium text-gray-300 sticky top-0 left-0 bg-[#1a1a1a] z-[5] border-r border-[#2a2a2a] align-middle",children:"Category / Expense"}),h.map((J,le)=>{const we=le+1,ue=parseInt(s,10)>=2026,Y=O[we]||"GLA",V=Fe(j?.incomeExpenses||[],we,"skiRacksIncome")>0;return a.jsx("th",{className:"border-l border-[#2a2a2a] px-2 py-2 text-center min-w-[100px] sticky top-0 bg-[#1a1a1a] z-[5] align-middle",children:a.jsxs("div",{className:"flex flex-col items-center gap-1 justify-center",children:[a.jsx("span",{className:"text-foreground text-xs",children:J}),a.jsx("div",{className:"flex items-center justify-center gap-1 h-[24px]",children:ue&&V&&a.jsx("div",{className:_e("px-2 py-0.5 rounded-full text-xs font-semibold transition-all duration-200 min-w-[24px] cursor-default",Y==="GLA"?"bg-purple-600 text-foreground":"bg-orange-600 text-foreground"),title:`Ski racks owner: ${Y==="GLA"?"Management/GLA (purple)":"Owner (orange)"} (Read-only)`,children:Y==="GLA"?"M":"O"})})]})},J)}),a.jsx("th",{className:"text-right px-2 py-2 text-sm font-medium text-gray-300 sticky top-0 bg-[#1f1f1f] z-[5] border-l border-[#2a2a2a] whitespace-nowrap align-middle",children:"Total"})]})}),a.jsxs("tbody",{className:"relative",children:[a.jsxs(bl,{title:"CAR MANAGEMENT OWNER SPLIT",isExpanded:o.managementOwner,onToggle:()=>R("managementOwner"),children:[a.jsx(bt,{label:"Car Management Split",values:vt.map((J,le)=>D(le+1))}),a.jsx(bt,{label:"Car Owner Split",values:vt.map((J,le)=>W(le+1))})]}),a.jsxs(bl,{title:"INCOME AND EXPENSES",isExpanded:o.incomeExpenses,onToggle:()=>R("incomeExpenses"),children:[a.jsx(bt,{label:"Rental Income",values:vt.map((J,le)=>Fe(j?.incomeExpenses||[],le+1,"rentalIncome"))}),a.jsx(bt,{label:"Delivery Income",values:vt.map((J,le)=>Fe(j?.incomeExpenses||[],le+1,"deliveryIncome"))}),a.jsx(bt,{label:"Electric Prepaid Income",values:vt.map((J,le)=>Fe(j?.incomeExpenses||[],le+1,"electricPrepaidIncome"))}),a.jsx(bt,{label:"Smoking Fines",values:vt.map((J,le)=>Fe(j?.incomeExpenses||[],le+1,"smokingFines"))}),a.jsx(bt,{label:"Gas Prepaid Income",values:vt.map((J,le)=>Fe(j?.incomeExpenses||[],le+1,"gasPrepaidIncome"))}),a.jsx(bt,{label:"Ski Racks Income",values:vt.map((J,le)=>Fe(j?.incomeExpenses||[],le+1,"skiRacksIncome"))}),a.jsx(bt,{label:"Miles Income",values:vt.map((J,le)=>Fe(j?.incomeExpenses||[],le+1,"milesIncome"))}),a.jsx(bt,{label:"Child Seat Income",values:vt.map((J,le)=>Fe(j?.incomeExpenses||[],le+1,"childSeatIncome"))}),a.jsx(bt,{label:"Coolers Income",values:vt.map((J,le)=>Fe(j?.incomeExpenses||[],le+1,"coolersIncome"))}),a.jsx(bt,{label:"Income Insurance and Client Wrecks",values:vt.map((J,le)=>Fe(j?.incomeExpenses||[],le+1,"insuranceWreckIncome"))}),a.jsx(bt,{label:"Other Income",values:vt.map((J,le)=>Fe(j?.incomeExpenses||[],le+1,"otherIncome"))})]}),a.jsxs(bl,{title:"OPERATING EXPENSE (DIRECT DELIVERY)",isExpanded:o.directDelivery,onToggle:()=>R("directDelivery"),children:[a.jsx(bt,{label:"Labor - Cleaning",values:vt.map((J,le)=>Fe(j?.directDelivery||[],le+1,"laborCarCleaning"))}),a.jsx(bt,{label:"Labor - Delivery",values:vt.map((J,le)=>Fe(j?.directDelivery||[],le+1,"laborDelivery"))}),a.jsx(bt,{label:"Parking - Airport",values:vt.map((J,le)=>Fe(j?.directDelivery||[],le+1,"parkingAirport"))}),a.jsx(bt,{label:"Parking - Lot",values:vt.map((J,le)=>Fe(j?.directDelivery||[],le+1,"parkingLot"))}),a.jsx(bt,{label:"Uber/Lyft/Lime",values:vt.map((J,le)=>Fe(j?.directDelivery||[],le+1,"uberLyftLime"))}),a.jsx(bt,{label:"TOTAL OPERATING EXPENSE (Direct Delivery)",values:vt.map((J,le)=>_(le+1)),isTotal:!0})]}),a.jsxs(bl,{title:"OPERATING EXPENSE (COGS - PER VEHICLE)",isExpanded:o.cogs,onToggle:()=>R("cogs"),children:[a.jsx(bt,{label:"Auto Body Shop / Wreck",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"autoBodyShopWreck"))}),a.jsx(bt,{label:"Alignment",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"alignment"))}),a.jsx(bt,{label:"Battery",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"battery"))}),a.jsx(bt,{label:"Brakes",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"brakes"))}),a.jsx(bt,{label:"Car Payment",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"carPayment"))}),a.jsx(bt,{label:"Car Insurance",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"carInsurance"))}),a.jsx(bt,{label:"Car Seats",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"carSeats"))}),a.jsx(bt,{label:"Cleaning Supplies / Tools",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"cleaningSuppliesTools"))}),a.jsx(bt,{label:"Emissions",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"emissions"))}),a.jsx(bt,{label:"GPS System",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"gpsSystem"))}),a.jsx(bt,{label:"Key & Fob",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"keyFob"))}),a.jsx(bt,{label:"Labor - Cleaning",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"laborCleaning"))}),a.jsx(bt,{label:"License & Registration",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"licenseRegistration"))}),a.jsx(bt,{label:"Mechanic",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"mechanic"))}),a.jsx(bt,{label:"Oil/Lube",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"oilLube"))}),a.jsx(bt,{label:"Parts",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"parts"))}),a.jsx(bt,{label:"Ski Racks",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"skiRacks"))}),a.jsx(bt,{label:"Tickets & Tolls",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"tickets"))}),a.jsx(bt,{label:"Tired Air Station",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"tiredAirStation"))}),a.jsx(bt,{label:"Tires",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"tires"))}),a.jsx(bt,{label:"Towing / Impound Fees",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"towingImpoundFees"))}),a.jsx(bt,{label:"Uber/Lyft/Lime",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"uberLyftLime"))}),a.jsx(bt,{label:"Windshield",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"windshield"))}),a.jsx(bt,{label:"Wipers",values:vt.map((J,le)=>Fe(j?.cogs||[],le+1,"wipers"))}),a.jsx(bt,{label:"TOTAL OPERATING EXPENSE (COGS - Per Vehicle)",values:vt.map((J,le)=>B(le+1)),isTotal:!0})]}),a.jsxs(bl,{title:"GLA PARKING FEE & LABOR CLEANING",isExpanded:o.parkingFeeLabor,onToggle:()=>R("parkingFeeLabor"),children:[a.jsx(bt,{label:"GLA Parking Fee",values:vt.map((J,le)=>Fe(j?.parkingFeeLabor||[],le+1,"glaParkingFee"))}),a.jsx(bt,{label:"Labor - Cleaning",values:vt.map((J,le)=>Fe(j?.parkingFeeLabor||[],le+1,"laborCleaning"))})]}),a.jsxs(bl,{title:"PARKING AIRPORT AVERAGE PER TRIP - QB",isExpanded:o.parkingAverageQB,onToggle:()=>R("parkingAverageQB"),children:[a.jsx(bt,{label:"Total Trips Taken",values:vt.map((J,le)=>Fe(j?.history||[],le+1,"tripsTaken")),isInteger:!0}),a.jsx(bt,{label:"Total Parking Airport",values:vt.map((J,le)=>Fe(j?.parkingAirportQB||[],le+1,"totalParkingAirport"))}),a.jsx(bt,{label:"Average per trip",values:vt.map((J,le)=>{const we=le+1,De=Fe(j?.parkingAirportQB||[],we,"totalParkingAirport"),ue=Fe(j?.history||[],we,"tripsTaken");return ue>0?De/ue:0})})]}),a.jsxs(bl,{title:"HISTORY",isExpanded:o.history,onToggle:()=>R("history"),children:[a.jsx(bt,{label:"Days Rented",values:vt.map((J,le)=>Fe(j?.history||[],le+1,"daysRented")),isInteger:!0}),m&&a.jsx(bt,{label:"Cars Available For Rent",values:vt.map((J,le)=>Fe(j?.history||[],le+1,"carsAvailableForRent")),isInteger:!0}),a.jsx(bt,{label:"Trips Taken",values:vt.map((J,le)=>Fe(j?.history||[],le+1,"tripsTaken")),isInteger:!0})]}),a.jsxs(bl,{title:"CAR RENTAL VALUE PER MONTH",isExpanded:o.rentalValue,onToggle:()=>R("rentalValue"),children:[a.jsx(bt,{label:"Total Car Rental Income",values:vt.map((J,le)=>Fe(j?.incomeExpenses||[],le+1,"rentalIncome"))}),a.jsx(bt,{label:"Trips Taken",values:vt.map((J,le)=>Fe(j?.history||[],le+1,"tripsTaken")),isInteger:!0}),a.jsx(bt,{label:"Ave Per Rental Per Trips Taken",values:vt.map((J,le)=>{const we=le+1,De=Fe(j?.incomeExpenses||[],we,"rentalIncome"),ue=Fe(j?.history||[],we,"tripsTaken");return ue>0?De/ue:0})})]}),m&&a.jsxs(bl,{title:"REIMBURSED AND NON-REIMBURSED BILLS",isExpanded:o.reimbursedBills,onToggle:()=>R("reimbursedBills"),children:[a.jsx(bt,{label:"Electric - Reimbursed",values:vt.map((J,le)=>Fe(j?.reimbursedBills||[],le+1,"electricReimbursed"))}),a.jsx(bt,{label:"Electric - Not Reimbursed",values:vt.map((J,le)=>Fe(j?.reimbursedBills||[],le+1,"electricNotReimbursed"))}),a.jsx(bt,{label:"Gas - Reimbursed",values:vt.map((J,le)=>Fe(j?.reimbursedBills||[],le+1,"gasReimbursed"))}),a.jsx(bt,{label:"Gas - Not Reimbursed",values:vt.map((J,le)=>Fe(j?.reimbursedBills||[],le+1,"gasNotReimbursed"))}),a.jsx(bt,{label:"Gas - Service Run",values:vt.map((J,le)=>Fe(j?.reimbursedBills||[],le+1,"gasServiceRun"))}),a.jsx(bt,{label:"Parking Airport",values:vt.map((J,le)=>Fe(j?.reimbursedBills||[],le+1,"parkingAirport"))}),a.jsx(bt,{label:"Uber/Lyft/Lime - Not Reimbursed",values:vt.map((J,le)=>Fe(j?.reimbursedBills||[],le+1,"uberLyftLimeNotReimbursed"))}),a.jsx(bt,{label:"Uber/Lyft/Lime - Reimbursed",values:vt.map((J,le)=>Fe(j?.reimbursedBills||[],le+1,"uberLyftLimeReimbursed"))}),a.jsx(bt,{label:"TOTAL REIMBURSED AND NON-REIMBURSED BILLS",values:vt.map((J,le)=>I(le+1)),isTotal:!0})]})]})]}),a.jsx("div",{className:"h-8 pb-4"})]})}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden mb-6",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-300",children:"Turo Earnings, Upcoming Earnings, Reimbursements, Missed Earnings Chart"})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:h.map((J,le)=>{const we=le+1,De=Fe(j?.incomeExpenses||[],we,"rentalIncome"),ue=Q[we],Y=c[we],V=Fe(j?.reimbursedBills||[],we,"electricReimbursed")+Fe(j?.reimbursedBills||[],we,"gasReimbursed")+Fe(j?.reimbursedBills||[],we,"uberLyftLimeReimbursed"),$=[{name:"Turo Earnings",value:De},{name:"Reimbursements",value:V}];return a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"bg-[#EAEB80] text-black px-3 py-2 text-sm font-medium rounded-t flex justify-between items-center",children:[a.jsx("span",{children:J}),a.jsx("span",{className:"font-semibold",children:Mw(De)})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#2a2a2a] rounded-b relative group min-h-[200px] flex items-center justify-center",children:ue?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:ue,alt:`Turo Earnings Chart - ${J}`,className:"w-full h-auto max-h-[300px] object-contain"}),m&&a.jsx("button",{onClick:()=>U(we),className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-foreground p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10",title:"Delete chart (will show auto-generated chart)",children:a.jsx(pr,{className:"w-4 h-4"})}),ue&&m&&a.jsxs("label",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-50 transition-all cursor-pointer flex items-center justify-center opacity-0 group-hover:opacity-100 rounded-b",children:[a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:X=>{const me=X.target.files?.[0];me&&te(we,me),X.target.value=""},disabled:Y}),a.jsx("div",{className:"flex items-center gap-2 px-4 py-2 bg-[#EAEB80] text-black rounded hover:bg-[#d4d570] transition-colors",children:Y?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{className:"text-sm",children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(gn,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Replace Chart"})]})})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full h-full p-4",children:a.jsx(Ni,{width:"100%",height:200,children:a.jsxs(Ac,{data:$,margin:{top:5,right:5,left:5,bottom:40},children:[a.jsx(qs,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),a.jsx(Ha,{dataKey:"name",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:10},angle:-45,textAnchor:"end",height:60}),a.jsx(Ga,{stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:10},tickFormatter:X=>`$${(X/1e3).toFixed(0)}k`}),a.jsx(kn,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",borderRadius:"4px",color:"#fff"},formatter:X=>Mw(X)}),a.jsx(qa,{dataKey:"value",radius:[4,4,0,0],fill:"#EAEB80"})]})})}),m&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100 rounded-b",children:a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:X=>{const me=X.target.files?.[0];me&&te(we,me),X.target.value=""},disabled:Y}),a.jsx("div",{className:"flex items-center gap-2 px-4 py-2 bg-[#EAEB80] text-black rounded hover:bg-[#d4d570] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Y?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{className:"text-sm",children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(gn,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Upload Custom Chart"})]})})]})})]})})]},le)})})]})}),a.jsx(KK,{className:"mb-6",incomeExpenseData:j,selectedYear:s,calculateCarManagementSplit:D,calculateCarOwnerSplit:W,calculateCarManagementTotalExpenses:K,calculateCarOwnerTotalExpenses:H,getMonthValue:Fe})]})})}function bl({title:t,isExpanded:e,onToggle:r,children:n}){return a.jsxs(a.Fragment,{children:[a.jsx("tr",{className:"bg-[#1a1a1a] hover:bg-[#222]",children:a.jsx("td",{colSpan:14,className:"sticky left-0 z-[3] bg-[#1a1a1a] hover:bg-[#222] px-3 py-2 border-b border-[#2a2a2a]",children:a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:r,children:[e?a.jsx(ol,{className:"w-4 h-4 text-[#EAEB80]"}):a.jsx(pa,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("span",{className:"text-sm font-semibold text-[#EAEB80]",children:t})]})})}),e&&n]})}function bt({label:t,values:e,isInteger:r=!1,isTotal:n=!1}){const s=L$e(e),i=t==="Negative Balance Carry Over";return a.jsxs("tr",{className:_e("border-b border-[#2a2a2a] hover:bg-[#151515] transition-colors",n&&"bg-[#0a0a0a] font-semibold"),children:[a.jsx("td",{className:_e("px-3 py-2 text-sm sticky left-0 z-[3] border-r border-[#2a2a2a]",n?"text-[#EAEB80] bg-[#0a0a0a]":"text-gray-300 bg-[#0f0f0f]"),children:a.jsx("span",{className:"whitespace-nowrap",children:t})}),e.map((o,l)=>{const c=typeof o=="number"&&!isNaN(o)?o:0;let d;return i&&c<0?d=`(${Math.abs(c).toFixed(2)})`:r?d=c.toString():d=Mw(c),a.jsx("td",{className:_e("text-right px-2 py-2 text-sm border-l border-[#2a2a2a]",c!==0?n?"text-[#EAEB80] font-semibold":"text-gray-300 font-medium":"text-gray-500"),children:d},l)}),a.jsx("td",{className:_e("text-right px-2 py-2 text-sm font-semibold border-l border-[#2a2a2a] bg-[#1f1f1f] sticky right-0 z-[3]",n?"text-[#EAEB80]":s!==0?"text-gray-300":"text-gray-400"),children:i&&s<0?`(${Math.abs(s).toFixed(2)})`:r?s.toString():Mw(s)})]})}const jB=["Yr End Recon","Yr End Recon Split","Total"],gc=t=>`$ ${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,$$e=t=>{const e=parseInt(t,10);return[`Jan ${e}`,`Feb ${e}`,`Mar ${e}`,`Apr ${e}`,`May ${e}`,`Jun ${e}`,`Jul ${e}`,`Aug ${e}`,`Sep ${e}`,`Oct ${e}`,`Nov ${e}`,`Dec ${e}`]};function U$e(){const[,t]=Ia("/admin/cars/:id/expenses"),[,e]=wr(),r=t?.id?parseInt(t.id,10):null,[n,s]=y.useState("2026"),i=$$e(n),{data:o,isLoading:l,error:c}=Ge({queryKey:["/api/cars",r],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const E=je(`/api/cars/${r}`),P=await fetch(E,{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch car");return P.json()},enabled:!!r,retry:!1}),d=o?.data,{data:u}=Ge({queryKey:["/api/onboarding/vin",d?.vin,"onboarding"],queryFn:async()=>{if(!d?.vin)throw new Error("No VIN");const E=je(`/api/onboarding/vin/${encodeURIComponent(d.vin)}`),P=await fetch(E,{credentials:"include"});if(!P.ok){if(P.status===404)return{success:!0,data:null};throw new Error("Failed to fetch onboarding data")}return P.json()},enabled:!!d?.vin,retry:!1}),h=u?.data,f=E=>E.reduce((P,O)=>P+O,0),m=E=>f(E)*.5,x=E=>f(E);if(l)return a.jsx(jt,{children:a.jsx(Is,{})});if(c||!d)return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("p",{className:"text-red-400",children:"Failed to load car details"}),a.jsx("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"mt-4 text-[#EAEB80] hover:underline",children:" Back to View Car"})]})});const p=d.makeModel||`${d.year||""} ${d.vin}`.trim(),v=d.owner?`${d.owner.firstName} ${d.owner.lastName}`:"N/A",g=d.owner?.phone||"N/A",w=d.owner?.email||"N/A",N=h?.fuelType||d.fuelType||"N/A",j=h?.tireSize||d.tireSize||"N/A",b=h?.oilType||d.oilType||"N/A",S=[{label:"Direct Delivery",values:[0,0,0,0,0,0,0,0,0,0,0,0]},{label:"COGS",values:[0,0,0,0,0,0,0,0,0,0,0,0]},{label:"Office Support",values:[0,0,0,0,0,0,0,0,0,0,0,0]}],A=i.map((E,P)=>S.reduce((O,k)=>O+k.values[P],0));return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col w-full overflow-x-hidden",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to View Car"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Total Expenses"}),d&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Car: ",d.makeModel||"Unknown Car"]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Car Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Car Name:"}),a.jsx("p",{className:"text-sm text-gray-300",children:p})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"VIN #:"}),a.jsx("p",{className:"text-sm text-gray-300",children:d.vin||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"License:"}),a.jsx("p",{className:"text-sm text-gray-300",children:d.licensePlate||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Owner Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Name:"}),a.jsx("p",{className:"text-sm text-gray-300",children:v})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Contact #:"}),a.jsx("p",{className:"text-sm text-gray-300",children:g})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Email:"}),a.jsx("p",{className:"text-sm text-gray-300",children:w})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Car Specifications"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Fuel/Gas:"}),a.jsx("p",{className:"text-sm text-gray-300",children:N})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Tire Size:"}),a.jsx("p",{className:"text-sm text-gray-300",children:j})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Oil Type:"}),a.jsx("p",{className:"text-sm text-gray-300",children:b})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Turo Links"}),a.jsxs("div",{className:"space-y-2",children:[d.turoLink&&a.jsx("div",{children:a.jsxs("a",{href:d.turoLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),d.adminTuroLink&&a.jsx("div",{children:a.jsxs("a",{href:d.adminTuroLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Admin Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),!d.turoLink&&!d.adminTuroLink&&a.jsx("span",{className:"text-gray-500 text-sm",children:"No Turo links available"})]})]})]})}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-serif text-[#EAEB80] italic",children:"Total Expenses"}),a.jsx("div",{className:"w-[150px]",children:a.jsxs(tt,{value:n,onValueChange:s,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select year"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"2026",children:"2026"}),a.jsx(xe,{value:"2025",children:"2025"}),a.jsx(xe,{value:"2024",children:"2024"}),a.jsx(xe,{value:"2023",children:"2023"}),a.jsx(xe,{value:"2022",children:"2022"}),a.jsx(xe,{value:"2021",children:"2021"})]})]})})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden mb-6",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"border-collapse w-full table-fixed",style:{minWidth:"1200px"},children:[a.jsxs("colgroup",{children:[a.jsx("col",{style:{width:"20%"}}),i.map((E,P)=>a.jsx("col",{style:{width:"5%"}},P)),jB.map((E,P)=>a.jsx("col",{style:{width:"6%"}},P))]}),a.jsx("thead",{className:"bg-[#1a1a1a]",children:a.jsxs("tr",{className:"bg-[#1a1a1a] border-b border-[#2a2a2a]",children:[a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 sticky top-0 left-0 bg-[#1a1a1a] z-[60] border-r border-[#2a2a2a]",children:"Expenses"}),i.map(E=>a.jsx("th",{className:"text-right px-2 py-3 text-sm font-medium text-gray-300 sticky top-0 bg-[#1a1a1a] z-30 border-l border-[#2a2a2a] whitespace-nowrap",children:E},E)),jB.map(E=>a.jsx("th",{className:"text-right px-2 py-3 text-sm font-medium text-gray-300 sticky top-0 bg-[#1f1f1f] z-30 border-l border-[#2a2a2a] whitespace-nowrap",children:E},E))]})}),a.jsxs("tbody",{children:[S.map((E,P)=>a.jsxs("tr",{className:"border-b border-[#2a2a2a] hover:bg-[#151515] transition-colors",children:[a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300 sticky left-0 bg-[#0f0f0f] z-[50] border-r border-[#2a2a2a]",children:a.jsx("span",{className:"whitespace-nowrap",children:E.label})}),E.values.map((O,k)=>a.jsx("td",{className:_e("text-right px-2 py-2 text-sm border-l border-[#2a2a2a]",O!==0?"text-gray-300 font-medium":"text-gray-500"),children:gc(O)},k)),a.jsx("td",{className:"text-right px-2 py-2 text-sm border-l border-[#2a2a2a] bg-[#1f1f1f]",children:a.jsx("span",{className:_e(f(E.values)!==0?"text-gray-300 font-medium":"text-gray-500"),children:gc(f(E.values))})}),a.jsx("td",{className:"text-right px-2 py-2 text-sm border-l border-[#2a2a2a] bg-[#1f1f1f]",children:a.jsx("span",{className:_e(m(E.values)!==0?"text-gray-300 font-medium":"text-gray-500"),children:gc(m(E.values))})}),a.jsx("td",{className:"text-right px-2 py-2 text-sm font-semibold border-l border-[#2a2a2a] bg-[#1f1f1f]",children:a.jsx("span",{className:_e(x(E.values)!==0?"text-gray-300":"text-gray-400"),children:gc(x(E.values))})})]},P)),a.jsxs("tr",{className:"border-b border-[#2a2a2a] hover:bg-[#151515] transition-colors bg-[#151515]",children:[a.jsx("td",{className:"px-3 py-2 text-sm font-semibold text-[#EAEB80] sticky left-0 bg-[#151515] z-[50] border-r border-[#2a2a2a]",children:a.jsx("span",{className:"whitespace-nowrap",children:"Total Expenses"})}),A.map((E,P)=>a.jsx("td",{className:_e("text-right px-2 py-2 text-sm font-semibold border-l border-[#2a2a2a]",E!==0?"text-[#EAEB80]":"text-gray-400"),children:gc(E)},P)),a.jsx("td",{className:"text-right px-2 py-2 text-sm font-semibold border-l border-[#2a2a2a] bg-[#1f1f1f]",children:a.jsx("span",{className:_e(f(A)!==0?"text-[#EAEB80]":"text-gray-400"),children:gc(f(A))})}),a.jsx("td",{className:"text-right px-2 py-2 text-sm font-semibold border-l border-[#2a2a2a] bg-[#1f1f1f]",children:a.jsx("span",{className:_e(m(A)!==0?"text-[#EAEB80]":"text-gray-400"),children:gc(m(A))})}),a.jsx("td",{className:"text-right px-2 py-2 text-sm font-semibold border-l border-[#2a2a2a] bg-[#1f1f1f]",children:a.jsx("span",{className:_e(x(A)!==0?"text-[#EAEB80]":"text-gray-400"),children:gc(x(A))})})]})]})]})})})]})})}const V$e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function NB(t,e,r,n){let s=0,i=0,o=null;const l=[];let c=new Date(0);r.forEach(u=>{if(u.nadaDepreciationWithAddDate.split("-")[0]===n){const f=parseInt(u.nadaDepreciationWithAddDate.split("-")[1]);l.push(f)}});const d=l.length>0?Math.max(...l):0;return r.forEach(u=>{const h=new Date(u.nadaDepreciationWithAddDate+"-01"),f=u.nadaDepreciationWithAddDate.split("-")[0],m=parseInt(u.nadaDepreciationWithAddDate.split("-")[1]);t!==null&&u.nadaDepreciationWithAddId===e&&m===t&&f===n&&(i=Number(u.nadaDepreciationWithAddAmount),o=u),u.nadaDepreciationWithAddId===e&&Number(f)===Number(n)&&h>c&&m===d&&(c=h,s=Number(u.nadaDepreciationWithAddAmount))}),{amount:i,dataItem:o,currentAmount:s}}function EB(t,e,r,n){let s=0,i=0,o=null;const l=[];let c=new Date(0);r.forEach(u=>{if(u.nadaDepreciationDate.split("-")[0]===n){const f=parseInt(u.nadaDepreciationDate.split("-")[1]);l.push(f)}});const d=l.length>0?Math.max(...l):0;return r.forEach(u=>{const h=new Date(u.nadaDepreciationDate+"-01"),f=u.nadaDepreciationDate.split("-")[0],m=parseInt(u.nadaDepreciationDate.split("-")[1]);t!==null&&u.nadaDepreciationId===e&&m===t&&f===n&&(i=Number(u.nadaDepreciationAmount),o=u),u.nadaDepreciationId===e&&h.getFullYear()===Number(n)&&h>c&&m===d&&(c=h,s=Number(u.nadaDepreciationAmount))}),{amount:i,dataItem:o,currentAmount:s}}function z$e(t,e,r,n,s){let i=0,o=0,l=0,c=0,d=0,u=0,h=0,f=0;if(e.length>0&&r.length>0){const m=(parseInt(n)-1).toString();e.forEach(x=>{const p=x.nadaDepreciationWithAddDate.split("-")[0];parseInt(x.nadaDepreciationWithAddDate.split("-")[1])===t&&p===m&&r.forEach(g=>{const w=g.nadaDepreciationDate.split("-")[0];if(parseInt(g.nadaDepreciationDate.split("-")[1])===t&&w===n){if(x.nadaDepreciationWithAddId===1&&g.nadaDepreciationId===1){const j=Number(x.nadaDepreciationWithAddAmount),b=Number(g.nadaDepreciationAmount);j!==0&&(i=(b-j)/j*100)}if(x.nadaDepreciationWithAddId===2&&g.nadaDepreciationId===2){const j=Number(x.nadaDepreciationWithAddAmount),b=Number(g.nadaDepreciationAmount);j!==0&&(o=(b-j)/j*100)}if(x.nadaDepreciationWithAddId===3&&g.nadaDepreciationId===3){const j=Number(x.nadaDepreciationWithAddAmount),b=Number(g.nadaDepreciationAmount);j!==0&&(l=(b-j)/j*100)}if(x.nadaDepreciationWithAddId===4&&g.nadaDepreciationId===4){const j=Number(x.nadaDepreciationWithAddAmount),b=Number(g.nadaDepreciationAmount);j!==0&&(c=(b-j)/j*100)}}})})}return{changeRetail:i,changeClean:o,changeAverage:l,changeRough:c,currentChangeRetail:d,currentChangeClean:u,currentChangeAverage:h,currentChangeRough:f}}function W$e(t,e,r,n){let s=0,i=0;const o=(parseInt(t)-1).toString(),l=[],c=[];r.forEach(x=>{if(x.nadaDepreciationWithAddDate.split("-")[0]===o){const v=parseInt(x.nadaDepreciationWithAddDate.split("-")[1]);l.push(v)}}),n.forEach(x=>{if(x.nadaDepreciationDate.split("-")[0]===t){const v=parseInt(x.nadaDepreciationDate.split("-")[1]);c.push(v)}});const d=l.length>0?Math.max(...l):0,u=c.length>0?Math.max(...c):0;let h=new Date(0),f=new Date(0);if(r.forEach(x=>{const p=new Date(x.nadaDepreciationWithAddDate+"-01"),v=parseInt(x.nadaDepreciationWithAddDate.split("-")[1]);x.nadaDepreciationWithAddId===e&&p.getFullYear()===Number(o)&&p>h&&v===d&&(h=p,s=Number(x.nadaDepreciationWithAddAmount))}),n.forEach(x=>{const p=new Date(x.nadaDepreciationDate+"-01"),v=parseInt(x.nadaDepreciationDate.split("-")[1]);x.nadaDepreciationId===e&&p.getFullYear()===Number(t)&&p>f&&v===u&&(f=p,i=Number(x.nadaDepreciationAmount))}),s===0)return 0;const m=(i-s)/s*100;return isNaN(m)||!isFinite(m)?0:m}function q$e(t,e,r,n){let s=0,i=0;return!n||n.length===0?0:(e.forEach(o=>{const l=o.nadaDepreciationDate.split("-")[0];parseInt(o.nadaDepreciationDate.split("-")[1])===t&&l===r&&n.forEach((d,u)=>{o.nadaDepreciationId===d.currentCostAid&&u===0&&(s=Number(o.nadaDepreciationAmount)),o.nadaDepreciationId===d.currentCostAid&&u===n.length-1&&(i=Number(o.nadaDepreciationAmount))})}),s-i)}function Vo(t){return`$ ${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function jp(t){return`${t.toFixed(2)}%`}function SB(t){const e=parseInt(t,10);return V$e.map(r=>`${r} ${e}`)}function H$e(t,e,r,n,s,i){const o=(p,v)=>{const g=document.createElement("a"),w=new Uint8Array([239,187,191]),N=new Blob([w,p],{type:"text/csv;charset=utf-8"}),j=window.URL.createObjectURL(N);g.href=j,g.download=v,g.click(),window.URL.revokeObjectURL(j)},l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=i.length>=2?i.slice(-2):i,d=(parseInt(i)-1).toString(),u=d.length>=2?d.slice(-2):d;let h="";h+=`NADA Depreciation Schedule,${d}
`,h+="Current Cost of Vehicle,",l.forEach(p=>{h+=`${p}-${u},`}),h+=`
`,[...t].sort((p,v)=>p.currentCostWithAddAid-v.currentCostWithAddAid).forEach(p=>{h+=`${p.currentCostWithAddName},`;for(let v=0;v<12;v++)p.currentCostWithAddName.includes("MILES")?h+="0,":h+="$ 0.00,";h+=`
`}),h+=`
`,h+=`NADA Depreciation Schedule,${i}
`,h+="Current Cost of Vehicle,",l.forEach(p=>{h+=`${p}-${c},`}),h+=`
`,[...n].sort((p,v)=>p.currentCostAid-v.currentCostAid).forEach(p=>{h+=`${p.currentCostName},`;for(let v=0;v<12;v++)p.currentCostName.includes("MILES")?h+="0,":h+="$ 0.00,";h+=`
`}),o(h,"NADA Depreciation Schedule Template.csv")}function G$e(t,e,r,n,s,i){Rc(()=>import("./xlsx-CWc3kuOC.js"),[]).then(o=>{const l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=i.length>=2?i.slice(-2):i,d=(parseInt(i)-1).toString(),u=d.length>=2?d.slice(-2):d,h=o.utils.book_new(),f=[];f.push(["NADA Depreciation Schedule",d]);const m=["Current Cost of Vehicle"];l.forEach(j=>{m.push(`${j}-${u}`)}),f.push(m),[...t].sort((j,b)=>j.currentCostWithAddAid-b.currentCostWithAddAid).forEach(j=>{const b=[j.currentCostWithAddName];for(let S=0;S<12;S++)b.push(0);f.push(b)}),f.push([]),f.push(["NADA Depreciation Schedule",i]);const p=["Current Cost of Vehicle"];l.forEach(j=>{p.push(`${j}-${c}`)}),f.push(p),[...n].sort((j,b)=>j.currentCostAid-b.currentCostAid).forEach(j=>{const b=[j.currentCostName];for(let S=0;S<12;S++)b.push(0);f.push(b)});const g=o.utils.aoa_to_sheet(f),w=[{wch:25}];for(let j=0;j<12;j++)w.push({wch:12});g["!cols"]=w,o.utils.book_append_sheet(h,g,"NADA Depreciation"),o.writeFile(h,"NADA Depreciation Schedule Template.xlsx")}).catch(o=>{console.error("Failed to export Excel file:",o),alert("Failed to export Excel file. Please ensure xlsx library is installed.")})}function AB({isOpen:t,onClose:e,carId:r,year:n,itemEdit:s,isWithAdd:i=!1,clientId:o,userId:l}){const[c,d]=y.useState(""),[u,h]=y.useState({date:"",categoryId:"",amount:""}),f=y.useRef(!1),m=y.useRef(s),x=Wr(),{data:p,isLoading:v}=Ge({queryKey:[i?"/api/current-cost-with-add":"/api/current-cost"],queryFn:async()=>{const P=je(i?"/api/current-cost-with-add":"/api/current-cost"),O=await fetch(P,{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch categories");return O.json()},enabled:t}),{data:g}=Ge({queryKey:["/api/current-cost-with-add"],queryFn:async()=>{const P=je("/api/current-cost-with-add"),O=await fetch(P,{credentials:"include"});if(!O.ok)throw new Error("Failed to fetch categories with add");return O.json()},enabled:t&&!i}),w=[{currentCostAid:1,currentCostIsActive:!0,currentCostName:"NADA - Retail",currentCostCompute:"",currentCostCreated:"",currentCostDatetime:""},{currentCostAid:2,currentCostIsActive:!0,currentCostName:"NADA - Clean",currentCostCompute:"nada-clean",currentCostCreated:"",currentCostDatetime:""},{currentCostAid:3,currentCostIsActive:!0,currentCostName:"NADA - Average",currentCostCompute:"nada-average",currentCostCreated:"",currentCostDatetime:""},{currentCostAid:4,currentCostIsActive:!0,currentCostName:"NADA - Rough",currentCostCompute:"",currentCostCreated:"",currentCostDatetime:""},{currentCostAid:5,currentCostIsActive:!0,currentCostName:"MILES",currentCostCompute:"",currentCostCreated:"",currentCostDatetime:""},{currentCostAid:6,currentCostIsActive:!0,currentCostName:"Amounted Owed on Car $",currentCostCompute:"",currentCostCreated:"",currentCostDatetime:""}],N=[{currentCostWithAddAid:1,currentCostWithAddIsActive:!0,currentCostWithAddName:"NADA - Retail",currentCostWithAddCreated:"",currentCostWithAddDatetime:""},{currentCostWithAddAid:2,currentCostWithAddIsActive:!0,currentCostWithAddName:"NADA - Clean",currentCostWithAddCreated:"",currentCostWithAddDatetime:""},{currentCostWithAddAid:3,currentCostWithAddIsActive:!0,currentCostWithAddName:"NADA - Average",currentCostWithAddCreated:"",currentCostWithAddDatetime:""},{currentCostWithAddAid:4,currentCostWithAddIsActive:!0,currentCostWithAddName:"NADA - Rough",currentCostWithAddCreated:"",currentCostWithAddDatetime:""},{currentCostWithAddAid:5,currentCostWithAddIsActive:!0,currentCostWithAddName:"MILES",currentCostWithAddCreated:"",currentCostWithAddDatetime:""}],j=p?.data&&p.data.length>0?p.data:i?N:w,S=(g?.data&&g.data.length>0?g.data:N).find(P=>P.currentCostWithAddName?.includes("MILES"))?.currentCostWithAddAid,A=yt({mutationFn:async P=>{const O=i?s?`/api/nada-depreciation-with-add/${s.nadaDepreciationWithAddAid}`:"/api/nada-depreciation-with-add":s?`/api/nada-depreciation/${s.nadaDepreciationAid}`:"/api/nada-depreciation",k=s?"PUT":"POST",L=je(O),R=await fetch(L,{method:k,headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(P)});if(!R.ok){const _=await R.json();throw new Error(_.error||"Failed to save")}return R.json()},onSuccess:()=>{x.invalidateQueries({queryKey:["/api/nada-depreciation/read"]}),x.invalidateQueries({queryKey:["/api/nada-depreciation-with-add/read"]}),x.invalidateQueries({queryKey:["/api/current-cost"]}),x.invalidateQueries({queryKey:["/api/current-cost-with-add"]}),x.invalidateQueries({queryKey:["/api/car-backlog"]}),h({date:"",categoryId:"",amount:""}),d(""),e()}});if(y.useEffect(()=>{if(!t){h({date:"",categoryId:"",amount:""}),d(""),f.current=!1,m.current=null;return}const P=m.current!==s;if(m.current=s,!f.current||P)if(s){const O=s.nadaDepreciationId||s.nadaDepreciationWithAddId;h({date:s.nadaDepreciationDate||s.nadaDepreciationWithAddDate||"",categoryId:O?.toString()||"",amount:s.nadaDepreciationAmount||s.nadaDepreciationWithAddAmount||""}),f.current=!0}else h({date:"",categoryId:"",amount:""}),d(""),f.current=!0},[s,t]),y.useEffect(()=>{if(t&&s&&j.length>0&&u.categoryId){const P=s.nadaDepreciationId||s.nadaDepreciationWithAddId,O=j.find(k=>k.currentCostAid?.toString()===P?.toString()||k.currentCostWithAddAid?.toString()===P?.toString());O&&!c&&d(O.currentCostName||O.currentCostWithAddName)}},[j,t,s,u.categoryId,c]),!t)return null;const E=P=>{P.preventDefault();const O=i?{nada_depreciation_with_add_car_id:r,nada_depreciation_with_add_id:parseInt(u.categoryId),nada_depreciation_with_add_date:u.date,nada_depreciation_with_add_amount:parseFloat(u.amount),car_backlog_item:`NADA-depreciation-schedule-${n}`,car_backlog_category_name:c,car_backlog_old_values:s&&s.nadaDepreciationWithAddAmount?.toString()||"0"}:{nada_depreciation_car_id:r,nada_depreciation_id:parseInt(u.categoryId),nada_depreciation_date:u.date,nada_depreciation_amount:parseFloat(u.amount),nada_depreciation_with_add_id:S||void 0,car_backlog_item:`NADA-depreciation-schedule-${n}`,car_backlog_category_name:c,car_backlog_old_values:s&&s.nadaDepreciationAmount?.toString()||"0"};A.mutate(O)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-lg w-full max-w-md p-6 relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-foreground",disabled:A.isPending,children:a.jsx(pr,{className:"w-5 h-5"})}),a.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-6",children:[s?"Update":"Add"," Current Cost ",i?"with Add":""]}),a.jsxs("form",{onSubmit:E,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"date",className:"text-gray-300",children:"Date"}),a.jsx(ae,{id:"date",type:"month",value:u.date,onChange:P=>{const O=P.target.value;h(k=>({...k,date:O}))},onInput:P=>{const O=P.target.value;O&&h(k=>({...k,date:O}))},disabled:A.isPending||!!s,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground mt-1 [&::-webkit-calendar-picker-indicator]:filter [&::-webkit-calendar-picker-indicator]:invert [&::-webkit-calendar-picker-indicator]:brightness-0 [&::-webkit-calendar-picker-indicator]:contrast-100",required:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"category",className:"text-gray-300",children:"Category"}),a.jsxs(tt,{value:u.categoryId||void 0,onValueChange:P=>{h(k=>({...k,categoryId:P}));const O=j.find(k=>k.currentCostAid?.toString()===P||k.currentCostWithAddAid?.toString()===P);O&&d(O.currentCostName||O.currentCostWithAddName)},disabled:A.isPending||!!s,children:[a.jsx(Qe,{className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground mt-1",children:a.jsx(rt,{placeholder:"Select category"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:v?a.jsx(xe,{value:"loading",disabled:!0,children:"Loading categories..."}):j.length===0?a.jsx(xe,{value:"no-data",disabled:!0,children:"No categories available"}):j.filter(P=>{if(i){const O=(P.currentCostWithAddName||P.currentCostName||"").toUpperCase();return(O.includes("RETAIL")||O.includes("CLEAN")||O.includes("AVERAGE")||O.includes("ROUGH"))&&!O.includes("MILES")}else return!0}).sort((P,O)=>{const k=P.currentCostAid||P.currentCostWithAddAid||0,L=O.currentCostAid||O.currentCostWithAddAid||0;return k-L}).map(P=>{const O=P.currentCostName||P.currentCostWithAddName||"",k=P.currentCostAid||P.currentCostWithAddAid;return!O||!k?null:a.jsx(xe,{value:k.toString(),children:O},k)}).filter(Boolean)})]})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"amount",className:"text-gray-300",children:"Value"}),a.jsx(ae,{id:"amount",type:"number",step:"0.01",value:u.amount,onChange:P=>h(O=>({...O,amount:P.target.value})),disabled:A.isPending,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground mt-1",required:!0})]}),A.isError&&a.jsx("div",{className:"text-red-400 text-sm",children:A.error instanceof Error?A.error.message:"An error occurred"}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ie,{type:"button",variant:"outline",onClick:e,disabled:A.isPending,className:"border-[#2a2a2a] text-gray-300 hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{type:"submit",disabled:A.isPending||!u.date||!u.categoryId||!u.amount,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:A.isPending?"Saving...":s?"Save":"Add"})]})]})]})})}function K$e({isOpen:t,onClose:e,carId:r,item:n}){const[s,i]=y.useState(""),[o,l]=y.useState(""),[c,d]=y.useState(""),[u,h]=y.useState(!1),[f,m]=y.useState(!1),x=y.useRef(null),p=y.useRef(null),[v,g]=y.useState(!1);let w=1;y.useEffect(()=>{const D=new IntersectionObserver(([K])=>{g(K.isIntersecting)},{threshold:.1}),W=p.current;return W&&D.observe(W),()=>{W&&D.unobserve(W)}},[]),y.useEffect(()=>{t||(i(""),l(""),d(""),h(!1),m(!1))},[t]);const{data:N,error:j,fetchNextPage:b,hasNextPage:S,isFetching:A,isFetchingNextPage:E,status:P,refetch:O}=C$({queryKey:["/api/car-backlog",r,n,f,s,o,c,u],queryFn:async({pageParam:D=1})=>{const W=typeof D=="number"?D:1,K=new URLSearchParams({carId:r.toString(),page:W.toString(),car_backlog_page:"nada-depreciation-schedule"});n&&K.append("item",n),s&&K.append("searchValue",s),o&&K.append("date_from",o),c&&K.append("date_to",c),u&&K.append("isFilter","true");const H=je(`/api/car-backlog?${K.toString()}`),G=await fetch(H,{credentials:"include"});if(!G.ok){const Q=await G.json().catch(()=>({error:"Unknown error"}));throw new Error(Q.error||Q.message||`Failed to fetch log: ${G.statusText}`)}const ee=await G.json();if(ee.success===!1)throw new Error(ee.error||ee.message||"Failed to fetch log");return{data:ee.data||[],page:ee.page||W,total:ee.total||0,count:ee.count||0}},initialPageParam:1,getNextPageParam:D=>{const W=Math.ceil(D.total/20);if(D.page<W)return D.page+1},enabled:t&&!!r,refetchOnWindowFocus:!0}),k=()=>{s.trim()!==""?m(!0):m(!1),O()},L=D=>{l(D.target.value),h(!0)},R=D=>{d(D.target.value),h(!0)},_=()=>{d(""),l(""),i(""),h(!1),m(!1),x.current&&(x.current.value="")};y.useEffect(()=>{o===""&&c===""&&h(!1)},[o,c]),y.useEffect(()=>{v&&S&&!E&&b()},[v,S,E,b]);const B=N?.pages.flatMap(D=>D.data)||[],I=D=>{if(!D)return"N/A";try{const[W,K]=D.split("-"),H=new Date(parseInt(W),parseInt(K)-1,1);return lg(H,"MMM yyyy")}catch{return D}},C=D=>!D||D==="0"||D===0?"$0.00":`$${(typeof D=="string"?parseFloat(D):D).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`;return t?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-lg w-full max-w-6xl max-h-[90vh] p-6 relative flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"NADA Depreciation Schedule Edit History"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-foreground transition-colors",children:a.jsx(pr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-3 pb-4 mb-4 border-b border-[#2a2a2a]",children:[a.jsxs("div",{className:"flex items-end gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-400 mb-1 capitalize",children:"From"}),a.jsx(ae,{type:"date",value:o,onChange:L,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground w-40"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-400 mb-1 capitalize",children:"To"}),a.jsx(ae,{type:"date",value:c,onChange:R,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground w-40"})]}),(u||f)&&a.jsx(ie,{onClick:_,variant:"ghost",className:"text-gray-400 hover:text-foreground underline h-9",children:"Clear"})]}),a.jsxs("div",{className:"flex gap-2 w-full md:max-w-80 items-end",children:[a.jsx(ae,{ref:x,type:"text",placeholder:"Search...",value:s,onChange:D=>i(D.target.value),onKeyDown:D=>{D.key==="Enter"&&k()},className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground h-9"}),a.jsx(ie,{onClick:k,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] h-9",children:a.jsx(es,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-auto",children:[j&&a.jsxs("div",{className:"text-center text-red-400 py-8",children:[a.jsx("div",{className:"mb-2",children:"Error loading data."}),a.jsx("div",{className:"text-sm text-gray-400 mb-4",children:j instanceof Error?j.message:"Please try again."}),a.jsx(ie,{onClick:()=>O(),className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:"Retry"})]}),!j&&(P==="pending"||A&&!E)?a.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading..."}):!j&&B.length===0?a.jsx("div",{className:"text-center text-gray-400 py-8",children:"No edit history found"}):a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{className:"bg-[#0f0f0f] sticky top-0 z-10",children:a.jsxs("tr",{className:"border-b border-[#2a2a2a]",children:[a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 w-12",children:"#"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 min-w-[10rem]",children:"Edit by"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 min-w-[10rem]",children:"Date Time"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 min-w-[8rem]",children:"Item"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300",children:"Category"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300",children:"Month Year"}),a.jsx("th",{className:"text-right px-3 py-3 text-sm font-medium text-gray-300",children:"Old Values"}),a.jsx("th",{className:"text-right px-3 py-3 text-sm font-medium text-gray-300",children:"New Values"})]})}),a.jsx("tbody",{children:B.map((D,W)=>{const K=w++;return a.jsxs("tr",{className:"border-b border-[#2a2a2a] hover:bg-[#0f0f0f] transition-colors",children:[a.jsxs("td",{className:"px-3 py-2 text-sm text-gray-300 text-center",children:[K,"."]}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300",children:D.fullname||"N/A"}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300",children:D.carBacklogCreated?lg(new Date(D.carBacklogCreated),"MMM dd, yyyy HH:mm"):"N/A"}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300 capitalize",children:D.carBacklogItem?D.carBacklogItem.replaceAll("-"," "):"N/A"}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300",children:D.carBacklogCategoryName||"N/A"}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300",children:I(D.carBacklogDate)}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300 text-right",children:C(D.carBacklogOldAmount||D.carBacklogOldValues||"0")}),a.jsx("td",{className:"px-3 py-2 text-sm text-[#EAEB80] font-medium text-right",children:C(D.carBacklogNewAmount||D.carBacklogNewValues||"0")})]},D.carBacklogAid||W)})})]}),S&&a.jsx("div",{ref:p,className:"text-center py-4",children:E?a.jsx("div",{className:"text-gray-400",children:"Loading more..."}):a.jsx(ie,{onClick:()=>b(),variant:"ghost",className:"text-[#EAEB80] hover:text-[#d4d570]",children:"Load More"})})]})]}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-[#2a2a2a] mt-4",children:a.jsx(ie,{onClick:e,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:"Close"})})]})}):null}function X$e(){const[,t]=Ia("/admin/cars/:id/depreciation"),[,e]=wr(),r=t?.id?parseInt(t.id,10):null,[n,s]=y.useState("2026"),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[d,u]=y.useState(!1),[h,f]=y.useState(!1),[m,x]=y.useState(null),[p,v]=y.useState(!1),[g,w]=y.useState(null),[N,j]=y.useState(!1),b=Wr(),{toast:S}=kr(),A=(parseInt(n)-1).toString(),E=SB(n),P=SB(A),{data:O}=Ge({queryKey:["/api/auth/me"],queryFn:async()=>{try{const F=await fetch(je("/api/auth/me"),{credentials:"include"});return F.ok?F.json():{user:void 0}}catch{return{user:void 0}}},retry:!1}),L=O?.user?.isClient===!0,{data:R,isLoading:_,error:B}=Ge({queryKey:["/api/cars",r],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const F=je(`/api/cars/${r}`),Re=await fetch(F,{credentials:"include"});if(!Re.ok)throw new Error("Failed to fetch car");return Re.json()},enabled:!!r,retry:!1}),I=R?.data,{data:C}=Ge({queryKey:["/api/onboarding/vin",I?.vin,"onboarding"],queryFn:async()=>{if(!I?.vin)throw new Error("No VIN");const F=je(`/api/onboarding/vin/${encodeURIComponent(I.vin)}`),Re=await fetch(F,{credentials:"include"});if(!Re.ok){if(Re.status===404)return{success:!0,data:null};throw new Error("Failed to fetch onboarding data")}return Re.json()},enabled:!!I?.vin,retry:!1}),D=C?.data,{data:W,error:K,refetch:H}=Ge({queryKey:["/api/current-cost"],queryFn:async()=>{const F=je("/api/current-cost"),Re=await fetch(F,{credentials:"include"});if(!Re.ok){const Ve=await Re.json().catch(()=>({error:"Unknown error"}));throw new Error(Ve.error||`Failed to fetch current cost: ${Re.statusText}`)}const Oe=await Re.json();return console.log(" [NADA Depreciation] Fetched current cost categories:",{count:Oe.count,categories:Oe.data?.length||0}),Oe},retry:1,refetchOnWindowFocus:!0}),{data:G,error:ee,refetch:Q}=Ge({queryKey:["/api/current-cost-with-add"],queryFn:async()=>{const F=je("/api/current-cost-with-add"),Re=await fetch(F,{credentials:"include"});if(!Re.ok){const Ve=await Re.json().catch(()=>({error:"Unknown error"}));throw new Error(Ve.error||`Failed to fetch current cost with add: ${Re.statusText}`)}const Oe=await Re.json();return console.log(" [NADA Depreciation] Fetched current cost with add categories:",{count:Oe.count,categories:Oe.data?.length||0}),Oe},retry:1,refetchOnWindowFocus:!0}),{data:te,isLoading:U,error:q,refetch:ne}=Ge({queryKey:["/api/nada-depreciation/read",r,n],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const F=je("/api/nada-depreciation/read"),Re=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({nada_depreciation_car_id:r,nada_depreciation_date:n})});if(!Re.ok){const Ve=await Re.json().catch(()=>({error:"Unknown error"}));throw new Error(Ve.error||`Failed to fetch NADA depreciation: ${Re.statusText}`)}const Oe=await Re.json();return console.log(" [NADA Depreciation] Fetched current year data:",{count:Oe.count,records:Oe.data?.length||0,year:n,carId:r}),Oe},enabled:!!r&&!!n,retry:1,refetchOnWindowFocus:!0}),{data:fe,isLoading:pe,error:ye,refetch:Z}=Ge({queryKey:["/api/nada-depreciation-with-add/read",r,A],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const F=je("/api/nada-depreciation-with-add/read"),Re=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({nada_depreciation_with_add_car_id:r,nada_depreciation_with_add_date:A})});if(!Re.ok){const Ve=await Re.json().catch(()=>({error:"Unknown error"}));throw new Error(Ve.error||`Failed to fetch NADA depreciation with add: ${Re.statusText}`)}const Oe=await Re.json();return console.log(" [NADA Depreciation] Fetched previous year data:",{count:Oe.count,records:Oe.data?.length||0,year:A,requestedYear:n,carId:r}),Oe},enabled:!!r&&!!n,retry:1,refetchOnWindowFocus:!0}),Ne=[{currentCostAid:1,currentCostIsActive:!0,currentCostName:"NADA - Retail",currentCostCompute:"",currentCostCreated:"",currentCostDatetime:""},{currentCostAid:2,currentCostIsActive:!0,currentCostName:"NADA - Clean",currentCostCompute:"nada-clean",currentCostCreated:"",currentCostDatetime:""},{currentCostAid:3,currentCostIsActive:!0,currentCostName:"NADA - Average",currentCostCompute:"nada-average",currentCostCreated:"",currentCostDatetime:""},{currentCostAid:4,currentCostIsActive:!0,currentCostName:"NADA - Rough",currentCostCompute:"",currentCostCreated:"",currentCostDatetime:""},{currentCostAid:5,currentCostIsActive:!0,currentCostName:"MILES",currentCostCompute:"",currentCostCreated:"",currentCostDatetime:""},{currentCostAid:6,currentCostIsActive:!0,currentCostName:"Amounted Owed on Car $",currentCostCompute:"",currentCostCreated:"",currentCostDatetime:""}],J=[{currentCostWithAddAid:1,currentCostWithAddIsActive:!0,currentCostWithAddName:"NADA - Retail",currentCostWithAddCreated:"",currentCostWithAddDatetime:""},{currentCostWithAddAid:2,currentCostWithAddIsActive:!0,currentCostWithAddName:"NADA - Clean",currentCostWithAddCreated:"",currentCostWithAddDatetime:""},{currentCostWithAddAid:3,currentCostWithAddIsActive:!0,currentCostWithAddName:"NADA - Average",currentCostWithAddCreated:"",currentCostWithAddDatetime:""},{currentCostWithAddAid:4,currentCostWithAddIsActive:!0,currentCostWithAddName:"NADA - Rough",currentCostWithAddCreated:"",currentCostWithAddDatetime:""},{currentCostWithAddAid:5,currentCostWithAddIsActive:!0,currentCostWithAddName:"MILES",currentCostWithAddCreated:"",currentCostWithAddDatetime:""}],le=W?.data&&W.data.length>0?W.data:Ne,we=G?.data&&G.data.length>0?G.data:J,De=te?.data||[],ue=fe?.data||[],Y=y.useMemo(()=>["2026","2025","2024","2023","2022","2021"],[]),V=y.useMemo(()=>[...we].sort((Re,Oe)=>Re.currentCostWithAddAid-Oe.currentCostWithAddAid).map(Re=>{const Oe=P.map((Be,dt)=>NB(dt+1,Re.currentCostWithAddAid,ue,A).amount),Ve=NB(null,Re.currentCostWithAddAid,ue,A).currentAmount;return{label:Re.currentCostWithAddName,values:Oe,current:Ve,isMiles:Re.currentCostWithAddName.includes("MILES"),categoryId:Re.currentCostWithAddAid}}),[we,ue,A,P]),$=y.useMemo(()=>[...le].sort((Re,Oe)=>Re.currentCostAid-Oe.currentCostAid).map(Re=>{const Oe=E.map((Be,dt)=>EB(dt+1,Re.currentCostAid,De,n).amount),Ve=EB(null,Re.currentCostAid,De,n).currentAmount;return{label:Re.currentCostName,values:Oe,current:Ve,isMiles:Re.currentCostName.includes("MILES"),categoryId:Re.currentCostAid}}),[le,De,n,E]),X=y.useMemo(()=>({values:E.map((Re,Oe)=>q$e(Oe+1,De,n,le))}),[De,n,le,E]),me=y.useMemo(()=>[{label:"NADA Change Retail %",id:1},{label:"NADA Change Clean %",id:2},{label:"NADA Change Average %",id:3},{label:"NADA Change Rough",id:4}].map(Re=>{const Oe=E.map((dt,_t)=>{const Rn=z$e(_t+1,ue,De,n);return Re.id===1?Rn.changeRetail:Re.id===2?Rn.changeClean:Re.id===3?Rn.changeAverage:Re.id===4?Rn.changeRough:0}),Ve=Oe.reduce((dt,_t)=>dt+_t,0)/Oe.length||0,Be=W$e(n,Re.id,ue,De);return{label:Re.label,values:Oe,average:Ve,current:Be}}),[ue,De,n,E]),z=y.useMemo(()=>E.map((F,Re)=>({month:F.split(" ")[0],"NADA - Retail":V.find(Ve=>Ve.label.includes("Retail"))?.values[Re]||0,"NADA - Clean":V.find(Ve=>Ve.label.includes("Clean"))?.values[Re]||0,"NADA - Average":V.find(Ve=>Ve.label.includes("Average"))?.values[Re]||0,"NADA - Rough":V.find(Ve=>Ve.label.includes("Rough"))?.values[Re]||0})),[V,E]),T=y.useMemo(()=>E.map((F,Re)=>({month:F.split(" ")[0],"NADA - Retail":$.find(Ve=>Ve.label.includes("Retail"))?.values[Re]||0,"NADA - Clean":$.find(Ve=>Ve.label.includes("Clean"))?.values[Re]||0,"NADA - Average":$.find(Ve=>Ve.label.includes("Average"))?.values[Re]||0,"NADA - Rough":$.find(Ve=>Ve.label.includes("Rough"))?.values[Re]||0})),[$,E]),M=y.useMemo(()=>E.map((F,Re)=>({month:F.split(" ")[0],"NADA - Retail":me[0]?.values[Re]||0,"NADA - Clean":me[1]?.values[Re]||0,"NADA - Average":me[2]?.values[Re]||0,"NADA - Rough":me[3]?.values[Re]||0})),[me,E]),re=(F,Re)=>{x(F),v(Re),Re?c(!0):o(!0)},oe=F=>{x(null),v(F),F?c(!0):o(!0)},ce=()=>{I&&we.length>0&&le.length>0&&(H$e(we,ue,De,le,I,n),setTimeout(()=>{G$e(we,ue,De,le,I,n)},500))},Ee=async()=>{if(!g||!r){S({title:"No File Selected",description:"Please select a file to import",variant:"destructive"});return}j(!0);try{const F=new FormData;F.append("file",g),F.append("carId",r.toString());const Re=je("/api/nada-depreciation/import"),Oe=await fetch(Re,{method:"POST",credentials:"include",body:F}),Ve=await Oe.json();if(!Oe.ok){const Be=Ve.error||Ve.message||"Failed to import file",dt=Ve.details?`

Details: ${Ve.details}`:"";throw new Error(`${Be}${dt}`)}S({title:"Import Successful",description:`Previous Year (${A}): ${Ve.data.previousYear.inserted} inserted, ${Ve.data.previousYear.updated} updated
Current Year (${n}): ${Ve.data.currentYear.inserted} inserted, ${Ve.data.currentYear.updated} updated`}),f(!1),w(null),b.invalidateQueries({queryKey:["/api/nada-depreciation/read",r,n]}),b.invalidateQueries({queryKey:["/api/nada-depreciation-with-add/read",r,n]}),ne(),Z()}catch(F){console.error("Error importing file:",F);const Re=F.message||"Failed to import file. Please check the file format and try again.";S({title:"Import Failed",description:Re,variant:"destructive"})}finally{j(!1)}};if(_)return a.jsx(jt,{children:a.jsx(Is,{})});if(B||!I)return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("p",{className:"text-red-400",children:"Failed to load car details"}),a.jsx("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"mt-4 text-[#EAEB80] hover:underline",children:" Back to View Car"})]})});const se=I.makeModel||`${I.year||""} ${I.vin}`.trim(),be=I.owner?`${I.owner.firstName} ${I.owner.lastName}`:"N/A",Le=I.owner?.phone||"N/A",Me=I.owner?.email||"N/A",lt=D?.fuelType||I.fuelType||"N/A",qt=D?.tireSize||I.tireSize||"N/A",Lr=D?.oilType||I.oilType||"N/A";return(te||fe)&&console.log(" [NADA Depreciation] Data Status:",{currentYear:{count:te?.count||0,records:De?.length||0,year:n,carId:r},previousYear:{count:fe?.count||0,records:ue?.length||0,year:A,carId:r},categories:{current:le?.length||0,previous:we?.length||0}}),a.jsxs(jt,{children:[a.jsxs("div",{className:"flex flex-col w-full overflow-x-hidden",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to View Car"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"NADA Depreciation Schedule"}),I&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Car: ",I.makeModel||"Unknown Car"]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 flex-1",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Car Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Car Name:"}),a.jsx("p",{className:"text-sm text-gray-300",children:se})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"VIN #:"}),a.jsx("p",{className:"text-sm text-gray-300",children:I.vin||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"License:"}),a.jsx("p",{className:"text-sm text-gray-300",children:I.licensePlate||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Owner Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Name:"}),I?.clientId?a.jsx("button",{onClick:()=>e(`/admin/clients/${I.clientId}`),className:"text-[#EAEB80] hover:text-[#d4d570] hover:underline transition-colors text-sm cursor-pointer",children:be}):a.jsx("p",{className:"text-sm text-gray-300",children:be})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Contact #:"}),a.jsx("p",{className:"text-sm text-gray-300",children:Le})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Email:"}),a.jsx("p",{className:"text-sm text-gray-300",children:Me})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Car Specifications"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Fuel/Gas:"}),a.jsx("p",{className:"text-sm text-gray-300",children:lt})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Tire Size:"}),a.jsx("p",{className:"text-sm text-gray-300",children:qt})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Oil Type:"}),a.jsx("p",{className:"text-sm text-gray-300",children:Lr})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Turo Links"}),a.jsxs("div",{className:"space-y-2",children:[I.turoLink&&a.jsx("div",{children:a.jsxs("a",{href:I.turoLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),I.adminTuroLink&&a.jsx("div",{children:a.jsxs("a",{href:I.adminTuroLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Admin Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),!I.turoLink&&!I.adminTuroLink&&a.jsx("span",{className:"text-gray-500 text-sm",children:"No Turo links available"})]})]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsxs(ie,{className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",onClick:ce,disabled:!I||we.length===0||le.length===0,children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]}),!L&&a.jsxs(ie,{className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border border-[#2a2a2a]",onClick:()=>f(!0),disabled:!I,children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Import"]}),!L&&a.jsxs(ie,{className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border border-[#2a2a2a]",onClick:()=>u(!0),children:[a.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Log"]})]})]})}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-serif text-[#EAEB80] italic",children:"NADA Depreciation Schedule"}),a.jsx("div",{className:"w-[150px]",children:a.jsxs(tt,{value:n,onValueChange:s,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select year"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:Y.map(F=>a.jsx(xe,{value:F,children:F},F))})]})})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-[#2a2a2a]",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-300",children:["NADA Depreciation Schedule ",parseInt(n)-1]}),!L&&a.jsxs(ie,{className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",onClick:()=>oe(!0),children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),"Add"]})]}),a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"border-collapse w-full table-auto",children:[a.jsx("thead",{className:"bg-[#1a1a1a]",children:a.jsxs("tr",{className:"bg-[#1a1a1a] border-b border-[#2a2a2a]",children:[a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 sticky top-0 left-0 bg-[#1a1a1a] z-index-[auto] border-r border-[#2a2a2a] whitespace-nowrap",children:"Current Cost of Vehicle"}),P.map(F=>a.jsx("th",{className:"text-right px-2 py-3 text-sm font-medium text-gray-300 sticky top-0 bg-[#1a1a1a] z-30 border-l border-[#2a2a2a] whitespace-nowrap",children:F},F)),a.jsx("th",{className:"text-right px-2 py-3 text-sm font-medium text-gray-300 sticky top-0 bg-[#1a1a1a] z-30 border-l border-[#2a2a2a] whitespace-nowrap",children:"Current"})]})}),a.jsx("tbody",{children:pe?a.jsx("tr",{children:a.jsx("td",{colSpan:14,className:"p-10 text-center text-gray-400",children:"Loading previous year data..."})}):ye?a.jsx("tr",{children:a.jsxs("td",{colSpan:14,className:"p-10 text-center",children:[a.jsxs("div",{className:"text-red-400 mb-2",children:["Error loading data: ",ye instanceof Error?ye.message:"Unknown error"]}),a.jsx(ie,{onClick:()=>Z(),className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] text-sm",children:"Retry"})]})}):V.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:14,className:"p-10 text-center text-gray-400",children:["No data available for ",A,'. Click "Add" to create entries.']})}):V.map((F,Re)=>(ue.find(Oe=>Oe.nadaDepreciationWithAddId===F.categoryId&&Oe.nadaDepreciationWithAddDate.startsWith(n)),a.jsxs("tr",{className:"border-b border-[#2a2a2a] hover:bg-[#151515] transition-colors",children:[a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300 sticky left-0 bg-[#0f0f0f] z-[50] border-r border-[#2a2a2a]",children:a.jsx("span",{className:"whitespace-nowrap",children:F.label})}),F.values.map((Oe,Ve)=>{const Be=ue.find(_t=>_t.nadaDepreciationWithAddId===F.categoryId&&_t.nadaDepreciationWithAddDate===`${n}-${String(Ve+1).padStart(2,"0")}`),dt=Oe!==0&&Be;return a.jsx("td",{onClick:()=>{!F.isMiles&&Be&&re(Be,!0)},className:_e("text-right px-2 py-2 text-sm border-l border-[#2a2a2a] whitespace-nowrap",dt&&!F.isMiles?"text-[#EAEB80] underline cursor-pointer hover:bg-[#1a1a1a]":Oe!==0?"text-gray-300 font-medium":"text-gray-500"),children:F.isMiles?Oe.toLocaleString():Vo(Oe)},Ve)}),a.jsx("td",{className:"text-right px-2 py-2 text-sm border-l border-[#2a2a2a] bg-[#1f1f1f] whitespace-nowrap",children:a.jsx("span",{className:_e(F.current!==0?"text-[#EAEB80] font-medium":"text-gray-500"),children:F.isMiles?F.current.toLocaleString():Vo(F.current)})})]},Re)))})]})})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden mb-6",children:[a.jsx("div",{className:"p-4 border-b border-[#2a2a2a]",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-300",children:["NADA Change % ",A," - ",n]})}),a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"border-collapse w-full table-auto",children:[a.jsx("thead",{className:"bg-[#1a1a1a]",children:a.jsxs("tr",{className:"bg-[#1a1a1a] border-b border-[#2a2a2a]",children:[a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 sticky top-0 left-0 bg-[#1a1a1a] z-index-[auto] border-r border-[#2a2a2a] whitespace-nowrap",children:"Category"}),E.map(F=>a.jsx("th",{className:"text-right px-2 py-3 text-sm font-medium text-gray-300 sticky top-0 bg-[#1a1a1a] z-30 border-l border-[#2a2a2a] whitespace-nowrap",children:F},F)),a.jsx("th",{className:"text-right px-2 py-3 text-sm font-medium text-gray-300 sticky top-0 bg-[#1a1a1a] z-30 border-l border-[#2a2a2a] whitespace-nowrap",children:"Average"}),a.jsx("th",{className:"text-right px-2 py-3 text-sm font-medium text-gray-300 sticky top-0 bg-[#1a1a1a] z-30 border-l border-[#2a2a2a] whitespace-nowrap",children:"Current"})]})}),a.jsx("tbody",{children:me.map((F,Re)=>a.jsxs("tr",{className:"border-b border-[#2a2a2a] hover:bg-[#151515] transition-colors",children:[a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300 sticky left-0 bg-[#0f0f0f] z-[50] border-r border-[#2a2a2a]",children:a.jsx("span",{className:"whitespace-nowrap",children:F.label})}),F.values.map((Oe,Ve)=>a.jsx("td",{className:_e("text-right px-2 py-2 text-sm border-l border-[#2a2a2a] whitespace-nowrap",Oe!==0?"text-[#EAEB80] font-medium":"text-gray-500"),children:jp(Oe)},Ve)),a.jsx("td",{className:"text-right px-2 py-2 text-sm border-l border-[#2a2a2a] bg-[#1f1f1f] whitespace-nowrap",children:a.jsx("span",{className:_e(F.average!==0?"text-[#EAEB80] font-medium":"text-gray-500"),children:jp(F.average)})}),a.jsx("td",{className:"text-right px-2 py-2 text-sm border-l border-[#2a2a2a] bg-[#1f1f1f] whitespace-nowrap",children:a.jsx("span",{className:_e(F.current!==0?"text-[#EAEB80] font-medium":"text-gray-500"),children:jp(F.current)})})]},Re))})]})})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-[#2a2a2a]",children:[a.jsxs("h2",{className:"text-lg font-semibold text-[#EAEB80]",children:["NADA Depreciation Schedule ",n]}),!L&&a.jsxs(ie,{className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",onClick:()=>oe(!1),children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),"Add"]})]}),a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"border-collapse w-full table-auto",children:[a.jsx("thead",{className:"bg-[#1a1a1a]",children:a.jsxs("tr",{className:"bg-[#1a1a1a] border-b border-[#2a2a2a]",children:[a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 sticky top-0 left-0 bg-[#1a1a1a] z-index-[auto] border-r border-[#2a2a2a] whitespace-nowrap",children:"Current Cost of Vehicle"}),E.map(F=>a.jsx("th",{className:"text-right px-2 py-3 text-sm font-medium text-gray-300 sticky top-0 bg-[#1a1a1a] z-30 border-l border-[#2a2a2a] whitespace-nowrap",children:F},F)),a.jsx("th",{className:"text-right px-2 py-3 text-sm font-medium text-gray-300 sticky top-0 bg-[#1a1a1a] z-30 border-l border-[#2a2a2a] whitespace-nowrap",children:"Current"})]})}),a.jsx("tbody",{children:U?a.jsx("tr",{children:a.jsx("td",{colSpan:14,className:"p-10 text-center text-gray-400",children:"Loading NADA depreciation data..."})}):q?a.jsx("tr",{children:a.jsxs("td",{colSpan:14,className:"p-10 text-center",children:[a.jsxs("div",{className:"text-red-400 mb-2",children:["Error loading data: ",q instanceof Error?q.message:"Unknown error"]}),a.jsx(ie,{onClick:()=>ne(),className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] text-sm",children:"Retry"})]})}):$.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:14,className:"p-10 text-center text-gray-400",children:["No data available for ",n,'. Click "Add" to create entries.']})}):a.jsxs(a.Fragment,{children:[$.map((F,Re)=>(De.find(Oe=>Oe.nadaDepreciationId===F.categoryId&&Oe.nadaDepreciationDate.startsWith(n)),a.jsxs("tr",{className:"border-b border-[#2a2a2a] hover:bg-[#151515] transition-colors",children:[a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300 sticky left-0 bg-[#0f0f0f] z-[50] border-r border-[#2a2a2a]",children:a.jsx("span",{className:"whitespace-nowrap",children:F.label})}),F.values.map((Oe,Ve)=>{const Be=De.find(_t=>_t.nadaDepreciationId===F.categoryId&&_t.nadaDepreciationDate===`${n}-${String(Ve+1).padStart(2,"0")}`),dt=Oe!==0&&Be;return a.jsx("td",{onClick:()=>{Be&&re(Be,!1)},className:_e("text-right px-2 py-2 text-sm border-l border-[#2a2a2a] whitespace-nowrap",dt?"text-[#EAEB80] underline cursor-pointer hover:bg-[#1a1a1a]":Oe!==0?"text-gray-300 font-medium":"text-gray-500"),children:F.isMiles?Oe.toLocaleString():Vo(Oe)},Ve)}),a.jsx("td",{className:"text-right px-2 py-2 text-sm border-l border-[#2a2a2a] bg-[#1f1f1f] whitespace-nowrap",children:a.jsx("span",{className:_e(F.current!==0?"text-[#EAEB80] font-medium":"text-gray-500"),children:F.isMiles?F.current.toLocaleString():Vo(F.current)})})]},Re))),a.jsxs("tr",{className:"border-b border-[#2a2a2a] font-semibold",children:[a.jsx("td",{className:"px-3 py-2 text-sm text-[#EAEB80] sticky left-0 bg-[#151515] z-[50] border-r border-[#2a2a2a]",children:a.jsx("span",{className:"whitespace-nowrap",children:"Total Equity in Car"})}),X.values.map((F,Re)=>a.jsx("td",{className:_e("text-right px-2 py-2 text-sm border-l border-[#2a2a2a] whitespace-nowrap",F!==0?"text-[#EAEB80]":"text-gray-400"),children:Vo(F)},Re)),a.jsx("td",{className:"text-right px-2 py-2 text-sm border-l border-[#2a2a2a] bg-[#1f1f1f] whitespace-nowrap",children:a.jsx("span",{className:_e(X.values[X.values.length-1]!==0?"text-[#EAEB80]":"text-gray-400"),children:Vo(X.values[X.values.length-1])})})]})]})})]})})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden mb-6",children:[a.jsxs("div",{className:"p-4 border-b border-[#2a2a2a]",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"NADA Depreciation Schedule Graphs"}),a.jsxs("h3",{className:"text-md font-medium text-[#EAEB80]",children:["NADA Depreciation Schedule ",A]})]}),a.jsx("div",{className:"p-6",children:a.jsx(Ni,{width:"100%",height:400,children:a.jsxs(Ey,{data:z,margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx(qs,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),a.jsx(Ha,{dataKey:"month",stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(Ga,{stroke:"#9ca3af",tick:{fill:"#9ca3af"},tickFormatter:F=>Vo(F)}),a.jsx(kn,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",color:"#fff"},formatter:F=>Vo(F)}),a.jsx(Aa,{wrapperStyle:{color:"#9ca3af"},iconType:"square"}),a.jsx(da,{type:"monotone",dataKey:"NADA - Retail",stroke:"#9333ea",strokeWidth:2,dot:{fill:"#9333ea",r:4},name:"NADA - Retail"}),a.jsx(da,{type:"monotone",dataKey:"NADA - Clean",stroke:"#1e293b",strokeWidth:2,dot:{fill:"#1e293b",r:4},name:"NADA - Clean"}),a.jsx(da,{type:"monotone",dataKey:"NADA - Average",stroke:"#eab308",strokeWidth:2,dot:{fill:"#eab308",r:4},name:"NADA - Average"}),a.jsx(da,{type:"monotone",dataKey:"NADA - Rough",stroke:"#06b6d4",strokeWidth:2,dot:{fill:"#06b6d4",r:4},name:"NADA - Rough"})]})})})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden mb-6",children:[a.jsx("div",{className:"p-4 border-b border-[#2a2a2a]",children:a.jsxs("h3",{className:"text-md font-medium text-[#EAEB80]",children:["NADA Change % ",A," - ",n]})}),a.jsx("div",{className:"p-6",children:a.jsx(Ni,{width:"100%",height:400,children:a.jsxs(Ey,{data:M,margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx(qs,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),a.jsx(Ha,{dataKey:"month",stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(Ga,{stroke:"#9ca3af",tick:{fill:"#9ca3af"},tickFormatter:F=>jp(F)}),a.jsx(kn,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",color:"#fff"},formatter:F=>jp(F)}),a.jsx(Aa,{wrapperStyle:{color:"#9ca3af"},iconType:"square"}),a.jsx(da,{type:"monotone",dataKey:"NADA - Retail",stroke:"#ea580c",strokeWidth:2,dot:{fill:"#ea580c",r:4},name:"NADA - Retail"}),a.jsx(da,{type:"monotone",dataKey:"NADA - Clean",stroke:"#38bdf8",strokeWidth:2,dot:{fill:"#38bdf8",r:4},name:"NADA - Clean"}),a.jsx(da,{type:"monotone",dataKey:"NADA - Average",stroke:"#eab308",strokeWidth:2,dot:{fill:"#eab308",r:4},name:"NADA - Average"}),a.jsx(da,{type:"monotone",dataKey:"NADA - Rough",stroke:"#1e40af",strokeWidth:2,dot:{fill:"#1e40af",r:4},name:"NADA - Rough"})]})})})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden mb-6",children:[a.jsx("div",{className:"p-4 border-b border-[#2a2a2a]",children:a.jsxs("h3",{className:"text-md font-medium text-[#EAEB80]",children:["NADA Depreciation Schedule ",n]})}),a.jsx("div",{className:"p-6",children:a.jsx(Ni,{width:"100%",height:400,children:a.jsxs(Ey,{data:T,margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx(qs,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),a.jsx(Ha,{dataKey:"month",stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(Ga,{stroke:"#9ca3af",tick:{fill:"#9ca3af"},tickFormatter:F=>Vo(F)}),a.jsx(kn,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",color:"#fff"},formatter:F=>Vo(F)}),a.jsx(Aa,{wrapperStyle:{color:"#9ca3af"},iconType:"square"}),a.jsx(da,{type:"monotone",dataKey:"NADA - Retail",stroke:"#9333ea",strokeWidth:2,dot:{fill:"#9333ea",r:4},name:"NADA - Retail"}),a.jsx(da,{type:"monotone",dataKey:"NADA - Clean",stroke:"#1e293b",strokeWidth:2,dot:{fill:"#1e293b",r:4},name:"NADA - Clean"}),a.jsx(da,{type:"monotone",dataKey:"NADA - Average",stroke:"#eab308",strokeWidth:2,dot:{fill:"#eab308",r:4},name:"NADA - Average"}),a.jsx(da,{type:"monotone",dataKey:"NADA - Rough",stroke:"#06b6d4",strokeWidth:2,dot:{fill:"#06b6d4",r:4},name:"NADA - Rough"})]})})})]})]}),i&&a.jsx(AB,{isOpen:i,onClose:()=>{o(!1),x(null)},carId:r,year:n,itemEdit:m,isWithAdd:!1,clientId:I?.userId,userId:I?.userId}),l&&a.jsx(AB,{isOpen:l,onClose:()=>{c(!1),x(null)},carId:r,year:n,itemEdit:m,isWithAdd:!0,clientId:I?.userId,userId:I?.userId}),d&&a.jsx(K$e,{isOpen:d,onClose:()=>u(!1),carId:r,item:`NADA-depreciation-schedule-${n}`}),a.jsx($t,{open:h,onOpenChange:f,children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground",children:"Import NADA Depreciation Schedule"}),a.jsx(Ut,{className:"text-gray-400",children:"Upload a CSV or Excel file with the NADA Depreciation Schedule template format."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select File (CSV or Excel)"}),a.jsx("input",{type:"file",accept:".csv,.xls,.xlsx",onChange:F=>{const Re=F.target.files?.[0];Re&&w(Re)},className:"block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-[#EAEB80] file:text-black hover:file:bg-[#d4d570] file:cursor-pointer"}),g&&a.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:["Selected: ",g.name]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ie,{variant:"outline",onClick:()=>{f(!1),w(null)},className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{onClick:Ee,disabled:!g||N,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:N?"Importing...":"Import"})]})]})]})})]})}const la=t=>`$ ${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`;function Y$e(){const[,t]=Ia("/admin/cars/:id/purchase"),[,e]=wr(),r=t?.id?parseInt(t.id,10):null,{data:n,isLoading:s,error:i}=Ge({queryKey:["/api/cars",r],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const w=je(`/api/cars/${r}`),N=await fetch(w,{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch car");return N.json()},enabled:!!r,retry:!1}),o=n?.data,{data:l}=Ge({queryKey:["/api/onboarding/vin",o?.vin,"onboarding"],queryFn:async()=>{if(!o?.vin)throw new Error("No VIN");const w=je(`/api/onboarding/vin/${encodeURIComponent(o.vin)}`),N=await fetch(w,{credentials:"include"});if(!N.ok){if(N.status===404)return{success:!0,data:null};throw new Error("Failed to fetch onboarding data")}return N.json()},enabled:!!o?.vin,retry:!1}),c=l?.data;if(s)return a.jsx(jt,{children:a.jsx(Is,{})});if(i||!o)return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("p",{className:"text-red-400",children:"Failed to load car details"}),a.jsx("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"mt-4 text-[#EAEB80] hover:underline",children:" Back to View Car"})]})});const d=o.makeModel||`${o.year||""} ${o.vin}`.trim(),u=o.owner?`${o.owner.firstName} ${o.owner.lastName}`:"N/A",h=o.owner?.phone||"N/A",f=o.owner?.email||"N/A",m=c?.fuelType||o.fuelType||"N/A",x=c?.tireSize||o.tireSize||"N/A",p=c?.oilType||o.oilType||"N/A",v=[{label:"Trade Inn or Cash Down Payment",value:0},{label:"Purchase Price",value:0},{label:"Dealer Doc Fee",value:0},{label:"Sales Tax",value:0},{label:"License and Registration",value:0},{label:"Age Based/Property Asses",value:0},{label:"State Inspection/Emissions",value:0},{label:"State Waste Tire Recycle",value:0},{label:"Temporary Permit",value:0},{label:"Document Prep",value:0}],g=v.reduce((w,N)=>w+N.value,0);return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col w-full overflow-x-hidden",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to View Car"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Purchase Details"}),o&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Car: ",o.makeModel||"Unknown Car"]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 flex-1",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Car Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Car Name:"}),a.jsx("p",{className:"text-sm text-gray-300",children:d})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"VIN #:"}),a.jsx("p",{className:"text-sm text-gray-300",children:o.vin||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"License:"}),a.jsx("p",{className:"text-sm text-gray-300",children:o.licensePlate||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Owner Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Name:"}),a.jsx("p",{className:"text-sm text-gray-300",children:u})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Contact #:"}),a.jsx("p",{className:"text-sm text-gray-300",children:h})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Email:"}),a.jsx("p",{className:"text-sm text-gray-300",children:f})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Car Specifications"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Fuel/Gas:"}),a.jsx("p",{className:"text-sm text-gray-300",children:m})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Tire Size:"}),a.jsx("p",{className:"text-sm text-gray-300",children:x})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Oil Type:"}),a.jsx("p",{className:"text-sm text-gray-300",children:p})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Turo Links"}),a.jsxs("div",{className:"space-y-2",children:[o.turoLink&&a.jsx("div",{children:a.jsxs("a",{href:o.turoLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),o.adminTuroLink&&a.jsx("div",{children:a.jsxs("a",{href:o.adminTuroLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Admin Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),!o.turoLink&&!o.adminTuroLink&&a.jsx("span",{className:"text-gray-500 text-sm",children:"No Turo links available"})]})]})]}),a.jsx("div",{className:"ml-4",children:a.jsxs(ie,{className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export All"]})})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-serif text-[#EAEB80] italic mb-6",children:"Purchase Details"}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-[#2a2a2a]",children:[a.jsx("h2",{className:"text-lg font-semibold text-[#EAEB80]",children:"Purchase Documents"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ie,{className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]}),a.jsxs(ie,{className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border border-[#2a2a2a]",children:[a.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Log"]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"space-y-3",children:v.map((w,N)=>a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a] last:border-b-0",children:[a.jsxs("span",{className:"text-sm text-gray-300",children:[N+1,". ",w.label]}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(w.value)})]},N))}),a.jsx("div",{className:"mt-6 pt-4 border-t border-[#2a2a2a]",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-300",children:"Purchase Price"}),a.jsx("span",{className:"text-lg font-semibold text-[#EAEB80]",children:la(g)})]})})]})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden mt-6",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-[#2a2a2a]",children:[a.jsx("h2",{className:"text-lg font-semibold text-[#EAEB80]",children:"Purchase Financed"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ie,{className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]}),a.jsxs(ie,{className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border border-[#2a2a2a]",children:[a.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Log"]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"bg-[#1a1a1a] px-4 py-2 mb-4",children:a.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"# Purchase Financed"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"1. Auto Loan Amount"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"2. Months Financed"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:"0"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"3. Monthly Payment"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"4. Financed Percentage %"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:"0%"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"5. First Payment Date"}),a.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"--"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"6. Frequency of Payment"}),a.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"--"})]})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-[#2a2a2a]",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-300",children:"Current Amount Owed"}),a.jsx("span",{className:"text-lg font-semibold text-[#EAEB80]",children:la(0)})]})})]})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden mt-6",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-[#2a2a2a]",children:[a.jsx("h2",{className:"text-lg font-semibold text-[#EAEB80]",children:"Total Car Value"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ie,{className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]}),a.jsxs(ie,{className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border border-[#2a2a2a]",children:[a.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Log"]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"bg-[#1a1a1a] px-4 py-2 mb-4",children:a.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"# Total Car Value"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"1. Purchase Price"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"2. Interest Paid"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"3. Principal Paid"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"4. Total Car Payment"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"5. NADA Clean Trade"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"6. Amount Owed"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(0)})]})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-[#2a2a2a]",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-300",children:"Total Car Profit"}),a.jsx("span",{className:"text-lg font-semibold text-[#EAEB80]",children:la(0)})]})})]})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden mt-6",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-[#2a2a2a]",children:[a.jsx("h2",{className:"text-lg font-semibold text-[#EAEB80]",children:"Total Car Rental Value"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(ie,{className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export"]})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"bg-[#1a1a1a] px-4 py-2 mb-4",children:a.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"# Total Car Rental Value"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Total Car Rental Income"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Total Car Management Exp"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Total Car Misc Exp"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Total Car Expenses"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:la(0)})]})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-[#2a2a2a]",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-300",children:"Totals Car Rental Profit"}),a.jsx("span",{className:"text-lg font-semibold text-[#EAEB80]",children:la(0)})]})}),a.jsx("div",{className:"mt-4 pt-4 border-t border-[#2a2a2a]",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-gray-300",children:"Total Car & Rental Profit"}),a.jsx("span",{className:"text-lg font-semibold text-[#EAEB80]",children:la(0)})]})})]})]})]})]})})}function Q$e(){const[,t]=Ia("/admin/cars/:id/graphs"),[,e]=wr(),r=t?.id?parseInt(t.id,10):null,{data:n,isLoading:s,error:i}=Ge({queryKey:["/api/cars",r],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const v=je(`/api/cars/${r}`),g=await fetch(v,{credentials:"include"});if(!g.ok)throw new Error("Failed to fetch car");return g.json()},enabled:!!r,retry:!1}),o=n?.data,{data:l}=Ge({queryKey:["/api/onboarding/vin",o?.vin,"onboarding"],queryFn:async()=>{if(!o?.vin)throw new Error("No VIN");const v=je(`/api/onboarding/vin/${encodeURIComponent(o.vin)}`),g=await fetch(v,{credentials:"include"});if(!g.ok){if(g.status===404)return{success:!0,data:null};throw new Error("Failed to fetch onboarding data")}return g.json()},enabled:!!o?.vin,retry:!1}),c=l?.data;if(s)return a.jsx(jt,{children:a.jsx(Is,{})});if(i||!o)return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("p",{className:"text-red-400",children:"Failed to load car details"}),a.jsx("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"mt-4 text-[#EAEB80] hover:underline",children:" Back to View Car"})]})});const d=o.makeModel||`${o.year||""} ${o.vin}`.trim(),u=o.owner?`${o.owner.firstName} ${o.owner.lastName}`:"N/A",h=o.owner?.phone||"N/A",f=o.owner?.email||"N/A",m=c?.fuelType||o.fuelType||"N/A",x=c?.tireSize||o.tireSize||"N/A",p=c?.oilType||o.oilType||"N/A";return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col w-full overflow-x-hidden",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to View Car"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Graphs and Charts Report"}),o&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Car: ",o.makeModel||"Unknown Car"]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Car Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Car Name:"}),a.jsx("p",{className:"text-sm text-gray-300",children:d})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"VIN #:"}),a.jsx("p",{className:"text-sm text-gray-300",children:o.vin||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"License:"}),a.jsx("p",{className:"text-sm text-gray-300",children:o.licensePlate||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Owner Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Name:"}),a.jsx("p",{className:"text-sm text-gray-300",children:u})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Contact #:"}),a.jsx("p",{className:"text-sm text-gray-300",children:h})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Email:"}),a.jsx("p",{className:"text-sm text-gray-300",children:f})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Car Specifications"}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Fuel/Gas:"}),a.jsx("p",{className:"text-sm text-gray-300",children:m})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Tire Size:"}),a.jsx("p",{className:"text-sm text-gray-300",children:x})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Oil Type:"}),a.jsx("p",{className:"text-sm text-gray-300",children:p})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Turo Links"}),a.jsxs("div",{className:"space-y-2",children:[o.turoLink&&a.jsx("div",{children:a.jsxs("a",{href:o.turoLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),o.adminTuroLink&&a.jsx("div",{children:a.jsxs("a",{href:o.adminTuroLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Admin Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),!o.turoLink&&!o.adminTuroLink&&a.jsx("span",{className:"text-gray-500 text-sm",children:"No Turo links available"})]})]})]})]})}),a.jsx(KK,{className:"mb-6"})]})})}const Dd=t=>`$ ${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Z$e=t=>`${t.toFixed(2)}%`;function J$e(){const[,t]=Ia("/admin/cars/:id/calculator"),[,e]=wr(),r=t?.id?parseInt(t.id,10):null,[n,s]=y.useState(0),[i,o]=y.useState(0),[l,c]=y.useState(0),[d,u]=y.useState(""),[h,f]=y.useState(""),{data:m,isLoading:x,error:p}=Ge({queryKey:["/api/cars",r],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const k=je(`/api/cars/${r}`),L=await fetch(k,{credentials:"include"});if(!L.ok)throw new Error("Failed to fetch car");return L.json()},enabled:!!r,retry:!1}),v=m?.data,{data:g}=Ge({queryKey:["/api/onboarding/vin",v?.vin,"onboarding"],queryFn:async()=>{if(!v?.vin)throw new Error("No VIN");const k=je(`/api/onboarding/vin/${encodeURIComponent(v.vin)}`),L=await fetch(k,{credentials:"include"});if(!L.ok){if(L.status===404)return{success:!0,data:null};throw new Error("Failed to fetch onboarding data")}return L.json()},enabled:!!v?.vin,retry:!1}),w=g?.data;if(x)return a.jsx(jt,{children:a.jsx(Is,{})});if(p||!v)return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("p",{className:"text-red-400",children:"Failed to load car details"}),a.jsx("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"mt-4 text-[#EAEB80] hover:underline",children:" Back to View Car"})]})});const N=v.makeModel||`${v.year||""} ${v.vin}`.trim(),j=v.owner?`${v.owner.firstName} ${v.owner.lastName}`:"N/A",b=v.owner?.phone||"N/A",S=v.owner?.email||"N/A",A=w?.fuelType||v.fuelType||"N/A",E=w?.tireSize||v.tireSize||"N/A",P=w?.oilType||v.oilType||"N/A",O=[{name:"Balance",value:0}];return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col w-full overflow-x-hidden",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to View Car"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Payment Calculator"}),v&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Car: ",v.makeModel||"Unknown Car"]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Car Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Car Name:"}),a.jsx("p",{className:"text-sm text-gray-300",children:N})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"VIN#:"}),a.jsx("p",{className:"text-sm text-gray-300",children:v.vin||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"License:"}),a.jsx("p",{className:"text-sm text-gray-300",children:v.licensePlate||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Contact Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Name:"}),a.jsx("p",{className:"text-sm text-gray-300",children:j})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Contact #:"}),a.jsx("p",{className:"text-sm text-gray-300",children:b})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Email:"}),a.jsx("p",{className:"text-sm text-gray-300",children:S})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Car Specifications"}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Fuel/Gas:"}),a.jsx("p",{className:"text-sm text-gray-300",children:A})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Tire Size:"}),a.jsx("p",{className:"text-sm text-gray-300",children:E})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Oil Type:"}),a.jsx("p",{className:"text-sm text-gray-300",children:P})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Turo Links"}),a.jsxs("div",{className:"space-y-2",children:[v.turoLink&&a.jsx("div",{children:a.jsxs("a",{href:v.turoLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),v.adminTuroLink&&a.jsx("div",{children:a.jsxs("a",{href:v.adminTuroLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Admin Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),!v.turoLink&&!v.adminTuroLink&&a.jsx("span",{className:"text-gray-500 text-sm",children:"No Turo links available"})]})]})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-serif text-[#EAEB80] italic mb-6",children:"Payment Calculator"}),!d&&a.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-4 mb-6 flex items-start gap-3",children:[a.jsx(tx,{className:"w-5 h-5 text-yellow-500 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-yellow-200",children:"The First Payment Date is unspecified therefore the initial value in the table will be the current date of the system."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Inputs"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-sm text-gray-400 mb-2 block",children:"Auto Loan Amount"}),a.jsx(ae,{type:"number",value:n,onChange:k=>s(parseFloat(k.target.value)||0),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-sm text-gray-400 mb-2 block",children:"Annual Interest Rate"}),a.jsx(ae,{type:"number",step:"0.01",value:i,onChange:k=>o(parseFloat(k.target.value)||0),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-sm text-gray-400 mb-2 block",children:"Term of Loan in Years"}),a.jsx(ae,{type:"number",value:l,onChange:k=>c(parseInt(k.target.value)||0),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-sm text-gray-400 mb-2 block",children:"First Payment Date"}),a.jsx(ae,{type:"date",value:d,onChange:k=>u(k.target.value),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-sm text-gray-400 mb-2 block",children:"Frequency of Payment"}),a.jsxs(tt,{value:h,onValueChange:f,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"--"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"monthly",children:"Monthly"}),a.jsx(xe,{value:"biweekly",children:"Bi-weekly"}),a.jsx(xe,{value:"weekly",children:"Weekly"})]})]})]})]})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Effect of Extra Payments"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Total Payments"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:Dd(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Total Interest"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:Dd(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Reduced Interest"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:Dd(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Number of Payments"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:"0"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Last Payment Date"}),a.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"--"})]})]})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Summary (with no extra payments)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Number of Payments"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:"0"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Rate (per period)"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:Z$e(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Payment (per period)"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:Dd(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#2a2a2a]",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Total Interest"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:Dd(0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-sm text-gray-300",children:"Total Payments"}),a.jsx("span",{className:"text-sm text-gray-300 font-medium",children:Dd(0)})]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6",children:a.jsx(Ni,{width:"100%",height:300,children:a.jsxs(Ac,{data:O,children:[a.jsx(qs,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),a.jsx(Ha,{dataKey:"name",stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),a.jsx(Ga,{stroke:"#9ca3af",tick:{fill:"#9ca3af"},domain:[0,1],ticks:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),a.jsx(kn,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #2a2a2a",color:"#fff"}}),a.jsx(Aa,{wrapperStyle:{color:"#9ca3af"},iconType:"square"}),a.jsx(qa,{dataKey:"value",fill:"#eab308",name:"Balance"})]})})}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Using the Payment Calculator"}),a.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"This Payment Calculator creates a payment schedule for a fixed-rate auto loan, with optional extra payments. Use the Payment Calculator to compare different terms, rates, and loan amounts. The Payment Calculator allows complete flexibility in how you make additional payments. The payment is rounded to the nearest cent. The last payment is adjusted to bring the balance to zero."})]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Payment Schedule"}),a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"border-collapse w-full",style:{minWidth:"800px"},children:[a.jsx("thead",{className:"bg-[#1a1a1a]",children:a.jsxs("tr",{className:"border-b border-[#2a2a2a]",children:[a.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-300",children:"No."}),a.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-300",children:"Due Date"}),a.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-300",children:"Payment Due"}),a.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-300",children:"Additional Payment"}),a.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-300",children:"Interest"}),a.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-300",children:"Principal"}),a.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-300",children:"Balance"})]})}),a.jsx("tbody",{children:a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[a.jsx(Pl,{className:"w-12 h-12 text-gray-600"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"No data"})]})})})})]})}),a.jsx("div",{className:"mt-6 pt-4 border-t border-[#2a2a2a] flex justify-end",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Ending Balance"}),a.jsx("span",{className:"text-sm font-semibold text-[#EAEB80]",children:Dd(0)})]})})]})})]})]})})}const eUe=t=>`$ ${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`;function tUe(){const[,t]=Ia("/admin/cars/:id/maintenance"),[,e]=wr(),r=t?.id?parseInt(t.id,10):null,[n,s]=y.useState("all"),[i,o]=y.useState("all"),[l,c]=y.useState("none"),[d,u]=y.useState(""),{data:h}=Ge({queryKey:["/api/auth/me"],queryFn:async()=>{try{const L=await fetch(je("/api/auth/me"),{credentials:"include"});return L.ok?L.json():{user:void 0}}catch{return{user:void 0}}},retry:!1}),m=h?.user?.isClient===!0,{data:x,isLoading:p,error:v}=Ge({queryKey:["/api/cars",r],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const L=je(`/api/cars/${r}`),R=await fetch(L,{credentials:"include"});if(!R.ok)throw new Error("Failed to fetch car");return R.json()},enabled:!!r,retry:!1}),g=x?.data,{data:w}=Ge({queryKey:["/api/onboarding/vin",g?.vin,"onboarding"],queryFn:async()=>{if(!g?.vin)throw new Error("No VIN");const L=je(`/api/onboarding/vin/${encodeURIComponent(g.vin)}`),R=await fetch(L,{credentials:"include"});if(!R.ok){if(R.status===404)return{success:!0,data:null};throw new Error("Failed to fetch onboarding data")}return R.json()},enabled:!!g?.vin,retry:!1}),N=w?.data;if(p)return a.jsx(jt,{children:a.jsx(Is,{})});if(v||!g)return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("p",{className:"text-red-400",children:"Failed to load car details"}),a.jsx("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"mt-4 text-[#EAEB80] hover:underline",children:" Back to View Car"})]})});const j=g.makeModel||`${g.year||""} ${g.vin}`.trim(),b=g.owner?`${g.owner.firstName} ${g.owner.lastName}`:"N/A",S=g.owner?.phone||"N/A",A=g.owner?.email||"N/A",E=N?.fuelType||g.fuelType||"N/A",P=N?.tireSize||g.tireSize||"N/A",O=N?.oilType||g.oilType||"N/A",k=[];return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col w-full overflow-x-hidden",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to View Car"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Car Maintenance"}),g&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Car: ",g.makeModel||"Unknown Car"]})]}),!m&&a.jsxs(ie,{className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),"Add"]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Car Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Car Name:"}),a.jsx("p",{className:"text-sm text-gray-300",children:j})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"VIN #:"}),a.jsx("p",{className:"text-sm text-gray-300",children:g.vin||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"License:"}),a.jsx("p",{className:"text-sm text-gray-300",children:g.licensePlate||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Owner Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Name:"}),g?.clientId?a.jsx("button",{onClick:()=>e(`/admin/clients/${g.clientId}`),className:"text-[#EAEB80] hover:text-[#d4d570] hover:underline transition-colors text-sm cursor-pointer",children:b}):a.jsx("p",{className:"text-sm text-gray-300",children:b})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Contact #:"}),a.jsx("p",{className:"text-sm text-gray-300",children:S})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Email:"}),a.jsx("p",{className:"text-sm text-gray-300",children:A})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Car Specifications"}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Fuel/Gas:"}),a.jsx("p",{className:"text-sm text-gray-300",children:E})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Tire Size:"}),a.jsx("p",{className:"text-sm text-gray-300",children:P})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Oil Type:"}),a.jsx("p",{className:"text-sm text-gray-300",children:O})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Turo Links"}),a.jsxs("div",{className:"space-y-2",children:[g.turoLink&&a.jsx("div",{children:a.jsxs("a",{href:g.turoLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),g.adminTuroLink&&a.jsx("div",{children:a.jsxs("a",{href:g.adminTuroLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Admin Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),!g.turoLink&&!g.adminTuroLink&&a.jsx("span",{className:"text-gray-500 text-sm",children:"No Turo links available"})]})]})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-serif text-[#EAEB80] italic mb-6",children:"Maintenance"}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-end",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Se,{className:"text-sm text-gray-400 mb-2 block",children:"Select a Type"}),a.jsxs(tt,{value:n,onValueChange:s,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"all",children:"All"}),a.jsx(xe,{value:"oil-change",children:"Oil Change"}),a.jsx(xe,{value:"tire-rotation",children:"Tire Rotation"}),a.jsx(xe,{value:"inspection",children:"Inspection"}),a.jsx(xe,{value:"repair",children:"Repair"})]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(Se,{className:"text-sm text-gray-400 mb-2 block",children:"Status"}),a.jsxs(tt,{value:i,onValueChange:o,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"all",children:"All"}),a.jsx(xe,{value:"pending",children:"Pending"}),a.jsx(xe,{value:"completed",children:"Completed"}),a.jsx(xe,{value:"overdue",children:"Overdue"})]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(Se,{className:"text-sm text-gray-400 mb-2 block",children:"Date to Filter"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(tt,{value:l,onValueChange:c,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"none",children:"None"}),a.jsx(xe,{value:"this-month",children:"This Month"}),a.jsx(xe,{value:"last-month",children:"Last Month"}),a.jsx(xe,{value:"this-year",children:"This Year"}),a.jsx(xe,{value:"last-year",children:"Last Year"})]})]}),a.jsxs("span",{className:"text-sm text-gray-400",children:[" ",k.length]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx(Se,{className:"text-sm text-gray-400 mb-2 block",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(ae,{type:"text",value:d,onChange:L=>u(L.target.value),placeholder:"Q Search here..",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground pl-10 focus:border-[#EAEB80]"})]})]})]})}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"border-collapse w-full",style:{minWidth:"1000px"},children:[a.jsx("thead",{className:"bg-[#1a1a1a]",children:a.jsxs("tr",{className:"border-b border-[#2a2a2a]",children:[a.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-300",children:"#"}),a.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-300",children:"Maintenance Type"}),a.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-300",children:"Status"}),a.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-300",children:"Oil Miles"}),a.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-300",children:"Schedule Date"}),a.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-300",children:"Date Completed"}),a.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-300",children:"Price"}),a.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-300",children:"Remarks"})]})}),a.jsx("tbody",{children:k.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[a.jsx(Pl,{className:"w-12 h-12 text-gray-600"}),a.jsx("span",{className:"text-gray-500 text-sm",children:"No data"})]})})}):k.map((L,R)=>a.jsxs("tr",{className:"border-b border-[#2a2a2a] hover:bg-[#151515] transition-colors",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:R+1}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:L.type}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:L.status}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-300 text-right",children:L.oilMiles?.toLocaleString()||"N/A"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:L.scheduleDate||"N/A"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:L.dateCompleted||"N/A"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-300 text-right",children:eUe(L.price||0)}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:L.remarks||"N/A"})]},R))})]})})})]})]})})}function rUe({isOpen:t,onClose:e,carId:r,clientId:n}){const[s,i]=y.useState({record_files_doc_name:"",record_files_date:"",record_files_remarks:""}),o=Wr();y.useEffect(()=>{if(t){const d=new Date().toISOString().split("T")[0];i({record_files_doc_name:"",record_files_date:d,record_files_remarks:""})}},[t]);const l=yt({mutationFn:async d=>{if(!d.record_files_doc_name||!d.record_files_date)throw new Error("Document name and date are required");if(!r||r<=0)throw new Error("Invalid car ID. Please refresh the page and try again.");const u=je("/api/record-files"),h=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({record_files_doc_name:d.record_files_doc_name.trim(),record_files_date:d.record_files_date,record_files_remarks:d.record_files_remarks||"",record_files_car_id:r})});if(!h.ok){let f="Failed to create record file";try{const m=await h.json();f=m.error||m.message||f,h.status===400?m.error?.includes("already exists")?f="A record with this document name already exists for this car.":m.error?.includes("Missing required")?f="Please fill in all required fields.":m.error?.includes("Car not found")?f="Car not found. Please refresh the page and try again.":m.error?.includes("Invalid")&&(m.error?.includes("ID")||m.error?.includes("client")||m.error?.includes("car"))?f=m.error:f=m.error||f:h.status===401?f="You are not authorized to perform this action. Please log in again.":h.status===500&&(m.message?.includes("could not verify")||m.message?.includes("check the Records and Files page")?f="The record may have been created successfully. Please check the Records and Files table to confirm. If it's not there, please try again.":m.message?.includes("attempted to fix")||m.message?.includes("try again")?f="The system detected and attempted to fix a database configuration issue. Please try submitting again. If the problem persists, contact support.":m.message?.includes("auto-increment")||m.message?.includes("PRIMARY")||m.error?.includes("Database configuration")?f="Database configuration error detected. The system administrator needs to reset the database auto-increment. Please contact support.":m.message?.includes("Duplicate entry")?f="Database error: A record with this information already exists or there's a configuration issue. Please contact support.":f=m.message||m.error||"Server error. Please try again later.")}catch{f=`Failed to create record file: ${h.statusText}`}throw new Error(f)}return h.json()},onSuccess:async d=>{console.log("Record file created successfully with ID:",d?.data?.id||"unknown"),o.invalidateQueries({predicate:u=>{const h=u.queryKey[0];return typeof h=="string"&&h.startsWith("/api/record-files")}}),await new Promise(u=>setTimeout(u,100)),await o.refetchQueries({predicate:u=>{const h=u.queryKey[0];return typeof h=="string"&&h.startsWith("/api/record-files")}}),e()}});if(!t)return null;if(!r||r<=0)return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-lg w-full max-w-2xl p-6 relative",children:[a.jsx("div",{className:"text-red-400 text-sm",children:"Invalid car ID. Please go back and try again."}),a.jsx(ie,{onClick:e,className:"mt-4 bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:"Close"})]})});const c=d=>{d.preventDefault(),d.stopPropagation(),!l.isPending&&s.record_files_doc_name.trim()&&s.record_files_date&&(l.isPending||l.mutate(s))};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6 relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-foreground transition-colors",disabled:l.isPending,children:a.jsx(pr,{className:"w-5 h-5"})}),a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-6",children:"Add Record File"}),a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"doc_name",className:"text-gray-300",children:"Document Name *"}),a.jsx(ae,{id:"doc_name",type:"text",value:s.record_files_doc_name,onChange:d=>i(u=>({...u,record_files_doc_name:d.target.value})),disabled:l.isPending,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"date",className:"text-gray-300",children:"Date *"}),a.jsx(ae,{id:"date",type:"date",value:s.record_files_date,onChange:d=>i(u=>({...u,record_files_date:d.target.value})),disabled:l.isPending,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground mt-1 [&::-webkit-calendar-picker-indicator]:filter [&::-webkit-calendar-picker-indicator]:invert [&::-webkit-calendar-picker-indicator]:brightness-0 [&::-webkit-calendar-picker-indicator]:contrast-100",required:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"remarks",className:"text-gray-300",children:"Remarks"}),a.jsx(Fa,{id:"remarks",value:s.record_files_remarks,onChange:d=>i(u=>({...u,record_files_remarks:d.target.value})),disabled:l.isPending,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground mt-1",rows:3,placeholder:"Enter any additional notes or remarks about this record..."})]}),a.jsx("div",{className:"p-3 bg-blue-900/20 border border-blue-800/50 rounded",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(tx,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-blue-300",children:[a.jsx("p",{className:"font-medium mb-1",children:"New Record File"}),a.jsx("p",{className:"text-xs text-blue-400/80",children:"After creating this record, you can add individual files to it. The record will be created as Active by default."})]})]})}),l.isError&&a.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800/50 rounded",children:a.jsx("div",{className:"text-red-400 text-sm font-medium",children:l.error instanceof Error?l.error.message:"An error occurred while creating the record file"})}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ie,{type:"button",variant:"outline",onClick:e,disabled:l.isPending,className:"border-[#2a2a2a] text-gray-300 hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{type:"submit",disabled:l.isPending||!s.record_files_doc_name||!s.record_files_date,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:l.isPending?"Saving...":"Add"})]})]})]})})}function CB(t){if(!t)return"";try{const e=t.match(/(\d{4}-\d{2}-\d{2})/);if(e)return e[1];const r=new Date(t);if(!isNaN(r.getTime())){const s=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),o=String(r.getDate()).padStart(2,"0");return`${s}-${i}-${o}`}const n=t.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(n){const[,s,i,o]=n;return`${o}-${s.padStart(2,"0")}-${i.padStart(2,"0")}`}return t}catch{return t}}function nUe({isOpen:t,onClose:e,carId:r,clientId:n,itemEdit:s}){const i=Wr(),o=()=>s&&s.recordFilesAid?{record_files_doc_name:s.recordFilesDocName||"",record_files_date:CB(s.recordFilesDate||""),record_files_remarks:s.recordFilesRemarks||""}:{record_files_doc_name:"",record_files_date:"",record_files_remarks:""},[l,c]=y.useState(o);y.useEffect(()=>{if(t&&s&&s.recordFilesAid){const f={record_files_doc_name:s.recordFilesDocName||"",record_files_date:CB(s.recordFilesDate||""),record_files_remarks:s.recordFilesRemarks||""};c(f)}},[t,s]);const d=yt({mutationFn:async f=>{if(!s||!s.recordFilesAid||s.recordFilesAid<=0)throw console.error("EditRecordFileModal: Invalid itemEdit or recordFilesAid",s),new Error("Invalid record ID for update. Please refresh the page and try again.");const m=s.recordFilesAid,x=je(`/api/record-files/${m}`),p=await fetch(x,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({record_files_doc_name:f.record_files_doc_name,record_files_date:f.record_files_date,record_files_remarks:f.record_files_remarks||"",record_files_doc_name_old:s.recordFilesDocName||"",record_files_date_old:s.recordFilesDate||""})});if(!p.ok){const v=await p.json().catch(()=>({error:"Failed to update"}));throw new Error(v.error||v.message||"Failed to update")}return p.json()},onSuccess:async()=>{await i.invalidateQueries({queryKey:["/api/record-files"],exact:!1}),await i.refetchQueries({queryKey:["/api/record-files"],exact:!1}),e()}});if(!t||!s||!s.recordFilesAid)return null;const u=l.record_files_doc_name||l.record_files_date,h=f=>{if(f.preventDefault(),!s.recordFilesAid||s.recordFilesAid<=0){console.error("EditRecordFileModal: Cannot submit - invalid record ID",s);return}d.mutate(l)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6 relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-foreground transition-colors",disabled:d.isPending,children:a.jsx(pr,{className:"w-5 h-5"})}),a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-6",children:"Edit Record File"}),!u&&a.jsx("div",{className:"text-gray-400 text-sm mb-4",children:"Loading record data..."}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"doc_name",className:"text-gray-300",children:"Document Name *"}),a.jsx(ae,{id:"doc_name",type:"text",value:l.record_files_doc_name,onChange:f=>c(m=>({...m,record_files_doc_name:f.target.value})),disabled:d.isPending,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"date",className:"text-gray-300",children:"Date *"}),a.jsx(ae,{id:"date",type:"date",value:l.record_files_date,onChange:f=>c(m=>({...m,record_files_date:f.target.value})),disabled:d.isPending,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground mt-1 [&::-webkit-calendar-picker-indicator]:filter [&::-webkit-calendar-picker-indicator]:invert [&::-webkit-calendar-picker-indicator]:brightness-0 [&::-webkit-calendar-picker-indicator]:contrast-100",required:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"remarks",className:"text-gray-300",children:"Remarks"}),a.jsx(Fa,{id:"remarks",value:l.record_files_remarks,onChange:f=>c(m=>({...m,record_files_remarks:f.target.value})),disabled:d.isPending,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground mt-1",rows:3,placeholder:"Enter any additional notes or remarks about this record..."})]}),d.isError&&a.jsx("div",{className:"text-red-400 text-sm",children:d.error instanceof Error?d.error.message:"An error occurred"}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ie,{type:"button",variant:"outline",onClick:e,disabled:d.isPending,className:"border-[#2a2a2a] text-gray-300 hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{type:"submit",disabled:d.isPending||!l.record_files_doc_name||!l.record_files_date,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:d.isPending?"Saving...":"Save"})]})]})]})})}function XK({isOpen:t,onClose:e,carId:r,carBacklogPage:n="records-and-files"}){const[s,i]=y.useState(""),[o,l]=y.useState(""),[c,d]=y.useState(""),[u,h]=y.useState(!1),[f,m]=y.useState(!1),x=y.useRef(null),p=y.useRef(null),[v,g]=y.useState(!1);let w=1;y.useEffect(()=>{const C=new IntersectionObserver(([W])=>{g(W.isIntersecting)},{threshold:.1}),D=p.current;return D&&C.observe(D),()=>{D&&C.unobserve(D)}},[]),y.useEffect(()=>{t||(i(""),l(""),d(""),h(!1),m(!1))},[t]);const{data:N,error:j,fetchNextPage:b,hasNextPage:S,isFetching:A,isFetchingNextPage:E,status:P,refetch:O}=C$({queryKey:["/api/car-backlog",r,n,f,s,o,c,u],queryFn:async({pageParam:C=1})=>{const D=typeof C=="number"?C:1,W=new URLSearchParams({carId:r.toString(),page:D.toString(),car_backlog_page:n});s&&s.trim()!==""&&W.append("searchValue",s),o&&W.append("date_from",o),c&&W.append("date_to",c),u&&W.append("isFilter","true");const K=je(`/api/car-backlog?${W.toString()}`),H=await fetch(K,{credentials:"include"});if(!H.ok){const ee=await H.json().catch(()=>({error:"Unknown error"}));throw new Error(ee.error||ee.message||`Failed to fetch log: ${H.statusText}`)}const G=await H.json();if(G.success===!1)throw new Error(G.error||G.message||"Failed to fetch log");return{data:G.data||[],page:G.page||D,total:G.total||0,count:G.count||0}},initialPageParam:1,getNextPageParam:C=>{const D=Math.ceil(C.total/20);if(C.page<D)return C.page+1},enabled:t&&!!r,refetchOnWindowFocus:!0});y.useEffect(()=>{v&&S&&!E&&b()},[v,S,E,b]);const k=()=>{s.trim()!==""?m(!0):m(!1),O()},L=C=>{l(C.target.value),h(!0)},R=C=>{d(C.target.value),h(!0)},_=()=>{d(""),l(""),i(""),h(!1),m(!1),x.current&&(x.current.value="")};y.useEffect(()=>{o===""&&c===""&&h(!1)},[o,c]);const B=(C,D="--")=>{if(!C)return D;try{const W=new Date(C);return isNaN(W.getTime())?D:lg(W,"MMM dd, yyyy")}catch{return D}},I=N?.pages.flatMap(C=>C.data)||[];return t?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-lg w-full max-w-6xl max-h-[90vh] p-6 relative flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Records and Files Edit History"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-foreground transition-colors",children:a.jsx(pr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-3 pb-4 mb-4 border-b border-[#2a2a2a]",children:[a.jsxs("div",{className:"flex items-end gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-400 mb-1 capitalize",children:"From"}),a.jsx(ae,{type:"date",value:o,onChange:L,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground w-40"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-xs text-gray-400 mb-1 capitalize",children:"To"}),a.jsx(ae,{type:"date",value:c,onChange:R,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground w-40"})]}),(u||f)&&a.jsx(ie,{onClick:_,variant:"ghost",className:"text-gray-400 hover:text-foreground underline h-9",children:"Clear"})]}),a.jsxs("div",{className:"flex gap-2 w-full md:max-w-80 items-end",children:[a.jsx(ae,{ref:x,type:"text",placeholder:"Search...",value:s,onChange:C=>i(C.target.value),onKeyDown:C=>{C.key==="Enter"&&k()},className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground h-9"}),a.jsx(ie,{onClick:k,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] h-9",children:a.jsx(es,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-auto",children:[j&&a.jsxs("div",{className:"text-center text-red-400 py-8",children:[a.jsx("div",{className:"mb-2",children:"Error loading data."}),a.jsx("div",{className:"text-sm text-gray-400 mb-4",children:j instanceof Error?j.message:"Please try again."}),a.jsx(ie,{onClick:()=>O(),className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:"Retry"})]}),!j&&(P==="pending"||A&&!E)?a.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading..."}):!j&&I.length===0?a.jsx("div",{className:"text-center text-gray-400 py-8",children:"No edit history found"}):a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{className:"bg-[#0f0f0f] sticky top-0 z-10",children:a.jsxs("tr",{className:"border-b border-[#2a2a2a]",children:[a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 w-12",children:"#"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 min-w-[10rem]",children:"Edit by"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 min-w-[10rem]",children:"Date Time"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 min-w-[8rem]",children:"Action"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 min-w-[8rem]",children:"Old Date"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300 min-w-[8rem]",children:"New Date"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300",children:"Old Document Name"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300",children:"New Document Name"}),a.jsx("th",{className:"text-left px-3 py-3 text-sm font-medium text-gray-300",children:"Remarks"})]})}),a.jsx("tbody",{children:I.map((C,D)=>{const W=w++;return a.jsxs("tr",{className:"border-b border-[#2a2a2a] hover:bg-[#0f0f0f] transition-colors",children:[a.jsxs("td",{className:"px-3 py-2 text-sm text-gray-300 text-center",children:[W,"."]}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300",children:C.fullname||"N/A"}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300",children:C.carBacklogCreated?lg(new Date(C.carBacklogCreated),"MMM dd, yyyy HH:mm"):"N/A"}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300 capitalize",children:C.carBacklogItem?C.carBacklogItem.replaceAll("-"," "):"N/A"}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300",children:B(C.carBacklogOldAmount,"N/A")}),a.jsx("td",{className:"px-3 py-2 text-sm text-[#EAEB80] font-medium",children:B(C.carBacklogNewAmount,"N/A")}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300",children:C.carBacklogOldValues||"N/A"}),a.jsx("td",{className:"px-3 py-2 text-sm text-[#EAEB80] font-medium",children:C.carBacklogNewValues||"N/A"}),a.jsx("td",{className:"px-3 py-2 text-sm text-gray-300",children:C.carBacklogRemarks||"N/A"})]},C.carBacklogAid||D)})})]}),S&&a.jsx("div",{ref:p,className:"text-center py-4",children:E?a.jsx("div",{className:"text-gray-400",children:"Loading more..."}):a.jsx(ie,{onClick:()=>b(),variant:"ghost",className:"text-[#EAEB80] hover:text-[#d4d570]",children:"Load More"})})]})]}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-[#2a2a2a] mt-4",children:a.jsx(ie,{onClick:e,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:"Close"})})]})}):null}function aUe(){const[,t]=Ia("/admin/cars/:id/records"),[,e]=wr(),r=t?.id?parseInt(t.id,10):null,[n,s]=y.useState("All"),[i,o]=y.useState(""),[l,c]=y.useState(10),[d,u]=y.useState(1),[h,f]=y.useState(!1),[m,x]=y.useState(!1),[p,v]=y.useState(!1),[g,w]=y.useState(!1),[N,j]=y.useState(!1),[b,S]=y.useState(null),[A,E]=y.useState({open:!1,type:null,doc:null}),P=Wr(),{data:O}=Ge({queryKey:["/api/auth/me"],queryFn:async()=>{try{const M=await fetch(je("/api/auth/me"),{credentials:"include"});return M.ok?M.json():{user:void 0}}catch{return{user:void 0}}},retry:!1}),L=O?.user?.isClient===!0,{data:R,isLoading:_,error:B}=Ge({queryKey:["/api/cars",r],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const M=je(`/api/cars/${r}`),re=await fetch(M,{credentials:"include"});if(!re.ok)throw new Error("Failed to fetch car");return re.json()},enabled:!!r,retry:!1}),I=R?.data,{data:C}=Ge({queryKey:["/api/onboarding/vin",I?.vin,"onboarding"],queryFn:async()=>{if(!I?.vin)throw new Error("No VIN");const M=je(`/api/onboarding/vin/${encodeURIComponent(I.vin)}`),re=await fetch(M,{credentials:"include"});if(!re.ok){if(re.status===404)return{success:!1,data:null};throw new Error("Failed to fetch onboarding")}return re.json()},enabled:!!I?.vin,retry:!1}),D=C?.success?C?.data:null,W=void 0;y.useEffect(()=>{u(1)},[n,i,l,m,h]);const{data:K,error:H,isFetching:G,status:ee}=Ge({queryKey:["/api/record-files",r||0,0,d,l,h,i,n,m],queryFn:async()=>{const M=new URLSearchParams({carId:r.toString(),page:d.toString(),limit:l.toString()});i&&i.trim()!==""&&M.append("searchValue",i),m&&n!=="All"&&(M.append("isFilter","true"),M.append("recordFilesIsActive",n==="Active"?"1":"0"));const re=je(`/api/record-files?${M.toString()}`),oe=await fetch(re,{credentials:"include"});if(!oe.ok){const Ee=await oe.json().catch(()=>({error:"Unknown error"}));throw new Error(Ee.error||Ee.message||`Failed to fetch records: ${oe.statusText}`)}const ce=await oe.json();return{data:ce.data||[],page:ce.page||d,total:ce.total||0,count:ce.count||0}},enabled:!!r&&!!I,refetchOnWindowFocus:!0}),Q=K?.data||[],te=K?.total||0,U=Math.ceil(te/l),q=(d-1)*l,ne=q+Q.length;y.useEffect(()=>{d>U&&U>0&&u(U)},[U,d]);const fe=()=>{i.trim()!==""?f(!0):f(!1)},pe=M=>{s(M),M!=="All"?(x(!0),f(!0)):(x(!1),f(!1))},ye=()=>{o(""),s("All"),x(!1),f(!1)},Z=yt({mutationFn:async M=>{const re=je(`/api/record-files/${M.recordFilesAid}/status`),oe=await fetch(re,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isActive:!1,record_files_doc_name:M.recordFilesDocName,record_files_date:M.recordFilesDate,record_files_remarks:M.recordFilesRemarks})});if(!oe.ok)throw new Error("Failed to archive");return oe.json()},onSuccess:()=>{P.invalidateQueries({queryKey:["/api/record-files"]})}}),Ne=yt({mutationFn:async M=>{const re=je(`/api/record-files/${M.recordFilesAid}/status`),oe=await fetch(re,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isActive:!0,record_files_doc_name:M.recordFilesDocName,record_files_date:M.recordFilesDate,record_files_remarks:M.recordFilesRemarks})});if(!oe.ok)throw new Error("Failed to restore");return oe.json()},onSuccess:()=>{P.invalidateQueries({queryKey:["/api/record-files"]})}}),J=yt({mutationFn:async M=>{const re=je(`/api/record-files/${M.recordFilesAid}`),oe=await fetch(re,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({record_files_gdrive:M.recordFilesGdrive,record_files_doc_name:M.recordFilesDocName,record_files_date:M.recordFilesDate,record_files_remarks:M.recordFilesRemarks})});if(!oe.ok){const ce=await oe.json();throw new Error(ce.error||"Failed to delete")}return oe.json()},onSuccess:()=>{P.invalidateQueries({queryKey:["/api/record-files"]})}}),le=M=>{E({open:!0,type:"archive",doc:M})},we=M=>{E({open:!0,type:"restore",doc:M})},De=M=>{E({open:!0,type:"delete",doc:M})},ue=()=>{if(!(!A.doc||!A.type)){switch(A.type){case"archive":Z.mutate(A.doc);break;case"restore":Ne.mutate(A.doc);break;case"delete":J.mutate(A.doc);break}E({open:!1,type:null,doc:null})}};if(y.useEffect(()=>{i===""&&f(!1)},[i]),_)return a.jsx(jt,{children:a.jsx(Is,{})});if(B||!I)return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("p",{className:"text-red-400",children:"Failed to load car details"}),a.jsx("button",{onClick:()=>e("/cars"),className:"mt-4 text-[#EAEB80] hover:underline",children:" Back to Cars"})]})});const Y=I.makeModel||`${I.year||""} ${I.vin}`.trim(),V=I.owner?`${I.owner.firstName} ${I.owner.lastName}`:"N/A",$=I.owner?.phone||"N/A",X=I.owner?.email||"N/A",me=D?.fuelType||I.fuelType||"N/A",z=D?.tireSize||I.tireSize||"N/A",T=D?.oilType||I.oilType||"N/A";return a.jsxs(jt,{children:[a.jsxs("div",{className:"flex flex-col h-full overflow-x-hidden",children:[a.jsxs("div",{className:"mb-4 sm:mb-6",children:[a.jsxs("button",{onClick:()=>e("/cars"),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Cars"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Records and Files"}),I&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Car: ",I.makeModel||"Unknown Car"]})]}),!L&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ie,{variant:"outline",onClick:()=>{v(!0)},className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a] flex items-center gap-2 text-xs sm:text-sm px-2 sm:px-4",children:[a.jsx(mr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Add"})]}),a.jsxs(ie,{variant:"outline",onClick:()=>j(!0),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a] flex items-center gap-2 text-xs sm:text-sm px-2 sm:px-4",children:[a.jsx(rx,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Log"})]})]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Car Information"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Car Name: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-words",children:Y})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"VIN #: "}),a.jsx("span",{className:"text-foreground font-mono text-xs sm:text-sm break-all",children:I.vin})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"License: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:I.licensePlate||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Owner Information"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Name: "}),I?.clientId?a.jsx("button",{onClick:()=>e(`/admin/clients/${I.clientId}`),className:"text-[#EAEB80] hover:text-[#d4d570] hover:underline transition-colors text-xs sm:text-sm break-words cursor-pointer",children:V}):a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-words",children:V})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Contact #: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:$})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Email: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-all",children:X})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Car Specifications & Links"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Fuel/Gas: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:me})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Tire Size: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:z})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Oil Type: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:T})]}),I.turoLink&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Turo Link: "}),a.jsxs("a",{href:I.turoLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-xs sm:text-sm flex items-center gap-1 inline",children:["View Car",a.jsx(Ar,{className:"w-3 h-3"})]})]}),I.adminTuroLink&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Admin Turo Link: "}),a.jsxs("a",{href:I.adminTuroLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-xs sm:text-sm flex items-center gap-1 inline",children:["View Car",a.jsx(Ar,{className:"w-3 h-3"})]})]})]})]})]})}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden",style:{overflowY:"auto"},children:a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4 sm:mb-6",children:"Records And Files"}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs(tt,{value:n,onValueChange:pe,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground w-[120px]",children:a.jsx(rt,{placeholder:"Filter"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"All",children:"All"}),a.jsx(xe,{value:"Active",children:"Active"}),a.jsx(xe,{value:"Inactive",children:"Inactive"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rx,{className:"w-4 h-4 text-gray-400"}),a.jsxs(tt,{value:l.toString(),onValueChange:M=>c(parseInt(M)),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground w-[80px]",children:a.jsx(rt,{})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"10",children:"10"}),a.jsx(xe,{value:"20",children:"20"}),a.jsx(xe,{value:"50",children:"50"})]})]})]})]}),a.jsx("div",{className:"flex-1 sm:max-w-md w-full",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),a.jsx(ae,{type:"text",placeholder:"Q Search here...",value:i,onChange:M=>o(M.target.value),onKeyDown:M=>{M.key==="Enter"&&fe()},className:"pl-10 bg-[#1a1a1a] border-[#2a2a2a] text-foreground placeholder:text-gray-600 h-9"})]}),a.jsx(ie,{onClick:fe,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] h-9",children:a.jsx(es,{className:"w-4 h-4"})}),(m||h)&&a.jsx(ie,{onClick:ye,variant:"ghost",className:"text-gray-400 hover:text-foreground underline h-9",children:"Clear"})]})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ao,{children:[a.jsx(Co,{children:a.jsxs(zr,{className:"border-[#2a2a2a] hover:bg-transparent",children:[a.jsx(He,{className:"text-center text-[#EAEB80] font-medium w-12",children:"#"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium",children:"Document Name"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium",children:"Date"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium",children:"Remarks"})]})}),a.jsx(ko,{children:ee==="pending"||G?a.jsx(zr,{children:a.jsx(qe,{colSpan:4,className:"text-center py-12 text-gray-500",children:"Loading..."})}):H?a.jsx(zr,{children:a.jsxs(qe,{colSpan:4,className:"text-center py-12 text-red-400",children:[a.jsx("div",{className:"mb-2",children:"Error loading data."}),a.jsx("div",{className:"text-sm text-gray-400",children:H instanceof Error?H.message:"Please try again."})]})}):Q.length>0?Q.map((M,re)=>a.jsxs(zr,{className:"border-[#2a2a2a] hover:bg-[#1a1a1a] transition-colors",children:[a.jsx(qe,{className:"text-center text-gray-300",children:q+re+1}),a.jsx(qe,{className:"text-foreground",children:a.jsx("button",{onClick:()=>{e(`/admin/cars/${r}/records/${M.recordFilesAid}/files`)},className:"text-[#EAEB80] hover:text-[#d4d570] hover:underline transition-colors text-left",children:M.recordFilesDocName})}),a.jsx(qe,{className:"text-gray-300",children:M.recordFilesDate?(()=>{const oe=M.recordFilesDate.match(/(\d{4}-\d{2}-\d{2})/);if(oe){const[Ee,se,be]=oe[1].split("-");return new Date(parseInt(Ee),parseInt(se)-1,parseInt(be)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}const ce=new Date(M.recordFilesDate);if(!isNaN(ce.getTime())){const Ee=ce.getFullYear(),se=ce.getMonth(),be=ce.getDate();return new Date(Ee,se,be).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}return"N/A"})():"N/A"}),a.jsx(qe,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ot,{variant:M.recordFilesIsActive?"default":"secondary",className:"mr-2",children:M.recordFilesIsActive?"Active":"Inactive"}),a.jsx("div",{className:"flex items-center gap-1",children:M.recordFilesIsActive?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:oe=>{oe.stopPropagation(),S(M),w(!0)},className:"text-gray-400 hover:text-[#EAEB80] transition-colors p-1","aria-label":"Edit document",title:"Edit",children:a.jsx(tl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:oe=>{oe.stopPropagation(),le(M)},className:"text-gray-400 hover:text-yellow-400 transition-colors p-1","aria-label":"Archive document",title:"Archive",children:a.jsx(AS,{className:"w-4 h-4"})})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:oe=>{oe.stopPropagation(),we(M)},className:"text-gray-400 hover:text-green-400 transition-colors p-1","aria-label":"Restore document",title:"Restore",children:a.jsx(rb,{className:"w-4 h-4"})}),a.jsx("button",{onClick:oe=>{oe.stopPropagation(),De(M)},className:"text-gray-400 hover:text-red-400 transition-colors p-1","aria-label":"Delete document",title:"Delete",children:a.jsx(Ri,{className:"w-4 h-4"})})]})})]})})]},M.recordFilesAid)):a.jsx(zr,{children:a.jsx(qe,{colSpan:4,className:"text-center py-12 text-gray-500",children:"No documents found"})})})]})}),te>0&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6 pt-4 border-t border-[#2a2a2a]",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",q+1," to ",ne," of ",te," documents"]}),U>1&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>u(M=>Math.max(1,M-1)),disabled:d===1||G,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a] disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Kl,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:U},(M,re)=>re+1).map(M=>M===1||M===U||M>=d-1&&M<=d+1?a.jsx(ie,{variant:d===M?"default":"outline",size:"sm",onClick:()=>u(M),disabled:G,className:d===M?"bg-[#EAEB80] text-black hover:bg-[#d4d570]":"bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a]",children:M},M):M===d-2||M===d+2?a.jsx("span",{className:"text-gray-500 px-2",children:"..."},M):null)}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>u(M=>Math.min(U,M+1)),disabled:d===U||G,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a] disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"hidden sm:inline",children:"Next"}),a.jsx(pa,{className:"w-4 h-4"})]})]})]}),te===0&&!G&&ee!=="pending"&&a.jsx("div",{className:"text-center mt-6 text-gray-500 text-sm",children:"No documents found matching your search criteria."})]})})]}),p&&a.jsx(rUe,{isOpen:p,onClose:()=>{v(!1)},carId:r,clientId:W}),g&&b&&a.jsx(nUe,{isOpen:g,onClose:()=>{w(!1),S(null)},carId:r,clientId:W,itemEdit:b}),N&&r&&a.jsx(XK,{isOpen:N,onClose:()=>j(!1),carId:r,carBacklogPage:"records-and-files"}),a.jsx(lO,{open:A.open,onOpenChange:M=>E({open:M,type:null,doc:null}),children:a.jsxs(c1,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsxs(d1,{children:[a.jsxs(h1,{children:[A.type==="archive"&&"Archive Record",A.type==="restore"&&"Restore Record",A.type==="delete"&&"Delete Record"]}),a.jsxs(f1,{className:"text-gray-400",children:[A.type==="archive"&&"Are you sure you want to archive this record?",A.type==="restore"&&"Are you sure you want to restore this record?",A.type==="delete"&&"Are you sure you want to delete this record? This action cannot be undone."]})]}),a.jsxs(u1,{children:[a.jsx(p1,{className:"bg-[#0f0f0f] border-[#2a2a2a] text-gray-300 hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsxs(m1,{onClick:ue,className:A.type==="delete"?"bg-red-600 hover:bg-red-700 text-foreground":A.type==="restore"?"bg-green-600 hover:bg-green-700 text-foreground":"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:[A.type==="archive"&&"Archive",A.type==="restore"&&"Restore",A.type==="delete"&&"Delete"]})]})]})})]})}function sUe({isOpen:t,onClose:e,carId:r,recordId:n,folderId:s,itemEdit:i}){const[o,l]=y.useState({records_file_view_name:"",records_file_view_remarks:"",file:null}),[c,d]=y.useState([]),[u,h]=y.useState(!1),f=y.useRef(null),m=y.useRef(null),x=Wr();y.useEffect(()=>{t&&(i?((!i.recordsFileViewAid||i.recordsFileViewAid<=0)&&console.error("RecordFileViewModal: itemEdit missing valid recordsFileViewAid",i),l({records_file_view_name:i.recordsFileViewName||"",records_file_view_remarks:i.recordsFileViewRemarks||"",file:null}),d([])):(l({records_file_view_name:"",records_file_view_remarks:"",file:null}),d([])))},[t,i]);const p=yt({mutationFn:async E=>{if(i&&(!i.recordsFileViewAid||i.recordsFileViewAid<=0))throw new Error("File ID is required for update");if(!i&&c.length===0&&!E.file)throw new Error("Please select at least one file to upload");if(!i&&(c.length>0||E.file)){const P=c.length>0?c:E.file?[E.file]:[],O=[],k=[];for(const L of P){const R=L.name,_=new FormData;_.append("file",L),_.append("records_file_view_name",R),_.append("records_file_view_folder_id",s),_.append("records_file_view_car_id",r.toString()),_.append("records_file_view_record_id",n.toString()),_.append("records_file_view_remarks",E.records_file_view_remarks||"");const B=je("/api/record-file-views");try{const I=await fetch(B,{method:"POST",credentials:"include",body:_});if(!I.ok){const D=await I.json();k.push(`${L.name}: ${D.error||"Upload failed"}`);continue}const C=await I.json();O.push(C)}catch(I){k.push(`${L.name}: ${I.message||"Upload failed"}`)}}if(O.length===0&&k.length>0)throw new Error(`Failed to upload files:
${k.join(`
`)}`);return k.length>0&&console.warn("Some files failed to upload:",k),{success:!0,message:`Successfully uploaded ${O.length} of ${P.length} file(s)${k.length>0?` (${k.length} failed)`:""}`,data:O,errors:k.length>0?k:void 0}}if(i&&i.recordsFileViewAid){const P=`/api/record-file-views/${i.recordsFileViewAid}`,O=je(P),k=await fetch(O,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({records_file_view_name:E.records_file_view_name,records_file_view_remarks:E.records_file_view_remarks||"",records_file_view_name_old:i.recordsFileViewName||""})});if(!k.ok){const L=await k.json();throw new Error(L.error||"Failed to update file")}return k.json()}throw new Error("Invalid operation")},onSuccess:async()=>{await x.invalidateQueries({queryKey:["/api/record-file-views"],exact:!1}),await x.refetchQueries({queryKey:["/api/record-file-views"],exact:!1}),e()}}),v=E=>{E.preventDefault(),p.mutate(o)},g=E=>{const P=E.target.files;if(P&&P.length>0){const O=Array.from(P);if(O.length>20){alert("Maximum 20 files allowed. Please select fewer files.");return}const k=O.sort((L,R)=>L.name<R.name?-1:L.name>R.name?1:0);d(L=>{const R=[...L,...k];return!i&&!o.records_file_view_name&&R.length>0&&l(_=>({..._,records_file_view_name:R[0].name})),R})}},w=E=>{d(P=>{const O=P.filter((k,L)=>L!==E);return O.length===0?l(k=>({...k,records_file_view_name:""})):E===0&&O.length>0&&l(k=>({...k,records_file_view_name:O[0].name})),O})},N=E=>{E.preventDefault(),E.stopPropagation(),h(!0)},j=E=>{E.preventDefault(),E.stopPropagation(),h(!1)},b=E=>{E.preventDefault(),E.stopPropagation(),h(!1);const P=E.dataTransfer.files;if(P&&P.length>0){const O=Array.from(P);if(O.length>20){alert("Maximum 20 files allowed. Please select fewer files.");return}const k=O.sort((L,R)=>L.name<R.name?-1:L.name>R.name?1:0);d(L=>{const R=[...L,...k];return!i&&!o.records_file_view_name&&R.length>0&&l(_=>({..._,records_file_view_name:R[0].name})),R})}},S=()=>{f.current?.click()};if(!t)return null;const A=s&&s.trim()!==""&&s!==n.toString();return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6 relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-foreground transition-colors",disabled:p.isPending,children:a.jsx(pr,{className:"w-5 h-5"})}),a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-6",children:i?"Edit File":"Add File"}),!A&&!i&&a.jsx("div",{className:"mb-4 p-3 bg-blue-900/20 border border-blue-800/50 rounded",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(tx,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-blue-300",children:[a.jsx("p",{className:"font-medium mb-1",children:"Google Drive Folder Will Be Created"}),a.jsx("p",{className:"text-xs text-blue-400/80",children:"This record does not have a Google Drive folder ID. A folder will be automatically created when you upload your first file."})]})]})}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[!i&&a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-300",children:"File *"}),a.jsxs("div",{ref:m,onDragOver:N,onDragLeave:j,onDrop:b,onClick:S,className:`mt-1 relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${u?"border-[#EAEB80] bg-[#EAEB80]/10 cursor-pointer":"border-[#2a2a2a] hover:border-[#EAEB80]/50 bg-[#0f0f0f] cursor-pointer"}`,children:[a.jsx("input",{ref:f,type:"file",multiple:!0,onChange:g,disabled:p.isPending,className:"hidden",accept:"*"}),a.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[a.jsx(gn,{className:`w-8 h-8 ${u?"text-[#EAEB80]":"text-gray-400"}`}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-[#EAEB80]",children:"Drag & Drop"})," ",a.jsx("span",{className:"text-gray-400",children:"multiple files here or"})," ",a.jsx("span",{className:"text-[#EAEB80]",children:"Browse"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: PDF, Images, Documents. Maximum 20 files."})]})]}),c.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-[#0f0f0f] border border-[#2a2a2a] rounded",children:[a.jsxs(Se,{className:"text-gray-300 text-sm mb-2 block",children:["Selected Files (",c.length,")"]}),a.jsx("ol",{className:"flex flex-col gap-1.5 max-h-40 overflow-y-auto",children:c.map((E,P)=>a.jsxs("li",{className:"flex items-center justify-between text-sm text-gray-300 p-2 bg-[#1a1a1a] rounded hover:bg-[#2a2a2a] transition-colors",children:[a.jsxs("span",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsxs("span",{className:"text-gray-500",children:[P+1,"."]}),a.jsx("span",{className:"truncate",title:E.name,children:E.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["(",(E.size/1024/1024).toFixed(2)," MB)"]})]}),a.jsx("button",{type:"button",onClick:O=>{O.stopPropagation(),w(P)},disabled:p.isPending,className:"ml-2 text-red-400 hover:text-red-300 transition-colors",title:"Remove file",children:a.jsx(aU,{className:"w-4 h-4"})})]},P))})]})]}),i&&a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"file_name",className:"text-gray-300",children:"File Name *"}),a.jsx(ae,{id:"file_name",type:"text",value:o.records_file_view_name,onChange:E=>l(P=>({...P,records_file_view_name:E.target.value})),disabled:p.isPending,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground mt-1",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Update the file name as it appears in the system"})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"remarks",className:"text-gray-300",children:"Remarks"}),a.jsx(Fa,{id:"remarks",value:o.records_file_view_remarks,onChange:E=>l(P=>({...P,records_file_view_remarks:E.target.value})),disabled:p.isPending,className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground mt-1",rows:3,placeholder:"Enter any additional notes or remarks about this file..."})]}),i&&i.recordsFileViewGoogleId&&a.jsxs("div",{children:[a.jsxs(Se,{className:"text-gray-300 flex items-center gap-2",children:[a.jsx("span",{children:"Google Drive File"}),a.jsx("span",{title:"The Google Drive file ID for this file",children:a.jsx(tx,{className:"w-4 h-4 text-gray-500"})})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(ae,{type:"text",value:i.recordsFileViewGoogleId,disabled:!0,className:"bg-[#0f0f0f] border-[#2a2a2a] text-gray-500 flex-1"}),a.jsx("a",{href:`https://drive.google.com/file/d/${i.recordsFileViewGoogleId}/view`,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-[#0f0f0f] border border-[#2a2a2a] rounded hover:bg-[#2a2a2a] transition-colors",title:"Open in Google Drive",children:a.jsx(Ar,{className:"w-4 h-4 text-[#EAEB80]"})})]})]}),!i&&a.jsx("div",{className:"p-3 bg-blue-900/20 border border-blue-800/50 rounded",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(tx,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm text-blue-300",children:[a.jsx("p",{className:"font-medium mb-1",children:"New File Upload"}),a.jsx("p",{className:"text-xs text-blue-400/80",children:"The file will be uploaded to Google Drive and linked to this record. The file will be created as Active by default."})]})]})}),p.isError&&a.jsx("div",{className:"text-red-400 text-sm",children:p.error instanceof Error?p.error.message:"An error occurred"}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ie,{type:"button",variant:"outline",onClick:e,disabled:p.isPending,className:"border-[#2a2a2a] text-gray-300 hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{type:"submit",disabled:p.isPending||i&&!o.records_file_view_name||!i&&c.length===0&&!o.file,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] disabled:opacity-50 disabled:cursor-not-allowed",children:p.isPending?i?"Saving...":c.length>1?`Uploading ${c.length} files...`:"Uploading...":i?"Save":c.length>1?`Upload ${c.length} Files`:"Upload"})]})]})]})})}function iUe({isOpen:t,onClose:e,file:r}){const[n,s]=y.useState(!1),[i,o]=y.useState(!1);if(y.useEffect(()=>{const m=()=>{s(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",m),document.addEventListener("webkitfullscreenchange",m),document.addEventListener("mozfullscreenchange",m),document.addEventListener("MSFullscreenChange",m),()=>{document.removeEventListener("fullscreenchange",m),document.removeEventListener("webkitfullscreenchange",m),document.removeEventListener("mozfullscreenchange",m),document.removeEventListener("MSFullscreenChange",m)}},[]),!r)return null;const l=je(`/api/record-file-views/${r.recordsFileViewAid}/content`),c=r.recordsFileViewName.split(".").pop()?.toLowerCase()||"",d=["jpg","jpeg","png","gif","webp","bmp","svg"].includes(c),u=c==="pdf",h=()=>{const m=document.createElement("a");m.href=l,m.download=r.recordsFileViewName,document.body.appendChild(m),m.click(),document.body.removeChild(m)},f=()=>{if(n)document.exitFullscreen?document.exitFullscreen().catch(m=>{console.error("Error attempting to exit fullscreen:",m)}):document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else{const m=document.documentElement;m.requestFullscreen?m.requestFullscreen().catch(x=>{console.error("Error attempting to enable fullscreen:",x)}):m.webkitRequestFullscreen?m.webkitRequestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.msRequestFullscreen&&m.msRequestFullscreen()}};return a.jsx($t,{open:t,onOpenChange:e,children:a.jsxs(Ft,{className:"max-w-7xl w-[95vw] h-[95vh] p-0 bg-[#0f0f0f] border-[#2a2a2a] flex flex-col",children:[a.jsx(Dt,{className:"px-6 py-4 border-b border-[#2a2a2a] flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Mt,{className:"text-foreground text-lg font-semibold",children:r.recordsFileViewName}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ie,{variant:"ghost",size:"sm",onClick:f,className:"text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",title:n?"Exit Fullscreen":"Fullscreen",children:n?a.jsx(Ate,{className:"w-4 h-4"}):a.jsx(Ete,{className:"w-4 h-4"})}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:h,className:"text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",title:"Download",children:a.jsx(Un,{className:"w-4 h-4"})}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:e,className:"text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",title:"Close",children:a.jsx(pr,{className:"w-4 h-4"})})]})]})}),a.jsx("div",{className:"flex-1 overflow-auto bg-[#1a1a1a] p-4 flex items-center justify-center",children:d?a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i?a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx("p",{className:"mb-2",children:"Failed to load image"}),a.jsx(ie,{variant:"outline",onClick:()=>{o(!1);const m=document.getElementById("file-viewer-image");m&&(m.src=`${l}?t=${Date.now()}`)},className:"border-[#2a2a2a] text-gray-300 hover:bg-[#2a2a2a]",children:"Retry"})]}):a.jsx("img",{id:"file-viewer-image",src:l,alt:r.recordsFileViewName,className:"max-w-full max-h-full object-contain",onError:()=>o(!0)})}):u?a.jsx("div",{className:"w-full h-full",children:a.jsx("iframe",{src:l,className:"w-full h-full border-0",title:r.recordsFileViewName})}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx("p",{className:"mb-4",children:"Preview not available for this file type"}),a.jsxs(ie,{variant:"outline",onClick:h,className:"border-[#2a2a2a] text-gray-300 hover:bg-[#2a2a2a]",children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Download to View"]})]})})})]})})}function oUe(){const[,t]=Ia("/admin/cars/:carId/records/:recordId/files"),[,e]=wr(),r=t?.carId?parseInt(t.carId,10):null,n=t?.recordId?parseInt(t.recordId,10):null,[s,i]=y.useState("All"),[o,l]=y.useState(""),[c,d]=y.useState(10),[u,h]=y.useState(1),[f,m]=y.useState(!1),[x,p]=y.useState(!1),[v,g]=y.useState(!1),[w,N]=y.useState(!1),[j,b]=y.useState(!1),[S,A]=y.useState(null),[E,P]=y.useState(null),[O,k]=y.useState("grid"),[L,R]=y.useState(new Map),[_,B]=y.useState(new Set),I=Wr(),{data:C}=Ge({queryKey:["/api/auth/me"],queryFn:async()=>(await fetch(je("/api/auth/me"),{credentials:"include"})).json(),staleTime:5*60*1e3}),D=C?.user,{data:W,isLoading:K,error:H}=Ge({queryKey:["/api/cars",r],queryFn:async()=>{if(!r)throw new Error("Car ID is required");const ce=je(`/api/cars/${r}`),Ee=await fetch(ce,{credentials:"include"});if(!Ee.ok){const se=await Ee.json().catch(()=>({error:"Failed to fetch car"}));throw new Error(se.error||"Failed to fetch car")}return Ee.json()},enabled:!!r,retry:1}),G=W?.success?W?.data:null,{data:ee,error:Q}=Ge({queryKey:["/api/record-files",n],queryFn:async()=>{if(!n)throw new Error("Record ID is required");const ce=je(`/api/record-files/${n}`),Ee=await fetch(ce,{credentials:"include"});if(!Ee.ok){const se=await Ee.json().catch(()=>({error:"Failed to fetch record"}));throw new Error(se.error||"Failed to fetch record")}return Ee.json()},enabled:!!n,retry:1}),te=ee?.success?ee?.data:null;y.useEffect(()=>{h(1)},[s,o,c,x,f]);const{data:U,error:q,isFetching:ne,status:fe}=Ge({queryKey:["/api/record-file-views",te?.recordFilesGdrive||"",r||0,u,c,f,o,s,x],queryFn:async()=>{const ce=te?.recordFilesGdrive||"";if(!ce||ce.trim()==="")return{data:[],page:u,total:0,count:0};const Ee=new URLSearchParams({folderId:ce,page:u.toString(),limit:c.toString()});r&&Ee.append("carId",r.toString()),o&&o.trim()!==""&&Ee.append("searchValue",o),x&&s!=="All"&&(Ee.append("isFilter","true"),Ee.append("recordsFileViewIsActive",s==="Active"?"1":"0"));const se=je(`/api/record-file-views?${Ee.toString()}`),be=await fetch(se,{credentials:"include"});if(!be.ok){const Me=await be.json().catch(()=>({error:"Unknown error"}));throw new Error(Me.error||Me.message||`Failed to fetch files: ${be.statusText}`)}const Le=await be.json();return{data:Le.data||[],page:Le.page||u,total:Le.total||0,count:Le.count||0}},enabled:!!te&&!!r&&!!n&&!!te?.recordFilesGdrive,refetchOnWindowFocus:!0,retry:1}),pe=U?.data||[],ye=Number(U?.total)||0,Z=c>0?Math.ceil(ye/c):0,Ne=(u-1)*c,J=Ne+pe.length;y.useEffect(()=>{u>Z&&Z>0&&h(Z)},[Z,u]),y.useEffect(()=>U?.data?((async()=>{const Ee=new Map,se=new Set;for(const be of U.data){const Le=be.recordsFileViewName.split(".").pop()?.toLowerCase()||"";if(["jpg","jpeg","png","gif","webp","bmp","svg"].includes(Le)&&!(L.has(be.recordsFileViewAid)||_.has(be.recordsFileViewAid)))try{const lt=z(be.recordsFileViewAid),qt=await fetch(lt,{credentials:"include",method:"GET"});if(!qt.ok)throw new Error(`Failed to load image: ${qt.status}`);const Lr=await qt.blob(),F=URL.createObjectURL(Lr);Ee.set(be.recordsFileViewAid,F)}catch(lt){console.error(`Failed to load image for file ${be.recordsFileViewAid}:`,lt),se.add(be.recordsFileViewAid)}}(Ee.size>0||se.size>0)&&(R(be=>new Map([...be,...Ee])),B(be=>new Set([...be,...se])))})(),()=>{L.forEach(Ee=>{URL.revokeObjectURL(Ee)})}):void 0,[U?.data]);const le=()=>{o.trim()!==""?m(!0):m(!1)},we=ce=>{i(ce),ce!=="All"?(p(!0),m(!0)):(p(!1),m(!1))},De=()=>{l(""),i("All"),p(!1),m(!1)},ue=yt({mutationFn:async ce=>{const Ee=je(`/api/record-file-views/${ce.recordsFileViewAid}/status`),se=await fetch(Ee,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isActive:!1})});if(!se.ok){const be=await se.json();throw new Error(be.error||"Failed to archive file")}return se.json()},onSuccess:()=>{I.invalidateQueries({queryKey:["/api/record-file-views"]})}}),Y=ce=>{confirm(`Are you sure you want to archive "${ce.recordsFileViewName}"?`)&&ue.mutate(ce)},V=yt({mutationFn:async ce=>{const Ee=je(`/api/record-file-views/${ce.recordsFileViewAid}/status`),se=await fetch(Ee,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isActive:!0})});if(!se.ok){const be=await se.json();throw new Error(be.error||"Failed to restore file")}return se.json()},onSuccess:()=>{I.invalidateQueries({queryKey:["/api/record-file-views"]})}}),$=ce=>{confirm(`Are you sure you want to restore "${ce.recordsFileViewName}"?`)&&V.mutate(ce)},X=yt({mutationFn:async ce=>{const Ee=je(`/api/record-file-views/${ce.recordsFileViewAid}`),se=await fetch(Ee,{method:"DELETE",credentials:"include"});if(!se.ok){const be=await se.json();throw new Error(be.error||"Failed to delete file")}return se.json()},onSuccess:()=>{I.invalidateQueries({queryKey:["/api/record-file-views"]})}}),me=ce=>{confirm(`Are you sure you want to delete "${ce.recordsFileViewName}"? This action cannot be undone.`)&&X.mutate(ce)},z=ce=>je(`/api/record-file-views/${ce}/content`);if(K)return a.jsx(jt,{children:a.jsx(Is,{})});if(H||!G)return a.jsx(jt,{children:a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"text-red-400",children:"Failed to load car details"}),H&&a.jsx("div",{className:"text-gray-400 text-sm",children:H instanceof Error?H.message:"Unknown error occurred"}),r&&a.jsxs(ie,{onClick:()=>e(`/admin/cars/${r}/records`),variant:"outline",className:"border-[#2a2a2a] text-gray-300 hover:bg-[#2a2a2a]",children:[a.jsx(yn,{className:"w-4 h-4 mr-2"}),"Back to Records"]})]})});if(Q||!te&&n)return a.jsx(jt,{children:a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"text-red-400",children:"Failed to load record details"}),Q&&a.jsx("div",{className:"text-gray-400 text-sm",children:Q instanceof Error?Q.message:"Unknown error occurred"}),r&&a.jsxs(ie,{onClick:()=>e(`/admin/cars/${r}/records`),variant:"outline",className:"border-[#2a2a2a] text-gray-300 hover:bg-[#2a2a2a]",children:[a.jsx(yn,{className:"w-4 h-4 mr-2"}),"Back to Records"]})]})});const T=G.makeModel||"Unknown Car",M=G.owner?`${G.owner.firstName} ${G.owner.lastName}`:"N/A",re=G.owner?.phone||"N/A",oe=G.owner?.email||"N/A";return a.jsxs(jt,{children:[a.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("button",{onClick:()=>e(`/admin/cars/${r}/records`),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Records"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"View Record Files"}),te&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Record: ",te.recordFilesDocName]})]}),D?.isClient!==!0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ie,{variant:"outline",onClick:()=>N(!0),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a] flex items-center gap-2 text-xs sm:text-sm px-2 sm:px-4",children:[a.jsx(rx,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Log"})]}),a.jsxs(ie,{onClick:ce=>{ce.preventDefault(),ce.stopPropagation(),A(null),g(!0)},className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",type:"button",children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Add File"})]})]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Car Information"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Car Name: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-words",children:T})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"VIN #: "}),a.jsx("span",{className:"text-foreground font-mono text-xs sm:text-sm break-all",children:G.vin})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"License: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:G.licensePlate||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Owner Information"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Name: "}),G?.clientId?a.jsx("button",{onClick:()=>e(`/admin/clients/${G.clientId}`),className:"text-[#EAEB80] hover:text-[#d4d570] hover:underline transition-colors text-xs sm:text-sm break-words cursor-pointer",children:M}):a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-words",children:M})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Contact #: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:re})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Email: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-all",children:oe})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Record Information"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Document Name: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-words",children:te?.recordFilesDocName||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Date: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:te?.recordFilesDate?new Date(te.recordFilesDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"})]}),te?.recordFilesGdrive&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Google Drive: "}),a.jsxs("a",{href:`https://drive.google.com/drive/folders/${te.recordFilesGdrive}`,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-xs sm:text-sm flex items-center gap-1 inline",children:["Open Folder",a.jsx(Ar,{className:"w-3 h-3"})]})]})]})]})]})}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden",style:{overflowY:"auto"},children:a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4 sm:mb-6",children:"Files"}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4 sm:mb-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs(tt,{value:s,onValueChange:we,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground w-[120px]",children:a.jsx(rt,{placeholder:"Filter"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"All",children:"All"}),a.jsx(xe,{value:"Active",children:"Active"}),a.jsx(xe,{value:"Inactive",children:"Inactive"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rx,{className:"w-4 h-4 text-gray-400"}),a.jsxs(tt,{value:c.toString(),onValueChange:ce=>d(parseInt(ce)),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground w-[80px]",children:a.jsx(rt,{})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"10",children:"10"}),a.jsx(xe,{value:"20",children:"20"}),a.jsx(xe,{value:"50",children:"50"})]})]})]})]}),a.jsx("div",{className:"flex-1 sm:max-w-md w-full",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),a.jsx(ae,{type:"text",placeholder:"Q Search here...",value:o,onChange:ce=>l(ce.target.value),onKeyDown:ce=>{ce.key==="Enter"&&le()},className:"pl-10 bg-[#1a1a1a] border-[#2a2a2a] text-foreground placeholder:text-gray-600 h-9"})]}),a.jsx(ie,{onClick:le,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] h-9",children:a.jsx(es,{className:"w-4 h-4"})}),(x||f)&&a.jsx(ie,{onClick:De,variant:"ghost",className:"ml-2 text-gray-400 hover:text-foreground underline h-9",children:"Clear"})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[ye>0&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[a.jsx(Pl,{className:"w-4 h-4"}),a.jsx("span",{children:Number.isNaN(ye)?0:ye})]}),a.jsxs("div",{className:"flex items-center gap-1 bg-[#1a1a1a] border border-[#2a2a2a] rounded p-1",children:[a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>k("list"),className:`h-7 px-2 ${O==="list"?"bg-[#2a2a2a] text-[#EAEB80]":"text-gray-400 hover:text-foreground"}`,children:a.jsx(rx,{className:"w-4 h-4"})}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>k("grid"),className:`h-7 px-2 ${O==="grid"?"bg-[#2a2a2a] text-[#EAEB80]":"text-gray-400 hover:text-foreground"}`,children:a.jsx(bte,{className:"w-4 h-4"})})]})]})]}),q?a.jsxs("div",{className:"text-center text-red-400 py-12",children:[a.jsx("div",{className:"mb-2",children:"Error loading files."}),a.jsx("div",{className:"text-sm text-gray-400",children:q instanceof Error?q.message:"Please try again."})]}):te?.recordFilesGdrive?fe==="pending"||ne?a.jsx("div",{className:"text-center text-gray-400 py-12",children:"Loading..."}):pe.length>0?O==="grid"?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:pe.map((ce,Ee)=>{const se=Ne+Ee+1,be=z(ce.recordsFileViewAid);return a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-lg overflow-hidden hover:border-[#EAEB80]/50 transition-colors group",children:[a.jsxs("div",{className:"relative aspect-square bg-[#0f0f0f] overflow-hidden",children:[a.jsx("button",{onClick:()=>{P(ce),b(!0)},className:"block w-full h-full cursor-pointer",children:L.has(ce.recordsFileViewAid)?a.jsx("img",{src:L.get(ce.recordsFileViewAid),alt:ce.recordsFileViewName,className:"w-full h-full object-contain",onError:Le=>{const Me=Le.target;Me.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%231a1a1a' width='200' height='200'/%3E%3Ctext fill='%23ffffff' font-family='Arial' font-size='14' x='50%25' y='50%25' text-anchor='middle' dy='.3em'%3ENo Preview%3C/text%3E%3C/svg%3E"}}):_.has(ce.recordsFileViewAid)?a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-[#1a1a1a]",children:a.jsx("span",{className:"text-gray-400 text-sm",children:"No Preview"})}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-[#1a1a1a]",children:a.jsx("span",{className:"text-gray-400 text-sm animate-pulse",children:"Loading..."})})}),a.jsx("div",{className:"absolute top-2 left-2 bg-[#EAEB80] text-black text-xs font-semibold px-2 py-1 rounded",children:se}),ce.recordsFileViewIsActive&&a.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>{P(ce),b(!0)},className:"bg-[#1a1a1a]/90 hover:bg-[#2a2a2a] p-1.5 rounded text-foreground",title:"View",children:a.jsx(_s,{className:"w-4 h-4"})}),a.jsx("a",{href:be,download:ce.recordsFileViewName,className:"bg-[#1a1a1a]/90 hover:bg-[#2a2a2a] p-1.5 rounded text-foreground",title:"Download",children:a.jsx(Un,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{A(ce),g(!0)},className:"bg-[#1a1a1a]/90 hover:bg-[#2a2a2a] p-1.5 rounded text-foreground",title:"Edit",children:a.jsx(tl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Y(ce),className:"bg-[#1a1a1a]/90 hover:bg-yellow-500/90 p-1.5 rounded text-foreground",title:"Archive",children:a.jsx(AS,{className:"w-4 h-4"})})]}),!ce.recordsFileViewIsActive&&a.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>$(ce),className:"bg-[#1a1a1a]/90 hover:bg-green-500/90 p-1.5 rounded text-foreground",title:"Restore",children:a.jsx(rb,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>me(ce),className:"bg-[#1a1a1a]/90 hover:bg-red-500/90 p-1.5 rounded text-foreground",title:"Delete",children:a.jsx(Ri,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"p-3 border-t border-[#2a2a2a]",children:a.jsx("p",{className:"text-foreground text-sm truncate",title:ce.recordsFileViewName,children:ce.recordsFileViewName})})]},ce.recordsFileViewAid)})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ao,{children:[a.jsx(Co,{children:a.jsxs(zr,{className:"border-[#2a2a2a]",children:[a.jsx(He,{className:"text-center text-gray-400 w-16",children:"#"}),a.jsx(He,{className:"text-gray-400",children:"File Name"}),a.jsx(He,{className:"text-gray-400",children:"Upload Date"}),a.jsx(He,{className:"text-gray-400",children:"Status"}),a.jsx(He,{className:"text-gray-400",children:"Actions"})]})}),a.jsx(ko,{children:pe.map((ce,Ee)=>a.jsxs(zr,{className:"border-[#2a2a2a] hover:bg-[#1a1a1a] transition-colors",children:[a.jsx(qe,{className:"text-center text-gray-300",children:Ne+Ee+1}),a.jsx(qe,{className:"text-foreground",children:ce.recordsFileViewName}),a.jsx(qe,{className:"text-gray-300",children:ce.recordsFileViewCreated?new Date(ce.recordsFileViewCreated).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}),a.jsx(qe,{children:a.jsx(Ot,{variant:ce.recordsFileViewIsActive?"default":"secondary",className:"mr-2",children:ce.recordsFileViewIsActive?"Active":"Inactive"})}),a.jsx(qe,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[ce.recordsFileViewIsActive&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{P(ce),b(!0)},className:"text-gray-400 hover:text-[#EAEB80] transition-colors",title:"View",children:a.jsx(_s,{className:"w-5 h-5"})}),a.jsx("a",{href:z(ce.recordsFileViewAid),download:ce.recordsFileViewName,className:"text-gray-400 hover:text-blue-400 transition-colors",title:"Download",children:a.jsx(Un,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>{A(ce),g(!0)},className:"text-gray-400 hover:text-[#EAEB80] transition-colors","aria-label":"Edit file",children:a.jsx(tl,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>Y(ce),className:"text-gray-400 hover:text-yellow-400 transition-colors","aria-label":"Archive file",title:"Archive",children:a.jsx(AS,{className:"w-5 h-5"})})]}),!ce.recordsFileViewIsActive&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>$(ce),className:"text-gray-400 hover:text-green-400 transition-colors","aria-label":"Restore file",title:"Restore",children:a.jsx(rb,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>me(ce),className:"text-gray-400 hover:text-red-400 transition-colors","aria-label":"Delete file",title:"Delete",children:a.jsx(Ri,{className:"w-5 h-5"})})]})]})})]},ce.recordsFileViewAid))})]})}):a.jsx("div",{className:"text-center text-gray-400 py-12",children:"No files found"}):a.jsxs("div",{className:"text-center text-gray-400 py-12",children:[a.jsx("div",{className:"mb-2",children:"No Google Drive Folder ID"}),a.jsx("div",{className:"text-sm text-gray-500",children:"This record does not have a Google Drive folder ID. Files cannot be displayed until a folder ID is assigned."})]}),ye>0&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6 pt-4 border-t border-[#2a2a2a]",children:[a.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",Number.isNaN(Ne)?0:Ne+1," to ",Number.isNaN(J)?0:J," of ",Number.isNaN(ye)?0:ye," files"]}),Z>1&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>h(ce=>Math.max(1,ce-1)),disabled:u===1||ne,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a] disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Kl,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Z},(ce,Ee)=>Ee+1).map(ce=>ce===1||ce===Z||ce>=u-1&&ce<=u+1?a.jsx(ie,{variant:u===ce?"default":"outline",size:"sm",onClick:()=>h(ce),disabled:ne,className:u===ce?"bg-[#EAEB80] text-black hover:bg-[#d4d570]":"bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a]",children:ce},ce):ce===u-2||ce===u+2?a.jsx("span",{className:"text-gray-500 px-2",children:"..."},ce):null)}),a.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>h(ce=>Math.min(Z,ce+1)),disabled:u===Z||ne,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a] disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"hidden sm:inline",children:"Next"}),a.jsx(pa,{className:"w-4 h-4"})]})]})]}),u>=Z&&pe.length>0&&!ne&&fe!=="pending"&&a.jsx("div",{className:"text-center mt-6 text-gray-500 text-sm",children:"End of list."}),ye===0&&!ne&&fe!=="pending"&&a.jsx("div",{className:"text-center mt-6 text-gray-500 text-sm",children:"No files found matching your search criteria."})]})})]}),v&&r&&n&&a.jsx(sUe,{isOpen:v,onClose:()=>{g(!1),A(null)},carId:r,recordId:n,folderId:te?.recordFilesGdrive||"",itemEdit:S}),j&&E&&a.jsx(iUe,{isOpen:j,onClose:()=>{b(!1),P(null)},file:E}),w&&r&&a.jsx(XK,{isOpen:w,onClose:()=>N(!1),carId:r,carBacklogPage:"records-and-files-view"})]})}function lUe({isOpen:t,onClose:e,payment:r,carId:n,clientId:s}){const i=Wr(),{toast:o}=kr(),l=r!==null,[c,d]=y.useState(""),[u,h]=y.useState(""),[f,m]=y.useState(""),[x,p]=y.useState(""),[v,g]=y.useState(""),[w,N]=y.useState(""),[j,b]=y.useState(""),[S,A]=y.useState(""),[E,P]=y.useState([]),O=y.useRef(null),{data:k}=Ge({queryKey:["/api/payment-status"],queryFn:async()=>{const H=je("/api/payment-status"),G=await fetch(H,{credentials:"include"});if(!G.ok)throw new Error("Failed to fetch payment statuses");return G.json()}}),L=k?.data||[],{data:R,isLoading:_}=Ge({queryKey:["/api/income-expense",n,c],queryFn:async()=>{if(!c)throw new Error("Year/Month not set");const[H,G]=c.split("-"),ee=je(`/api/income-expense/${n}/${H}`),Q=await fetch(ee,{credentials:"include"});return Q.ok?Q.json():{success:!1,data:null}},enabled:!l&&!!c&&!!n});y.useEffect(()=>{if(r){if(d(r.payments_year_month),h(r.payments_status_id.toString()),m(r.payments_amount.toString()),p(r.payments_amount_payout.toString()),g(r.payments_amount_balance.toString()),N(r.payments_reference_number||""),r.payments_invoice_date){const G=new Date(r.payments_invoice_date).toISOString().split("T")[0];b(G)}else b("");A(r.payments_remarks||""),P([])}else{const H=new Date,G=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}`;d(G),h(""),m("0"),p("0"),g("0"),N(""),b(""),A(""),P([])}},[r,t]),y.useEffect(()=>{const H=parseFloat(x)||0,G=parseFloat(f)||0,ee=H-G;g(ee.toFixed(2))},[x,f]),y.useEffect(()=>{if(R?.success&&R?.data&&!l){const H=R.data.owner_split||0;m(H.toString())}},[R,l]);const B=H=>{const G=H.target.files;if(G&&G.length>0){const ee=Array.from(G);P(Q=>[...Q,...ee])}O.current&&(O.current.value="")},I=H=>{P(G=>G.filter((ee,Q)=>Q!==H))},C=yt({mutationFn:async H=>{const G=je("/api/payments"),ee=new FormData;ee.append("paymentsClientId",H.paymentsClientId.toString()),ee.append("paymentsStatusId",H.paymentsStatusId.toString()),ee.append("paymentsCarId",H.paymentsCarId.toString()),ee.append("paymentsYearMonth",H.paymentsYearMonth),ee.append("paymentsAmount",H.paymentsAmount.toString()),ee.append("paymentsAmountPayout",H.paymentsAmountPayout.toString()),ee.append("paymentsReferenceNumber",H.paymentsReferenceNumber||""),ee.append("paymentsInvoiceId",""),ee.append("paymentsInvoiceDate",H.paymentsInvoiceDate||""),ee.append("paymentsRemarks",H.paymentsRemarks||""),H.receiptFiles&&H.receiptFiles.length>0&&H.receiptFiles.forEach(te=>{ee.append("receiptFiles",te)});const Q=await fetch(G,{method:"POST",credentials:"include",body:ee});if(!Q.ok){const te=await Q.json();throw new Error(te.message||te.error||"Failed to create payment")}return Q.json()},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/payments/car",n]}),o({title:"Success",description:"Payment created successfully"}),e()},onError:H=>{o({title:"Error",description:H.message||"Failed to create payment",variant:"destructive"})}}),D=yt({mutationFn:async H=>{if(!r)throw new Error("No payment to update");const G=je(`/api/payments/${r.payments_aid}`),ee=new FormData;ee.append("paymentsClientId",H.paymentsClientId.toString()),ee.append("paymentsStatusId",H.paymentsStatusId.toString()),ee.append("paymentsCarId",H.paymentsCarId.toString()),ee.append("paymentsYearMonth",H.paymentsYearMonth),ee.append("paymentsAmount",H.paymentsAmount.toString()),ee.append("paymentsAmountPayout",H.paymentsAmountPayout.toString()),ee.append("paymentsReferenceNumber",H.paymentsReferenceNumber||""),ee.append("paymentsInvoiceId",""),ee.append("paymentsInvoiceDate",H.paymentsInvoiceDate||""),ee.append("paymentsRemarks",H.paymentsRemarks||""),H.receiptFiles&&H.receiptFiles.length>0&&H.receiptFiles.forEach(te=>{ee.append("receiptFiles",te)});const Q=await fetch(G,{method:"PUT",credentials:"include",body:ee});if(!Q.ok){const te=await Q.json();throw new Error(te.message||te.error||"Failed to update payment")}return Q.json()},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/payments/car",n]}),o({title:"Success",description:"Payment updated successfully"}),e()},onError:H=>{o({title:"Error",description:H.message||"Failed to update payment",variant:"destructive"})}}),W=H=>{if(H.preventDefault(),!c){o({title:"Validation Error",description:"Please select a year/month",variant:"destructive"});return}if(!u){o({title:"Validation Error",description:"Please select a payment status",variant:"destructive"});return}if(!s||s===0){o({title:"Validation Error",description:"Client ID is missing. Please ensure the car has an associated client.",variant:"destructive"});return}if(!n||n===0){o({title:"Validation Error",description:"Car ID is missing.",variant:"destructive"});return}const G={paymentsClientId:s,paymentsStatusId:parseInt(u),paymentsCarId:n,paymentsYearMonth:c,paymentsAmount:parseFloat(f)||0,paymentsAmountPayout:parseFloat(x)||0,paymentsReferenceNumber:w||"",paymentsInvoiceId:"",paymentsInvoiceDate:j||null,paymentsRemarks:S||"",receiptFiles:E};l?D.mutate(G):C.mutate(G)},K=C.isPending||D.isPending;return a.jsx($t,{open:t,onOpenChange:e,children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Dt,{children:[a.jsxs(Mt,{className:"text-foreground text-xl",children:[l?"Update":"Add"," Payment"]}),a.jsx(Ut,{className:"text-gray-400",children:l?"Update payment information":"Create a new payment record"})]}),a.jsxs("form",{onSubmit:W,className:"space-y-4 mt-4",children:[a.jsxs("div",{children:[a.jsxs(Se,{htmlFor:"yearMonth",className:"text-gray-300",children:["Year/Month ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx(ae,{id:"yearMonth",type:"month",value:c,onChange:H=>d(H.target.value),disabled:K||l,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground mt-1",required:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"payable",className:"text-gray-300",children:"Payable (Owner's Split)"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"$"}),a.jsx(ae,{id:"payable",type:"number",step:"0.01",value:f,onChange:H=>m(H.target.value),disabled:K||_,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground mt-1 pl-8",placeholder:"0.00"})]}),_&&a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Loading payable amount from Income & Expense..."}),!l&&!_&&R&&!R.success&&a.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:"Income & Expense not found for this month. Please enter manually."})]}),a.jsxs("div",{children:[a.jsxs(Se,{htmlFor:"payout",className:"text-gray-300",children:["Payout ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"$"}),a.jsx(ae,{id:"payout",type:"number",step:"0.01",value:x,onChange:H=>p(H.target.value),disabled:K,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground mt-1 pl-8",placeholder:"0.00",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"balance",className:"text-gray-300",children:"Balance (Payout - Payable)"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"$"}),a.jsx(ae,{id:"balance",type:"text",value:v,disabled:!0,className:"bg-[#0a0a0a] border-[#2a2a2a] text-[#EAEB80] font-bold mt-1 pl-8"})]})]}),a.jsxs("div",{children:[a.jsxs(Se,{htmlFor:"status",className:"text-gray-300",children:["Payment Status ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsxs(tt,{value:u,onValueChange:h,disabled:K,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground mt-1",children:a.jsx(rt,{placeholder:"Select status"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:L.map(H=>a.jsx(xe,{value:H.payment_status_aid.toString(),children:H.payment_status_name},H.payment_status_aid))})]})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"referenceNumber",className:"text-gray-300",children:"Reference Number"}),a.jsx(ae,{id:"referenceNumber",type:"text",value:w,onChange:H=>N(H.target.value),disabled:K,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground mt-1",placeholder:"Enter reference number"})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"paymentDate",className:"text-gray-300",children:"Payment Date"}),a.jsx(ae,{id:"paymentDate",type:"date",value:j,onChange:H=>b(H.target.value),disabled:K,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground mt-1"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-300",children:"Receipt Upload"}),a.jsxs("div",{className:"mt-2 space-y-2",children:[a.jsx("input",{ref:O,type:"file",accept:"image/*,.pdf",multiple:!0,onChange:B,disabled:K,className:"hidden"}),a.jsxs(ie,{type:"button",variant:"outline",onClick:()=>O.current?.click(),disabled:K,className:"w-full bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a]",children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),E.length>0?"Add More Files":"Upload Receipt"]}),E.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-xs text-gray-400",children:[E.length," file(s) selected"]}),E.map((H,G)=>a.jsxs("div",{className:"flex items-center justify-between bg-[#0a0a0a] border border-[#2a2a2a] rounded p-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[H.type.startsWith("image/")?a.jsx(e0,{className:"w-4 h-4 text-[#EAEB80] flex-shrink-0"}):a.jsx(Ln,{className:"w-4 h-4 text-[#EAEB80] flex-shrink-0"}),a.jsx("span",{className:"text-sm text-foreground truncate",children:H.name}),a.jsxs("span",{className:"text-xs text-gray-400 flex-shrink-0",children:["(",(H.size/1024).toFixed(1)," KB)"]})]}),a.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(G),disabled:K,className:"text-red-400 hover:text-red-300 hover:bg-red-400/10 ml-2",children:a.jsx(pr,{className:"w-4 h-4"})})]},G))]})]})]}),a.jsxs("div",{children:[a.jsx(Se,{htmlFor:"remarks",className:"text-gray-300",children:"Remarks"}),a.jsx(Fa,{id:"remarks",value:S,onChange:H=>A(H.target.value),disabled:K,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground mt-1",placeholder:"Enter any additional notes",rows:3})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-[#2a2a2a]",children:[a.jsx(ie,{type:"button",variant:"outline",onClick:e,disabled:K,className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{type:"submit",disabled:K,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:K?"Saving...":l?"Update Payment":"Create Payment"})]})]})]})})}const cUe=t=>{try{const[e,r]=t.split("-");return new Date(parseInt(e),parseInt(r)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})}catch{return t}};function dUe({isOpen:t,onClose:e,payment:r}){const[n,s]=y.useState(0),[i,o]=y.useState([]),[l,c]=y.useState(!1),{toast:d}=kr();if(y.useEffect(()=>{if(!t||!r){o([]),s(0),c(!1);return}if(!r.payments_attachment){o([]),s(0),c(!1);return}c(!0),o([]),(async()=>{try{const w=JSON.parse(r.payments_attachment),N=Array.isArray(w)?w:[w];if(N.every(b=>typeof b=="string"&&!b.startsWith("/uploads/")&&!b.startsWith("http"))&&N.length>0){const S=(await Promise.all(N.map(async P=>{try{const O=await fetch(je(`/api/payments/receipt/file-url?fileId=${encodeURIComponent(P)}`),{credentials:"include"});if(!O.ok){const _=await O.json().catch(()=>({}));throw _.error?.includes("folder")||_.error?.includes("Folder")?(console.error(` [Payment Receipts] ID ${P} is a folder, not a file`),new Error("Invalid file ID: The stored ID appears to be a folder ID, not a file ID. Please re-upload the receipt.")):new Error(_.error||"Failed to fetch file URL")}const k=await O.json();if(k.isFolder&&Array.isArray(k.data))return console.log(` [Payment Receipts] Folder ID detected (${P}), found ${k.fileCount||k.data.length} file(s) in folder "${k.folderName||"Payment_History_Receipt"}"`),console.log(" [Payment Receipts] Extracted Google Drive file IDs from folder:",k.fileIds||k.data.map(_=>_.fileId)),k.data.map(_=>({..._,fileId:_.fileId,mimeType:_.mimeType&&_.mimeType!=="application/vnd.google-apps.folder"?_.mimeType:void 0}));const L=Array.isArray(k.data)?k.data[0]:k.data;if(L.mimeType==="application/vnd.google-apps.folder")throw console.error(` [Payment Receipts] ID ${P} is a folder, not a file`),new Error("Invalid file ID: The stored ID is a folder ID, not a file ID. Please re-upload the receipt.");const R=L.previewUrl||`https://drive.google.com/file/d/${L.fileId||P}/preview`;return console.log(` [Payment Receipts] Loaded file: ${L.name} (ID: ${L.fileId||P}, Type: ${L.mimeType})`),{...L,fileId:L.fileId||P,previewUrl:R,webViewLink:L.webViewLink||R,webContentLink:L.webContentLink||R}}catch(O){return console.error(` [Payment Receipts] Failed to fetch file URL for ${P}:`,O),{fileId:P,previewUrl:null,webViewLink:null,webContentLink:null,name:`Error loading file ${P}`,mimeType:"unknown",error:O?.message||"Failed to load file"}}}))).flat(),A=S.filter(P=>!P.error&&P.fileId&&P.fileId!=="error"&&P.mimeType!=="application/vnd.google-apps.folder"),E=S.filter(P=>P.error);E.length>0&&console.warn(` [Payment Receipts] ${E.length} file(s) failed to load:`,E.map(P=>P.fileId)),A.length>0&&console.log(" [Payment Receipts] Final file IDs to display:",A.map(P=>P.fileId)),A.length===0&&E.length>0?o([{fileId:"error",name:"Error loading receipts",mimeType:"unknown",error:E[0].error||"Failed to load receipt files"}]):o(A),s(0),c(!1)}else{const b=N.map(S=>S.startsWith("http://")||S.startsWith("https://")?{fileId:S,webViewLink:S,webContentLink:S}:{fileId:S,webViewLink:je(S),webContentLink:je(S)});o(b),s(0),c(!1)}}catch(w){if(console.error("Failed to parse attachments:",w),r.payments_attachment&&typeof r.payments_attachment=="string"){const N=r.payments_attachment,j=N.startsWith("http://")||N.startsWith("https://")?N:je(N);o([{fileId:N,webViewLink:j,webContentLink:j}]),s(0)}else o([]);c(!1)}})()},[r,t]),!r)return null;const u=i.length>0,h=u?i[n]:null,f=h?.fileId?je(`/api/payments/receipt/file-content?fileId=${encodeURIComponent(h.fileId)}`):h?.webViewLink||h?.webContentLink||h?.previewUrl||null,m=()=>{s(g=>g>0?g-1:i.length-1)},x=()=>{s(g=>g<i.length-1?g+1:0)},p=()=>{if(!h)return;const g=h.webContentLink||h.webViewLink||h.previewUrl;g&&window.open(g,"_blank")},v=g=>{if(!g)return"unknown";if(g.mimeType){if(g.mimeType.startsWith("image/"))return"image";if(g.mimeType==="application/pdf")return"pdf"}const N=(g.name||g.fileId||"").split(".").pop()?.toLowerCase()||"";return["jpg","jpeg","png","gif","webp","bmp"].includes(N)?"image":N==="pdf"?"pdf":"unknown"};return a.jsx($t,{open:t,onOpenChange:e,children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground max-w-4xl max-h-[90vh] overflow-hidden",children:[a.jsxs(Dt,{children:[a.jsxs(Mt,{className:"text-foreground text-xl flex items-center justify-between",children:[a.jsx("span",{children:"Payment Receipt"}),u&&i.length>1&&a.jsxs("span",{className:"text-sm text-gray-400 font-normal",children:[n+1," / ",i.length]})]}),a.jsxs(Ut,{className:"text-gray-400",children:["Receipt for ",cUe(r.payments_year_month)]})]}),a.jsxs("div",{className:"flex flex-col h-full",children:[l?a.jsx("div",{className:"flex items-center justify-center p-12 bg-[#1a1a1a] rounded-lg min-h-[400px]",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Gt,{className:"w-8 h-8 mx-auto mb-4 text-[#EAEB80] animate-spin"}),a.jsx("p",{className:"text-gray-400",children:"Loading receipt files..."})]})}):u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-1 bg-[#1a1a1a] rounded-lg overflow-auto p-4 min-h-[400px] max-h-[600px]",children:h&&h.error?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-900/20 flex items-center justify-center",children:a.jsx(pr,{className:"w-8 h-8 text-red-400"})}),a.jsx("p",{className:"text-red-400 text-lg mb-2",children:"Error Loading Receipt"}),a.jsx("p",{className:"text-gray-400 text-sm max-w-md",children:h.error}),a.jsxs("p",{className:"text-gray-500 text-xs mt-4",children:["File ID: ",h.fileId]}),a.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"If this error persists, the receipt may need to be re-uploaded."})]})}):h&&f?a.jsx(a.Fragment,{children:v(h)==="image"?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("img",{src:f||"",alt:`Receipt ${n+1}`,className:"max-w-full max-h-full object-contain",loading:"eager",onLoad:()=>{console.log(` [Payment Receipts] Image loaded: ${h?.name}`)},onError:g=>{console.error("Failed to load image via proxy:",f);const w=h?.webContentLink||h?.webViewLink||h?.previewUrl;w&&f!==w&&(g.target.src=w)}})}):v(h)==="pdf"?a.jsx("iframe",{src:f||"",title:`Receipt ${n+1}`,className:"w-full h-full min-h-[400px] border-0",allow:"fullscreen",loading:"eager",onLoad:()=>{console.log(` [Payment Receipts] PDF loaded: ${h?.name}`)},onError:()=>{if(console.error("Failed to load PDF via proxy:",f),h?.previewUrl&&f!==h.previewUrl){const g=document.querySelector(`iframe[title="Receipt ${n+1}"]`);g&&(g.src=h.previewUrl)}}}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-400",children:"Unsupported file type"}),a.jsxs(ie,{variant:"outline",onClick:p,className:"mt-4 bg-[#2a2a2a] text-foreground hover:bg-[#3a3a3a] border-[#2a2a2a]",children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Download File"]})]})})}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-gray-400",children:"No file to display"})})})}),h&&h.fileId&&h.fileId!=="error"&&a.jsx("div",{className:"mt-4 p-3 bg-[#1a1a1a] rounded-lg border border-[#2a2a2a]",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"File ID:"}),a.jsx("div",{className:"flex items-center gap-2",children:h.mimeType!=="application/vnd.google-apps.folder"?a.jsxs(a.Fragment,{children:[a.jsx("a",{href:`https://drive.google.com/file/d/${h.fileId}/view`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[#EAEB80] hover:text-[#d4d570] hover:underline break-all font-mono",title:"Open in Google Drive",children:h.fileId}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:async()=>{try{await navigator.clipboard.writeText(h.fileId),d({title:"Copied!",description:"File ID copied to clipboard"})}catch{d({title:"Error",description:"Failed to copy file ID",variant:"destructive"})}},className:"h-6 w-6 p-0 text-gray-400 hover:text-foreground",title:"Copy File ID",children:a.jsx(iU,{className:"w-3 h-3"})}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{window.open(`https://drive.google.com/file/d/${h.fileId}/view`,"_blank")},className:"h-6 w-6 p-0 text-gray-400 hover:text-foreground",title:"Open in Google Drive",children:a.jsx(Ar,{className:"w-3 h-3"})})]}):a.jsxs("div",{className:"text-sm text-yellow-400",children:[a.jsx("p",{children:"Folder ID detected. Please re-upload the receipt file."}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Folder ID: ",h.fileId]})]})})]})})}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[#2a2a2a] mt-4",children:[a.jsx("div",{className:"flex items-center gap-2",children:i.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(ie,{variant:"outline",size:"sm",onClick:m,className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border-[#2a2a2a]",children:a.jsx(Kl,{className:"w-4 h-4"})}),a.jsx(ie,{variant:"outline",size:"sm",onClick:x,className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border-[#2a2a2a]",children:a.jsx(pa,{className:"w-4 h-4"})})]})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ie,{variant:"outline",size:"sm",onClick:p,className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border-[#2a2a2a]",children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Download"]})})]})]}):a.jsx("div",{className:"flex items-center justify-center p-12 bg-[#1a1a1a] rounded-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[#2a2a2a] flex items-center justify-center",children:a.jsx(pr,{className:"w-8 h-8 text-gray-500"})}),a.jsx("p",{className:"text-gray-400 text-lg",children:"No receipt attached"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Upload a receipt to view it here"})]})}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx(ie,{variant:"outline",onClick:e,className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border-[#2a2a2a]",children:"Close"})})]})]})})}const Md=t=>{const r=Math.abs(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return t<0?`($ ${r})`:`$ ${r}`},uUe=t=>{if(!t)return"--";try{return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return t}},kB=t=>{try{const[e,r]=t.split("-");return new Date(parseInt(e),parseInt(r)-1).toLocaleDateString("en-US",{year:"numeric",month:"long"})}catch{return t}};function hUe(){const[,t]=Ia("/admin/cars/:id/payments"),[,e]=wr(),r=t?.id?parseInt(t.id,10):null,[n,s]=y.useState("All"),[i,o]=y.useState(""),[l,c]=y.useState(!1),[d,u]=y.useState(!1),[h,f]=y.useState(!1),[m,x]=y.useState(!1),[p,v]=y.useState(null),g=Wr(),{toast:w}=kr(),{data:N}=Ge({queryKey:["/api/auth/me"],queryFn:async()=>(await fetch(je("/api/auth/me"),{credentials:"include"})).json(),staleTime:5*60*1e3}),j=N?.user,b=j?.isAdmin===!0;j?.isClient;const{data:S,isLoading:A,error:E}=Ge({queryKey:["/api/cars",r],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const Q=je(`/api/cars/${r}`),te=await fetch(Q,{credentials:"include"});if(!te.ok)throw new Error("Failed to fetch car");return te.json()},enabled:!!r,retry:!1}),P=S?.data,{data:O}=Ge({queryKey:["/api/payment-status"],queryFn:async()=>{const Q=je("/api/payment-status"),te=await fetch(Q,{credentials:"include"});if(!te.ok)throw new Error("Failed to fetch payment statuses");return te.json()}}),k=O?.data||[],{data:L,isLoading:R}=Ge({queryKey:["/api/payments/car",r,n,i],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");let Q=je(`/api/payments/car/${r}`);const te=new URLSearchParams;n&&n!=="All"&&te.append("status",n),i&&te.append("yearMonth",i),te.toString()&&(Q+=`?${te.toString()}`);const U=await fetch(Q,{credentials:"include"});if(!U.ok)throw new Error("Failed to fetch payments");return U.json()},enabled:!!r}),_=L?.data||[],B=_.reduce((Q,te)=>({payable:Q.payable+parseFloat(te.payments_amount.toString()),payout:Q.payout+parseFloat(te.payments_amount_payout.toString()),balance:Q.balance+parseFloat(te.payments_amount_balance.toString())}),{payable:0,payout:0,balance:0}),I=yt({mutationFn:async Q=>{const te=je(`/api/payments/${Q}`),U=await fetch(te,{method:"DELETE",credentials:"include"});if(!U.ok)throw new Error("Failed to delete payment");return U.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/payments/car",r]}),w({title:"Success",description:"Payment deleted successfully"}),f(!1),v(null)},onError:Q=>{w({title:"Error",description:Q.message||"Failed to delete payment",variant:"destructive"})}}),C=Q=>{v(Q),u(!0)},D=Q=>{v(Q),f(!0)},W=Q=>{v(Q),x(!0)},K=()=>{s("All"),o("")};if(A)return a.jsx(jt,{children:a.jsx(Is,{})});if(E||!P)return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("p",{className:"text-red-400",children:"Failed to load car details"}),a.jsx("button",{onClick:()=>e("/cars"),className:"mt-4 text-[#EAEB80] hover:underline",children:" Back to Cars"})]})});const G=P?(Q=>{if(!Q)return"";const te=Q.makeModel||"",U=Q.year?String(Q.year):"",q=Q.licensePlate?Q.licensePlate.trim():"",ne=Q.vin?Q.vin.trim():"",fe=[];return te&&U?fe.push(`${te} ${U}`):te&&fe.push(te),q&&fe.push(`#${q}`),ne&&fe.push(ne),fe.length>0?fe.join(" - "):""})(P):"",ee=P?.owner?`${P.owner.firstName} ${P.owner.lastName}`:"N/A";return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col h-full overflow-x-hidden",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>e(`/admin/view-car/${r}`),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to View Car"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Payment History"}),(G||ee!=="N/A")&&a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:G&&ee!=="N/A"?a.jsxs(a.Fragment,{children:[G," -"," ",P?.clientId?a.jsx("button",{onClick:()=>e(`/admin/clients/${P.clientId}`),className:"text-[#EAEB80] hover:text-[#d4d570] hover:underline transition-colors cursor-pointer",children:ee}):a.jsx("span",{children:ee})]}):G||ee})]}),b&&a.jsxs(ie,{onClick:()=>{if(!P?.clientId){w({title:"Error",description:"Cannot create payment: Car does not have an associated client. Please ensure the car is linked to a client.",variant:"destructive"});return}c(!0)},className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),"Add Payment"]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-auto flex-1",children:a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-4 sm:mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-gray-400 text-sm",children:"Status:"}),a.jsxs(tt,{value:n,onValueChange:s,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground w-[140px]",children:a.jsx(rt,{placeholder:"Filter"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"All",children:"All"}),k.map(Q=>a.jsx(xe,{value:Q.payment_status_name,children:Q.payment_status_name},Q.payment_status_aid))]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-gray-400 text-sm",children:"Month:"}),a.jsxs("div",{className:"relative",children:[a.jsx(EP,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-foreground pointer-events-none z-10"}),a.jsx(ae,{type:"month",value:i,onChange:Q=>o(Q.target.value),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground w-[180px] pr-10 [&::-webkit-calendar-picker-indicator]:opacity-0 [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-moz-calendar-picker-indicator]:opacity-0",style:{colorScheme:"dark",paddingRight:"2.5rem"}})]})]}),(n!=="All"||i)&&a.jsx(ie,{variant:"ghost",onClick:K,className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",children:"Clear Filters"}),a.jsx("div",{className:"flex items-center gap-2 text-gray-400 ml-auto",children:a.jsxs("span",{className:"text-sm",children:["Total: ",_.length]})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ao,{children:[a.jsx(Co,{children:a.jsxs(zr,{className:"border-[#2a2a2a] hover:bg-transparent",children:[a.jsx(He,{className:"text-left text-[#EAEB80] font-medium w-12",children:"#"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium",children:"Status"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium",children:"Date"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium",children:"Payment Date"}),a.jsx(He,{className:"text-right text-[#EAEB80] font-medium",children:"Payable"}),a.jsx(He,{className:"text-right text-[#EAEB80] font-medium",children:"Payout"}),a.jsx(He,{className:"text-right text-[#EAEB80] font-medium",children:"Balance"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium",children:"Ref #"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium",children:"Receipt"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium",children:"Remarks"}),b&&a.jsx(He,{className:"text-center text-[#EAEB80] font-medium",children:"Actions"})]})}),a.jsx(ko,{children:R?a.jsx(zr,{children:a.jsx(qe,{colSpan:b?11:10,className:"text-center py-12 text-gray-500",children:"Loading..."})}):_.length>0?a.jsxs(a.Fragment,{children:[_.map((Q,te)=>a.jsxs(zr,{className:"border-[#2a2a2a] hover:bg-[#1a1a1a] transition-colors",children:[a.jsxs(qe,{className:"text-left text-gray-300",children:[te+1,"."]}),a.jsx(qe,{className:"text-left",children:a.jsx(Ot,{style:{backgroundColor:Q.payment_status_color,color:"#000"},className:"text-xs font-medium",children:Q.payment_status_name})}),a.jsx(qe,{className:"text-left text-foreground",children:kB(Q.payments_year_month)}),a.jsx(qe,{className:"text-left text-gray-400",children:uUe(Q.payments_invoice_date)}),a.jsx(qe,{className:"text-right text-foreground",children:Md(Q.payments_amount)}),a.jsx(qe,{className:"text-right text-foreground",children:Md(Q.payments_amount_payout)}),a.jsx(qe,{className:"text-right text-foreground",children:Md(Q.payments_amount_balance)}),a.jsx(qe,{className:"text-left text-gray-400",children:Q.payments_reference_number||"--"}),a.jsx(qe,{className:"text-center",children:a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>W(Q),className:"text-gray-400 hover:text-[#EAEB80]",children:a.jsx(Ln,{className:"w-4 h-4"})})}),a.jsx(qe,{className:"text-left text-gray-400 max-w-[200px] truncate",title:Q.payments_remarks||void 0,children:Q.payments_remarks||"--"}),b&&a.jsx(qe,{className:"text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>C(Q),className:"text-gray-400 hover:text-[#EAEB80]",children:a.jsx(tl,{className:"w-4 h-4"})}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>D(Q),className:"text-gray-400 hover:text-red-400",children:a.jsx(Ri,{className:"w-4 h-4"})})]})})]},Q.payments_aid)),a.jsxs(zr,{className:"border-t-2 border-[#2a2a2a] bg-[#1a1a1a]/50",children:[a.jsx(qe,{colSpan:4,className:"text-right font-bold text-foreground",children:"Total:"}),a.jsx(qe,{className:"text-right font-bold text-[#EAEB80]",children:Md(B.payable)}),a.jsx(qe,{className:"text-right font-bold text-[#EAEB80]",children:Md(B.payout)}),a.jsx(qe,{className:"text-right font-bold text-[#EAEB80]",children:Md(B.balance)}),a.jsx(qe,{colSpan:b?4:3})]})]}):a.jsx(zr,{children:a.jsx(qe,{colSpan:b?11:10,className:"text-center py-12 text-gray-500",children:"No payment records found"})})})]})})]})}),(l||d)&&a.jsx(lUe,{isOpen:l||d,onClose:()=>{c(!1),u(!1),v(null)},payment:p,carId:r||0,clientId:P?.clientId||(p?p.payments_client_id:0)}),h&&p&&a.jsx($t,{open:h,onOpenChange:f,children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#2a2a2a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground",children:"Delete Payment"}),a.jsxs(Ut,{className:"text-gray-400",children:["Are you sure you want to delete this payment record?",a.jsxs("div",{className:"mt-4 p-4 bg-[#1a1a1a] rounded-md",children:[a.jsxs("p",{className:"text-foreground",children:[a.jsx("span",{className:"text-gray-400",children:"Date:"})," ",kB(p.payments_year_month)]}),a.jsxs("p",{className:"text-foreground",children:[a.jsx("span",{className:"text-gray-400",children:"Amount:"})," ",Md(p.payments_amount)]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[a.jsx(ie,{variant:"outline",onClick:()=>f(!1),className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{onClick:()=>I.mutate(p.payments_aid),disabled:I.isPending,className:"bg-red-600 text-foreground hover:bg-red-700",children:I.isPending?"Deleting...":"Delete"})]})]})}),m&&p&&a.jsx(dUe,{isOpen:m,onClose:()=>{x(!1),v(null)},payment:p})]})})}const ze=t=>`$ ${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`;function PB(){const[t,e]=Ia("/admin/cars/:id/totals"),[r]=Ia("/admin/totals/all"),[,n]=wr(),s=!!r,i=e?.id?parseInt(e.id,10):null,[o,l]=y.useState("Year"),[c,d]=y.useState(new Date().getFullYear().toString()),[u,h]=y.useState(new Date().getFullYear().toString()),[f,m]=y.useState("1"),[x,p]=y.useState("12"),{data:v,isLoading:g,error:w}=Ge({queryKey:["/api/cars",i],queryFn:async()=>{if(!i)throw new Error("Invalid car ID");const C=je(`/api/cars/${i}`),D=await fetch(C,{credentials:"include"});if(!D.ok)throw new Error("Failed to fetch car");return D.json()},enabled:!!i&&!s,retry:!1}),N=v?.data,{data:j}=Ge({queryKey:["/api/onboarding/vin",N?.vin,"onboarding"],queryFn:async()=>{if(!N?.vin)throw new Error("No VIN");const C=je(`/api/onboarding/vin/${encodeURIComponent(N.vin)}`),D=await fetch(C,{credentials:"include"});if(!D.ok){if(D.status===404)return{success:!1,data:null};throw new Error("Failed to fetch onboarding")}return D.json()},enabled:!!N?.vin,retry:!1}),b=j?.success?j?.data:null,{data:S,isLoading:A}=Ge({queryKey:s?["/api/cars/totals/all",o,c,u,f,x]:["/api/cars",i,"totals",o,c,u,f,x],queryFn:async()=>{const C=new URLSearchParams({filter:o,from:c,to:u});(o==="Month"||o==="Quarter")&&(C.append("fromMonth",f),C.append("toMonth",x));const D=je(s?`/api/cars/totals/all?${C.toString()}`:`/api/cars/${i}/totals?${C.toString()}`),W=await fetch(D,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch totals");return W.json()},enabled:s||!!i,retry:!1}),E=S?.data||null;if((g||A)&&!s)return a.jsx(jt,{children:a.jsx(Is,{})});if(!s&&(w||!N))return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("p",{className:"text-red-400",children:"Failed to load car details"}),a.jsx("button",{onClick:()=>n("/cars"),className:"mt-4 text-[#EAEB80] hover:underline",children:" Back to Cars"})]})});const P=N?N.makeModel||`${N.year||""} ${N.vin}`.trim():"",O=N?.owner?`${N.owner.firstName} ${N.owner.lastName}`:"N/A",k=N?.owner?.phone||"N/A",L=N?.owner?.email||"N/A",R=b?.fuelType||N?.fuelType||"N/A",_=b?.tireSize||N?.tireSize||"N/A",B=b?.oilType||N?.oilType||"N/A",I=[{id:"expenses",label:"EXPENSES",total:E?.carManagementSplit||0},{id:"income",label:"INCOME",total:E?.income?.totalProfit||0},{id:"operating-expenses-direct",label:"OPERATING EXPENSES (DIRECT DELIVERY)",total:E?.operatingExpensesDirect?.total||0},{id:"operating-expenses-cogs",label:"OPERATING EXPENSES (COGS - Per Vehicle)",total:E?.expenses?.totalOperatingExpenses||0},{id:"gla",label:"GLA PARKING FEE & LABOR CLEANING",total:E?.gla?.total||0},...s?[{id:"operating-expenses-office",label:"OPERATING EXPENSES (Office Support)",total:E?.operatingExpensesOffice?.total||0}]:[],{id:"reimbursed-bills",label:"REIMBURSED AND NON-REIMBURSED BILLS",total:(E?.reimbursedBills?.electricReimbursed||0)+(E?.reimbursedBills?.gasReimbursed||0)+(E?.reimbursedBills?.uberLyftLimeReimbursed||0)},{id:"history",label:"VEHICLE HISTORY",total:E?.history?.daysRented||0},{id:"payments",label:"PAYMENT HISTORY",total:E?.payments?.total||0}];return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col h-full overflow-y-auto overflow-x-hidden",children:[a.jsxs("div",{className:"mb-6",children:[!s&&a.jsxs("button",{onClick:()=>n(`/admin/view-car/${i}`),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to View Car"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:s?"ALL CARS REPORT - TOTALS":"INDIVIDUAL CAR REPORT - TOTALS"}),!s&&N&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Car: ",N.makeModel||"Unknown Car"]})]})]}),!s&&N&&a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-foreground mb-2",children:"Totals"})}),a.jsxs(ie,{variant:"outline",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a] flex items-center gap-2 w-full sm:w-auto",children:[a.jsx(Un,{className:"w-4 h-4"}),"Export"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Car Information"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Car Name: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-words",children:P})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"VIN #: "}),a.jsx("span",{className:"text-foreground font-mono text-xs sm:text-sm break-all",children:N.vin})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"License: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:N.licensePlate||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Owner Information"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Name: "}),N.clientId?a.jsx("button",{onClick:()=>n(`/admin/clients/${N.clientId}`),className:"text-[#EAEB80] hover:text-[#d4d570] hover:underline transition-colors text-xs sm:text-sm break-words cursor-pointer",children:O}):a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-words",children:O})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Contact #: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:k})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Email: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm break-all",children:L})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Car Specifications"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Fuel/Gas: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:R})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Tire Size: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:_})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"Oil Type: "}),a.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:B})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-400 mb-2 sm:mb-3",children:"Turo Links"}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[N.turoLink&&a.jsx("div",{children:a.jsxs("a",{href:N.turoLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),N.adminTuroLink&&a.jsx("div",{children:a.jsxs("a",{href:N.adminTuroLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-sm flex items-center gap-1",children:["Admin Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),!N.turoLink&&!N.adminTuroLink&&a.jsx("span",{className:"text-gray-500 text-sm",children:"No Turo links available"})]})]})]})]}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs(tt,{value:o,onValueChange:l,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground w-[150px]",children:a.jsx(rt,{placeholder:"Filter"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"Year",children:"Year"}),a.jsx(xe,{value:"Month",children:"Month"}),a.jsx(xe,{value:"Quarter",children:"Quarter"})]})]}),(o==="Month"||o==="Quarter")&&a.jsxs(a.Fragment,{children:[a.jsxs(tt,{value:f,onValueChange:m,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground w-[120px]",children:a.jsx(rt,{placeholder:"From Month"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:Array.from({length:12},(C,D)=>D+1).map(C=>a.jsx(xe,{value:C.toString(),children:new Date(2e3,C-1).toLocaleString("default",{month:"short"})},C))})]}),a.jsxs(tt,{value:x,onValueChange:p,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground w-[120px]",children:a.jsx(rt,{placeholder:"To Month"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:Array.from({length:12},(C,D)=>D+1).map(C=>a.jsx(xe,{value:C.toString(),children:new Date(2e3,C-1).toLocaleString("default",{month:"short"})},C))})]})]}),a.jsxs(tt,{value:c,onValueChange:d,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground w-[120px]",children:a.jsx(rt,{placeholder:"From Year"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:Array.from({length:10},(C,D)=>new Date().getFullYear()-D).map(C=>a.jsx(xe,{value:C.toString(),children:C},C))})]}),a.jsxs(tt,{value:u,onValueChange:h,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground w-[120px]",children:a.jsx(rt,{placeholder:"To Year"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:Array.from({length:10},(C,D)=>new Date().getFullYear()-D).map(C=>a.jsx(xe,{value:C.toString(),children:C},C))})]})]})}),a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden",style:{overflowY:"auto"},children:a.jsx(yH,{type:"multiple",className:"w-full",children:I.map(C=>{if(C.id==="expenses")return a.jsxs(Na,{value:C.id,className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a] mb-2 last:mb-0",children:[a.jsx(Ea,{className:"px-4 sm:px-6 py-3 sm:py-4 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium text-sm sm:text-base",children:C.label})]}),a.jsx("span",{className:"text-foreground font-semibold text-sm sm:text-base",children:"TOTALS"})]})}),a.jsx(Sa,{className:"px-4 sm:px-6 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx("div",{className:"flex justify-between text-gray-300 text-sm font-bold mb-2",children:a.jsx("span",{children:"Car Management and Car Owner Split"})}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Car Management Split"}),a.jsx("span",{className:"text-foreground font-medium",children:ze(E?.carManagementSplit||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Car Owner Split"}),a.jsx("span",{className:"text-foreground font-medium",children:ze(E?.carOwnerSplit||0)})]})]})})]},C.id);if(C.id==="operating-expenses-direct")return a.jsxs(Na,{value:C.id,className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a] mb-2 last:mb-0",children:[a.jsx(Ea,{className:"px-4 sm:px-6 py-3 sm:py-4 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium text-sm sm:text-base",children:C.label})]}),a.jsx("span",{className:"text-foreground font-semibold text-sm sm:text-base",children:"TOTALS"})]})}),a.jsx(Sa,{className:"px-4 sm:px-6 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Labor - Car Cleaning"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesDirect?.laborCarCleaning||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Labor - Driver"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesDirect?.laborDriver||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Parking - Airport"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesDirect?.parkingAirport||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Taxi/Uber/Lyft/Lime"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesDirect?.taxiUberLyftLime||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm font-bold pt-2 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"Total OPERATING EXPENSES (Direct Delivery)"}),a.jsx("span",{className:"text-foreground font-bold",children:ze(E?.operatingExpensesDirect?.total||0)})]})]})})]},C.id);if(C.id==="operating-expenses-cogs")return a.jsxs(Na,{value:C.id,className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a] mb-2 last:mb-0",children:[a.jsx(Ea,{className:"px-4 sm:px-6 py-3 sm:py-4 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium text-sm sm:text-base",children:C.label})]}),a.jsx("span",{className:"text-foreground font-semibold text-sm sm:text-base",children:"TOTALS"})]})}),a.jsx(Sa,{className:"px-4 sm:px-6 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Auto Body Shop / Wreck"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.autoBodyShop||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Alignment"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.alignment||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Battery"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.battery||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Brakes"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.brakes||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Car Payment"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.carPayment||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Car Insurance"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.carInsurance||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Car Seats"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.carSeats||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Cleaning Supplies / Tools"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.cleaningSupplies||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Emissions"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.emissions||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"GPS System"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.gpsSystem||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Keys & Fob"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.keysFob||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Labor - Cleaning"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.laborDetailing||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Parking Airport (Reimbursed - GLA - Client Owner Rentals)"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.parkingAirport||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Uber/Lyft/Lime - Not Reimbursed"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.uberNotReimbursed||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Uber/Lyft/Lime - Reimbursed"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.uberReimbursed||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Gas - Service Run"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.gasServiceRun||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Gas Reimbursed"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.gasReimbursed||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Gas - Not Reimbursed"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.gasNotReimbursed||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Electric Reimbursed"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.electricReimbursed||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Electric - Not Reimbursed"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.electricNotReimbursed||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Windshield"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.windshield||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Wipers"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.wipers||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Uber/Lyft/Lime"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.uberLyftLime||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Towing / Impound Fees"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.towingImpoundFees||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Tired Air Station"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.tiredAirStation||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Tires"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.tires||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Oil/Lube"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.oilLube||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Parts"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.parts||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Ski Racks"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.skiRacks||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Tickets & Tolls"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.ticketsTolls||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Mechanic"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.mechanic||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"License & Registration"}),a.jsx("span",{className:"text-foreground",children:ze(E?.expenses?.licenseRegistration||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm font-bold pt-2 border-t border-[#2a2a2a]",children:[a.jsx("span",{className:"font-bold",children:"Total OPERATING EXPENSES (COGS - Per Vehicle)"}),a.jsx("span",{className:"text-foreground font-bold",children:ze(E?.expenses?.totalOperatingExpenses||0)})]})]})})]},C.id);if(C.id==="income"){const D=E?.income?.negativeBalance||0,W=K=>K<0?`$ (${Math.abs(K).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})`:ze(K);return a.jsxs(Na,{value:C.id,className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a] mb-2 last:mb-0",children:[a.jsx(Ea,{className:"px-4 sm:px-6 py-3 sm:py-4 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium text-sm sm:text-base",children:C.label})]}),a.jsx("span",{className:"text-foreground font-semibold text-sm sm:text-base",children:"TOTALS"})]})}),a.jsx(Sa,{className:"px-4 sm:px-6 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Rental Income"}),a.jsx("span",{className:"text-foreground",children:ze(E?.income?.rentalIncome||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Delivery Income"}),a.jsx("span",{className:"text-foreground",children:ze(E?.income?.deliveryIncome||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Electric Prepaid Income"}),a.jsx("span",{className:"text-foreground",children:ze(E?.income?.electricPrepaidIncome||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Smoking Fines"}),a.jsx("span",{className:"text-foreground",children:ze(E?.income?.smokingFines||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Gas Prepaid Income"}),a.jsx("span",{className:"text-foreground",children:ze(E?.income?.gasPrepaidIncome||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Miles Income"}),a.jsx("span",{className:"text-foreground",children:ze(E?.income?.milesIncome||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Ski Racks Income"}),a.jsx("span",{className:"text-foreground",children:ze(E?.income?.skiRacksIncome||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Child Seat Income"}),a.jsx("span",{className:"text-foreground",children:ze(E?.income?.childSeatIncome||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Coolers Income"}),a.jsx("span",{className:"text-foreground",children:ze(E?.income?.coolersIncome||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Income Insurance and Client Wrecks"}),a.jsx("span",{className:"text-foreground",children:ze(E?.income?.incomeInsurance||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Other Income"}),a.jsx("span",{className:"text-foreground",children:ze(E?.income?.otherIncome||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Negative Balance Carry Over"}),a.jsx("span",{className:D<0?"text-[#EAEB80]":"text-foreground",children:W(D)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm pt-2 border-t border-[#2a2a2a]",children:[a.jsx("span",{className:"font-medium",children:"Car Management Total Expenses"}),a.jsx("span",{className:"text-foreground font-semibold",children:ze(E?.income?.carManagementTotalExpenses||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{className:"font-medium",children:"Car Owner Total Expenses"}),a.jsx("span",{className:"text-foreground font-semibold",children:ze(E?.income?.carOwnerTotalExpenses||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm font-bold pt-2 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"Total Expenses"}),a.jsx("span",{className:"text-foreground font-bold",children:ze(E?.income?.totalExpenses||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm font-bold",children:[a.jsx("span",{children:"Car Payment"}),a.jsx("span",{className:"text-foreground font-bold",children:ze(E?.income?.carPayment||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm font-bold",children:[a.jsx("span",{children:"Total Profit"}),a.jsx("span",{className:"text-foreground font-bold",children:ze(E?.income?.totalProfit||0)})]})]})})]},C.id)}return C.id==="gla"?a.jsxs(Na,{value:C.id,className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a] mb-2 last:mb-0",children:[a.jsx(Ea,{className:"px-4 sm:px-6 py-3 sm:py-4 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium text-sm sm:text-base",children:C.label})]}),a.jsx("span",{className:"text-foreground font-semibold text-sm sm:text-base",children:"TOTALS"})]})}),a.jsx(Sa,{className:"px-4 sm:px-6 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"GLA Labor - Cleaning"}),a.jsx("span",{className:"text-foreground",children:ze(E?.gla?.laborCleaning||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"GLA Parking Fee"}),a.jsx("span",{className:"text-foreground",children:ze(E?.gla?.parkingFee||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm font-bold pt-2 border-t border-[#2a2a2a]",children:[a.jsx("span",{className:"font-bold",children:"Total GLA PARKING FEE & LABOR CLEANING"}),a.jsx("span",{className:"text-foreground font-bold",children:ze(E?.gla?.total||0)})]})]})})]},C.id):C.id==="reimbursed-bills"?a.jsxs(Na,{value:C.id,className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a] mb-2 last:mb-0",children:[a.jsx(Ea,{className:"px-4 sm:px-6 py-3 sm:py-4 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium text-sm sm:text-base",children:C.label})]}),a.jsx("span",{className:"text-foreground font-semibold text-sm sm:text-base",children:"TOTALS"})]})}),a.jsx(Sa,{className:"px-4 sm:px-6 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Electric - Reimbursed"}),a.jsx("span",{className:"text-foreground",children:ze(E?.reimbursedBills?.electricReimbursed||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Electric - Not Reimbursed"}),a.jsx("span",{className:"text-foreground",children:ze(E?.reimbursedBills?.electricNotReimbursed||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Gas - Reimbursed"}),a.jsx("span",{className:"text-foreground",children:ze(E?.reimbursedBills?.gasReimbursed||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Gas - Not Reimbursed"}),a.jsx("span",{className:"text-foreground",children:ze(E?.reimbursedBills?.gasNotReimbursed||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Gas - Service Run"}),a.jsx("span",{className:"text-foreground",children:ze(E?.reimbursedBills?.gasServiceRun||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Parking Airport"}),a.jsx("span",{className:"text-foreground",children:ze(E?.reimbursedBills?.parkingAirport||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Uber/Lyft/Lime - Reimbursed"}),a.jsx("span",{className:"text-foreground",children:ze(E?.reimbursedBills?.uberLyftLimeReimbursed||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Uber/Lyft/Lime - Not Reimbursed"}),a.jsx("span",{className:"text-foreground",children:ze(E?.reimbursedBills?.uberLyftLimeNotReimbursed||0)})]})]})})]},C.id):C.id==="operating-expenses-office"?a.jsxs(Na,{value:C.id,className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a] mb-2 last:mb-0",children:[a.jsx(Ea,{className:"px-4 sm:px-6 py-3 sm:py-4 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium text-sm sm:text-base",children:C.label})]}),a.jsx("span",{className:"text-foreground font-semibold text-sm sm:text-base",children:"TOTALS"})]})}),a.jsx(Sa,{className:"px-4 sm:px-6 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Accounting & Professional Fees"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.accountingProfessionalFees||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Advertizing"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.advertizing||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Bank Charges"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.bankCharges||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Detail Mobile"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.detailMobile||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Charitable Contributions"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.charitableContributions||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Computer & Internet"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.computerInternet||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Delivery, Postage & Freight"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.deliveryPostageFreight||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Detail Shop Equipment"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.detailShopEquipment||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Dues & Subscription"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.duesSubscription||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"General and administrative (G&A)"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.generalAdministrative||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Health & Wellness"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.healthWellness||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Labor - Human Resources"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.laborHumanResources||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Labor - Marketing"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.laborMarketing||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Office Rent"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.officeRent||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Outside & Staff Contractors"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.outsideStaffContractors||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Park n Jet Booth"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.parknJetBooth||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Printing"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.printing||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Referral"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.referral||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Repairs & Maintenance"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.repairsMaintenance||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Sales Tax"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.salesTax||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Security Cameras"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.securityCameras||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Supplies & Materials"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.suppliesMaterials||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Taxes and License"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.taxesLicense||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Telephone"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.telephone||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Travel"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.travel||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Labor Software"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.laborSoftware||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Legal & Professional"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.legalProfessional||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Marketing"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.marketing||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Meals & Entertainment"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.mealsEntertainment||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Office Expense"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.officeExpense||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Labor Sales"}),a.jsx("span",{className:"text-foreground",children:ze(E?.operatingExpensesOffice?.laborSales||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm font-bold pt-2 border-t border-[#2a2a2a]",children:[a.jsx("span",{className:"font-bold",children:"Total OPERATING EXPENSES (Office Support)"}),a.jsx("span",{className:"text-foreground font-bold",children:ze(E?.operatingExpensesOffice?.total||0)})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-base font-extrabold",children:[a.jsx("span",{className:"font-extrabold",children:"Total Expenses"}),a.jsx("span",{className:"text-foreground font-extrabold",children:ze(E?.operatingExpensesOffice?.totalExpenses||0)})]})]})})]},C.id):C.id==="history"?a.jsxs(Na,{value:C.id,className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a] mb-2 last:mb-0",children:[a.jsx(Ea,{className:"px-4 sm:px-6 py-3 sm:py-4 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium text-sm sm:text-base",children:C.label})]}),a.jsx("span",{className:"text-foreground font-semibold text-sm sm:text-base",children:"TOTALS"})]})}),a.jsx(Sa,{className:"px-4 sm:px-6 pb-4 bg-[#0a0a0a]",children:a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Days Rented"}),a.jsx("span",{className:"text-foreground font-medium",children:E?.history?.daysRented||0})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Cars Available For Rent"}),a.jsx("span",{className:"text-foreground font-medium",children:E?.history?.carsAvailableForRent||0})]}),a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"Trips Taken"}),a.jsx("span",{className:"text-foreground font-medium",children:E?.history?.tripsTaken||0})]})]})})]},C.id):C.id==="payments"?a.jsxs(Na,{value:C.id,className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a] mb-2 last:mb-0",children:[a.jsx(Ea,{className:"px-4 sm:px-6 py-3 sm:py-4 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium text-sm sm:text-base",children:C.label})]}),a.jsx("span",{className:"text-foreground font-semibold text-sm sm:text-base",children:"TOTALS"})]})}),a.jsx(Sa,{className:"px-4 sm:px-6 pb-4 bg-[#0a0a0a]",children:a.jsx("div",{className:"space-y-2 pt-2",children:a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsxs("span",{children:[c," - ",u]}),a.jsx("span",{className:"text-foreground font-semibold",children:ze(E?.payments?.total||0)})]})})})]},C.id):a.jsxs(Na,{value:C.id,className:"border border-[#2a2a2a] rounded-lg overflow-hidden bg-[#1a1a1a] mb-2 last:mb-0",children:[a.jsx(Ea,{className:"px-4 sm:px-6 py-3 sm:py-4 hover:bg-[#2a2a2a] transition-colors [&>svg]:hidden",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mr,{className:"w-4 h-4 text-[#EAEB80] group-data-[state=open]:hidden"}),a.jsx(za,{className:"w-4 h-4 text-[#EAEB80] hidden group-data-[state=open]:block"}),a.jsx("span",{className:"text-foreground font-medium text-sm sm:text-base",children:C.label})]}),a.jsx("span",{className:"text-foreground font-semibold text-sm sm:text-base",children:"TOTALS"})]})}),a.jsx(Sa,{className:"px-4 sm:px-6 pb-4 bg-[#0a0a0a]",children:a.jsx("div",{className:"space-y-2 pt-2",children:a.jsxs("div",{className:"flex justify-between text-gray-300 text-sm",children:[a.jsx("span",{children:"No data available"}),a.jsx("span",{className:"text-foreground",children:ze(C.total)})]})})})]},C.id)})})})]})})}function fUe(t){const e=mUe(t),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(xUe);if(c){const d=c.props.children,u=l.map(h=>h===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,u):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function mUe(t){const e=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=vUe(s),l=gUe(i,s.props);return s.type!==y.Fragment&&(l.ref=n?xs(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pUe=Symbol("radix.slottable");function xUe(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pUe}function gUe(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function vUe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var oN="Popover",[YK]=Da(oN,[bd]),I0=bd(),[yUe,Od]=YK(oN),QK=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,l=I0(e),c=y.useRef(null),[d,u]=y.useState(!1),[h,f]=ni({prop:n,defaultProp:s??!1,onChange:i,caller:oN});return a.jsx(BP,{...l,children:a.jsx(yUe,{scope:e,contentId:na(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:d,onCustomAnchorAdd:y.useCallback(()=>u(!0),[]),onCustomAnchorRemove:y.useCallback(()=>u(!1),[]),modal:o,children:r})})};QK.displayName=oN;var ZK="PopoverAnchor",bUe=y.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Od(ZK,r),i=I0(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return y.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(n0,{...i,...n,ref:e})});bUe.displayName=ZK;var JK="PopoverTrigger",eX=y.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Od(JK,r),i=I0(r),o=sr(e,s.triggerRef),l=a.jsx(pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sX(s.open),...n,ref:o,onClick:at(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(n0,{asChild:!0,...i,children:l})});eX.displayName=JK;var E_="PopoverPortal",[wUe,jUe]=YK(E_,{forceMount:void 0}),tX=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,i=Od(E_,e);return a.jsx(wUe,{scope:e,forceMount:r,children:a.jsx(as,{present:r||i.open,children:a.jsx(dm,{asChild:!0,container:s,children:n})})})};tX.displayName=E_;var am="PopoverContent",rX=y.forwardRef((t,e)=>{const r=jUe(am,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,i=Od(am,t.__scopePopover);return a.jsx(as,{present:n||i.open,children:i.modal?a.jsx(EUe,{...s,ref:e}):a.jsx(SUe,{...s,ref:e})})});rX.displayName=am;var NUe=fUe("PopoverContent.RemoveScroll"),EUe=y.forwardRef((t,e)=>{const r=Od(am,t.__scopePopover),n=y.useRef(null),s=sr(e,n),i=y.useRef(!1);return y.useEffect(()=>{const o=n.current;if(o)return gj(o)},[]),a.jsx(s0,{as:NUe,allowPinchZoom:!0,children:a.jsx(nX,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(t.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:at(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:at(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),SUe=y.forwardRef((t,e)=>{const r=Od(am,t.__scopePopover),n=y.useRef(!1),s=y.useRef(!1);return a.jsx(nX,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),nX=y.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=t,f=Od(am,r),m=I0(r);return pj(),a.jsx(a0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Uu,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:a.jsx(uj,{"data-state":sX(f.open),role:"dialog",id:f.contentId,...m,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),aX="PopoverClose",AUe=y.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Od(aX,r);return a.jsx(pt.button,{type:"button",...n,ref:e,onClick:at(t.onClick,()=>s.onOpenChange(!1))})});AUe.displayName=aX;var CUe="PopoverArrow",kUe=y.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=I0(r);return a.jsx(hj,{...s,...n,ref:e})});kUe.displayName=CUe;function sX(t){return t?"open":"closed"}var PUe=QK,TUe=eX,OUe=tX,iX=rX;const TB=PUe,OB=TUe,sk=y.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>a.jsx(OUe,{children:a.jsx(iX,{ref:s,align:e,sideOffset:r,className:_e("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...n})}));sk.displayName=iX.displayName;var _B=1,_Ue=.9,RUe=.8,IUe=.17,bE=.1,wE=.999,FUe=.9999,DUe=.99,MUe=/[\\\/_+.#"@\[\(\{&]/,LUe=/[\\\/_+.#"@\[\(\{&]/g,BUe=/[\s-]/,oX=/[\s-]/g;function ik(t,e,r,n,s,i,o){if(i===e.length)return s===t.length?_B:DUe;var l=`${s},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),d=r.indexOf(c,s),u=0,h,f,m,x;d>=0;)h=ik(t,e,r,n,d+1,i+1,o),h>u&&(d===s?h*=_B:MUe.test(t.charAt(d-1))?(h*=RUe,m=t.slice(s,d-1).match(LUe),m&&s>0&&(h*=Math.pow(wE,m.length))):BUe.test(t.charAt(d-1))?(h*=_Ue,x=t.slice(s,d-1).match(oX),x&&s>0&&(h*=Math.pow(wE,x.length))):(h*=IUe,s>0&&(h*=Math.pow(wE,d-s))),t.charAt(d)!==e.charAt(i)&&(h*=FUe)),(h<bE&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(f=ik(t,e,r,n,d+1,i+2,o),f*bE>h&&(h=f*bE)),h>u&&(u=h),d=r.indexOf(c,d+1);return o[l]=u,u}function RB(t){return t.toLowerCase().replace(oX," ")}function $Ue(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,ik(t,e,RB(t),RB(e),0,0,{})}var Np='[cmdk-group=""]',jE='[cmdk-group-items=""]',UUe='[cmdk-group-heading=""]',lX='[cmdk-item=""]',IB=`${lX}:not([aria-disabled="true"])`,ok="cmdk-item-select",Eh="data-value",VUe=(t,e,r)=>$Ue(t,e,r),cX=y.createContext(void 0),F0=()=>y.useContext(cX),dX=y.createContext(void 0),S_=()=>y.useContext(dX),uX=y.createContext(void 0),hX=y.forwardRef((t,e)=>{let r=Sh(()=>{var G,ee;return{search:"",value:(ee=(G=t.value)!=null?G:t.defaultValue)!=null?ee:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Sh(()=>new Set),s=Sh(()=>new Map),i=Sh(()=>new Map),o=Sh(()=>new Set),l=fX(t),{label:c,children:d,value:u,onValueChange:h,filter:f,shouldFilter:m,loop:x,disablePointerSelection:p=!1,vimBindings:v=!0,...g}=t,w=na(),N=na(),j=na(),b=y.useRef(null),S=JUe();Mu(()=>{if(u!==void 0){let G=u.trim();r.current.value=G,A.emit()}},[u]),Mu(()=>{S(6,R)},[]);let A=y.useMemo(()=>({subscribe:G=>(o.current.add(G),()=>o.current.delete(G)),snapshot:()=>r.current,setState:(G,ee,Q)=>{var te,U,q,ne;if(!Object.is(r.current[G],ee)){if(r.current[G]=ee,G==="search")L(),O(),S(1,k);else if(G==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let fe=document.getElementById(j);fe?fe.focus():(te=document.getElementById(w))==null||te.focus()}if(S(7,()=>{var fe;r.current.selectedItemId=(fe=_())==null?void 0:fe.id,A.emit()}),Q||S(5,R),((U=l.current)==null?void 0:U.value)!==void 0){let fe=ee??"";(ne=(q=l.current).onValueChange)==null||ne.call(q,fe);return}}A.emit()}},emit:()=>{o.current.forEach(G=>G())}}),[]),E=y.useMemo(()=>({value:(G,ee,Q)=>{var te;ee!==((te=i.current.get(G))==null?void 0:te.value)&&(i.current.set(G,{value:ee,keywords:Q}),r.current.filtered.items.set(G,P(ee,Q)),S(2,()=>{O(),A.emit()}))},item:(G,ee)=>(n.current.add(G),ee&&(s.current.has(ee)?s.current.get(ee).add(G):s.current.set(ee,new Set([G]))),S(3,()=>{L(),O(),r.current.value||k(),A.emit()}),()=>{i.current.delete(G),n.current.delete(G),r.current.filtered.items.delete(G);let Q=_();S(4,()=>{L(),Q?.getAttribute("id")===G&&k(),A.emit()})}),group:G=>(s.current.has(G)||s.current.set(G,new Set),()=>{i.current.delete(G),s.current.delete(G)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:w,inputId:j,labelId:N,listInnerRef:b}),[]);function P(G,ee){var Q,te;let U=(te=(Q=l.current)==null?void 0:Q.filter)!=null?te:VUe;return G?U(G,r.current.search,ee):0}function O(){if(!r.current.search||l.current.shouldFilter===!1)return;let G=r.current.filtered.items,ee=[];r.current.filtered.groups.forEach(te=>{let U=s.current.get(te),q=0;U.forEach(ne=>{let fe=G.get(ne);q=Math.max(fe,q)}),ee.push([te,q])});let Q=b.current;B().sort((te,U)=>{var q,ne;let fe=te.getAttribute("id"),pe=U.getAttribute("id");return((q=G.get(pe))!=null?q:0)-((ne=G.get(fe))!=null?ne:0)}).forEach(te=>{let U=te.closest(jE);U?U.appendChild(te.parentElement===U?te:te.closest(`${jE} > *`)):Q.appendChild(te.parentElement===Q?te:te.closest(`${jE} > *`))}),ee.sort((te,U)=>U[1]-te[1]).forEach(te=>{var U;let q=(U=b.current)==null?void 0:U.querySelector(`${Np}[${Eh}="${encodeURIComponent(te[0])}"]`);q?.parentElement.appendChild(q)})}function k(){let G=B().find(Q=>Q.getAttribute("aria-disabled")!=="true"),ee=G?.getAttribute(Eh);A.setState("value",ee||void 0)}function L(){var G,ee,Q,te;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let U=0;for(let q of n.current){let ne=(ee=(G=i.current.get(q))==null?void 0:G.value)!=null?ee:"",fe=(te=(Q=i.current.get(q))==null?void 0:Q.keywords)!=null?te:[],pe=P(ne,fe);r.current.filtered.items.set(q,pe),pe>0&&U++}for(let[q,ne]of s.current)for(let fe of ne)if(r.current.filtered.items.get(fe)>0){r.current.filtered.groups.add(q);break}r.current.filtered.count=U}function R(){var G,ee,Q;let te=_();te&&(((G=te.parentElement)==null?void 0:G.firstChild)===te&&((Q=(ee=te.closest(Np))==null?void 0:ee.querySelector(UUe))==null||Q.scrollIntoView({block:"nearest"})),te.scrollIntoView({block:"nearest"}))}function _(){var G;return(G=b.current)==null?void 0:G.querySelector(`${lX}[aria-selected="true"]`)}function B(){var G;return Array.from(((G=b.current)==null?void 0:G.querySelectorAll(IB))||[])}function I(G){let ee=B()[G];ee&&A.setState("value",ee.getAttribute(Eh))}function C(G){var ee;let Q=_(),te=B(),U=te.findIndex(ne=>ne===Q),q=te[U+G];(ee=l.current)!=null&&ee.loop&&(q=U+G<0?te[te.length-1]:U+G===te.length?te[0]:te[U+G]),q&&A.setState("value",q.getAttribute(Eh))}function D(G){let ee=_(),Q=ee?.closest(Np),te;for(;Q&&!te;)Q=G>0?QUe(Q,Np):ZUe(Q,Np),te=Q?.querySelector(IB);te?A.setState("value",te.getAttribute(Eh)):C(G)}let W=()=>I(B().length-1),K=G=>{G.preventDefault(),G.metaKey?W():G.altKey?D(1):C(1)},H=G=>{G.preventDefault(),G.metaKey?I(0):G.altKey?D(-1):C(-1)};return y.createElement(pt.div,{ref:e,tabIndex:-1,...g,"cmdk-root":"",onKeyDown:G=>{var ee;(ee=g.onKeyDown)==null||ee.call(g,G);let Q=G.nativeEvent.isComposing||G.keyCode===229;if(!(G.defaultPrevented||Q))switch(G.key){case"n":case"j":{v&&G.ctrlKey&&K(G);break}case"ArrowDown":{K(G);break}case"p":case"k":{v&&G.ctrlKey&&H(G);break}case"ArrowUp":{H(G);break}case"Home":{G.preventDefault(),I(0);break}case"End":{G.preventDefault(),W();break}case"Enter":{G.preventDefault();let te=_();if(te){let U=new Event(ok);te.dispatchEvent(U)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:tVe},c),lN(t,G=>y.createElement(dX.Provider,{value:A},y.createElement(cX.Provider,{value:E},G))))}),zUe=y.forwardRef((t,e)=>{var r,n;let s=na(),i=y.useRef(null),o=y.useContext(uX),l=F0(),c=fX(t),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o?.forceMount;Mu(()=>{if(!d)return l.item(s,o?.id)},[d]);let u=mX(s,i,[t.value,t.children,i],t.keywords),h=S_(),f=xd(S=>S.value&&S.value===u.current),m=xd(S=>d||l.filter()===!1?!0:S.search?S.filtered.items.get(s)>0:!0);y.useEffect(()=>{let S=i.current;if(!(!S||t.disabled))return S.addEventListener(ok,x),()=>S.removeEventListener(ok,x)},[m,t.onSelect,t.disabled]);function x(){var S,A;p(),(A=(S=c.current).onSelect)==null||A.call(S,u.current)}function p(){h.setState("value",u.current,!0)}if(!m)return null;let{disabled:v,value:g,onSelect:w,forceMount:N,keywords:j,...b}=t;return y.createElement(pt.div,{ref:xs(i,e),...b,id:s,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!f,"data-disabled":!!v,"data-selected":!!f,onPointerMove:v||l.getDisablePointerSelection()?void 0:p,onClick:v?void 0:x},t.children)}),WUe=y.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:s,...i}=t,o=na(),l=y.useRef(null),c=y.useRef(null),d=na(),u=F0(),h=xd(m=>s||u.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);Mu(()=>u.group(o),[]),mX(o,l,[t.value,t.heading,c]);let f=y.useMemo(()=>({id:o,forceMount:s}),[s]);return y.createElement(pt.div,{ref:xs(l,e),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&y.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),lN(t,m=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},y.createElement(uX.Provider,{value:f},m))))}),qUe=y.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,s=y.useRef(null),i=xd(o=>!o.search);return!r&&!i?null:y.createElement(pt.div,{ref:xs(s,e),...n,"cmdk-separator":"",role:"separator"})}),HUe=y.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,s=t.value!=null,i=S_(),o=xd(d=>d.search),l=xd(d=>d.selectedItemId),c=F0();return y.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),y.createElement(pt.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:s?t.value:o,onChange:d=>{s||i.setState("search",d.target.value),r?.(d.target.value)}})}),GUe=y.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...s}=t,i=y.useRef(null),o=y.useRef(null),l=xd(d=>d.selectedItemId),c=F0();return y.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,h,f=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let m=d.offsetHeight;u.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return f.observe(d),()=>{cancelAnimationFrame(h),f.unobserve(d)}}},[]),y.createElement(pt.div,{ref:xs(i,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},lN(t,d=>y.createElement("div",{ref:xs(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),KUe=y.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:o,...l}=t;return y.createElement(yj,{open:r,onOpenChange:n},y.createElement(bj,{container:o},y.createElement(pm,{"cmdk-overlay":"",className:s}),y.createElement(xm,{"aria-label":t.label,"cmdk-dialog":"",className:i},y.createElement(hX,{ref:e,...l}))))}),XUe=y.forwardRef((t,e)=>xd(r=>r.filtered.count===0)?y.createElement(pt.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),YUe=y.forwardRef((t,e)=>{let{progress:r,children:n,label:s="Loading...",...i}=t;return y.createElement(pt.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},lN(t,o=>y.createElement("div",{"aria-hidden":!0},o)))}),Ds=Object.assign(hX,{List:GUe,Item:zUe,Input:HUe,Group:WUe,Separator:qUe,Dialog:KUe,Empty:XUe,Loading:YUe});function QUe(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function ZUe(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function fX(t){let e=y.useRef(t);return Mu(()=>{e.current=t}),e}var Mu=typeof window>"u"?y.useEffect:y.useLayoutEffect;function Sh(t){let e=y.useRef();return e.current===void 0&&(e.current=t()),e}function xd(t){let e=S_(),r=()=>t(e.snapshot());return y.useSyncExternalStore(e.subscribe,r,r)}function mX(t,e,r,n=[]){let s=y.useRef(),i=F0();return Mu(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():s.current}})(),c=n.map(d=>d.trim());i.value(t,l,c),(o=e.current)==null||o.setAttribute(Eh,l),s.current=l}),s}var JUe=()=>{let[t,e]=y.useState(),r=Sh(()=>new Map);return Mu(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,s)=>{r.current.set(n,s),e({})}};function eVe(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function lN({asChild:t,children:e},r){return t&&y.isValidElement(e)?y.cloneElement(eVe(e),{ref:e.ref},r(e.props.children)):r(e)}var tVe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const lk=y.forwardRef(({className:t,...e},r)=>a.jsx(Ds,{ref:r,className:_e("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));lk.displayName=Ds.displayName;const ck=y.forwardRef(({className:t,...e},r)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(es,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(Ds.Input,{ref:r,className:_e("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));ck.displayName=Ds.Input.displayName;const dk=y.forwardRef(({className:t,...e},r)=>a.jsx(Ds.List,{ref:r,className:_e("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));dk.displayName=Ds.List.displayName;const uk=y.forwardRef((t,e)=>a.jsx(Ds.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));uk.displayName=Ds.Empty.displayName;const hk=y.forwardRef(({className:t,...e},r)=>a.jsx(Ds.Group,{ref:r,className:_e("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));hk.displayName=Ds.Group.displayName;const rVe=y.forwardRef(({className:t,...e},r)=>a.jsx(Ds.Separator,{ref:r,className:_e("-mx-1 h-px bg-border",t),...e}));rVe.displayName=Ds.Separator.displayName;const Sy=y.forwardRef(({className:t,...e},r)=>a.jsx(Ds.Item,{ref:r,className:_e("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...e}));Sy.displayName=Ds.Item.displayName;function nVe({car:t,onboarding:e,onNavigateToClient:r}){return a.jsx("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-3",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-gray-400 mb-2",children:"Car Information"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs",children:"Car Name: "}),a.jsx("span",{className:"text-foreground text-xs",children:t?.makeModel||`${t?.year||""} ${t?.vin||""}`.trim()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs",children:"VIN #: "}),a.jsx("span",{className:"text-foreground font-mono text-xs",children:t?.vin||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs",children:"License: "}),a.jsx("span",{className:"text-foreground text-xs",children:t?.licensePlate||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-gray-400 mb-2",children:"Owner Information"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs",children:"Name: "}),t?.clientId&&r?a.jsx("button",{onClick:()=>r(t.clientId),className:"text-[#EAEB80] hover:text-[#d4d570] hover:underline transition-colors text-xs cursor-pointer",children:t?.owner?`${t.owner.firstName} ${t.owner.lastName}`:t?.ownerFirstName&&t?.ownerLastName?`${t.ownerFirstName} ${t.ownerLastName}`:"N/A"}):a.jsx("span",{className:"text-foreground text-xs",children:t?.owner?`${t.owner.firstName} ${t.owner.lastName}`:t?.ownerFirstName&&t?.ownerLastName?`${t.ownerFirstName} ${t.ownerLastName}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs",children:"Contact #: "}),a.jsx("span",{className:"text-foreground text-xs",children:t?.owner?.phone||t?.ownerPhone||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs",children:"Email: "}),a.jsx("span",{className:"text-foreground text-xs break-all",children:t?.owner?.email||t?.ownerEmail||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-gray-400 mb-2",children:"Car Specifications"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs",children:"Fuel/Gas: "}),a.jsx("span",{className:"text-foreground text-xs",children:e?.fuelType||t?.fuelType||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs",children:"Tire Size: "}),a.jsx("span",{className:"text-foreground text-xs",children:e?.tireSize||t?.tireSize||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 text-xs",children:"Oil Type: "}),a.jsx("span",{className:"text-foreground text-xs",children:e?.oilType||t?.oilType||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-gray-400 mb-2",children:"Turo Links"}),a.jsxs("div",{className:"space-y-1",children:[t?.turoLink&&a.jsx("div",{children:a.jsxs("a",{href:t.turoLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-xs flex items-center gap-1",children:["Turo Link: View Car",a.jsx(Ar,{className:"w-3 h-3"})]})}),t?.adminTuroLink&&a.jsx("div",{children:a.jsxs("a",{href:t.adminTuroLink,target:"_blank",rel:"noopener noreferrer",className:"text-[#EAEB80] hover:underline text-xs flex items-center gap-1",children:["Admin Turo Link",a.jsx(Ar,{className:"w-3 h-3"})]})}),!t?.turoLink&&!t?.adminTuroLink&&a.jsx("span",{className:"text-gray-500 text-xs",children:"No Turo links available"})]})]})]})})}const pX=y.createContext(void 0);function di(){const t=y.useContext(pX);if(!t)throw new Error("useIncomeExpense must be used within IncomeExpenseProvider");return t}function aVe(){const t=Array.from({length:12},(e,r)=>({month:r+1}));return{formulaSetting:{carManagementSplitPercent:50,carOwnerSplitPercent:50},incomeExpenses:t.map(e=>({...e,rentalIncome:0,deliveryIncome:0,electricPrepaidIncome:0,smokingFines:0,gasPrepaidIncome:0,skiRacksIncome:0,milesIncome:0,childSeatIncome:0,coolersIncome:0,insuranceWreckIncome:0,otherIncome:0,negativeBalanceCarryOver:0,carPayment:0,carManagementTotalExpenses:0,carOwnerTotalExpenses:0})),directDelivery:t.map(e=>({...e,laborCarCleaning:0,laborDelivery:0,parkingAirport:0,parkingLot:0,uberLyftLime:0})),cogs:t.map(e=>({...e,autoBodyShopWreck:0,alignment:0,battery:0,brakes:0,carPayment:0,carInsurance:0,carSeats:0,cleaningSuppliesTools:0,emissions:0,gpsSystem:0,keyFob:0,laborCleaning:0,licenseRegistration:0,mechanic:0,oilLube:0,parts:0,skiRacks:0,tickets:0,tiredAirStation:0,tires:0,towingImpoundFees:0,uberLyftLime:0,windshield:0,wipers:0})),parkingFeeLabor:t.map(e=>({...e,glaParkingFee:0,laborCleaning:0})),reimbursedBills:t.map(e=>({...e,electricReimbursed:0,electricNotReimbursed:0,gasReimbursed:0,gasNotReimbursed:0,gasServiceRun:0,parkingAirport:0,uberLyftLimeNotReimbursed:0,uberLyftLimeReimbursed:0})),officeSupport:t.map(e=>({...e,accountingProfessionalFees:0,advertizing:0,bankCharges:0,detailMobile:0,charitableContributions:0,computerInternet:0,deliveryPostageFreight:0,detailShopEquipment:0,duesSubscription:0,generalAdministrative:0,healthWellness:0,laborSales:0,laborSoftware:0,legalProfessional:0,marketing:0,mealsEntertainment:0,officeExpense:0,officeRent:0,outsideStaffContractors:0,parkNJetBooth:0,printing:0,referral:0,repairsMaintenance:0,salesTax:0,securityCameras:0,shippingFreightDelivery:0,suppliesMaterials:0,taxesLicense:0,telephone:0,travel:0,depreciationExpense:0,vehicleDepreciationExpense:0,vehicleLoanInterestExpense:0})),history:t.map(e=>({...e,daysRented:0,carsAvailableForRent:0,tripsTaken:0})),parkingAirportQB:t.map(e=>({...e,totalParkingAirport:0}))}}function sVe({children:t,carId:e,year:r}){const{toast:n}=kr(),s=Wr(),[i,o]=y.useState(null),[l,c]=y.useState(new Map),d=()=>{const H={};for(let G=1;G<=12;G++)H[G]=50;return H},[u,h]=y.useState(d),[f,m]=y.useState(!1),x=()=>{const H={};for(let G=1;G<=12;G++)H[G]="GLA";return H},[p,v]=y.useState(x),[g,w]=y.useState(!1),[N,j]=y.useState({directDelivery:[],cogs:[],parkingFeeLabor:[],reimbursedBills:[]}),{data:b,isLoading:S}=Ge({queryKey:["/api/income-expense",e,r],queryFn:async()=>{const H=await fetch(je(`/api/income-expense/${e}/${r}`),{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch income/expense data");return H.json()},retry:!1}),A=b?.data||aVe(),E=async()=>{const G=["directDelivery","cogs","parkingFeeLabor","reimbursedBills"].map(async te=>{try{const U=await fetch(je(`/api/income-expense/dynamic-subcategories/${e}/${r}/${te}`),{credentials:"include"});if(U.ok){const q=await U.json();return{categoryType:te,data:q.data||[]}}return{categoryType:te,data:[]}}catch(U){return console.error(`Error fetching ${te} subcategories:`,U),{categoryType:te,data:[]}}}),ee=await Promise.all(G),Q={directDelivery:[],cogs:[],parkingFeeLabor:[],reimbursedBills:[]};ee.forEach(({categoryType:te,data:U})=>{Q[te]=U}),j(Q)};ve.useEffect(()=>{e&&r&&E()},[e,r]);const P=async()=>{await E()},O=async(H,G)=>{try{if(!(await fetch(je("/api/income-expense/dynamic-subcategories/add"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({carId:e,year:parseInt(r),categoryType:H,subcategoryName:G})})).ok)throw new Error("Failed to add subcategory");await E(),n({title:"Success",description:"Subcategory added globally (applies to all cars)"})}catch(ee){throw n({title:"Error",description:ee.message||"Failed to add subcategory",variant:"destructive"}),ee}},k=async(H,G,ee)=>{try{if(!(await fetch(je("/api/income-expense/dynamic-subcategories/update-name"),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({metadataId:G,newName:ee,carId:e,year:parseInt(r),categoryType:H})})).ok)throw new Error("Failed to update subcategory name");await E(),n({title:"Success",description:"Subcategory name updated globally (affects all cars)"})}catch(Q){throw n({title:"Error",description:Q.message||"Failed to update subcategory name",variant:"destructive"}),Q}},L=async(H,G)=>{try{if(!(await fetch(je(`/api/income-expense/dynamic-subcategories/${G}?carId=${e}&year=${r}&categoryType=${H}`),{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete subcategory");await E(),n({title:"Success",description:"Subcategory deleted globally (removed from all cars)"})}catch(ee){throw n({title:"Error",description:ee.message||"Failed to delete subcategory",variant:"destructive"}),ee}},R=async(H,G,ee,Q,te)=>{try{if(!(await fetch(je("/api/income-expense/dynamic-subcategories/update-value"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({metadataId:G,month:ee,value:Q,carId:e,year:parseInt(r),categoryType:H,subcategoryName:te})})).ok)throw new Error("Failed to update subcategory value");await E(),s.invalidateQueries({queryKey:["/api/income-expense",e,r]})}catch(U){throw n({title:"Error",description:U.message||"Failed to update subcategory value",variant:"destructive"}),U}},_=ve.useRef("");ve.useEffect(()=>{const H=`${e}-${r}`;if(_.current!==H&&b?.data){if(_.current=H,b.data.formulaSetting?.monthModes){const ee={...d(),...b.data.formulaSetting.monthModes};h(ee)}else h(d());if(b.data.formulaSetting?.skiRacksOwner){const ee={...x(),...b.data.formulaSetting.skiRacksOwner};v(ee)}else v(x())}},[b,e,r]);const B=async H=>{const G=u[H]===50?70:50,ee={...u,[H]:G};h(ee);const Q=G===70?30:50,te=G===70?70:50;m(!0);try{await Promise.all([W({category:"income",field:"carManagementSplit",month:H,value:Q}),W({category:"income",field:"carOwnerSplit",month:H,value:te})]);const U=await fetch(je("/api/income-expense/formula"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({carId:e,year:parseInt(r),monthModes:ee})});if(!U.ok)throw new Error("Failed to save mode change");const q=await U.json();q.data?.monthModes&&h({...d(),...q.data.monthModes}),s.invalidateQueries({queryKey:["/api/income-expense",e,r]}),n({title:"Success",description:"Mode updated successfully"})}catch(U){h(u),n({title:"Error",description:U.message||"Failed to save mode change",variant:"destructive"})}finally{m(!1)}},I=async H=>{let G,ee;if(v(Q=>{ee={...Q};const U=(Q[H]||"GLA")==="GLA"?"CAR_OWNER":"GLA";return G={...Q,[H]:U},G}),!G||!ee){console.error("State update failed");return}w(!0);try{const Q=await fetch(je("/api/income-expense/formula"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({carId:e,year:parseInt(r),skiRacksOwner:G})});if(!Q.ok){const U=await Q.text();throw new Error(`Failed to save ski racks owner change: ${U}`)}const te=await Q.json();if(te.success&&te.data&&te.data.skiRacksOwner){const U=x();v({...U,...te.data.skiRacksOwner})}s.invalidateQueries({queryKey:["/api/income-expense",e,r]}),n({title:"Success",description:"Ski racks owner updated successfully"})}catch(Q){console.error("Error toggling ski racks owner:",Q),v(ee),n({title:"Error",description:Q.message||"Failed to save ski racks owner change",variant:"destructive"})}finally{w(!1)}},C=(H,G,ee,Q)=>{const te=`${H}-${G}-${ee}`,U=new Map(l);U.set(te,{category:H,field:G,month:ee,value:Q}),c(U)},D=yt({mutationFn:async()=>{const H=new Map;l.forEach(({category:ee,field:Q,month:te,value:U})=>{const q=`${ee}-${te}`;H.has(q)||H.set(q,{category:ee,month:te,fields:{}}),H.get(q).fields[Q]=U});const G=[];H.forEach(({category:ee,month:Q,fields:te})=>{const U=K(ee);U&&G.push(fetch(je(U),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({carId:e,year:parseInt(r),month:Q,...te})}).then(q=>{if(!q.ok)throw new Error(`Failed to update ${ee}`);return q.json()}))}),await Promise.all(G)},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/income-expense",e,r]}),c(new Map),o(null),n({title:"Success",description:"Changes saved successfully"})},onError:H=>{n({title:"Error",description:H.message||"Failed to save changes",variant:"destructive"})}}),W=H=>{if(H){const G=`${H.category}-${H.field}-${H.month}`,ee=new Map(l);ee.set(G,H),c(ee);const Q=new Map,te={};ee.forEach(({category:q,field:ne,month:fe,value:pe,remarks:ye})=>{const Z=`${q}-${fe}`;Q.has(Z)||Q.set(Z,{category:q,month:fe,fields:{}}),Q.get(Z).fields[ne]=pe,ye&&(te[ne]=ye)});const U=[];Q.forEach(({category:q,month:ne,fields:fe})=>{const pe=K(q);if(pe){const ye={carId:e,year:parseInt(r),month:ne,...fe},Z={};Object.keys(fe).forEach(Ne=>{te[Ne]&&(Z[Ne]=te[Ne])}),Object.keys(Z).length>0&&(ye.remarks=Z),U.push(fetch(je(pe),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ye)}).then(Ne=>{if(!Ne.ok)throw new Error(`Failed to update ${q}`);return Ne.json()}))}}),Promise.all(U).then(()=>{s.invalidateQueries({queryKey:["/api/income-expense",e,r]}),c(new Map),o(null),n({title:"Success",description:"Changes saved successfully"})}).catch(q=>{n({title:"Error",description:q.message||"Failed to save changes",variant:"destructive"})});return}if(l.size===0){n({title:"No changes",description:"No changes to save"});return}D.mutate()};function K(H){return{income:"/api/income-expense/income",directDelivery:"/api/income-expense/direct-delivery",cogs:"/api/income-expense/cogs",parkingFeeLabor:"/api/income-expense/parking-fee-labor",reimbursedBills:"/api/income-expense/reimbursed-bills",officeSupport:"/api/income-expense/office-support",history:"/api/income-expense/history",parkingAirportQB:"/api/income-expense/parking-airport-qb"}[H]||null}return a.jsx(pX.Provider,{value:{data:A,isLoading:S,editingCell:i,setEditingCell:o,updateCell:C,saveChanges:W,isSaving:D.isPending,monthModes:u,toggleMonthMode:B,isSavingMode:f,skiRacksOwner:p,toggleSkiRacksOwner:I,isSavingSkiRacksOwner:g,year:r,carId:e,dynamicSubcategories:N,refreshDynamicSubcategories:P,addDynamicSubcategory:O,updateDynamicSubcategoryName:k,deleteDynamicSubcategory:L,updateDynamicSubcategoryValue:R},children:t})}function FB({value:t,month:e,category:r,field:n,isEditable:s,isInteger:i=!1,isPercentage:o=!1}){const{setEditingCell:l,editingCell:c}=di(),d=c?.category===r&&c?.field===n&&c?.month===e,u=()=>{s&&l({category:r,field:n,month:e,value:t})},h=o?`${t.toFixed(0)}%`:i?t.toString():`$${t.toFixed(2)}`;return s?a.jsx("span",{onClick:u,className:_e("cursor-pointer hover:bg-[#2a2a2a] px-2 py-1 rounded block text-xs text-right transition-colors",t===0&&"text-gray-600",d&&"bg-[#2a2a2a] ring-1 ring-[#EAEB80]"),children:h}):a.jsx("span",{className:_e("text-xs text-right block",t===0&&"text-gray-600"),children:h})}const it=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function iVe({year:t}){const[e]=wr(),r=e.startsWith("/admin/income-expenses"),{data:n,monthModes:s,toggleMonthMode:i,isSavingMode:o,skiRacksOwner:l,toggleSkiRacksOwner:c,isSavingSkiRacksOwner:d,dynamicSubcategories:u,addDynamicSubcategory:h,updateDynamicSubcategoryName:f,deleteDynamicSubcategory:m,updateDynamicSubcategoryValue:x,carId:p}=di(),v=String(parseInt(t)-1),{data:g}=Ge({queryKey:["/api/income-expense",p,v],queryFn:async()=>{const U=await fetch(je(`/api/income-expense/${p}/${v}`),{credentials:"include"});return U.ok?U.json():{success:!0,data:null}},retry:!1,enabled:!!p&&!!t}),w=g?.data,{data:N}=Ge({queryKey:["/api/income-expense/dynamic-subcategories",p,v],queryFn:async()=>{if(!p||!v)return{directDelivery:[],cogs:[],parkingFeeLabor:[],reimbursedBills:[]};const q=["directDelivery","cogs","parkingFeeLabor","reimbursedBills"].map(async pe=>{try{const ye=await fetch(je(`/api/income-expense/dynamic-subcategories/${p}/${v}/${pe}`),{credentials:"include"});if(ye.ok){const Z=await ye.json();return{categoryType:pe,data:Z.data||[]}}return{categoryType:pe,data:[]}}catch(ye){return console.error(`Error fetching previous year ${pe} subcategories:`,ye),{categoryType:pe,data:[]}}}),ne=await Promise.all(q),fe={directDelivery:[],cogs:[],parkingFeeLabor:[],reimbursedBills:[]};return ne.forEach(({categoryType:pe,data:ye})=>{fe[pe]=ye}),fe},retry:!1,enabled:!!p&&!!t&&!!g?.data}),[j,b]=y.useState({open:!1,categoryType:"",name:""}),[S,A]=y.useState({open:!1,categoryType:"",metadataId:0,currentName:"",newName:""}),[E,P]=y.useState({managementOwner:!0,incomeExpenses:!0,directDelivery:!0,cogs:!0,parkingFeeLabor:!0,reimbursedBills:!0,history:!0,rentalValue:!0,parkingAverageGLA:!1,parkingAverageQB:!1}),O=U=>{P(q=>({...q,[U]:!q[U]}))},k=(U,q,ne)=>{if(!U||!Array.isArray(U))return 0;const fe=U.find(Z=>Z&&Z.month===q);if(!fe)return 0;const pe=fe[ne];if(pe==null)return 0;const ye=Number(pe);return isNaN(ye)?0:ye},L=U=>{const q=k(n.directDelivery,U,"laborCarCleaning")+k(n.directDelivery,U,"laborDelivery")+k(n.directDelivery,U,"parkingAirport")+k(n.directDelivery,U,"parkingLot")+k(n.directDelivery,U,"uberLyftLime"),ne=u.directDelivery.reduce((fe,pe)=>{const ye=pe.values.find(Z=>Z.month===U);return fe+(ye?.value||0)},0);return q+ne},R=U=>{const q=k(n.cogs,U,"autoBodyShopWreck")+k(n.cogs,U,"alignment")+k(n.cogs,U,"battery")+k(n.cogs,U,"brakes")+k(n.cogs,U,"carPayment")+k(n.cogs,U,"carInsurance")+k(n.cogs,U,"carSeats")+k(n.cogs,U,"cleaningSuppliesTools")+k(n.cogs,U,"emissions")+k(n.cogs,U,"gpsSystem")+k(n.cogs,U,"keyFob")+k(n.cogs,U,"laborCleaning")+k(n.cogs,U,"licenseRegistration")+k(n.cogs,U,"mechanic")+k(n.cogs,U,"oilLube")+k(n.cogs,U,"parts")+k(n.cogs,U,"skiRacks")+k(n.cogs,U,"tickets")+k(n.cogs,U,"tiredAirStation")+k(n.cogs,U,"tires")+k(n.cogs,U,"towingImpoundFees")+k(n.cogs,U,"uberLyftLime")+k(n.cogs,U,"windshield")+k(n.cogs,U,"wipers"),ne=u.cogs.reduce((fe,pe)=>{const ye=pe.values.find(Z=>Z.month===U);return fe+(ye?.value||0)},0);return q+ne},_=U=>{const q=k(n.reimbursedBills,U,"electricReimbursed")+k(n.reimbursedBills,U,"electricNotReimbursed")+k(n.reimbursedBills,U,"gasReimbursed")+k(n.reimbursedBills,U,"gasNotReimbursed")+k(n.reimbursedBills,U,"gasServiceRun")+k(n.reimbursedBills,U,"parkingAirport")+k(n.reimbursedBills,U,"uberLyftLimeNotReimbursed")+k(n.reimbursedBills,U,"uberLyftLimeReimbursed"),ne=u.reimbursedBills.reduce((fe,pe)=>{const ye=pe.values.find(Z=>Z.month===U);return fe+(ye?.value||0)},0);return q+ne},B=U=>{const q=k(n.parkingFeeLabor,U,"glaParkingFee")+k(n.parkingFeeLabor,U,"laborCleaning"),ne=u.parkingFeeLabor.reduce((fe,pe)=>{const ye=pe.values.find(Z=>Z.month===U);return fe+(ye?.value||0)},0);return q+ne},I=(U,q,ne)=>{if(!U||!Array.isArray(U))return 0;const fe=U.find(Z=>Z&&Z.month===q);if(!fe)return 0;const pe=fe[ne];if(pe==null)return 0;const ye=Number(pe);return isNaN(ye)?0:ye},C=U=>{if(!w)return 0;const q=w,ne=I(q.directDelivery||[],U,"laborCarCleaning")+I(q.directDelivery||[],U,"laborDelivery")+I(q.directDelivery||[],U,"parkingAirport")+I(q.directDelivery||[],U,"parkingLot")+I(q.directDelivery||[],U,"uberLyftLime"),pe=(N?.directDelivery||q.dynamicSubcategories?.directDelivery||[]).reduce((ye,Z)=>{const J=Z.values?.find(we=>we.month===U)?.value;if(J==null)return ye;const le=Number(J);return ye+(isNaN(le)?0:le)},0);return ne+pe},D=U=>{if(!w)return 0;const q=w,ne=I(q.cogs||[],U,"autoBodyShopWreck")+I(q.cogs||[],U,"alignment")+I(q.cogs||[],U,"battery")+I(q.cogs||[],U,"brakes")+I(q.cogs||[],U,"carPayment")+I(q.cogs||[],U,"carInsurance")+I(q.cogs||[],U,"carSeats")+I(q.cogs||[],U,"cleaningSuppliesTools")+I(q.cogs||[],U,"emissions")+I(q.cogs||[],U,"gpsSystem")+I(q.cogs||[],U,"keyFob")+I(q.cogs||[],U,"laborCleaning")+I(q.cogs||[],U,"licenseRegistration")+I(q.cogs||[],U,"mechanic")+I(q.cogs||[],U,"oilLube")+I(q.cogs||[],U,"parts")+I(q.cogs||[],U,"skiRacks")+I(q.cogs||[],U,"tickets")+I(q.cogs||[],U,"tiredAirStation")+I(q.cogs||[],U,"tires")+I(q.cogs||[],U,"towingImpoundFees")+I(q.cogs||[],U,"uberLyftLime")+I(q.cogs||[],U,"windshield")+I(q.cogs||[],U,"wipers"),pe=(N?.cogs||q.dynamicSubcategories?.cogs||[]).reduce((ye,Z)=>{const J=Z.values?.find(we=>we.month===U)?.value;if(J==null)return ye;const le=Number(J);return ye+(isNaN(le)?0:le)},0);return ne+pe},W=U=>{if(!w)return 0;const q=parseInt(t,10)-1;if(q===2019||U===1&&q>2019)return 0;const ne=w?.formulaSetting?.monthModes?.[U]||50,fe=U-1,pe=I(w.incomeExpenses||[],fe,"rentalIncome"),ye=I(w.incomeExpenses||[],fe,"deliveryIncome"),Z=I(w.incomeExpenses||[],fe,"electricPrepaidIncome"),Ne=I(w.incomeExpenses||[],fe,"smokingFines"),J=I(w.incomeExpenses||[],fe,"gasPrepaidIncome"),le=I(w.incomeExpenses||[],fe,"skiRacksIncome"),we=I(w.incomeExpenses||[],fe,"milesIncome"),De=I(w.incomeExpenses||[],fe,"childSeatIncome"),ue=I(w.incomeExpenses||[],fe,"coolersIncome"),Y=I(w.incomeExpenses||[],fe,"insuranceWreckIncome"),V=I(w.incomeExpenses||[],fe,"otherIncome"),$=W(fe),X=C(fe),me=D(fe),z=K(fe),M=(I(w.incomeExpenses||[],fe,"carOwnerSplit")||0)/100;let re;if(ne===70){const oe=we+Ne*.1,ce=pe-ye-Z-Ne-J-we-le-De-ue-Y-V;return re=oe-X-me-z+$+ce*M,re>0?0:re}else return re=pe-ye-Z-J-Ne-we-le-De-ue-Y-V-X-me+$,re>0?0:re},K=U=>{if(!w)return 0;const q=w,ne=I(q.parkingFeeLabor||[],U,"glaParkingFee")+I(q.parkingFeeLabor||[],U,"laborCleaning"),pe=(N?.parkingFeeLabor||q.dynamicSubcategories?.parkingFeeLabor||[]).reduce((ye,Z)=>{const J=Z.values?.find(we=>we.month===U)?.value;if(J==null)return ye;const le=Number(J);return ye+(isNaN(le)?0:le)},0);return ne+pe},H=U=>{const q=parseInt(t,10);if(q===2019)return 0;const ne=s[U]||50;let fe,pe,ye,Z,Ne,J,le,we,De,ue,Y,V,$,X,me,z;if(U===1&&q>2019)fe=I(w?.incomeExpenses||[],12,"rentalIncome"),pe=I(w?.incomeExpenses||[],12,"deliveryIncome"),ye=I(w?.incomeExpenses||[],12,"electricPrepaidIncome"),Z=I(w?.incomeExpenses||[],12,"smokingFines"),Ne=I(w?.incomeExpenses||[],12,"gasPrepaidIncome"),J=I(w?.incomeExpenses||[],12,"skiRacksIncome"),le=I(w?.incomeExpenses||[],12,"milesIncome"),we=I(w?.incomeExpenses||[],12,"childSeatIncome"),De=I(w?.incomeExpenses||[],12,"coolersIncome"),ue=I(w?.incomeExpenses||[],12,"insuranceWreckIncome"),Y=I(w?.incomeExpenses||[],12,"otherIncome"),$=C(12),X=D(12),me=K(12),z=I(w?.incomeExpenses||[],12,"carOwnerSplit")||0,V=W(12);else{const re=U-1;fe=k(n.incomeExpenses,re,"rentalIncome"),pe=k(n.incomeExpenses,re,"deliveryIncome"),ye=k(n.incomeExpenses,re,"electricPrepaidIncome"),Z=k(n.incomeExpenses,re,"smokingFines"),Ne=k(n.incomeExpenses,re,"gasPrepaidIncome"),J=k(n.incomeExpenses,re,"skiRacksIncome"),le=k(n.incomeExpenses,re,"milesIncome"),we=k(n.incomeExpenses,re,"childSeatIncome"),De=k(n.incomeExpenses,re,"coolersIncome"),ue=k(n.incomeExpenses,re,"insuranceWreckIncome"),Y=k(n.incomeExpenses,re,"otherIncome"),V=H(re),$=L(re),X=R(re),me=B(re),z=k(n.incomeExpenses,re,"carOwnerSplit")||0}const T=z/100;let M;if(ne===70){const re=le+Z*.1,oe=fe-pe-ye-Z-Ne-le-J-we-De-ue-Y;return M=re-$-X-me+V+oe*T,M>0?0:M}else return M=fe-pe-ye-Ne-Z-le-J-we-De-ue-Y-$-X+V,M>0?0:M},G=U=>{const ne=(k(n.incomeExpenses,U,"carManagementSplit")||0)/100,fe=k(n.incomeExpenses,U,"rentalIncome"),pe=k(n.incomeExpenses,U,"deliveryIncome"),ye=k(n.incomeExpenses,U,"electricPrepaidIncome"),Z=k(n.incomeExpenses,U,"smokingFines"),Ne=k(n.incomeExpenses,U,"gasPrepaidIncome"),J=k(n.incomeExpenses,U,"skiRacksIncome"),le=k(n.incomeExpenses,U,"milesIncome"),we=k(n.incomeExpenses,U,"childSeatIncome"),De=k(n.incomeExpenses,U,"coolersIncome"),ue=k(n.incomeExpenses,U,"insuranceWreckIncome"),Y=k(n.incomeExpenses,U,"otherIncome"),V=H(U),$=L(U),X=R(U),me=_(U),z=B(U),T=parseInt(t,10),M=s[U]||50,re=T>=2026,oe=T>=2019&&T<=2025;if(re)if(M===50)if(J===0){const ce=pe+ye+Ne+we+De+ue+Y+(Z*.9+J*ne)-me,Ee=(fe+V-pe-ye-Ne-Z-le-J-we-De-ue-Y-$-X)*ne,se=ce+Ee;return se>=0?se:0}else if((l[U]||"GLA")==="GLA"){const ce=pe+ye+Ne+we+De+ue+Y+J+Z*.9-me,Ee=(fe+V-pe-ye-Ne-Z-le-J-we-De-ue-Y-$-X)*ne,se=ce+Ee;return se>=0?se:0}else{const ce=pe+ye+Ne+we+De+ue+Y+Z*.9-me,Ee=(fe+V-pe-ye-Ne-Z-le-J-we-De-ue-Y-$-X)*ne,se=ce+Ee;return se>=0?se:0}else if(J===0){const ce=pe+ye+Ne+J*ne+we+De+ue+Z*.9+Y-me+z,Ee=(fe-pe-ye-Ne-le-J-we-De-ue-Z-Y)*ne,se=ce+Ee;return se>=0?se:0}else if((l[U]||"GLA")==="GLA"){const ce=pe+ye+Ne+J+we+De+ue+Z*.9+Y-me+z,Ee=(fe-pe-ye-Ne-le-J-we-De-ue-Z-Y)*ne,se=ce+Ee;return se>=0?se:0}else{const ce=pe+ye+Ne+we+De+ue+Z*.9+Y-me+z,Ee=(fe-pe-ye-Ne-le-J-we-De-ue-Z-Y)*ne,se=ce+Ee;return se>=0?se:0}else if(oe)if(M===50){const ce=pe+ye+Ne+Z+(J*ne+we*ne+De*ne+ue*ne+Y*ne)-me,Ee=(fe+V-pe-ye-Ne-Z-le-J-we-De-ue-Y-$-X)*ne,se=ce+Ee;return se>=0?se:0}else{const ce=pe+ye+Ne+J+we+De+ue+Z*.9+Y-me+z,Ee=(fe-pe-ye-Ne-le-J-we-De-ue-Z-Y)*ne,se=ce+Ee;return se>=0?se:0}return 0},ee=U=>{const ne=(k(n.incomeExpenses,U,"carOwnerSplit")||0)/100,fe=k(n.incomeExpenses,U,"rentalIncome"),pe=k(n.incomeExpenses,U,"deliveryIncome"),ye=k(n.incomeExpenses,U,"electricPrepaidIncome"),Z=k(n.incomeExpenses,U,"smokingFines"),Ne=k(n.incomeExpenses,U,"gasPrepaidIncome"),J=k(n.incomeExpenses,U,"skiRacksIncome"),le=k(n.incomeExpenses,U,"milesIncome"),we=k(n.incomeExpenses,U,"childSeatIncome"),De=k(n.incomeExpenses,U,"coolersIncome"),ue=k(n.incomeExpenses,U,"insuranceWreckIncome"),Y=k(n.incomeExpenses,U,"otherIncome"),V=H(U),$=L(U),X=R(U),me=B(U),z=parseInt(t,10),T=s[U]||50,M=z>=2026,re=z>=2019&&z<=2025;if(M)if(T===50)if(J===0){const oe=le+(Z*.1+J*ne),ce=(fe+V-pe-ye-Ne-Z-le-J-we-De-ue-Y-$-X)*ne,Ee=oe+ce;return Ee>=0?Ee:0}else if((l[U]||"GLA")==="GLA"){const oe=le+Z*.1,ce=(fe+V-pe-ye-Ne-Z-le-J-we-De-ue-Y-$-X)*ne,Ee=oe+ce;return Ee>=0?Ee:0}else{const oe=le+J+Z*.1,ce=(fe+V-pe-ye-Ne-Z-le-J-we-De-ue-Y-$-X)*ne,Ee=oe+ce;return Ee>=0?Ee:0}else if(J===0){const oe=J*ne+le-$-X-me+V+Z*.1,ce=(fe-pe-ye-Ne-le-J-we-De-ue-Z-Y)*ne,Ee=oe+ce;return Ee>=0?Ee:0}else if((l[U]||"GLA")==="GLA"){const oe=le-$-X-me+V+Z*.1,ce=(fe-pe-ye-Ne-le-J-we-De-ue-Z-Y)*ne,Ee=oe+ce;return Ee>=0?Ee:0}else{const oe=J+le-$-X-me+V+Z*.1,ce=(fe-pe-ye-Ne-le-J-we-De-ue-Z-Y)*ne,Ee=oe+ce;return Ee>=0?Ee:0}else if(re)if(T===50){const oe=le+(J*ne+we*ne+De*ne+ue*ne+Y*ne),ce=(fe+V-pe-ye-Ne-Z-le-J-we-De-ue-Y-$-X)*ne,Ee=oe+ce;return Ee>=0?Ee:0}else{const oe=le-$-X-me+V+Z*.1,ce=(fe-pe-ye-Ne-le-J-we-De-ue-Z-Y)*ne,Ee=oe+ce;return Ee>=0?Ee:0}return 0},Q=U=>{const q=_(U);if((s[U]||50)===70)return q;const pe=(Number(k(n.incomeExpenses,U,"carManagementSplit"))||0)/100,ye=L(U),Z=R(U);return q+(ye+Z)*pe},te=U=>{const q=L(U),ne=R(U);if((s[U]||50)===70){const pe=B(U);return q+ne+pe}else{const ye=(Number(k(n.incomeExpenses,U,"carOwnerSplit"))||0)/100;return(q+ne)*ye}};return a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg overflow-hidden h-full flex flex-col",children:[a.jsx("div",{className:"overflow-auto flex-1",style:{maxHeight:"100%"},children:a.jsxs("table",{className:"w-full border-collapse text-xs",children:[a.jsx("thead",{className:"sticky top-0 z-40 bg-[#1a1a1a]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"sticky left-0 z-50 bg-[#1a1a1a] border-r border-[#2a2a2a] px-3 py-2 text-left text-foreground min-w-[200px]",children:"Category"}),it.map((U,q)=>{const ne=q+1,pe=parseInt(t,10)>=2026,ye=s[ne]||50,Z=l[ne]||"GLA",Ne=k(n.incomeExpenses,ne,"skiRacksIncome")>0;return a.jsx("th",{className:"border-l border-[#2a2a2a] px-2 py-2 text-center min-w-[100px]",children:a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsxs("span",{className:"text-foreground text-xs",children:[U," ",t]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:r?void 0:()=>i(ne),disabled:o||r,className:_e("px-3 py-0.5 rounded-full text-xs font-semibold transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed",ye===50?"bg-green-600 text-foreground hover:bg-green-700 active:bg-green-800 shadow-lg shadow-green-600/50":"bg-blue-600 text-foreground hover:bg-blue-700 active:bg-blue-800 shadow-lg shadow-blue-600/50",o&&"animate-pulse",r&&"cursor-default hover:bg-inherit active:bg-inherit"),title:r?`Rate mode: ${ye===50?"50:50 (green)":"30:70 (blue)"} (Read-only)`:o?"Saving mode change...":"Click to toggle between 50:50 (green) and 30:70 (blue) split",children:o?"...":ye}),pe&&Ne&&a.jsx("button",{onClick:r?void 0:()=>c(ne),disabled:d||r,className:_e("px-2 py-0.5 rounded-full text-xs font-semibold transition-all duration-200 min-w-[24px]","disabled:opacity-50 disabled:cursor-not-allowed",Z==="GLA"?"bg-purple-600 text-foreground hover:bg-purple-700 active:bg-purple-800 shadow-lg shadow-purple-600/50":"bg-orange-600 text-foreground hover:bg-orange-700 active:bg-orange-800 shadow-lg shadow-orange-600/50",d&&"animate-pulse",r&&"cursor-default hover:bg-inherit active:bg-inherit"),title:r?`Ski racks owner: ${Z==="GLA"?"Management/GLA (purple)":"Owner (orange)"} (Read-only)`:d?"Saving ski racks owner...":`Click to toggle ski racks owner: ${Z==="GLA"?"Management/GLA (purple)":"Owner (orange)"}`,children:d?"...":Z==="GLA"?"M":"O"})]})]})},U)}),a.jsx("th",{className:"sticky right-0 z-30 border-l border-[#2a2a2a] px-2 py-2 text-center text-foreground min-w-[100px] bg-[#1f1f1f] font-bold",children:"Total"})]})}),a.jsxs("tbody",{children:[a.jsxs(zo,{title:"CAR MANAGEMENT OWNER SPLIT",isExpanded:E.managementOwner,onToggle:()=>O("managementOwner"),children:[a.jsx(ct,{label:"Car Management Split",values:it.map((U,q)=>{const ne=q+1;return G(ne)}),percentageValues:it.map((U,q)=>{const ne=q+1;return k(n.incomeExpenses,ne,"carManagementSplit")}),category:"income",field:"carManagementSplit",isEditable:!r,formatType:"managementSplit",monthModes:s,showAmountAndPercentage:!0}),a.jsx(ct,{label:"Car Owner Split",values:it.map((U,q)=>{const ne=q+1;return ee(ne)}),percentageValues:it.map((U,q)=>{const ne=q+1;return k(n.incomeExpenses,ne,"carOwnerSplit")}),category:"income",field:"carOwnerSplit",isEditable:!r,formatType:"ownerSplit",monthModes:s,showAmountAndPercentage:!0})]}),a.jsxs(zo,{title:"INCOME & EXPENSES",isExpanded:E.incomeExpenses,onToggle:()=>O("incomeExpenses"),children:[a.jsx(ct,{label:"Rental Income",values:it.map((U,q)=>k(n.incomeExpenses,q+1,"rentalIncome")),category:"income",field:"rentalIncome"}),a.jsx(ct,{label:"Delivery Income",values:it.map((U,q)=>k(n.incomeExpenses,q+1,"deliveryIncome")),category:"income",field:"deliveryIncome"}),a.jsx(ct,{label:"Electric Prepaid Income",values:it.map((U,q)=>k(n.incomeExpenses,q+1,"electricPrepaidIncome")),category:"income",field:"electricPrepaidIncome"}),a.jsx(ct,{label:"Smoking Fines",values:it.map((U,q)=>k(n.incomeExpenses,q+1,"smokingFines")),category:"income",field:"smokingFines"}),a.jsx(ct,{label:"Gas Prepaid Income",values:it.map((U,q)=>k(n.incomeExpenses,q+1,"gasPrepaidIncome")),category:"income",field:"gasPrepaidIncome"}),a.jsx(ct,{label:"Ski Racks Income",values:it.map((U,q)=>k(n.incomeExpenses,q+1,"skiRacksIncome")),category:"income",field:"skiRacksIncome"}),a.jsx(ct,{label:"Miles Income",values:it.map((U,q)=>k(n.incomeExpenses,q+1,"milesIncome")),category:"income",field:"milesIncome"}),a.jsx(ct,{label:"Child Seat Income",values:it.map((U,q)=>k(n.incomeExpenses,q+1,"childSeatIncome")),category:"income",field:"childSeatIncome"}),a.jsx(ct,{label:"Coolers Income",values:it.map((U,q)=>k(n.incomeExpenses,q+1,"coolersIncome")),category:"income",field:"coolersIncome"}),a.jsx(ct,{label:"Income insurance and Client Wrecks",values:it.map((U,q)=>k(n.incomeExpenses,q+1,"insuranceWreckIncome")),category:"income",field:"insuranceWreckIncome"}),a.jsx(ct,{label:"Other Income",values:it.map((U,q)=>k(n.incomeExpenses,q+1,"otherIncome")),category:"income",field:"otherIncome"}),a.jsx(ct,{label:"Negative Balance Carry Over",values:it.map((U,q)=>H(q+1)),category:"income",field:"negativeBalanceCarryOver",isEditable:!1,hideTotal:!0}),a.jsx(ct,{label:"Car Payment",values:it.map((U,q)=>k(n.cogs,q+1,"carPayment")),category:"income",field:"carPayment",isEditable:!1}),a.jsx(ct,{label:"Car Management Total Expenses",values:it.map((U,q)=>Q(q+1)),category:"income",field:"carManagementTotalExpenses",isEditable:!1}),a.jsx(ct,{label:"Car Owner Total Expenses",values:it.map((U,q)=>te(q+1)),category:"income",field:"carOwnerTotalExpenses",isEditable:!1}),a.jsx(ct,{label:"Total Expenses",values:it.map((U,q)=>{const ne=q+1,fe=Q(ne),pe=te(ne);return fe+pe}),isEditable:!1}),a.jsx(ct,{label:"Total Car Profit",values:it.map((U,q)=>{const ne=q+1,fe=k(n.incomeExpenses,ne,"rentalIncome"),pe=Q(ne),ye=te(ne),Z=pe+ye;return fe-Z}),isEditable:!1})]}),a.jsxs(zo,{title:"OPERATING EXPENSE (Direct Delivery)",isExpanded:E.directDelivery,onToggle:()=>O("directDelivery"),children:[a.jsx(ct,{label:"Labor - Cleaning",values:it.map((U,q)=>k(n.directDelivery,q+1,"laborCarCleaning")),category:"directDelivery",field:"laborCarCleaning"}),a.jsx(ct,{label:"Labor - Delivery",values:it.map((U,q)=>k(n.directDelivery,q+1,"laborDelivery")),category:"directDelivery",field:"laborDelivery"}),a.jsx(ct,{label:"Parking - Airport",values:it.map((U,q)=>k(n.directDelivery,q+1,"parkingAirport")),category:"directDelivery",field:"parkingAirport"}),a.jsx(ct,{label:"Parking - Lot",values:it.map((U,q)=>k(n.directDelivery,q+1,"parkingLot")),category:"directDelivery",field:"parkingLot"}),a.jsx(ct,{label:"Uber/Lyft/Lime",values:it.map((U,q)=>k(n.directDelivery,q+1,"uberLyftLime")),category:"directDelivery",field:"uberLyftLime"}),u.directDelivery.map(U=>a.jsx(qv,{subcategory:U,categoryType:"directDelivery",onEditName:()=>A({open:!0,categoryType:"directDelivery",metadataId:U.id,currentName:U.name,newName:U.name}),onDelete:()=>{confirm(`Are you sure you want to delete "${U.name}"?`)&&m("directDelivery",U.id)},onUpdateValue:x,isReadOnly:r},U.id)),!r&&a.jsx("tr",{children:a.jsx("td",{colSpan:14,className:"px-3 py-2",children:a.jsxs("button",{onClick:()=>b({open:!0,categoryType:"directDelivery",name:""}),className:"flex items-center gap-2 text-xs text-[#EAEB80] hover:text-[#d4d570] transition-colors",children:[a.jsx(mr,{className:"w-4 h-4"}),"Add Subcategory"]})})}),a.jsx(ct,{label:"TOTAL OPERATING EXPENSE (Direct Delivery)",values:it.map((U,q)=>{const ne=q+1,fe=k(n.directDelivery,ne,"laborCarCleaning")+k(n.directDelivery,ne,"laborDelivery")+k(n.directDelivery,ne,"parkingAirport")+k(n.directDelivery,ne,"parkingLot")+k(n.directDelivery,ne,"uberLyftLime"),pe=u.directDelivery.reduce((ye,Z)=>{const Ne=Z.values.find(J=>J.month===ne);return ye+(Ne?.value||0)},0);return fe+pe}),isEditable:!1,isTotal:!0})]}),a.jsxs(zo,{title:"OPERATING EXPENSE (COGS - Per Vehicle)",isExpanded:E.cogs,onToggle:()=>O("cogs"),children:[a.jsx(ct,{label:"Auto Body Shop / Wreck",values:it.map((U,q)=>k(n.cogs,q+1,"autoBodyShopWreck")),category:"cogs",field:"autoBodyShopWreck"}),a.jsx(ct,{label:"Alignment",values:it.map((U,q)=>k(n.cogs,q+1,"alignment")),category:"cogs",field:"alignment"}),a.jsx(ct,{label:"Battery",values:it.map((U,q)=>k(n.cogs,q+1,"battery")),category:"cogs",field:"battery"}),a.jsx(ct,{label:"Brakes",values:it.map((U,q)=>k(n.cogs,q+1,"brakes")),category:"cogs",field:"brakes"}),a.jsx(ct,{label:"Car Payment",values:it.map((U,q)=>k(n.cogs,q+1,"carPayment")),category:"cogs",field:"carPayment"}),a.jsx(ct,{label:"Car Insurance",values:it.map((U,q)=>k(n.cogs,q+1,"carInsurance")),category:"cogs",field:"carInsurance"}),a.jsx(ct,{label:"Car Seats",values:it.map((U,q)=>k(n.cogs,q+1,"carSeats")),category:"cogs",field:"carSeats"}),a.jsx(ct,{label:"Cleaning Supplies / Tools",values:it.map((U,q)=>k(n.cogs,q+1,"cleaningSuppliesTools")),category:"cogs",field:"cleaningSuppliesTools"}),a.jsx(ct,{label:"Emissions",values:it.map((U,q)=>k(n.cogs,q+1,"emissions")),category:"cogs",field:"emissions"}),a.jsx(ct,{label:"GPS System",values:it.map((U,q)=>k(n.cogs,q+1,"gpsSystem")),category:"cogs",field:"gpsSystem"}),a.jsx(ct,{label:"Key & Fob",values:it.map((U,q)=>k(n.cogs,q+1,"keyFob")),category:"cogs",field:"keyFob"}),a.jsx(ct,{label:"Labor - Cleaning",values:it.map((U,q)=>k(n.cogs,q+1,"laborCleaning")),category:"cogs",field:"laborCleaning"}),a.jsx(ct,{label:"License & Registration",values:it.map((U,q)=>k(n.cogs,q+1,"licenseRegistration")),category:"cogs",field:"licenseRegistration"}),a.jsx(ct,{label:"Mechanic",values:it.map((U,q)=>k(n.cogs,q+1,"mechanic")),category:"cogs",field:"mechanic"}),a.jsx(ct,{label:"Oil/Lube",values:it.map((U,q)=>k(n.cogs,q+1,"oilLube")),category:"cogs",field:"oilLube"}),a.jsx(ct,{label:"Parts",values:it.map((U,q)=>k(n.cogs,q+1,"parts")),category:"cogs",field:"parts"}),a.jsx(ct,{label:"Ski Racks",values:it.map((U,q)=>k(n.cogs,q+1,"skiRacks")),category:"cogs",field:"skiRacks"}),a.jsx(ct,{label:"Tickets & Tolls",values:it.map((U,q)=>k(n.cogs,q+1,"tickets")),category:"cogs",field:"tickets"}),a.jsx(ct,{label:"Tired Air Station",values:it.map((U,q)=>k(n.cogs,q+1,"tiredAirStation")),category:"cogs",field:"tiredAirStation"}),a.jsx(ct,{label:"Tires",values:it.map((U,q)=>k(n.cogs,q+1,"tires")),category:"cogs",field:"tires"}),a.jsx(ct,{label:"Towing / Impound Fees",values:it.map((U,q)=>k(n.cogs,q+1,"towingImpoundFees")),category:"cogs",field:"towingImpoundFees"}),a.jsx(ct,{label:"Uber/Lyft/Lime",values:it.map((U,q)=>k(n.cogs,q+1,"uberLyftLime")),category:"cogs",field:"uberLyftLime"}),a.jsx(ct,{label:"Windshield",values:it.map((U,q)=>k(n.cogs,q+1,"windshield")),category:"cogs",field:"windshield"}),a.jsx(ct,{label:"Wipers",values:it.map((U,q)=>k(n.cogs,q+1,"wipers")),category:"cogs",field:"wipers"}),u.cogs.map(U=>a.jsx(qv,{subcategory:U,categoryType:"cogs",onEditName:()=>A({open:!0,categoryType:"cogs",metadataId:U.id,currentName:U.name,newName:U.name}),onDelete:()=>{confirm(`Are you sure you want to delete "${U.name}"?`)&&m("cogs",U.id)},onUpdateValue:x,isReadOnly:r},U.id)),!r&&a.jsx("tr",{children:a.jsx("td",{colSpan:14,className:"px-3 py-2",children:a.jsxs("button",{onClick:()=>b({open:!0,categoryType:"cogs",name:""}),className:"flex items-center gap-2 text-xs text-[#EAEB80] hover:text-[#d4d570] transition-colors",children:[a.jsx(mr,{className:"w-4 h-4"}),"Add Subcategory"]})})}),a.jsx(ct,{label:"TOTAL OPERATING EXPENSE (COGS - Per Vehicle)",values:it.map((U,q)=>{const ne=q+1,fe=k(n.cogs,ne,"autoBodyShopWreck")+k(n.cogs,ne,"alignment")+k(n.cogs,ne,"battery")+k(n.cogs,ne,"brakes")+k(n.cogs,ne,"carPayment")+k(n.cogs,ne,"carInsurance")+k(n.cogs,ne,"carSeats")+k(n.cogs,ne,"cleaningSuppliesTools")+k(n.cogs,ne,"emissions")+k(n.cogs,ne,"gpsSystem")+k(n.cogs,ne,"keyFob")+k(n.cogs,ne,"laborCleaning")+k(n.cogs,ne,"licenseRegistration")+k(n.cogs,ne,"mechanic")+k(n.cogs,ne,"oilLube")+k(n.cogs,ne,"parts")+k(n.cogs,ne,"skiRacks")+k(n.cogs,ne,"tickets")+k(n.cogs,ne,"tiredAirStation")+k(n.cogs,ne,"tires")+k(n.cogs,ne,"towingImpoundFees")+k(n.cogs,ne,"uberLyftLime")+k(n.cogs,ne,"windshield")+k(n.cogs,ne,"wipers"),pe=u.cogs.reduce((ye,Z)=>{const Ne=Z.values.find(J=>J.month===ne);return ye+(Ne?.value||0)},0);return fe+pe}),isEditable:!1,isTotal:!0})]}),a.jsxs(zo,{title:"Parking Fee & Labor Cleaning",isExpanded:E.parkingFeeLabor,onToggle:()=>O("parkingFeeLabor"),children:[a.jsx(ct,{label:"GLA Parking Fee",values:it.map((U,q)=>k(n.parkingFeeLabor,q+1,"glaParkingFee")),category:"parkingFeeLabor",field:"glaParkingFee"}),a.jsx(ct,{label:"Labor - Cleaning",values:it.map((U,q)=>k(n.parkingFeeLabor,q+1,"laborCleaning")),category:"parkingFeeLabor",field:"laborCleaning"}),u.parkingFeeLabor.map(U=>a.jsx(qv,{subcategory:U,categoryType:"parkingFeeLabor",onEditName:()=>A({open:!0,categoryType:"parkingFeeLabor",metadataId:U.id,currentName:U.name,newName:U.name}),onDelete:()=>{confirm(`Are you sure you want to delete "${U.name}"?`)&&m("parkingFeeLabor",U.id)},onUpdateValue:x,isReadOnly:r},U.id)),!r&&a.jsx("tr",{children:a.jsx("td",{colSpan:14,className:"px-3 py-2",children:a.jsxs("button",{onClick:()=>b({open:!0,categoryType:"parkingFeeLabor",name:""}),className:"flex items-center gap-2 text-xs text-[#EAEB80] hover:text-[#d4d570] transition-colors",children:[a.jsx(mr,{className:"w-4 h-4"}),"Add Subcategory"]})})}),a.jsx(ct,{label:"Total Parking Fee & Labor Cleaning",values:it.map((U,q)=>{const ne=q+1,fe=k(n.parkingFeeLabor,ne,"glaParkingFee")+k(n.parkingFeeLabor,ne,"laborCleaning"),pe=u.parkingFeeLabor.reduce((ye,Z)=>{const Ne=Z.values.find(J=>J.month===ne);return ye+(Ne?.value||0)},0);return fe+pe}),isEditable:!1,isTotal:!0})]}),a.jsxs(zo,{title:"REIMBURSE AND NON-REIMBURSE BILLS",isExpanded:E.reimbursedBills,onToggle:()=>O("reimbursedBills"),children:[a.jsx(ct,{label:"Electric - Reimbursed",values:it.map((U,q)=>k(n.reimbursedBills,q+1,"electricReimbursed")),category:"reimbursedBills",field:"electricReimbursed"}),a.jsx(ct,{label:"Electric - Not Reimbursed",values:it.map((U,q)=>k(n.reimbursedBills,q+1,"electricNotReimbursed")),category:"reimbursedBills",field:"electricNotReimbursed"}),a.jsx(ct,{label:"Gas - Reimbursed",values:it.map((U,q)=>k(n.reimbursedBills,q+1,"gasReimbursed")),category:"reimbursedBills",field:"gasReimbursed"}),a.jsx(ct,{label:"Gas - Not Reimbursed",values:it.map((U,q)=>k(n.reimbursedBills,q+1,"gasNotReimbursed")),category:"reimbursedBills",field:"gasNotReimbursed"}),a.jsx(ct,{label:"Gas - Service Run",values:it.map((U,q)=>k(n.reimbursedBills,q+1,"gasServiceRun")),category:"reimbursedBills",field:"gasServiceRun"}),a.jsx(ct,{label:"Parking Airport",values:it.map((U,q)=>k(n.reimbursedBills,q+1,"parkingAirport")),category:"reimbursedBills",field:"parkingAirport"}),a.jsx(ct,{label:"Uber/Lyft/Lime - Not Reimbursed (added)",values:it.map((U,q)=>k(n.reimbursedBills,q+1,"uberLyftLimeNotReimbursed")),category:"reimbursedBills",field:"uberLyftLimeNotReimbursed"}),a.jsx(ct,{label:"Uber/Lyft/Lime - Reimbursed (added)",values:it.map((U,q)=>k(n.reimbursedBills,q+1,"uberLyftLimeReimbursed")),category:"reimbursedBills",field:"uberLyftLimeReimbursed"}),u.reimbursedBills.map(U=>a.jsx(qv,{subcategory:U,categoryType:"reimbursedBills",onEditName:()=>A({open:!0,categoryType:"reimbursedBills",metadataId:U.id,currentName:U.name,newName:U.name}),onDelete:()=>{confirm(`Are you sure you want to delete "${U.name}"?`)&&m("reimbursedBills",U.id)},onUpdateValue:x,isReadOnly:r},U.id)),!r&&a.jsx("tr",{children:a.jsx("td",{colSpan:14,className:"px-3 py-2",children:a.jsxs("button",{onClick:()=>b({open:!0,categoryType:"reimbursedBills",name:""}),className:"flex items-center gap-2 text-xs text-[#EAEB80] hover:text-[#d4d570] transition-colors",children:[a.jsx(mr,{className:"w-4 h-4"}),"Add Subcategory"]})})}),a.jsx(ct,{label:"TOTAL REIMBURSE AND NON-REIMBURSE BILLS",values:it.map((U,q)=>{const ne=q+1,fe=k(n.reimbursedBills,ne,"electricReimbursed")+k(n.reimbursedBills,ne,"electricNotReimbursed")+k(n.reimbursedBills,ne,"gasReimbursed")+k(n.reimbursedBills,ne,"gasNotReimbursed")+k(n.reimbursedBills,ne,"gasServiceRun")+k(n.reimbursedBills,ne,"parkingAirport")+k(n.reimbursedBills,ne,"uberLyftLimeNotReimbursed")+k(n.reimbursedBills,ne,"uberLyftLimeReimbursed"),pe=u.reimbursedBills.reduce((ye,Z)=>{const Ne=Z.values.find(J=>J.month===ne);return ye+(Ne?.value||0)},0);return fe+pe}),isEditable:!1,isTotal:!0})]}),a.jsxs(zo,{title:"HISTORY",isExpanded:E.history,onToggle:()=>O("history"),children:[a.jsx(ct,{label:"Days Rented",values:it.map((U,q)=>k(n.history,q+1,"daysRented")),category:"history",field:"daysRented",isEditable:!0,isInteger:!0}),a.jsx(ct,{label:"Cars Available For Rent",values:it.map((U,q)=>k(n.history,q+1,"carsAvailableForRent")),category:"history",field:"carsAvailableForRent",isEditable:!0,isInteger:!0}),a.jsx(ct,{label:"Trips Taken",values:it.map((U,q)=>k(n.history,q+1,"tripsTaken")),category:"history",field:"tripsTaken",isEditable:!0,isInteger:!0})]}),a.jsxs(zo,{title:"CAR RENTAL VALUE PER MONTH",isExpanded:E.rentalValue,onToggle:()=>O("rentalValue"),hasActions:!1,children:[a.jsx(ct,{label:"Total Car Rental Income",values:it.map((U,q)=>k(n.incomeExpenses,q+1,"rentalIncome")),isEditable:!1}),a.jsx(ct,{label:"Trips Taken",values:it.map((U,q)=>k(n.history,q+1,"tripsTaken")),isEditable:!1,isInteger:!0}),a.jsx(ct,{label:"Ave Per Rental Per Trips Taken",values:it.map((U,q)=>{const ne=q+1,fe=k(n.incomeExpenses,ne,"rentalIncome"),pe=k(n.history,ne,"tripsTaken");return pe>0?fe/pe:0}),isEditable:!1})]}),a.jsxs(zo,{title:"PARKING AIRPORT AVERAGE PER TRIP - GLA",isExpanded:E.parkingAverageGLA,onToggle:()=>O("parkingAverageGLA"),hasActions:!1,children:[a.jsx(ct,{label:"Total Trips Taken",values:it.map((U,q)=>k(n.history,q+1,"tripsTaken")),isEditable:!1,isInteger:!0}),a.jsx(ct,{label:"Total Parking Airport",values:it.map((U,q)=>k(n.reimbursedBills,q+1,"parkingAirport")),isEditable:!1}),a.jsx(ct,{label:"Average per trip",values:it.map((U,q)=>{const ne=q+1,fe=k(n.reimbursedBills,ne,"parkingAirport"),pe=k(n.history,ne,"tripsTaken");return pe>0?fe/pe:0}),isEditable:!1})]}),a.jsxs(zo,{title:"PARKING AIRPORT AVERAGE PER TRIP - QB",isExpanded:E.parkingAverageQB,onToggle:()=>O("parkingAverageQB"),hasActions:!1,children:[a.jsx(ct,{label:"Total Trips Taken",values:it.map((U,q)=>k(n.history,q+1,"tripsTaken")),isEditable:!1,isInteger:!0}),a.jsx(ct,{label:"Total Parking Airport",values:it.map((U,q)=>k(n.parkingAirportQB||[],q+1,"totalParkingAirport")),category:"parkingAirportQB",field:"totalParkingAirport",isEditable:!0}),a.jsx(ct,{label:"Average per trip",values:it.map((U,q)=>{const ne=q+1,fe=k(n.parkingAirportQB||[],ne,"totalParkingAirport"),pe=k(n.history,ne,"tripsTaken");return pe>0?fe/pe:0}),isEditable:!1})]})]})]})}),a.jsx($t,{open:j.open,onOpenChange:U=>b({...j,open:U}),children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{children:"Add Subcategory"}),a.jsx(Ut,{children:"Enter a name for the new subcategory"})]}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{children:[a.jsx(Se,{children:"Subcategory Name"}),a.jsx(ae,{value:j.name,onChange:U=>b({...j,name:U.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",autoFocus:!0})]})}),a.jsxs(ai,{children:[a.jsx(ie,{variant:"outline",onClick:()=>b({open:!1,categoryType:"",name:""}),className:"border-[#2a2a2a] text-gray-400 hover:text-foreground",children:"Cancel"}),a.jsx(ie,{onClick:async()=>{j.name.trim()&&(await h(j.categoryType,j.name.trim()),b({open:!1,categoryType:"",name:""}))},className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",disabled:!j.name.trim(),children:"Add"})]})]})}),a.jsx($t,{open:S.open,onOpenChange:U=>A({...S,open:U}),children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{children:"Edit Subcategory Name"}),a.jsx(Ut,{children:"Update the name of this subcategory"})]}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{children:[a.jsx(Se,{children:"Subcategory Name"}),a.jsx(ae,{value:S.newName,onChange:U=>A({...S,newName:U.target.value}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",autoFocus:!0})]})}),a.jsxs(ai,{children:[a.jsx(ie,{variant:"outline",onClick:()=>A({open:!1,categoryType:"",metadataId:0,currentName:"",newName:""}),className:"border-[#2a2a2a] text-gray-400 hover:text-foreground",children:"Cancel"}),a.jsx(ie,{onClick:async()=>{S.newName.trim()&&(await f(S.categoryType,S.metadataId,S.newName.trim()),A({open:!1,categoryType:"",metadataId:0,currentName:"",newName:""}))},className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",disabled:!S.newName.trim(),children:"Save"})]})]})})]})}function qv({subcategory:t,categoryType:e,onEditName:r,onDelete:n,onUpdateValue:s,isReadOnly:i=!1}){const o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],{setEditingCell:l}=di(),c=t.values.reduce((u,h)=>u+(h.value||0),0),d=(u,h)=>{i||l({category:`dynamic-${e}`,field:`subcategory-${t.id}`,month:u,value:h})};return a.jsxs("tr",{className:"border-b border-[#1a1a1a] hover:bg-[#151515]",children:[a.jsx("td",{className:"sticky left-0 z-20 bg-[#0f0f0f] px-3 py-2 text-left text-gray-300 border-r border-[#1a1a1a] text-xs",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:t.name}),!i&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:r,className:"text-[#EAEB80] hover:text-[#d4d570] transition-colors",title:"Edit name",children:a.jsx(kS,{className:"w-3 h-3"})}),a.jsx("button",{onClick:n,className:"text-red-400 hover:text-red-300 transition-colors",title:"Delete",children:a.jsx(Ri,{className:"w-3 h-3"})})]})]})}),o.map((u,h)=>{const f=h+1,x=t.values.find(p=>p.month===f)?.value||0;return a.jsx("td",{className:"border-l border-[#1a1a1a] px-2 py-2 text-right",children:a.jsxs("span",{onClick:()=>d(f,x),className:_e("px-2 py-1 rounded block text-xs text-right transition-colors",i?"cursor-default":"cursor-pointer hover:bg-[#2a2a2a]",x===0?"text-gray-600":"text-[#EAEB80]"),children:["$",x.toFixed(2)]})},f)}),a.jsxs("td",{className:_e("sticky right-0 z-20 border-l border-[#2a2a2a] px-2 py-2 text-right font-bold text-xs bg-[#1f1f1f]",c===0?"text-gray-600":"text-[#EAEB80]"),children:["$",c.toFixed(2)]})]})}function zo({title:t,isExpanded:e,onToggle:r,children:n,hasActions:s=!0}){return a.jsxs(a.Fragment,{children:[a.jsx("tr",{className:"bg-[#1a1a1a] hover:bg-[#222]",children:a.jsx("td",{colSpan:14,className:"sticky left-0 z-30 bg-[#1a1a1a] hover:bg-[#222] px-3 py-2 border-b border-[#2a2a2a]",children:a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:r,children:[e?a.jsx(ol,{className:"w-4 h-4"}):a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-semibold text-foreground",children:t})]})})}),e&&n]})}function ct({label:t,values:e,percentageValues:r,category:n,field:s,isEditable:i=!0,isEditablePerMonth:o,isInteger:l=!1,isTotal:c=!1,hideTotal:d=!1,formatType:u,monthModes:h,isPercentage:f=!1,showAmountAndPercentage:m=!1}){const[x]=wr(),p=x.startsWith("/admin/income-expenses"),v=p?!1:i,g=e.reduce((j,b)=>{const S=typeof b=="number"&&!isNaN(b)?b:0;return j+S},0),w=(j,b)=>{if(s==="negativeBalanceCarryOver")return j<0?`(${Math.abs(j).toFixed(2)})`:`$${j.toFixed(2)}`;if(m&&r){const S=r[b-1]||0;return`$${j.toFixed(2)} (${S.toFixed(0)}%)`}else{if(f)return`${j.toFixed(0)}%`;if(u==="managementSplit"){const A=(h?.[b]||50)===70?30:50;return`$ ${j.toFixed(2)}(${A}%)`}else return u==="ownerSplit"?`$ ${j.toFixed(2)}`:l?j.toString():`$${j.toFixed(2)}`}},N=()=>{if(m&&r){const j=r.reduce((b,S)=>b+(S||0),0)/12;return`$${g.toFixed(2)} (${j.toFixed(0)}%)`}else{if(f)return`${(g/12).toFixed(0)}%`;if(u==="managementSplit"){const j=h?Object.values(h).reduce((b,S)=>b+(S===70?30:50),0)/12:50;return`$ ${g.toFixed(2)}(${Math.round(j)}%)`}else return u==="ownerSplit"?`$ ${g.toFixed(2)}`:l?g.toString():`$ ${g.toFixed(2)}`}};return a.jsxs("tr",{className:_e("border-b border-[#1a1a1a] hover:bg-[#151515]",c&&"bg-[#0a0a0a] font-semibold"),children:[a.jsx("td",{className:"sticky left-0 z-20 bg-[#0f0f0f] px-3 py-2 text-left text-gray-300 border-r border-[#1a1a1a] text-xs",children:t}),e.map((j,b)=>{const S=b+1,A=typeof j=="number"&&!isNaN(j)?j:0,E=p?!1:o?o(S):v;return a.jsx("td",{className:"border-l border-[#1a1a1a] px-2 py-2 text-right",children:n&&s&&E?m&&r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-right",children:a.jsxs("span",{className:_e(A===0&&"text-gray-600"),children:["$",A.toFixed(2)]})}),a.jsx(FB,{value:r[S-1]||0,month:S,category:n,field:s,isEditable:v,isInteger:!1,isPercentage:!0})]}):a.jsx(FB,{value:A,month:S,category:n,field:s,isEditable:v,isInteger:l,isPercentage:f}):a.jsx("span",{className:_e("text-xs text-right block",A===0&&"text-gray-600"),children:w(A,S)})},S)}),!d&&a.jsx("td",{className:_e("sticky right-0 z-20 border-l border-[#2a2a2a] px-2 py-2 text-right text-foreground font-bold text-xs",c?"bg-[#0a0a0a]":"bg-[#1f1f1f]"),children:N()})]})}function oVe(t,e,r,n,s,i,o){const l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=(Y,V,$)=>{if(!Y||!Array.isArray(Y))return 0;const X=Y.find(T=>T&&T.month===V);if(!X)return 0;const me=X[$];if(me==null)return 0;const z=Number(me);return isNaN(z)?0:z},d=Y=>{const V=c(t.directDelivery,Y,"laborCarCleaning")+c(t.directDelivery,Y,"laborDelivery")+c(t.directDelivery,Y,"parkingAirport")+c(t.directDelivery,Y,"parkingLot")+c(t.directDelivery,Y,"uberLyftLime"),$=(s?.directDelivery||[]).reduce((X,me)=>{const z=me.values?.find(T=>T.month===Y);return X+(Number(z?.value)||0)},0);return Number(V)+Number($)},u=Y=>{const V=c(t.cogs,Y,"autoBodyShopWreck")+c(t.cogs,Y,"alignment")+c(t.cogs,Y,"battery")+c(t.cogs,Y,"brakes")+c(t.cogs,Y,"carPayment")+c(t.cogs,Y,"carInsurance")+c(t.cogs,Y,"carSeats")+c(t.cogs,Y,"cleaningSuppliesTools")+c(t.cogs,Y,"emissions")+c(t.cogs,Y,"gpsSystem")+c(t.cogs,Y,"keyFob")+c(t.cogs,Y,"laborCleaning")+c(t.cogs,Y,"licenseRegistration")+c(t.cogs,Y,"mechanic")+c(t.cogs,Y,"oilLube")+c(t.cogs,Y,"parts")+c(t.cogs,Y,"skiRacks")+c(t.cogs,Y,"tickets")+c(t.cogs,Y,"tiredAirStation")+c(t.cogs,Y,"tires")+c(t.cogs,Y,"towingImpoundFees")+c(t.cogs,Y,"uberLyftLime")+c(t.cogs,Y,"windshield")+c(t.cogs,Y,"wipers"),$=(s?.cogs||[]).reduce((X,me)=>{const z=me.values?.find(T=>T.month===Y);return X+(Number(z?.value)||0)},0);return Number(V)+Number($)},h=Y=>{const V=c(t.reimbursedBills,Y,"electricReimbursed")+c(t.reimbursedBills,Y,"electricNotReimbursed")+c(t.reimbursedBills,Y,"gasReimbursed")+c(t.reimbursedBills,Y,"gasNotReimbursed")+c(t.reimbursedBills,Y,"gasServiceRun")+c(t.reimbursedBills,Y,"parkingAirport")+c(t.reimbursedBills,Y,"uberLyftLimeNotReimbursed")+c(t.reimbursedBills,Y,"uberLyftLimeReimbursed"),$=(s?.reimbursedBills||[]).reduce((X,me)=>{const z=me.values?.find(T=>T.month===Y);return X+(Number(z?.value)||0)},0);return Number(V)+Number($)},f=Y=>{const V=c(t.parkingFeeLabor,Y,"glaParkingFee")+c(t.parkingFeeLabor,Y,"laborCleaning"),$=(s?.parkingFeeLabor||[]).reduce((X,me)=>{const z=me.values?.find(T=>T.month===Y);return X+(Number(z?.value)||0)},0);return Number(V)+Number($)},m=Y=>{const $=(Number(c(t.incomeExpenses,Y,"carManagementSplit"))||0)/100,X=c(t.incomeExpenses,Y,"rentalIncome"),me=c(t.incomeExpenses,Y,"deliveryIncome"),z=c(t.incomeExpenses,Y,"electricPrepaidIncome"),T=c(t.incomeExpenses,Y,"smokingFines"),M=c(t.incomeExpenses,Y,"gasPrepaidIncome"),re=c(t.incomeExpenses,Y,"skiRacksIncome"),oe=c(t.incomeExpenses,Y,"milesIncome"),ce=c(t.incomeExpenses,Y,"childSeatIncome"),Ee=c(t.incomeExpenses,Y,"coolersIncome"),se=c(t.incomeExpenses,Y,"insuranceWreckIncome"),be=c(t.incomeExpenses,Y,"otherIncome"),Le=j(Y),Me=d(Y),lt=u(Y),qt=h(Y),Lr=f(Y),F=parseInt(r,10),Re=n[Y]||50,Oe=F>=2026,Ve=F>=2019&&F<=2025;if(Oe)if(Re===50)if(re===0){const Be=me+z+M+ce+Ee+se+be+(T*.9+re*$)-qt,dt=(X+Le-me-z-M-T-oe-re-ce-Ee-se-be-Me-lt)*$,_t=Be+dt;return _t>=0?_t:0}else if((o?.[Y]||"GLA")==="GLA"){const Be=me+z+M+ce+Ee+se+be+re+T*.9-qt,dt=(X+Le-me-z-M-T-oe-re-ce-Ee-se-be-Me-lt)*$,_t=Be+dt;return _t>=0?_t:0}else{const Be=me+z+M+ce+Ee+se+be+T*.9-qt,dt=(X+Le-me-z-M-T-oe-re-ce-Ee-se-be-Me-lt)*$,_t=Be+dt;return _t>=0?_t:0}else if(re===0){const Be=me+z+M+re*$+ce+Ee+se+T*.9+be-qt+Lr,dt=(X-me-z-M-oe-re-ce-Ee-se-T-be)*$,_t=Be+dt;return _t>=0?_t:0}else if((o?.[Y]||"GLA")==="GLA"){const Be=me+z+M+re+ce+Ee+se+T*.9+be-qt+Lr,dt=(X-me-z-M-oe-re-ce-Ee-se-T-be)*$,_t=Be+dt;return _t>=0?_t:0}else{const Be=me+z+M+ce+Ee+se+T*.9+be-qt+Lr,dt=(X-me-z-M-oe-re-ce-Ee-se-T-be)*$,_t=Be+dt;return _t>=0?_t:0}else if(Ve)if(Re===50){const Be=me+z+M+T+(re*$+ce*$+Ee*$+se*$+be*$)-qt,dt=(X+Le-me-z-M-T-oe-re-ce-Ee-se-be-Me-lt)*$,_t=Be+dt;return _t>=0?_t:0}else{const Be=me+z+M+re+ce+Ee+se+T*.9+be-qt+Lr,dt=(X-me-z-M-oe-re-ce-Ee-se-T-be)*$,_t=Be+dt;return _t>=0?_t:0}return 0},x=Y=>{const $=(Number(c(t.incomeExpenses,Y,"carOwnerSplit"))||0)/100,X=c(t.incomeExpenses,Y,"rentalIncome"),me=c(t.incomeExpenses,Y,"deliveryIncome"),z=c(t.incomeExpenses,Y,"electricPrepaidIncome"),T=c(t.incomeExpenses,Y,"smokingFines"),M=c(t.incomeExpenses,Y,"gasPrepaidIncome"),re=c(t.incomeExpenses,Y,"skiRacksIncome"),oe=c(t.incomeExpenses,Y,"milesIncome"),ce=c(t.incomeExpenses,Y,"childSeatIncome"),Ee=c(t.incomeExpenses,Y,"coolersIncome"),se=c(t.incomeExpenses,Y,"insuranceWreckIncome"),be=c(t.incomeExpenses,Y,"otherIncome"),Le=j(Y),Me=d(Y),lt=u(Y),qt=f(Y),Lr=parseInt(r,10),F=n[Y]||50,Re=Lr>=2026,Oe=Lr>=2019&&Lr<=2025;if(Re)if(F===50)if(re===0){const Ve=oe+(T*.1+re*$),Be=(X+Le-me-z-M-T-oe-re-ce-Ee-se-be-Me-lt)*$,dt=Ve+Be;return dt>=0?dt:0}else if((o?.[Y]||"GLA")==="GLA"){const Ve=oe+T*.1,Be=(X+Le-me-z-M-T-oe-re-ce-Ee-se-be-Me-lt)*$,dt=Ve+Be;return dt>=0?dt:0}else{const Ve=oe+re+T*.1,Be=(X+Le-me-z-M-T-oe-re-ce-Ee-se-be-Me-lt)*$,dt=Ve+Be;return dt>=0?dt:0}else if(re===0){const Ve=re*$+oe-Me-lt-qt+Le+T*.1,Be=(X-me-z-M-oe-re-ce-Ee-se-T-be)*$,dt=Ve+Be;return dt>=0?dt:0}else if((o?.[Y]||"GLA")==="GLA"){const Ve=oe-Me-lt-qt+Le+T*.1,Be=(X-me-z-M-oe-re-ce-Ee-se-T-be)*$,dt=Ve+Be;return dt>=0?dt:0}else{const Ve=re+oe-Me-lt-qt+Le+T*.1,Be=(X-me-z-M-oe-re-ce-Ee-se-T-be)*$,dt=Ve+Be;return dt>=0?dt:0}else if(Oe)if(F===50){const Ve=oe+(re*$+ce*$+Ee*$+se*$+be*$),Be=(X+Le-me-z-M-T-oe-re-ce-Ee-se-be-Me-lt)*$,dt=Ve+Be;return dt>=0?dt:0}else{const Ve=oe-Me-lt-qt+Le+T*.1,Be=(X-me-z-M-oe-re-ce-Ee-se-T-be)*$,dt=Ve+Be;return dt>=0?dt:0}return 0},p=(Y,V,$)=>{if(!Y||!Array.isArray(Y))return 0;const X=Y.find(T=>T&&T.month===V);if(!X)return 0;const me=X[$];if(me==null)return 0;const z=Number(me);return isNaN(z)?0:z},v=Y=>{if(!i)return 0;const V=i,$=p(V.directDelivery||[],Y,"laborCarCleaning")+p(V.directDelivery||[],Y,"laborDelivery")+p(V.directDelivery||[],Y,"parkingAirport")+p(V.directDelivery||[],Y,"parkingLot")+p(V.directDelivery||[],Y,"uberLyftLime"),X=(V.dynamicSubcategories?.directDelivery||[]).reduce((me,z)=>{const M=z.values?.find(oe=>oe.month===Y)?.value;if(M==null)return me;const re=Number(M);return me+(isNaN(re)?0:re)},0);return Number($)+Number(X)},g=Y=>{if(!i)return 0;const V=i,$=p(V.cogs||[],Y,"autoBodyShopWreck")+p(V.cogs||[],Y,"alignment")+p(V.cogs||[],Y,"battery")+p(V.cogs||[],Y,"brakes")+p(V.cogs||[],Y,"carPayment")+p(V.cogs||[],Y,"carInsurance")+p(V.cogs||[],Y,"carSeats")+p(V.cogs||[],Y,"cleaningSuppliesTools")+p(V.cogs||[],Y,"emissions")+p(V.cogs||[],Y,"gpsSystem")+p(V.cogs||[],Y,"keyFob")+p(V.cogs||[],Y,"laborCleaning")+p(V.cogs||[],Y,"licenseRegistration")+p(V.cogs||[],Y,"mechanic")+p(V.cogs||[],Y,"oilLube")+p(V.cogs||[],Y,"parts")+p(V.cogs||[],Y,"skiRacks")+p(V.cogs||[],Y,"tickets")+p(V.cogs||[],Y,"tiredAirStation")+p(V.cogs||[],Y,"tires")+p(V.cogs||[],Y,"towingImpoundFees")+p(V.cogs||[],Y,"uberLyftLime")+p(V.cogs||[],Y,"windshield")+p(V.cogs||[],Y,"wipers"),X=(V.dynamicSubcategories?.cogs||[]).reduce((me,z)=>{const M=z.values?.find(oe=>oe.month===Y)?.value;if(M==null)return me;const re=Number(M);return me+(isNaN(re)?0:re)},0);return Number($)+Number(X)},w=Y=>{if(!i)return 0;const V=i,$=p(V.parkingFeeLabor||[],Y,"glaParkingFee")+p(V.parkingFeeLabor||[],Y,"laborCleaning"),X=(V.dynamicSubcategories?.parkingFeeLabor||[]).reduce((me,z)=>{const M=z.values?.find(oe=>oe.month===Y)?.value;if(M==null)return me;const re=Number(M);return me+(isNaN(re)?0:re)},0);return Number($)+Number(X)},N=Y=>{if(!i)return 0;const V=parseInt(r,10)-1;if(V===2019||Y===1&&V>2019)return 0;const $=i?.formulaSetting?.monthModes?.[Y]||50,X=Y-1,me=p(i.incomeExpenses||[],X,"rentalIncome"),z=p(i.incomeExpenses||[],X,"deliveryIncome"),T=p(i.incomeExpenses||[],X,"electricPrepaidIncome"),M=p(i.incomeExpenses||[],X,"smokingFines"),re=p(i.incomeExpenses||[],X,"gasPrepaidIncome"),oe=p(i.incomeExpenses||[],X,"skiRacksIncome"),ce=p(i.incomeExpenses||[],X,"milesIncome"),Ee=p(i.incomeExpenses||[],X,"childSeatIncome"),se=p(i.incomeExpenses||[],X,"coolersIncome"),be=p(i.incomeExpenses||[],X,"insuranceWreckIncome"),Le=p(i.incomeExpenses||[],X,"otherIncome"),Me=N(X),lt=v(X),qt=g(X),Lr=w(X),Re=(p(i.incomeExpenses||[],X,"carOwnerSplit")||0)/100;let Oe;if($===70){const Ve=Number(ce)+Number(M)*.1,Be=Number(me)-Number(z)-Number(T)-Number(M)-Number(re)-Number(ce)-Number(oe)-Number(Ee)-Number(se)-Number(be)-Number(Le);return Oe=Ve-Number(lt)-Number(qt)-Number(Lr)+Number(Me)+Be*Re,Oe>0?0:Oe}else return Oe=Number(me)-Number(z)-Number(T)-Number(re)-Number(M)-Number(ce)-Number(oe)-Number(Ee)-Number(se)-Number(be)-Number(Le)-Number(lt)-Number(qt)+Number(Me),Oe>0?0:Oe},j=Y=>{const V=parseInt(r,10);if(V===2019)return 0;const $=n[Y]||50;let X,me,z,T,M,re,oe,ce,Ee,se,be,Le,Me,lt,qt,Lr;if(Y===1&&V>2019)X=p(i?.incomeExpenses||[],12,"rentalIncome"),me=p(i?.incomeExpenses||[],12,"deliveryIncome"),z=p(i?.incomeExpenses||[],12,"electricPrepaidIncome"),T=p(i?.incomeExpenses||[],12,"smokingFines"),M=p(i?.incomeExpenses||[],12,"gasPrepaidIncome"),re=p(i?.incomeExpenses||[],12,"skiRacksIncome"),oe=p(i?.incomeExpenses||[],12,"milesIncome"),ce=p(i?.incomeExpenses||[],12,"childSeatIncome"),Ee=p(i?.incomeExpenses||[],12,"coolersIncome"),se=p(i?.incomeExpenses||[],12,"insuranceWreckIncome"),be=p(i?.incomeExpenses||[],12,"otherIncome"),Me=v(12),lt=g(12),qt=w(12),Lr=p(i?.incomeExpenses||[],12,"carOwnerSplit")||0,Le=N(12);else{const Oe=Y-1;X=c(t.incomeExpenses,Oe,"rentalIncome"),me=c(t.incomeExpenses,Oe,"deliveryIncome"),z=c(t.incomeExpenses,Oe,"electricPrepaidIncome"),T=c(t.incomeExpenses,Oe,"smokingFines"),M=c(t.incomeExpenses,Oe,"gasPrepaidIncome"),re=c(t.incomeExpenses,Oe,"skiRacksIncome"),oe=c(t.incomeExpenses,Oe,"milesIncome"),ce=c(t.incomeExpenses,Oe,"childSeatIncome"),Ee=c(t.incomeExpenses,Oe,"coolersIncome"),se=c(t.incomeExpenses,Oe,"insuranceWreckIncome"),be=c(t.incomeExpenses,Oe,"otherIncome"),Le=j(Oe),Me=d(Oe),lt=u(Oe),qt=f(Oe),Lr=c(t.incomeExpenses,Oe,"carOwnerSplit")||0}const F=Lr/100;let Re;if($===70){const Oe=Number(oe)+Number(T)*.1,Ve=Number(X)-Number(me)-Number(z)-Number(T)-Number(M)-Number(oe)-Number(re)-Number(ce)-Number(Ee)-Number(se)-Number(be);return Re=Oe-Number(Me)-Number(lt)-Number(qt)+Number(Le)+Ve*F,Re>0?0:Re}else return Re=Number(X)-Number(me)-Number(z)-Number(M)-Number(T)-Number(oe)-Number(re)-Number(ce)-Number(Ee)-Number(se)-Number(be)-Number(Me)-Number(lt)+Number(Le),Re>0?0:Re},b=Y=>c(t.cogs,Y,"carPayment"),S=Y=>{const V=Number(h(Y))||0;if((n[Y]||50)===70)return V;const me=(Number(c(t.incomeExpenses,Y,"carManagementSplit"))||0)/100,z=Number(d(Y))||0,T=Number(u(Y))||0;return Number(V)+(Number(z)+Number(T))*me},A=Y=>{const V=Number(d(Y))||0,$=Number(u(Y))||0;if((n[Y]||50)===70){const me=Number(f(Y))||0;return Number(V)+Number($)+me}else{const z=(Number(c(t.incomeExpenses,Y,"carOwnerSplit"))||0)/100;return(Number(V)+Number($))*z}};let E="";E+=`CAR NAME,${e?.makeModel||e?.make+" "+e?.model||"N/A"}
`,E+=`VIN #,${e?.vin||"N/A"}
`,E+=`LICENSE,${e?.licensePlate||"N/A"}
`,E+=`OWNER NAME,${e?.owner?.firstName||""} ${e?.owner?.lastName||""}
`,E+=`CONTACT #,${e?.owner?.phone||"N/A"}
`,E+=`EMAIL,${e?.owner?.email||"N/A"}
`,E+=`FUEL/GAS,${e?.fuelGas||"N/A"}
`,E+=`TIRE SIZE,${e?.tireSize||"N/A"}
`,E+=`OIL TYPE,${e?.oilType||"N/A"}
`,E+=`TURO LINK,${e?.turoLink||"N/A"}
`,E+=`ADMIN TURO LINK,${e?.adminTuroLink||"N/A"}
`,E+=`
`,E+=`SECTION,CAR MANAGEMENT OWNER SPLIT
`,E+="Mode Settings,",l.forEach((Y,V)=>{E+=`${Y} ${r}: ${n[V+1]||50},`}),E+=`
`,E+="Category,",l.forEach(Y=>{E+=`${Y} ${r},`}),E+=`YER,YER SPLIT,TOTAL
`,E+="Car Management Split,";let P=0;l.forEach((Y,V)=>{const $=V+1,X=Number(m($))||0,me=Number(c(t.incomeExpenses,$,"carManagementSplit"))||0;E+=`$${X.toFixed(2)} (${me.toFixed(0)}%),`,P+=X}),E+=`$0.00,$0.00,$${P.toFixed(2)}
`,E+="Car Owner Split,";let O=0;l.forEach((Y,V)=>{const $=V+1,X=Number(x($))||0,me=Number(c(t.incomeExpenses,$,"carOwnerSplit"))||0;E+=`$${X.toFixed(2)} (${me.toFixed(0)}%),`,O+=X}),E+=`$0.00,$0.00,$${O.toFixed(2)}

`,E+=`SECTION,INCOME & EXPENSES
`,E+="Category,",l.forEach(Y=>{E+=`${Y} ${r},`}),E+=`YER,YER SPLIT,TOTAL
`,[{field:"rentalIncome",label:"Rental Income"},{field:"deliveryIncome",label:"Delivery Income"},{field:"electricPrepaidIncome",label:"Electric Prepaid Income"},{field:"smokingFines",label:"Smoking Fines"},{field:"gasPrepaidIncome",label:"Gas Prepaid Income"},{field:"skiRacksIncome",label:"Ski Racks Income"},{field:"milesIncome",label:"Miles Income"},{field:"childSeatIncome",label:"Child Seat Income"},{field:"coolersIncome",label:"Coolers Income"},{field:"insuranceWreckIncome",label:"Income insurance and Client Wrecks"},{field:"otherIncome",label:"Other Income"}].forEach(({field:Y,label:V})=>{E+=`${V},`;let $=0;l.forEach((X,me)=>{const z=me+1,T=c(t.incomeExpenses,z,Y);E+=`$${Number(T).toFixed(2)},`,$+=Number(T)}),E+=`$0.00,$0.00,$${$.toFixed(2)}
`}),E+="Negative Balance Carry Over,";let L=0;l.forEach((Y,V)=>{const $=V+1,X=Number(j($))||0;E+=`$${X.toFixed(2)},`,L+=X}),E+=`$0.00,$0.00,$${L.toFixed(2)}
`,E+="Car Payment,";let R=0;l.forEach((Y,V)=>{const $=V+1,X=Number(b($))||0;E+=`$${X.toFixed(2)},`,R+=X}),E+=`$0.00,$0.00,$${R.toFixed(2)}
`,E+="Car Management Total Expenses,";let _=0;l.forEach((Y,V)=>{const $=V+1,X=Number(S($))||0;E+=`$${X.toFixed(2)},`,_+=X}),E+=`$0.00,$0.00,$${_.toFixed(2)}
`,E+="Car Owner Total Expenses,";let B=0;l.forEach((Y,V)=>{const $=V+1,X=Number(A($))||0;E+=`$${X.toFixed(2)},`,B+=X}),E+=`$0.00,$0.00,$${B.toFixed(2)}
`,E+="Total Expenses,";let I=0;l.forEach((Y,V)=>{const $=V+1,X=Number(S($))||0,me=Number(A($))||0,z=X+me;E+=`$${z.toFixed(2)},`,I+=z}),E+=`$0.00,$0.00,$${I.toFixed(2)}
`,E+="Total Car Profit,";let C=0;l.forEach((Y,V)=>{const $=V+1,X=Number(c(t.incomeExpenses,$,"rentalIncome"))||0,me=Number(S($))||0,z=Number(A($))||0,T=me+z,M=X-T;E+=`$${M.toFixed(2)},`,C+=M}),E+=`$0.00,$0.00,$${C.toFixed(2)}
`,E+=`
`,E+=`SECTION,OPERATING EXPENSE (Direct Delivery)
`,E+="Category,",l.forEach(Y=>{E+=`${Y} ${r},`}),E+=`YER,YER SPLIT,TOTAL
`,[{field:"laborCarCleaning",label:"Labor - Cleaning"},{field:"laborDelivery",label:"Labor - Delivery"},{field:"parkingAirport",label:"Parking - Airport"},{field:"parkingLot",label:"Parking - Lot"},{field:"uberLyftLime",label:"Uber/Lyft/Lime"}].forEach(({field:Y,label:V})=>{E+=`${V},`;let $=0;l.forEach((X,me)=>{const z=me+1,T=c(t.directDelivery,z,Y);E+=`$${Number(T).toFixed(2)},`,$+=Number(T)}),E+=`$0.00,$0.00,$${$.toFixed(2)}
`}),s?.directDelivery&&s.directDelivery.forEach(Y=>{E+=`${Y.name},`;let V=0;l.forEach(($,X)=>{const z=Y.values.find(T=>T.month===X+1)?.value||0;E+=`$${Number(z).toFixed(2)},`,V+=Number(z)}),E+=`$0.00,$0.00,$${V.toFixed(2)}
`}),E+="TOTAL OPERATING EXPENSE (Direct Delivery),";let W=0;l.forEach((Y,V)=>{const $=V+1,X=Number(d($))||0;E+=`$${X.toFixed(2)},`,W+=X}),E+=`$0.00,$0.00,$${W.toFixed(2)}
`,E+=`
`,E+=`SECTION,OPERATING EXPENSE (COGS - Per Vehicle)
`,E+="Category,",l.forEach(Y=>{E+=`${Y} ${r},`}),E+=`YER,YER SPLIT,TOTAL
`,[{field:"autoBodyShopWreck",label:"Auto Body Shop / Wreck"},{field:"alignment",label:"Alignment"},{field:"battery",label:"Battery"},{field:"brakes",label:"Brakes"},{field:"carPayment",label:"Car Payment"},{field:"carInsurance",label:"Car Insurance"},{field:"carSeats",label:"Car Seats"},{field:"cleaningSuppliesTools",label:"Cleaning Supplies / Tools"},{field:"emissions",label:"Emissions"},{field:"gpsSystem",label:"GPS System"},{field:"keyFob",label:"Key & Fob"},{field:"laborCleaning",label:"Labor - Cleaning"},{field:"licenseRegistration",label:"License & Registration"},{field:"mechanic",label:"Mechanic"},{field:"oilLube",label:"Oil/Lube"},{field:"parts",label:"Parts"},{field:"skiRacks",label:"Ski Racks"},{field:"tickets",label:"Tickets & Tolls"},{field:"tiredAirStation",label:"Tired Air Station"},{field:"tires",label:"Tires"},{field:"towingImpoundFees",label:"Towing / Impound Fees"},{field:"uberLyftLime",label:"Uber/Lyft/Lime"},{field:"windshield",label:"Windshield"},{field:"wipers",label:"Wipers"}].forEach(({field:Y,label:V})=>{E+=`${V},`;let $=0;l.forEach((X,me)=>{const z=me+1,T=c(t.cogs,z,Y);E+=`$${Number(T).toFixed(2)},`,$+=Number(T)}),E+=`$0.00,$0.00,$${$.toFixed(2)}
`}),s?.cogs&&s.cogs.forEach(Y=>{E+=`${Y.name},`;let V=0;l.forEach(($,X)=>{const z=Y.values.find(T=>T.month===X+1)?.value||0;E+=`$${Number(z).toFixed(2)},`,V+=Number(z)}),E+=`$0.00,$0.00,$${V.toFixed(2)}
`}),E+="TOTAL OPERATING EXPENSE (COGS - Per Vehicle),";let H=0;l.forEach((Y,V)=>{const $=V+1,X=Number(u($))||0;E+=`$${X.toFixed(2)},`,H+=X}),E+=`$0.00,$0.00,$${H.toFixed(2)}
`,E+=`
`,E+=`SECTION,Parking Fee & Labor Cleaning
`,E+="Category,",l.forEach(Y=>{E+=`${Y} ${r},`}),E+=`YER,YER SPLIT,TOTAL
`,[{field:"glaParkingFee",label:"GLA Parking Fee"},{field:"laborCleaning",label:"Labor - Cleaning"}].forEach(({field:Y,label:V})=>{E+=`${V},`;let $=0;l.forEach((X,me)=>{const z=me+1,T=c(t.parkingFeeLabor,z,Y);E+=`$${Number(T).toFixed(2)},`,$+=Number(T)}),E+=`$0.00,$0.00,$${$.toFixed(2)}
`}),s?.parkingFeeLabor&&s.parkingFeeLabor.forEach(Y=>{E+=`${Y.name},`;let V=0;l.forEach(($,X)=>{const z=Y.values.find(T=>T.month===X+1)?.value||0;E+=`$${Number(z).toFixed(2)},`,V+=Number(z)}),E+=`$0.00,$0.00,$${V.toFixed(2)}
`}),E+="Total Parking Fee & Labor Cleaning,";let ee=0;l.forEach((Y,V)=>{const $=V+1,X=Number(c(t.parkingFeeLabor,$,"glaParkingFee"))||0+Number(c(t.parkingFeeLabor,$,"laborCleaning"))||0,me=(s?.parkingFeeLabor||[]).reduce((T,M)=>{const re=M.values?.find(oe=>oe.month===$);return T+(Number(re?.value)||0)},0),z=Number(X)+Number(me);E+=`$${z.toFixed(2)},`,ee+=z}),E+=`$0.00,$0.00,$${ee.toFixed(2)}
`,E+=`
`,E+=`SECTION,REIMBURSE AND NON-REIMBURSE BILLS
`,E+="Category,",l.forEach(Y=>{E+=`${Y} ${r},`}),E+=`YER,YER SPLIT,TOTAL
`,[{field:"electricReimbursed",label:"Electric - Reimbursed"},{field:"electricNotReimbursed",label:"Electric - Not Reimbursed"},{field:"gasReimbursed",label:"Gas - Reimbursed"},{field:"gasNotReimbursed",label:"Gas - Not Reimbursed"},{field:"gasServiceRun",label:"Gas - Service Run"},{field:"parkingAirport",label:"Parking Airport"},{field:"uberLyftLimeNotReimbursed",label:"Uber/Lyft/Lime - Not Reimbursed"},{field:"uberLyftLimeReimbursed",label:"Uber/Lyft/Lime - Reimbursed"}].forEach(({field:Y,label:V})=>{E+=`${V},`;let $=0;l.forEach((X,me)=>{const z=me+1,T=c(t.reimbursedBills,z,Y);E+=`$${Number(T).toFixed(2)},`,$+=Number(T)}),E+=`$0.00,$0.00,$${$.toFixed(2)}
`}),s?.reimbursedBills&&s.reimbursedBills.forEach(Y=>{E+=`${Y.name},`;let V=0;l.forEach(($,X)=>{const z=Y.values.find(T=>T.month===X+1)?.value||0;E+=`$${Number(z).toFixed(2)},`,V+=Number(z)}),E+=`$0.00,$0.00,$${V.toFixed(2)}
`}),E+="TOTAL REIMBURSE AND NON-REIMBURSE BILLS,";let te=0;l.forEach((Y,V)=>{const $=V+1,X=Number(h($))||0;E+=`$${X.toFixed(2)},`,te+=X}),E+=`$0.00,$0.00,$${te.toFixed(2)}
`,E+=`
`,E+=`SECTION,HISTORY
`,E+="Category,",l.forEach(Y=>{E+=`${Y} ${r},`}),E+=`YER,YER SPLIT,TOTAL
`,E+="Days Rented,";let U=0;l.forEach((Y,V)=>{const $=V+1,X=Number(c(t.history,$,"daysRented"))||0;E+=`${Number(X)},`,U+=Number(X)}),E+=`0,0,${U}
`,E+="Cars Available For Rent,";let q=0;l.forEach((Y,V)=>{const $=V+1,X=Number(c(t.history,$,"carsAvailableForRent"))||0;E+=`${Number(X)},`,q+=Number(X)}),E+=`0,0,${q}
`,E+="Trips Taken,";let ne=0;l.forEach((Y,V)=>{const $=t.history[V]?.tripsTaken||0;E+=`${Number($)},`,ne+=Number($)}),E+=`0,0,${ne}
`,E+=`
`,E+=`SECTION,CAR RENTAL VALUE PER MONTH
`,E+="Category,",l.forEach(Y=>{E+=`${Y} ${r},`}),E+=`YER,YER SPLIT,TOTAL
`,E+="Total Car Rental Income,";let fe=0;l.forEach((Y,V)=>{const $=V+1,X=c(t.incomeExpenses,$,"rentalIncome");E+=`$${X.toFixed(2)},`,fe+=X}),E+=`$0.00,$0.00,$${fe.toFixed(2)}
`,E+="Trips Taken,";let pe=0;l.forEach((Y,V)=>{const $=V+1,X=c(t.history,$,"tripsTaken");E+=`${X},`,pe+=X}),E+=`0,0,${pe}
`,E+="Ave Per Rental Per Trips Taken,";let ye=0;l.forEach((Y,V)=>{const $=V+1,X=c(t.incomeExpenses,$,"rentalIncome"),me=c(t.history,$,"tripsTaken"),z=me>0?X/me:0;E+=`$${Number(z).toFixed(2)},`,ye+=Number(z)}),E+=`$0.00,$0.00,$${ye.toFixed(2)}
`,E+=`
`,E+=`SECTION,PARKING AIRPORT AVERAGE PER TRIP - GLA
`,E+="Category,",l.forEach(Y=>{E+=`${Y} ${r},`}),E+=`YER,YER SPLIT,TOTAL
`,E+="Total Trips Taken,";let Z=0;l.forEach((Y,V)=>{const $=V+1,X=c(t.history,$,"tripsTaken");E+=`${X},`,Z+=X}),E+=`0,0,${Z}
`,E+="Total Parking Airport,";let Ne=0;l.forEach((Y,V)=>{const $=V+1,X=c(t.reimbursedBills,$,"parkingAirport");E+=`$${X.toFixed(2)},`,Ne+=X}),E+=`$0.00,$0.00,$${Ne.toFixed(2)}
`,E+="Average per trip,";let J=0;l.forEach((Y,V)=>{const $=V+1,X=c(t.reimbursedBills,$,"parkingAirport"),me=c(t.history,$,"tripsTaken"),z=me>0?X/me:0;E+=`$${Number(z).toFixed(2)},`,J+=Number(z)}),E+=`$0.00,$0.00,$${J.toFixed(2)}
`;const le=new Blob([E],{type:"text/csv;charset=utf-8;"}),we=document.createElement("a"),De=URL.createObjectURL(le),ue=`Income-Expense-${e?.makeModel?.replace(/\s+/g,"-")||"Car"}-${r}.csv`;we.setAttribute("href",De),we.setAttribute("download",ue),we.style.visibility="hidden",document.body.appendChild(we),we.click(),document.body.removeChild(we)}function lVe(t){try{const e=t.split(`
`).map(o=>o.trim()).filter(o=>o);if(e.length<10)return{success:!1,error:"File appears to be empty or invalid"};const r={incomeExpenses:[],directDelivery:[],cogs:[],parkingFeeLabor:[],reimbursedBills:[],history:[],monthModes:{}};let n="",s=!1;const i=o=>{const l=[];let c="",d=!1;for(let u=0;u<o.length;u++){const h=o[u];h==='"'?d=!d:h===","&&!d?(l.push(c.trim()),c=""):c+=h}return l.push(c.trim()),l};for(let o=0;o<e.length;o++){const l=e[o];if(!l)continue;const c=i(l);if(c.length===0||c.length===1&&!c[0]){n="";continue}const d=c[0].toUpperCase();if(d.includes("INCOME")&&d.includes("EXPENSES")&&c.length>1){n="INCOME & EXPENSES";continue}if(d.includes("OPERATING EXPENSE")&&d.includes("DIRECT DELIVERY")){n="OPERATING EXPENSE (Direct Delivery)",s=!0;continue}if(d.includes("OPERATING EXPENSE")&&d.includes("COGS")){n="OPERATING EXPENSE (COGS - Per Vehicle)";continue}if(d.includes("PARKING FEE")&&d.includes("LABOR")){n="PARKING FEE & LABOR CLEANING";continue}if(d.includes("REIMBURSE")||d.includes("NON-REIMBURSE")){n="REIMBURSE AND NON-REIMBURSE BILLS";continue}if(d==="HISTORY"){n="HISTORY";continue}if(d==="CATEGORY"||s){s=!1;continue}if(n&&c.length>1&&c[0]){const u={category:c[0]};for(let h=0;h<12;h++){const m=(c[h+1]||"$0.00").replace(/["$,()]/g,"").trim(),x=parseFloat(m)||0;u[`month${h+1}`]=x}n.includes("INCOME")&&n.includes("EXPENSES")?r.incomeExpenses.push(u):n.includes("Direct Delivery")?r.directDelivery.push(u):n.includes("COGS")?r.cogs.push(u):n.includes("Parking Fee")||n.includes("LABOR")?r.parkingFeeLabor.push(u):n.includes("REIMBURSE")?r.reimbursedBills.push(u):n==="HISTORY"&&r.history.push(u)}}return{success:!0,sections:r}}catch(e){return{success:!1,error:e.message||"Failed to parse CSV file"}}}function cVe({selectedYear:t,setSelectedYear:e,carId:r,car:n}){const{toast:s}=kr(),[i,o]=wr(),l=i.startsWith("/admin/income-expenses"),{data:c,monthModes:d,year:u,dynamicSubcategories:h,skiRacksOwner:f}=di(),m=Wr(),x=new Date().getFullYear(),p=2019,v=x+2,g=Array.from({length:v-p+1},(B,I)=>p+I),[w,N]=y.useState(!1),[j,b]=y.useState(null),[S,A]=y.useState(!1),E=String(parseInt(t)-1),{data:P}=Ge({queryKey:["/api/income-expense",r,E],queryFn:async()=>{const B=await fetch(je(`/api/income-expense/${r}/${E}`),{credentials:"include"});return B.ok?B.json():{success:!0,data:null}},retry:!1,enabled:!!r&&!!t}),{data:O}=Ge({queryKey:["/api/income-expense/dynamic-subcategories",r,E],queryFn:async()=>{if(!r||!E)return{directDelivery:[],cogs:[],parkingFeeLabor:[],reimbursedBills:[]};const I=["directDelivery","cogs","parkingFeeLabor","reimbursedBills"].map(async W=>{try{const K=await fetch(je(`/api/income-expense/dynamic-subcategories/${r}/${E}/${W}`),{credentials:"include"});if(K.ok){const H=await K.json();return{categoryType:W,data:H.data||[]}}return{categoryType:W,data:[]}}catch(K){return console.error(`Error fetching previous year ${W} subcategories:`,K),{categoryType:W,data:[]}}}),C=await Promise.all(I),D={directDelivery:[],cogs:[],parkingFeeLabor:[],reimbursedBills:[]};return C.forEach(({categoryType:W,data:K})=>{D[W]=K}),D},retry:!1,enabled:!!r&&!!t&&!!P?.data}),k=()=>{let B=P?.data||null;B&&O&&(B={...B,dynamicSubcategories:O}),oVe(c,n,t,d,h,B,f),s({title:"Export Successful",description:`CSV file downloaded for ${n?.makeModel||"car"} (${t})`})},L=async()=>{if(!j){s({title:"No File Selected",description:"Please select a CSV file to import",variant:"destructive"});return}A(!0);try{const B=await j.text(),I=lVe(B);if(!I.success)throw new Error(I.error||"Failed to parse CSV");const C=await fetch(je("/api/income-expense/import"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({carId:r,year:parseInt(t),sections:I.sections})});if(!C.ok){const D=await C.json();throw new Error(D.message||"Import failed")}m.invalidateQueries({queryKey:["/api/income-expense",r,t]}),s({title:"Import Successful",description:"All data has been imported successfully"}),N(!1),b(null)}catch(B){s({title:"Import Failed",description:B.message||"Failed to import data",variant:"destructive"})}finally{A(!1)}},R=()=>{o(`/admin/cars/${r}/income-expense/log`)},_=()=>{const B=`INCOME & EXPENSES,Jan-${t.slice(-2)},Feb-${t.slice(-2)},Mar-${t.slice(-2)},Apr-${t.slice(-2)},May-${t.slice(-2)},Jun-${t.slice(-2)},Jul-${t.slice(-2)},Aug-${t.slice(-2)},Sep-${t.slice(-2)},Oct-${t.slice(-2)},Nov-${t.slice(-2)},Dec-${t.slice(-2)}
Rental Income,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Delivery Income,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Electric Prepaid Income,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Smoking Fines,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Gas Prepaid Income,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Ski Racks Income,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Miles Income,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Child Seat Income,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Coolers Income,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Income insurance and Client Wrecks,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Other Income,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
,,,,,,,,,,,,
OPERATING EXPENSE (Direct Delivery),,,,,,,,,,,,
Category,Jan-${t.slice(-2)},Feb-${t.slice(-2)},Mar-${t.slice(-2)},Apr-${t.slice(-2)},May-${t.slice(-2)},Jun-${t.slice(-2)},Jul-${t.slice(-2)},Aug-${t.slice(-2)},Sep-${t.slice(-2)},Oct-${t.slice(-2)},Nov-${t.slice(-2)},Dec-${t.slice(-2)}
Labor - Cleaning,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Labor - Delivery,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Parking - Airport,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Parking - Lot,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Uber/Lyft/Lime,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
,,,,,,,,,,,,
OPERATING EXPENSE (COGS - Per Vehicle),Jan-${t.slice(-2)},Feb-${t.slice(-2)},Mar-${t.slice(-2)},Apr-${t.slice(-2)},May-${t.slice(-2)},Jun-${t.slice(-2)},Jul-${t.slice(-2)},Aug-${t.slice(-2)},Sep-${t.slice(-2)},Oct-${t.slice(-2)},Nov-${t.slice(-2)},Dec-${t.slice(-2)}
Auto Body Shop / Wreck,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Alignment,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Battery,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Brakes,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Car Payment,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Car Insurance,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Car Seats,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Cleaning Supplies / Tools,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Emissions,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
GPS System,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Key & Fob,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Labor - Cleaning,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
License & Registration,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Mechanic,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Oil/Lube,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Parts,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Ski Racks,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Tickets & Tolls,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Tired Air Station,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Tires,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Towing / Impound Fees,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Uber/Lyft/Lime,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Windshield,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Wipers,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
,,,,,,,,,,,,
PARKING FEE & LABOR CLEANING,Jan-${t.slice(-2)},Feb-${t.slice(-2)},Mar-${t.slice(-2)},Apr-${t.slice(-2)},May-${t.slice(-2)},Jun-${t.slice(-2)},Jul-${t.slice(-2)},Aug-${t.slice(-2)},Sep-${t.slice(-2)},Oct-${t.slice(-2)},Nov-${t.slice(-2)},Dec-${t.slice(-2)}
GLA Parking Fee,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Labor - Cleaning,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
,,,,,,,,,,,,
REIMBURSE AND NON-REIMBURSE BILLS,Jan-${t.slice(-2)},Feb-${t.slice(-2)},Mar-${t.slice(-2)},Apr-${t.slice(-2)},May-${t.slice(-2)},Jun-${t.slice(-2)},Jul-${t.slice(-2)},Aug-${t.slice(-2)},Sep-${t.slice(-2)},Oct-${t.slice(-2)},Nov-${t.slice(-2)},Dec-${t.slice(-2)}
Electric - Reimbursed,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Electric - Not Reimbursed,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Gas - Reimbursed,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Gas - Not Reimbursed,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Gas - Service Run,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Parking Airport,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Uber/Lyft/Lime - Not Reimbursed,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
Uber/Lyft/Lime - Reimbursed,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00,$0.00
,,,,,,,,,,,,
HISTORY,Jan-${t.slice(-2)},Feb-${t.slice(-2)},Mar-${t.slice(-2)},Apr-${t.slice(-2)},May-${t.slice(-2)},Jun-${t.slice(-2)},Jul-${t.slice(-2)},Aug-${t.slice(-2)},Sep-${t.slice(-2)},Oct-${t.slice(-2)},Nov-${t.slice(-2)},Dec-${t.slice(-2)}
Days Rented,0,0,0,0,0,0,0,0,0,0,0,0
Cars Available For Rent,10,1,1,1,1,1,1,1,1,1,1,1
Trips Taken,0,0,0,0,0,0,0,0,0,0,0,0`,I=new Blob([B],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),D=URL.createObjectURL(I),W=`Income and Expenses Import Template ${t}.csv`;C.setAttribute("href",D),C.setAttribute("download",W),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(D),s({title:"Template Downloaded",description:`Template file downloaded for ${t}`})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(tt,{value:t,onValueChange:e,children:[a.jsx(Qe,{className:"w-[120px] bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm",children:a.jsx(rt,{placeholder:"Year"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:g.map(B=>a.jsx(xe,{value:String(B),children:B},B))})]}),!l&&a.jsxs(ie,{onClick:()=>N(!0),variant:"outline",size:"sm",className:"border-[#2a2a2a] text-gray-300 hover:text-foreground hover:bg-[#2a2a2a]",children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Import"]}),!l&&a.jsxs(ie,{onClick:_,variant:"outline",size:"sm",className:"border-[#2a2a2a] text-gray-300 hover:text-foreground hover:bg-[#2a2a2a]",children:[a.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Download Template"]}),a.jsxs(ie,{onClick:k,variant:"outline",size:"sm",className:"border-[#2a2a2a] text-gray-300 hover:text-foreground hover:bg-[#2a2a2a]",children:[a.jsx(Un,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),a.jsxs(ie,{onClick:R,variant:"outline",size:"sm",className:"border-[#2a2a2a] text-gray-300 hover:text-foreground hover:bg-[#2a2a2a]",children:[a.jsx(rb,{className:"w-4 h-4 mr-2"}),"Log"]})]}),a.jsx($t,{open:w,onOpenChange:N,children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-xl",children:"Import Income and Expense Data"}),a.jsxs(Ut,{className:"text-gray-400",children:["Upload a CSV file to import all income and expense data for ",n?.makeModel||"this car"," (",t,")"]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"border-2 border-dashed border-[#2a2a2a] rounded-lg p-6",children:[a.jsx("input",{type:"file",accept:".csv",onChange:B=>b(B.target.files?.[0]||null),className:`w-full text-sm text-gray-400\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-semibold\r
                  file:bg-[#EAEB80] file:text-black\r
                  hover:file:bg-[#d4d570] file:cursor-pointer`}),j&&a.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Selected: ",j.name]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-lg p-4",children:[a.jsx("h4",{className:"text-foreground font-medium mb-2",children:"What will be imported:"}),a.jsxs("ul",{className:"text-sm text-gray-400 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Car Management Owner Split (with mode settings)"}),a.jsx("li",{children:"Income & Expenses (all income categories)"}),a.jsx("li",{children:"Operating Expense (Direct Delivery)"}),a.jsx("li",{children:"Operating Expense (COGS  Per Vehicle)"}),a.jsx("li",{children:"Parking Fee & Labor Cleaning"}),a.jsx("li",{children:"Reimburse and Non-Reimburse Bills"}),a.jsx("li",{children:"History (days rented, trips, etc.)"})]}),a.jsx("p",{className:"text-yellow-400 text-xs mt-3",children:" This will update all data for the selected year. Existing data will be overwritten."})]})]}),a.jsxs(ai,{className:"flex gap-2",children:[a.jsx(ie,{onClick:()=>{N(!1),b(null)},variant:"outline",className:"flex-1 border-[#2a2a2a] text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",disabled:S,children:"Cancel"}),a.jsx(ie,{onClick:L,className:"flex-1 bg-[#EAEB80] text-black hover:bg-[#d4d570]",disabled:!j||S,children:S?"Importing...":"Import Data"})]})]})})]})}const dVe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Pt=(t,e,r)=>{if(!t||!Array.isArray(t))return 0;const n=t.find(o=>o&&o.month===e);if(!n)return 0;const s=n[r];if(s==null)return 0;const i=Number(s);return isNaN(i)?0:i};function uVe(){const{editingCell:t,setEditingCell:e,updateCell:r,saveChanges:n,isSaving:s,monthModes:i,year:o,carId:l,data:c,dynamicSubcategories:d}=di(),u=t?dVe[t.month-1]:"",h=!!t&&t.category==="managementSplit",f=()=>{e(null)},m=()=>{t&&n({category:t.category,field:t.field,month:t.month,value:t.value})};if(!t||t.category!=="managementSplit")return null;const p={carManagementSplit:"Car Management Split",carOwnerSplit:"Car Owner Split"}[t.field]||t.field,v=i[t.month],g=v===50?"50:50":"30:70",w=t.month,N={rentalIncome:Pt(c.incomeExpenses,w,"rentalIncome"),deliveryIncome:Pt(c.incomeExpenses,w,"deliveryIncome"),electricPrepaidIncome:Pt(c.incomeExpenses,w,"electricPrepaidIncome"),smokingFines:Pt(c.incomeExpenses,w,"smokingFines"),gasPrepaidIncome:Pt(c.incomeExpenses,w,"gasPrepaidIncome"),skiRacksIncome:Pt(c.incomeExpenses,w,"skiRacksIncome"),milesIncome:Pt(c.incomeExpenses,w,"milesIncome"),childSeatIncome:Pt(c.incomeExpenses,w,"childSeatIncome"),coolersIncome:Pt(c.incomeExpenses,w,"coolersIncome"),insuranceWreckIncome:Pt(c.incomeExpenses,w,"insuranceWreckIncome"),otherIncome:Pt(c.incomeExpenses,w,"otherIncome")},j={laborCarCleaning:Pt(c.directDelivery,w,"laborCarCleaning"),laborDelivery:Pt(c.directDelivery,w,"laborDelivery"),parkingAirport:Pt(c.directDelivery,w,"parkingAirport"),parkingLot:Pt(c.directDelivery,w,"parkingLot"),uberLyftLime:Pt(c.directDelivery,w,"uberLyftLime")},b={autoBodyShopWreck:Pt(c.cogs,w,"autoBodyShopWreck"),alignment:Pt(c.cogs,w,"alignment"),battery:Pt(c.cogs,w,"battery"),brakes:Pt(c.cogs,w,"brakes"),carPayment:Pt(c.cogs,w,"carPayment"),carInsurance:Pt(c.cogs,w,"carInsurance"),carSeats:Pt(c.cogs,w,"carSeats"),cleaningSuppliesTools:Pt(c.cogs,w,"cleaningSuppliesTools"),emissions:Pt(c.cogs,w,"emissions"),gpsSystem:Pt(c.cogs,w,"gpsSystem"),keyFob:Pt(c.cogs,w,"keyFob"),laborCleaning:Pt(c.cogs,w,"laborCleaning"),licenseRegistration:Pt(c.cogs,w,"licenseRegistration"),mechanic:Pt(c.cogs,w,"mechanic"),oilLube:Pt(c.cogs,w,"oilLube"),parts:Pt(c.cogs,w,"parts"),skiRacks:Pt(c.cogs,w,"skiRacks"),tickets:Pt(c.cogs,w,"tickets"),tiredAirStation:Pt(c.cogs,w,"tiredAirStation"),tires:Pt(c.cogs,w,"tires"),towingImpoundFees:Pt(c.cogs,w,"towingImpoundFees"),uberLyftLime:Pt(c.cogs,w,"uberLyftLime"),windshield:Pt(c.cogs,w,"windshield"),wipers:Pt(c.cogs,w,"wipers")},S={glaParkingFee:Pt(c.parkingFeeLabor,w,"glaParkingFee"),laborCleaning:Pt(c.parkingFeeLabor,w,"laborCleaning")},A={electricReimbursed:Pt(c.reimbursedBills,w,"electricReimbursed"),electricNotReimbursed:Pt(c.reimbursedBills,w,"electricNotReimbursed"),gasReimbursed:Pt(c.reimbursedBills,w,"gasReimbursed"),gasNotReimbursed:Pt(c.reimbursedBills,w,"gasNotReimbursed"),gasServiceRun:Pt(c.reimbursedBills,w,"gasServiceRun"),parkingAirport:Pt(c.reimbursedBills,w,"parkingAirport"),uberLyftLimeNotReimbursed:Pt(c.reimbursedBills,w,"uberLyftLimeNotReimbursed"),uberLyftLimeReimbursed:Pt(c.reimbursedBills,w,"uberLyftLimeReimbursed")},E=Object.values(j).reduce((W,K)=>W+K,0)+d.directDelivery.reduce((W,K)=>{const H=K.values.find(G=>G.month===w);return W+(H?.value||0)},0),P=Object.values(b).reduce((W,K)=>W+K,0)+d.cogs.reduce((W,K)=>{const H=K.values.find(G=>G.month===w);return W+(H?.value||0)},0),O=Object.values(S).reduce((W,K)=>W+K,0)+d.parkingFeeLabor.reduce((W,K)=>{const H=K.values.find(G=>G.month===w);return W+(H?.value||0)},0),k=Object.values(A).reduce((W,K)=>W+K,0)+d.reimbursedBills.reduce((W,K)=>{const H=K.values.find(G=>G.month===w);return W+(H?.value||0)},0),R=(Number(Pt(c.incomeExpenses,w,"carManagementSplit"))||0)/100,B=(Number(Pt(c.incomeExpenses,w,"carOwnerSplit"))||0)/100,I=k+E*R+P*R,C=E*B+P*B,D=I+C;return a.jsx($t,{open:h,onOpenChange:W=>!W&&f(),children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] text-foreground max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-lg",children:"Update Car Management/Owner Split"}),a.jsxs(Ut,{className:"text-gray-400",children:["Enter management and owner split data for ",u," ",o]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Type:"}),a.jsx("div",{className:"text-foreground text-sm font-medium mt-1",children:p})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Date:"}),a.jsxs("div",{className:"text-foreground text-sm font-medium mt-1",children:[u," ",o]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Current Mode:"}),a.jsxs("div",{className:"text-foreground text-sm font-medium mt-1",children:[g," Split"]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Split Percentage:"}),a.jsx("div",{className:"text-foreground text-sm font-medium mt-1",children:t.field==="carManagementSplit"?`${v===50?"50":"30"}%`:`${v===50?"50":"70"}%`})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Amount"}),a.jsx(ae,{type:"number",value:t.value,onChange:W=>e({...t,value:parseFloat(W.target.value)||0}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm mt-1",step:"0.01",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Calculated Amount:"}),a.jsx(ae,{value:`$${t.value.toFixed(2)}`,disabled:!0,className:"bg-[#1a1a1a] border-[#2a2a2a] text-gray-400 text-sm mt-1"})]})]}),a.jsxs("div",{className:"border-t border-[#2a2a2a] pt-4 mt-4",children:[a.jsxs(Se,{className:"text-gray-300 text-sm font-semibold mb-3 block",children:["All Values for ",u," ",o]}),a.jsxs("div",{className:"max-h-[400px] overflow-y-auto space-y-4 pr-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[#EAEB80] text-xs font-semibold mb-2",children:"INCOME"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Rental Income:"}),a.jsxs("span",{children:["$",N.rentalIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Delivery Income:"}),a.jsxs("span",{children:["$",N.deliveryIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Electric Prepaid Income:"}),a.jsxs("span",{children:["$",N.electricPrepaidIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Smoking Fines:"}),a.jsxs("span",{children:["$",N.smokingFines.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Gas Prepaid Income:"}),a.jsxs("span",{children:["$",N.gasPrepaidIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Ski Racks Income:"}),a.jsxs("span",{children:["$",N.skiRacksIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Miles Income:"}),a.jsxs("span",{children:["$",N.milesIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Child Seat Income:"}),a.jsxs("span",{children:["$",N.childSeatIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Coolers Income:"}),a.jsxs("span",{children:["$",N.coolersIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Insurance and Client Wrecks:"}),a.jsxs("span",{children:["$",N.insuranceWreckIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Other Income:"}),a.jsxs("span",{children:["$",N.otherIncome.toFixed(2)]})]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[#EAEB80] text-xs font-semibold mb-2",children:"OPERATING EXPENSE (Direct Delivery)"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Labor - Cleaning:"}),a.jsxs("span",{children:["$",j.laborCarCleaning.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Labor - Delivery:"}),a.jsxs("span",{children:["$",j.laborDelivery.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Parking - Airport:"}),a.jsxs("span",{children:["$",j.parkingAirport.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Parking - Lot:"}),a.jsxs("span",{children:["$",j.parkingLot.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Uber/Lyft/Lime:"}),a.jsxs("span",{children:["$",j.uberLyftLime.toFixed(2)]})]}),d.directDelivery.map(W=>{const H=W.values.find(G=>G.month===w)?.value||0;return H>0?a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsxs("span",{children:[W.name,":"]}),a.jsxs("span",{children:["$",H.toFixed(2)]})]},W.id):null}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] font-semibold pt-1 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"TOTAL OPERATING EXPENSE (Direct Delivery):"}),a.jsxs("span",{children:["$",E.toFixed(2)]})]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[#EAEB80] text-xs font-semibold mb-2",children:"OPERATING EXPENSE (COGS - Per Vehicle)"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Auto Body Shop / Wreck:"}),a.jsxs("span",{children:["$",b.autoBodyShopWreck.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Alignment:"}),a.jsxs("span",{children:["$",b.alignment.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Battery:"}),a.jsxs("span",{children:["$",b.battery.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Brakes:"}),a.jsxs("span",{children:["$",b.brakes.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Car Payment:"}),a.jsxs("span",{children:["$",b.carPayment.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Car Insurance:"}),a.jsxs("span",{children:["$",b.carInsurance.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Car Seats:"}),a.jsxs("span",{children:["$",b.carSeats.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Cleaning Supplies / Tools:"}),a.jsxs("span",{children:["$",b.cleaningSuppliesTools.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Emissions:"}),a.jsxs("span",{children:["$",b.emissions.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"GPS System:"}),a.jsxs("span",{children:["$",b.gpsSystem.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Key & Fob:"}),a.jsxs("span",{children:["$",b.keyFob.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Labor - Cleaning:"}),a.jsxs("span",{children:["$",b.laborCleaning.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"License & Registration:"}),a.jsxs("span",{children:["$",b.licenseRegistration.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Mechanic:"}),a.jsxs("span",{children:["$",b.mechanic.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Oil/Lube:"}),a.jsxs("span",{children:["$",b.oilLube.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Parts:"}),a.jsxs("span",{children:["$",b.parts.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Ski Racks:"}),a.jsxs("span",{children:["$",b.skiRacks.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Tickets & Tolls:"}),a.jsxs("span",{children:["$",b.tickets.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Tired Air Station:"}),a.jsxs("span",{children:["$",b.tiredAirStation.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Tires:"}),a.jsxs("span",{children:["$",b.tires.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Towing / Impound Fees:"}),a.jsxs("span",{children:["$",b.towingImpoundFees.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Uber/Lyft/Lime:"}),a.jsxs("span",{children:["$",b.uberLyftLime.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Windshield:"}),a.jsxs("span",{children:["$",b.windshield.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Wipers:"}),a.jsxs("span",{children:["$",b.wipers.toFixed(2)]})]}),d.cogs.map(W=>{const H=W.values.find(G=>G.month===w)?.value||0;return H>0?a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsxs("span",{children:[W.name,":"]}),a.jsxs("span",{children:["$",H.toFixed(2)]})]},W.id):null}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] font-semibold pt-1 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"TOTAL OPERATING EXPENSE (COGS - Per Vehicle):"}),a.jsxs("span",{children:["$",P.toFixed(2)]})]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[#EAEB80] text-xs font-semibold mb-2",children:"GLA PARKING FEE & LABOR CLEANING"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"GLA Parking Fee:"}),a.jsxs("span",{children:["$",S.glaParkingFee.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Labor - Cleaning:"}),a.jsxs("span",{children:["$",S.laborCleaning.toFixed(2)]})]}),d.parkingFeeLabor.map(W=>{const H=W.values.find(G=>G.month===w)?.value||0;return H>0?a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsxs("span",{children:[W.name,":"]}),a.jsxs("span",{children:["$",H.toFixed(2)]})]},W.id):null}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] font-semibold pt-1 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"Total Parking Fee & Labor Cleaning:"}),a.jsxs("span",{children:["$",O.toFixed(2)]})]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[#EAEB80] text-xs font-semibold mb-2",children:"REIMBURSE AND NON-REIMBURSE BILLS"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Electric - Reimbursed:"}),a.jsxs("span",{children:["$",A.electricReimbursed.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Electric - Not Reimbursed:"}),a.jsxs("span",{children:["$",A.electricNotReimbursed.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Gas - Reimbursed:"}),a.jsxs("span",{children:["$",A.gasReimbursed.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Gas - Not Reimbursed:"}),a.jsxs("span",{children:["$",A.gasNotReimbursed.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Gas - Service Run:"}),a.jsxs("span",{children:["$",A.gasServiceRun.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Parking Airport:"}),a.jsxs("span",{children:["$",A.parkingAirport.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Uber/Lyft/Lime - Not Reimbursed:"}),a.jsxs("span",{children:["$",A.uberLyftLimeNotReimbursed.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Uber/Lyft/Lime - Reimbursed:"}),a.jsxs("span",{children:["$",A.uberLyftLimeReimbursed.toFixed(2)]})]}),d.reimbursedBills.map(W=>{const H=W.values.find(G=>G.month===w)?.value||0;return H>0?a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsxs("span",{children:[W.name,":"]}),a.jsxs("span",{children:["$",H.toFixed(2)]})]},W.id):null}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] font-semibold pt-1 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"TOTAL REIMBURSE AND NON-REIMBURSE BILLS:"}),a.jsxs("span",{children:["$",k.toFixed(2)]})]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[#EAEB80] text-xs font-semibold mb-2",children:"TOTAL EXPENSES"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Car Management Total Expenses:"}),a.jsxs("span",{children:["$",I.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Car Owner Total Expenses:"}),a.jsxs("span",{children:["$",C.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] font-semibold pt-1 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"Total Expenses:"}),a.jsxs("span",{children:["$",D.toFixed(2)]})]})]})]})]})]}),a.jsxs(ai,{className:"flex gap-2",children:[a.jsx(ie,{onClick:f,variant:"outline",className:"flex-1 border-[#2a2a2a] text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{onClick:m,disabled:s,className:"flex-1 bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:s?"Saving...":"Save"})]})]})})}function cN({newImages:t=[],existingImages:e=[],onRemoveNew:r,onRemoveExisting:n,onImageClick:s}){const[i,o]=y.useState(null),[l,c]=y.useState([]);y.useEffect(()=>{const m=t.map(x=>URL.createObjectURL(x));return c(m),()=>{m.forEach(x=>URL.revokeObjectURL(x))}},[t]);const d=m=>{o(m)},u=()=>{o(null)},h=m=>m.url.startsWith("http://")||m.url.startsWith("https://")?m.url:je(m.url);return t.length+e.length===0?null:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[e.map(m=>{const x=h(m);return a.jsxs("div",{className:"relative group bg-[#1a1a1a] rounded-lg overflow-hidden border border-[#2a2a2a] aspect-square shadow-lg hover:border-[#EAEB80]/50 transition-all",children:[a.jsx("img",{src:x,alt:m.filename,className:"w-full h-full object-cover cursor-pointer",onClick:()=>s?s(x):d(x),onError:p=>{const v=p.target;v.style.display="none";const g=v.parentElement;g&&(g.innerHTML=`
                      <div class="w-full h-full flex items-center justify-center bg-red-500/20 text-red-400 text-xs p-2 text-center">
                        Failed to load image
                      </div>
                    `)}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2 flex items-center justify-between",children:[a.jsx("span",{className:"text-foreground text-xs truncate flex-1 mr-2",children:m.filename}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:p=>{p.stopPropagation(),d(x)},className:"h-7 w-7 p-0 bg-white/20 hover:bg-white/30 text-foreground",children:a.jsx(wI,{className:"w-3.5 h-3.5"})}),n&&a.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:p=>{p.stopPropagation(),n(m.id)},className:"h-7 w-7 p-0 bg-red-500/80 hover:bg-red-600 text-foreground",children:a.jsx(pr,{className:"w-3.5 h-3.5"})})]})]})}),a.jsx("div",{className:"absolute top-1 right-1",children:a.jsx("span",{className:"bg-[#EAEB80] text-black text-[10px] px-1.5 py-0.5 rounded font-medium",children:"Saved"})})]},m.id)}),t.map((m,x)=>{const p=l[x];return p?a.jsxs("div",{className:"relative group bg-[#1a1a1a] rounded-lg overflow-hidden border-2 border-dashed border-[#EAEB80]/50 aspect-square shadow-lg hover:border-[#EAEB80] transition-all",children:[a.jsx("img",{src:p,alt:`Preview ${x+1}`,className:"w-full h-full object-cover",onError:v=>{}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2 flex items-center justify-between",children:[a.jsx("span",{className:"text-foreground text-xs truncate flex-1 mr-2",children:m.name}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(l[x]),className:"h-7 w-7 p-0 bg-white/20 hover:bg-white/30 text-foreground",children:a.jsx(wI,{className:"w-3.5 h-3.5"})}),r&&a.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>r(x),className:"h-7 w-7 p-0 bg-red-500/80 hover:bg-red-600 text-foreground",children:a.jsx(pr,{className:"w-3.5 h-3.5"})})]})]})}),a.jsx("div",{className:"absolute top-1 right-1",children:a.jsxs("span",{className:"bg-blue-500 text-foreground text-[10px] px-1.5 py-0.5 rounded font-medium flex items-center gap-1",children:[a.jsx(gn,{className:"w-2.5 h-2.5"}),"New"]})})]},`new-${x}`):null})]}),a.jsx($t,{open:!!i,onOpenChange:u,children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] max-w-4xl max-h-[90vh] p-0",children:[a.jsxs(Dt,{className:"sr-only",children:[a.jsx(Mt,{children:"Zoomed Image Preview"}),a.jsx(Ut,{children:"View the full-size image preview"})]}),i&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:i,alt:"Zoomed preview",className:"w-full h-auto max-h-[85vh] object-contain",onError:m=>{const x=m.target;x.src="",x.alt="Failed to load image",x.className="hidden";const p=x.parentElement;p&&(p.innerHTML=`
                      <div class="w-full h-[400px] flex items-center justify-center bg-red-500/20 text-red-400">
                        <div class="text-center">
                          <p class="text-sm font-medium">Failed to load image</p>
                          <p class="text-xs mt-2 text-gray-400">${i}</p>
                        </div>
                      </div>
                    `)}}),a.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:u,className:"absolute top-2 right-2 h-8 w-8 p-0 bg-black/70 hover:bg-black/90 text-foreground z-10",children:a.jsx(pr,{className:"w-4 h-4"})})]})]})})]})}function dN(t,e,r,n,s){const[i,o]=y.useState([]),[l,c]=y.useState([]),[d,u]=y.useState(!1),[h,f]=y.useState(!1),m=y.useRef(null),x=y.useRef(null),{toast:p}=kr(),v=S=>{if(!S.target.files)return;const A=Array.from(S.target.files),E=A.filter(P=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(P.type));E.length!==A.length&&p({title:"Invalid file type",description:"Only image files (JPEG, PNG, GIF, WebP) are allowed",variant:"destructive"}),E.length>0&&o(P=>[...P,...E]),m.current&&(m.current.value="")},g=y.useCallback(async()=>{const S=`${t}-${e}-${s}-${r}-${n}`;if(x.current!==S){x.current=S,f(!0);try{const A=je(`/api/income-expense/images?carId=${t}&year=${e}&month=${s}&category=${r}&field=${n}`),E=await fetch(A,{credentials:"include"});if(E.ok){const P=await E.json(),O=P.images||P.data?.images||[];c(O)}}catch{}finally{f(!1),x.current=null}}},[t,e,r,n,s]);return y.useEffect(()=>{t&&e&&r&&n&&s&&g()},[t,e,r,n,s,g]),{imageFiles:i,existingImages:l,isUploading:d,isLoadingImages:h,fileInputRef:m,handleFileChange:v,handleRemoveImage:S=>{o(A=>A.filter((E,P)=>P!==S))},handleRemoveExistingImage:async S=>{if(window.confirm("Are you sure you want to delete this image?"))try{if(!(await fetch(je(`/api/income-expense/images/${S}`),{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete image");c(E=>E.filter(P=>P.id!==S)),p({title:"Success",description:"Image deleted successfully"})}catch(A){p({title:"Deletion failed",description:A.message||"Failed to delete image",variant:"destructive"})}},uploadImages:async()=>{u(!0);try{if(i.length>0){const S=new FormData;if(i.forEach(E=>{S.append("images",E)}),S.append("carId",t.toString()),S.append("year",e),S.append("month",s.toString()),S.append("category",r),S.append("field",n),!(await fetch(je("/api/income-expense/images/upload"),{method:"POST",credentials:"include",body:S})).ok)throw new Error("Failed to upload images");await g()}o([]),m.current&&(m.current.value="")}catch(S){throw p({title:"Upload failed",description:S.message||"Failed to upload images",variant:"destructive"}),S}finally{u(!1)}},resetImages:()=>{o([]),m.current&&(m.current.value="")}}}const hVe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Tt=(t,e,r)=>{if(!t||!Array.isArray(t))return 0;const n=t.find(o=>o&&o.month===e);if(!n)return 0;const s=n[r];if(s==null)return 0;const i=Number(s);return isNaN(i)?0:i};function fVe(){const{editingCell:t,setEditingCell:e,updateCell:r,saveChanges:n,isSaving:s,year:i,carId:o,monthModes:l,data:c,dynamicSubcategories:d}=di(),[u,h]=y.useState(""),f=t?hVe[t.month-1]:"",m=!!t&&t.category==="income",{imageFiles:x,existingImages:p,isUploading:v,isLoadingImages:g,fileInputRef:w,handleFileChange:N,handleRemoveImage:j,handleRemoveExistingImage:b,uploadImages:S,resetImages:A}=dN(o,i,t?.category||"",t?.field||"",t?.month||1),E=y.useRef("");y.useEffect(()=>{if(m&&t){const ye=`${t.category}-${t.field}-${t.month}`;E.current!==ye&&(E.current=ye,(async()=>{try{const Ne=await fetch(je(`/api/income-expense/remarks?carId=${o}&year=${i}&month=${t.month}&category=${t.category}&field=${t.field}`),{credentials:"include"});if(Ne.ok){const J=await Ne.json();h(J.remarks||"")}}catch{}})())}else m||(E.current="")},[m,t?.category,t?.field,t?.month,o,i]);const P=()=>{e(null),h(""),A()},O=async()=>{if(t)try{x.length>0&&t.field!=="carManagementSplit"&&t.field!=="carOwnerSplit"&&await S(),n({category:t.category,field:t.field,month:t.month,value:t.value,remarks:u.trim()})}catch(ye){console.error("Error saving:",ye)}};if(!t||t.category!=="income")return null;const L={rentalIncome:"Rental Income",deliveryIncome:"Delivery Income",electricPrepaidIncome:"Electric Prepaid Income",smokingFines:"Smoking Fines",gasPrepaidIncome:"Gas Prepaid Income",skiRacksIncome:"Ski Racks Income",milesIncome:"Miles Income",childSeatIncome:"Child Seat Income",coolersIncome:"Coolers Income",insuranceWreckIncome:"Income insurance and Client Wrecks",otherIncome:"Other Income",negativeBalanceCarryOver:"Negative Balance Carry Over",carPayment:"Car Payment",carManagementTotalExpenses:"Car Management Total Expenses",carOwnerTotalExpenses:"Car Owner Total Expenses"}[t.field]||t.field,R=t.month,_=t.field==="carManagementSplit"||t.field==="carOwnerSplit",B=_?{rentalIncome:Tt(c.incomeExpenses,R,"rentalIncome"),deliveryIncome:Tt(c.incomeExpenses,R,"deliveryIncome"),electricPrepaidIncome:Tt(c.incomeExpenses,R,"electricPrepaidIncome"),smokingFines:Tt(c.incomeExpenses,R,"smokingFines"),gasPrepaidIncome:Tt(c.incomeExpenses,R,"gasPrepaidIncome"),skiRacksIncome:Tt(c.incomeExpenses,R,"skiRacksIncome"),milesIncome:Tt(c.incomeExpenses,R,"milesIncome"),childSeatIncome:Tt(c.incomeExpenses,R,"childSeatIncome"),coolersIncome:Tt(c.incomeExpenses,R,"coolersIncome"),insuranceWreckIncome:Tt(c.incomeExpenses,R,"insuranceWreckIncome"),otherIncome:Tt(c.incomeExpenses,R,"otherIncome")}:null,I=_?{laborCarCleaning:Tt(c.directDelivery,R,"laborCarCleaning"),laborDelivery:Tt(c.directDelivery,R,"laborDelivery"),parkingAirport:Tt(c.directDelivery,R,"parkingAirport"),parkingLot:Tt(c.directDelivery,R,"parkingLot"),uberLyftLime:Tt(c.directDelivery,R,"uberLyftLime")}:null,C=_?{autoBodyShopWreck:Tt(c.cogs,R,"autoBodyShopWreck"),alignment:Tt(c.cogs,R,"alignment"),battery:Tt(c.cogs,R,"battery"),brakes:Tt(c.cogs,R,"brakes"),carPayment:Tt(c.cogs,R,"carPayment"),carInsurance:Tt(c.cogs,R,"carInsurance"),carSeats:Tt(c.cogs,R,"carSeats"),cleaningSuppliesTools:Tt(c.cogs,R,"cleaningSuppliesTools"),emissions:Tt(c.cogs,R,"emissions"),gpsSystem:Tt(c.cogs,R,"gpsSystem"),keyFob:Tt(c.cogs,R,"keyFob"),laborCleaning:Tt(c.cogs,R,"laborCleaning"),licenseRegistration:Tt(c.cogs,R,"licenseRegistration"),mechanic:Tt(c.cogs,R,"mechanic"),oilLube:Tt(c.cogs,R,"oilLube"),parts:Tt(c.cogs,R,"parts"),skiRacks:Tt(c.cogs,R,"skiRacks"),tickets:Tt(c.cogs,R,"tickets"),tiredAirStation:Tt(c.cogs,R,"tiredAirStation"),tires:Tt(c.cogs,R,"tires"),towingImpoundFees:Tt(c.cogs,R,"towingImpoundFees"),uberLyftLime:Tt(c.cogs,R,"uberLyftLime"),windshield:Tt(c.cogs,R,"windshield"),wipers:Tt(c.cogs,R,"wipers")}:null,D=_?{glaParkingFee:Tt(c.parkingFeeLabor,R,"glaParkingFee"),laborCleaning:Tt(c.parkingFeeLabor,R,"laborCleaning")}:null,W=_?{electricReimbursed:Tt(c.reimbursedBills,R,"electricReimbursed"),electricNotReimbursed:Tt(c.reimbursedBills,R,"electricNotReimbursed"),gasReimbursed:Tt(c.reimbursedBills,R,"gasReimbursed"),gasNotReimbursed:Tt(c.reimbursedBills,R,"gasNotReimbursed"),gasServiceRun:Tt(c.reimbursedBills,R,"gasServiceRun"),parkingAirport:Tt(c.reimbursedBills,R,"parkingAirport"),uberLyftLimeNotReimbursed:Tt(c.reimbursedBills,R,"uberLyftLimeNotReimbursed"),uberLyftLimeReimbursed:Tt(c.reimbursedBills,R,"uberLyftLimeReimbursed")}:null,K=_&&I?Object.values(I).reduce((ye,Z)=>ye+Z,0)+d.directDelivery.reduce((ye,Z)=>{const Ne=Z.values.find(J=>J.month===R);return ye+(Ne?.value||0)},0):0,H=_&&C?Object.values(C).reduce((ye,Z)=>ye+Z,0)+d.cogs.reduce((ye,Z)=>{const Ne=Z.values.find(J=>J.month===R);return ye+(Ne?.value||0)},0):0,G=_&&D?Object.values(D).reduce((ye,Z)=>ye+Z,0)+d.parkingFeeLabor.reduce((ye,Z)=>{const Ne=Z.values.find(J=>J.month===R);return ye+(Ne?.value||0)},0):0,ee=_&&W?Object.values(W).reduce((ye,Z)=>ye+Z,0)+d.reimbursedBills.reduce((ye,Z)=>{const Ne=Z.values.find(J=>J.month===R);return ye+(Ne?.value||0)},0):0,te=(_&&Number(Tt(c.incomeExpenses,R,"carManagementSplit"))||0)/100,q=(_&&Number(Tt(c.incomeExpenses,R,"carOwnerSplit"))||0)/100,ne=_?ee+K*te+H*te:0,fe=_?K*q+H*q:0,pe=ne+fe;return a.jsx($t,{open:m,onOpenChange:ye=>!ye&&P(),children:a.jsxs(Ft,{className:`bg-[#0f0f0f] border-[#1a1a1a] text-foreground ${_?"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col":"max-w-md"}`,children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-lg",children:`Update ${L}`}),a.jsxs(Ut,{className:"text-gray-400",children:["Enter the amount for ",L," for ",f," ",i]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Type:"}),a.jsx("div",{className:"text-foreground text-sm font-medium mt-1",children:L})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Date:"}),a.jsxs("div",{className:"text-foreground text-sm font-medium mt-1",children:[f," ",i]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:t.field==="carManagementSplit"||t.field==="carOwnerSplit"?"Percentage":"Amount"}),a.jsx(ae,{type:"number",value:t.value,onChange:ye=>e({...t,value:parseFloat(ye.target.value)||0}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm mt-1",step:t.field==="carManagementSplit"||t.field==="carOwnerSplit"?"1":"0.01",min:t.field==="carManagementSplit"||t.field==="carOwnerSplit"?"0":void 0,max:t.field==="carManagementSplit"||t.field==="carOwnerSplit"?"100":void 0,autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:t.field==="carManagementSplit"||t.field==="carOwnerSplit"?"Inputted Percentage:":"Inputted Amount:"}),a.jsx(ae,{value:t.field==="carManagementSplit"||t.field==="carOwnerSplit"?`${t.value.toFixed(0)}%`:t.field==="carManagementSplit"&&l&&l[t.month]?`$${t.value.toFixed(2)}(${l[t.month]===70?30:50}%)`:`$${t.value.toFixed(2)}`,disabled:!0,className:"bg-[#1a1a1a] border-[#2a2a2a] text-gray-400 text-sm mt-1"})]}),t.field!=="carManagementSplit"&&t.field!=="carOwnerSplit"&&a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Remarks"}),a.jsx(Fa,{value:u,onChange:ye=>h(ye.target.value),placeholder:"Add any notes...",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm min-h-[100px] mt-1"})]}),_&&B&&I&&C&&D&&W&&a.jsxs("div",{className:"border-t border-[#2a2a2a] pt-4 mt-4",children:[a.jsxs(Se,{className:"text-gray-300 text-sm font-semibold mb-3 block",children:["All Values for ",f," ",i]}),a.jsxs("div",{className:"max-h-[400px] overflow-y-auto space-y-4 pr-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[#EAEB80] text-xs font-semibold mb-2",children:"INCOME"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Rental Income:"}),a.jsxs("span",{children:["$",B.rentalIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Delivery Income:"}),a.jsxs("span",{children:["$",B.deliveryIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Electric Prepaid Income:"}),a.jsxs("span",{children:["$",B.electricPrepaidIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Smoking Fines:"}),a.jsxs("span",{children:["$",B.smokingFines.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Gas Prepaid Income:"}),a.jsxs("span",{children:["$",B.gasPrepaidIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Ski Racks Income:"}),a.jsxs("span",{children:["$",B.skiRacksIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Miles Income:"}),a.jsxs("span",{children:["$",B.milesIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Child Seat Income:"}),a.jsxs("span",{children:["$",B.childSeatIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Coolers Income:"}),a.jsxs("span",{children:["$",B.coolersIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Insurance and Client Wrecks:"}),a.jsxs("span",{children:["$",B.insuranceWreckIncome.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Other Income:"}),a.jsxs("span",{children:["$",B.otherIncome.toFixed(2)]})]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[#EAEB80] text-xs font-semibold mb-2",children:"OPERATING EXPENSE (Direct Delivery)"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Labor - Cleaning:"}),a.jsxs("span",{children:["$",I.laborCarCleaning.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Labor - Delivery:"}),a.jsxs("span",{children:["$",I.laborDelivery.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Parking - Airport:"}),a.jsxs("span",{children:["$",I.parkingAirport.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Parking - Lot:"}),a.jsxs("span",{children:["$",I.parkingLot.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Uber/Lyft/Lime:"}),a.jsxs("span",{children:["$",I.uberLyftLime.toFixed(2)]})]}),d.directDelivery.map(ye=>{const Ne=ye.values.find(J=>J.month===R)?.value||0;return Ne>0?a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsxs("span",{children:[ye.name,":"]}),a.jsxs("span",{children:["$",Ne.toFixed(2)]})]},ye.id):null}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] font-semibold pt-1 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"TOTAL OPERATING EXPENSE (Direct Delivery):"}),a.jsxs("span",{children:["$",K.toFixed(2)]})]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[#EAEB80] text-xs font-semibold mb-2",children:"OPERATING EXPENSE (COGS - Per Vehicle)"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Auto Body Shop / Wreck:"}),a.jsxs("span",{children:["$",C.autoBodyShopWreck.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Alignment:"}),a.jsxs("span",{children:["$",C.alignment.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Battery:"}),a.jsxs("span",{children:["$",C.battery.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Brakes:"}),a.jsxs("span",{children:["$",C.brakes.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Car Payment:"}),a.jsxs("span",{children:["$",C.carPayment.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Car Insurance:"}),a.jsxs("span",{children:["$",C.carInsurance.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Car Seats:"}),a.jsxs("span",{children:["$",C.carSeats.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Cleaning Supplies / Tools:"}),a.jsxs("span",{children:["$",C.cleaningSuppliesTools.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Emissions:"}),a.jsxs("span",{children:["$",C.emissions.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"GPS System:"}),a.jsxs("span",{children:["$",C.gpsSystem.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Key & Fob:"}),a.jsxs("span",{children:["$",C.keyFob.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Labor - Cleaning:"}),a.jsxs("span",{children:["$",C.laborCleaning.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"License & Registration:"}),a.jsxs("span",{children:["$",C.licenseRegistration.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Mechanic:"}),a.jsxs("span",{children:["$",C.mechanic.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Oil/Lube:"}),a.jsxs("span",{children:["$",C.oilLube.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Parts:"}),a.jsxs("span",{children:["$",C.parts.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Ski Racks:"}),a.jsxs("span",{children:["$",C.skiRacks.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Tickets & Tolls:"}),a.jsxs("span",{children:["$",C.tickets.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Tired Air Station:"}),a.jsxs("span",{children:["$",C.tiredAirStation.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Tires:"}),a.jsxs("span",{children:["$",C.tires.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Towing / Impound Fees:"}),a.jsxs("span",{children:["$",C.towingImpoundFees.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Uber/Lyft/Lime:"}),a.jsxs("span",{children:["$",C.uberLyftLime.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Windshield:"}),a.jsxs("span",{children:["$",C.windshield.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Wipers:"}),a.jsxs("span",{children:["$",C.wipers.toFixed(2)]})]}),d.cogs.map(ye=>{const Ne=ye.values.find(J=>J.month===R)?.value||0;return Ne>0?a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsxs("span",{children:[ye.name,":"]}),a.jsxs("span",{children:["$",Ne.toFixed(2)]})]},ye.id):null}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] font-semibold pt-1 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"TOTAL OPERATING EXPENSE (COGS - Per Vehicle):"}),a.jsxs("span",{children:["$",H.toFixed(2)]})]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[#EAEB80] text-xs font-semibold mb-2",children:"GLA PARKING FEE & LABOR CLEANING"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"GLA Parking Fee:"}),a.jsxs("span",{children:["$",D.glaParkingFee.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Labor - Cleaning:"}),a.jsxs("span",{children:["$",D.laborCleaning.toFixed(2)]})]}),d.parkingFeeLabor.map(ye=>{const Ne=ye.values.find(J=>J.month===R)?.value||0;return Ne>0?a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsxs("span",{children:[ye.name,":"]}),a.jsxs("span",{children:["$",Ne.toFixed(2)]})]},ye.id):null}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] font-semibold pt-1 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"Total Parking Fee & Labor Cleaning:"}),a.jsxs("span",{children:["$",G.toFixed(2)]})]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[#EAEB80] text-xs font-semibold mb-2",children:"REIMBURSE AND NON-REIMBURSE BILLS"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Electric - Reimbursed:"}),a.jsxs("span",{children:["$",W.electricReimbursed.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Electric - Not Reimbursed:"}),a.jsxs("span",{children:["$",W.electricNotReimbursed.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Gas - Reimbursed:"}),a.jsxs("span",{children:["$",W.gasReimbursed.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Gas - Not Reimbursed:"}),a.jsxs("span",{children:["$",W.gasNotReimbursed.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Gas - Service Run:"}),a.jsxs("span",{children:["$",W.gasServiceRun.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Parking Airport:"}),a.jsxs("span",{children:["$",W.parkingAirport.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Uber/Lyft/Lime - Not Reimbursed:"}),a.jsxs("span",{children:["$",W.uberLyftLimeNotReimbursed.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Uber/Lyft/Lime - Reimbursed:"}),a.jsxs("span",{children:["$",W.uberLyftLimeReimbursed.toFixed(2)]})]}),d.reimbursedBills.map(ye=>{const Ne=ye.values.find(J=>J.month===R)?.value||0;return Ne>0?a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsxs("span",{children:[ye.name,":"]}),a.jsxs("span",{children:["$",Ne.toFixed(2)]})]},ye.id):null}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] font-semibold pt-1 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"TOTAL REIMBURSE AND NON-REIMBURSE BILLS:"}),a.jsxs("span",{children:["$",ee.toFixed(2)]})]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[#EAEB80] text-xs font-semibold mb-2",children:"TOTAL EXPENSES"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Car Management Total Expenses:"}),a.jsxs("span",{children:["$",ne.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-gray-300",children:[a.jsx("span",{children:"Car Owner Total Expenses:"}),a.jsxs("span",{children:["$",fe.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-[#EAEB80] font-semibold pt-1 border-t border-[#2a2a2a]",children:[a.jsx("span",{children:"Total Expenses:"}),a.jsxs("span",{children:["$",pe.toFixed(2)]})]})]})]})]})]}),t.field!=="carManagementSplit"&&t.field!=="carOwnerSplit"&&a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs mb-2 block",children:"Receipt Images"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:w,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",multiple:!0,onChange:N,className:"hidden",id:"receipt-upload-income"}),a.jsxs("label",{htmlFor:"receipt-upload-income",className:"flex items-center justify-center gap-2 w-full py-3 px-4 border-2 border-dashed border-[#EAEB80]/50 rounded-lg bg-[#1a1a1a]/50 hover:border-[#EAEB80] hover:bg-[#1a1a1a] transition-all cursor-pointer group",children:[a.jsx(gn,{className:"w-5 h-5 text-[#EAEB80] group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"text-[#EAEB80] font-medium text-sm",children:x.length>0?`Add More Images (${x.length} selected)`:"Choose Images to Upload"}),a.jsx(e0,{className:"w-5 h-5 text-[#EAEB80]/70"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Supported formats: JPEG, PNG, GIF, WebP (Max 10MB per image)"}),(x.length>0||p.length>0||g)&&a.jsx("div",{className:"mt-4",children:g?a.jsx("div",{className:"text-center py-4 text-gray-400 text-sm",children:"Loading images..."}):a.jsx(cN,{newImages:x,existingImages:p,onRemoveNew:j,onRemoveExisting:b})})]})]}),a.jsxs(ai,{className:"flex gap-2",children:[a.jsx(ie,{onClick:P,variant:"outline",className:"flex-1 border-[#2a2a2a] text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{onClick:O,disabled:s||v&&t.field!=="carManagementSplit"&&t.field!=="carOwnerSplit",className:"flex-1 bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:s||v&&t.field!=="carManagementSplit"&&t.field!=="carOwnerSplit"?"Saving...":t.field==="carManagementSplit"||t.field==="carOwnerSplit"?"Save":`Save${x.length>0?` & Upload ${x.length} Image${x.length>1?"s":""}`:""}`})]})]})})}const mVe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function pVe(){const{editingCell:t,setEditingCell:e,updateCell:r,saveChanges:n,isSaving:s,year:i,carId:o}=di(),[l,c]=y.useState(""),d=t?mVe[t.month-1]:"",u=!!t&&t.category==="directDelivery",{imageFiles:h,existingImages:f,isUploading:m,isLoadingImages:x,fileInputRef:p,handleFileChange:v,handleRemoveImage:g,handleRemoveExistingImage:w,uploadImages:N,resetImages:j}=dN(o,i,t?.category||"",t?.field||"",t?.month||1);y.useEffect(()=>{u&&t&&(async()=>{try{const O=await fetch(je(`/api/income-expense/remarks?carId=${o}&year=${i}&month=${t.month}&category=${t.category}&field=${t.field}`),{credentials:"include"});if(O.ok){const k=await O.json();c(k.remarks||"")}}catch{}})()},[u,t,o,i]);const b=()=>{e(null),c(""),j()},S=async()=>{if(t)try{await fetch(je("/api/income-expense/remarks"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({carId:o,year:parseInt(i),month:t.month,category:t.category,field:t.field,remarks:l.trim()})}),h.length>0&&await N(),n({category:t.category,field:t.field,month:t.month,value:t.value})}catch(P){console.error("Error saving:",P)}};if(!t||t.category!=="directDelivery")return null;const E={laborCarCleaning:"Labor - Cleaning",laborDelivery:"Labor - Delivery",parkingAirport:"Parking - Airport",parkingLot:"Parking - Lot",uberLyftLime:"Uber/Lyft/Lime"}[t.field]||t.field;return a.jsx($t,{open:u,onOpenChange:P=>!P&&b(),children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] text-foreground max-w-md",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-lg",children:"Update Direct Delivery Expense"}),a.jsxs(Ut,{className:"text-gray-400",children:["Enter direct delivery expenses for ",d," ",i]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Type:"}),a.jsx("div",{className:"text-foreground text-sm font-medium mt-1",children:E})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Date:"}),a.jsxs("div",{className:"text-foreground text-sm font-medium mt-1",children:[d," ",i]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Amount"}),a.jsx(ae,{type:"number",value:t.value,onChange:P=>e({...t,value:parseFloat(P.target.value)||0}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm mt-1",step:"0.01",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Inputted Amount:"}),a.jsx(ae,{value:`$${t.value.toFixed(2)}`,disabled:!0,className:"bg-[#1a1a1a] border-[#2a2a2a] text-gray-400 text-sm mt-1"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Remarks"}),a.jsx(Fa,{value:l,onChange:P=>c(P.target.value),placeholder:"Add any notes...",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm min-h-[80px] mt-1"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs mb-2 block",children:"Receipt Images"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:p,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",multiple:!0,onChange:v,className:"hidden",id:"receipt-upload"}),a.jsxs("label",{htmlFor:"receipt-upload",className:"flex items-center justify-center gap-2 w-full py-3 px-4 border-2 border-dashed border-[#EAEB80]/50 rounded-lg bg-[#1a1a1a]/50 hover:border-[#EAEB80] hover:bg-[#1a1a1a] transition-all cursor-pointer group",children:[a.jsx(gn,{className:"w-5 h-5 text-[#EAEB80] group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"text-[#EAEB80] font-medium text-sm",children:h.length>0?`Add More Images (${h.length} selected)`:"Choose Images to Upload"}),a.jsx(e0,{className:"w-5 h-5 text-[#EAEB80]/70"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Supported formats: JPEG, PNG, GIF, WebP (Max 10MB per image)"}),(h.length>0||f.length>0||x)&&a.jsx("div",{className:"mt-4",children:x?a.jsx("div",{className:"text-center py-4 text-gray-400 text-sm",children:"Loading images..."}):a.jsx(cN,{newImages:h,existingImages:f,onRemoveNew:g,onRemoveExisting:w})})]})]}),a.jsxs(ai,{className:"flex gap-2",children:[a.jsx(ie,{onClick:b,variant:"outline",className:"flex-1 border-[#2a2a2a] text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{onClick:S,disabled:s||m,className:"flex-1 bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:s||m?"Saving...":`Save${h.length>0?` & Upload ${h.length} Image${h.length>1?"s":""}`:""}`})]})]})})}const xVe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function gVe(){const{editingCell:t,setEditingCell:e,updateCell:r,saveChanges:n,isSaving:s,year:i,carId:o}=di(),[l,c]=y.useState("");y.useEffect(()=>{t&&(async()=>{try{const O=await fetch(je(`/api/income-expense/remarks?carId=${o}&year=${i}&month=${t.month}&category=${t.category}&field=${t.field}`),{credentials:"include"});if(O.ok){const k=await O.json();c(k.remarks||"")}}catch{}})()},[t,o,i]);const d=t?xVe[t.month-1]:"",u=!!t&&t.category==="cogs",{imageFiles:h,existingImages:f,isUploading:m,isLoadingImages:x,fileInputRef:p,handleFileChange:v,handleRemoveImage:g,handleRemoveExistingImage:w,uploadImages:N,resetImages:j}=dN(o,i,t?.category||"",t?.field||"",t?.month||1),b=()=>{e(null),c(""),j()},S=async()=>{if(t)try{h.length>0&&await N();try{if(!(await fetch(je("/api/income-expense/remarks"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({carId:o,year:parseInt(i),month:t.month,category:t.category,field:t.field,remarks:l.trim()})})).ok)throw new Error("Failed to save remarks")}catch(P){console.error("Error saving remarks:",P)}n({category:t.category,field:t.field,month:t.month,value:t.value})}catch(P){console.error("Error saving:",P)}};if(!t||t.category!=="cogs")return null;const E={autoBodyShopWreck:"Auto Body Shop / Wreck",alignment:"Alignment",battery:"Battery",brakes:"Brakes",carPayment:"Car Payment",carInsurance:"Car Insurance",carSeats:"Car Seats",cleaningSuppliesTools:"Cleaning Supplies / Tools",emissions:"Emissions",gpsSystem:"GPS System",keyFob:"Key & Fob",laborCleaning:"Labor - Cleaning",licenseRegistration:"License & Registration",mechanic:"Mechanic",oilLube:"Oil/Lube",parts:"Parts",skiRacks:"Ski Racks",tickets:"Tickets & Tolls",tiredAirStation:"Tired Air Station",tires:"Tires",towingImpoundFees:"Towing / Impound Fees",uberLyftLime:"Uber/Lyft/Lime",windshield:"Windshield",wipers:"Wipers"}[t.field]||t.field;return a.jsx($t,{open:u,onOpenChange:P=>!P&&b(),children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] text-foreground max-w-md",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-lg",children:"Update COGS Expense"}),a.jsxs(Ut,{className:"text-gray-400",children:["Enter Cost of Goods Sold expenses for ",d," ",i]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Type:"}),a.jsx("div",{className:"text-foreground text-sm font-medium mt-1",children:E})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Date:"}),a.jsxs("div",{className:"text-foreground text-sm font-medium mt-1",children:[d," ",i]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Amount"}),a.jsx(ae,{type:"number",value:t.value,onChange:P=>e({...t,value:parseFloat(P.target.value)||0}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm mt-1",step:"0.01",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Total Amount:"}),a.jsxs("div",{className:"text-foreground text-lg font-semibold mt-1",children:["$",t.value.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Remarks"}),a.jsx(Fa,{value:l,onChange:P=>c(P.target.value),placeholder:"Add any notes...",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm min-h-[80px] mt-1"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs mb-2 block",children:"Receipt Images"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:p,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",multiple:!0,onChange:v,className:"hidden",id:"receipt-upload-cogs"}),a.jsxs("label",{htmlFor:"receipt-upload-cogs",className:"flex items-center justify-center gap-2 w-full py-3 px-4 border-2 border-dashed border-[#EAEB80]/50 rounded-lg bg-[#1a1a1a]/50 hover:border-[#EAEB80] hover:bg-[#1a1a1a] transition-all cursor-pointer group",children:[a.jsx(gn,{className:"w-5 h-5 text-[#EAEB80] group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"text-[#EAEB80] font-medium text-sm",children:h.length>0?`Add More Images (${h.length} selected)`:"Choose Images to Upload"}),a.jsx(e0,{className:"w-5 h-5 text-[#EAEB80]/70"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Supported formats: JPEG, PNG, GIF, WebP (Max 10MB per image)"}),(h.length>0||f.length>0||x)&&a.jsx("div",{className:"mt-4",children:x?a.jsx("div",{className:"text-center py-4 text-gray-400 text-sm",children:"Loading images..."}):a.jsx(cN,{newImages:h,existingImages:f,onRemoveNew:g,onRemoveExisting:w})})]})]}),a.jsxs(ai,{className:"flex gap-2",children:[a.jsx(ie,{onClick:b,variant:"outline",className:"flex-1 border-[#2a2a2a] text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{onClick:S,disabled:s||m,className:"flex-1 bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:s||m?"Saving...":`Save${h.length>0?` & Upload ${h.length} Image${h.length>1?"s":""}`:""}`})]})]})})}const vVe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function yVe(){const{editingCell:t,setEditingCell:e,updateCell:r,saveChanges:n,isSaving:s,year:i,carId:o}=di(),[l,c]=y.useState(""),d=t?vVe[t.month-1]:"",u=!!t&&t.category==="parkingFeeLabor",h=()=>{e(null),c("")},f=()=>{t&&n({category:t.category,field:t.field,month:t.month,value:t.value})};if(!t||t.category!=="parkingFeeLabor")return null;const x={glaParkingFee:"GLA Parking Fee",laborCleaning:"Labor - Cleaning"}[t.field]||t.field;return a.jsx($t,{open:u,onOpenChange:p=>!p&&h(),children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] text-foreground max-w-md",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-lg",children:"Update Parking Fee & Labor"}),a.jsxs(Ut,{className:"text-gray-400",children:["Enter parking fees and labor expenses for ",d," ",i]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Type:"}),a.jsx("div",{className:"text-foreground text-sm font-medium mt-1",children:x})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Date:"}),a.jsxs("div",{className:"text-foreground text-sm font-medium mt-1",children:[d," ",i]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Amount"}),a.jsx(ae,{type:"number",value:t.value,onChange:p=>e({...t,value:parseFloat(p.target.value)||0}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm mt-1",step:"0.01",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Remarks"}),a.jsx(Fa,{value:l,onChange:p=>c(p.target.value),placeholder:"Add any notes...",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm min-h-[80px] mt-1"})]})]}),a.jsxs(ai,{className:"flex gap-2",children:[a.jsx(ie,{onClick:h,variant:"outline",className:"flex-1 border-[#2a2a2a] text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{onClick:f,disabled:s,className:"flex-1 bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:s?"Saving...":"Save"})]})]})})}const bVe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function wVe(){const{editingCell:t,setEditingCell:e,updateCell:r,saveChanges:n,isSaving:s,year:i,carId:o}=di(),[l,c]=y.useState(""),d=t?bVe[t.month-1]:"",u=!!t&&t.category==="reimbursedBills",{imageFiles:h,existingImages:f,isUploading:m,isLoadingImages:x,fileInputRef:p,handleFileChange:v,handleRemoveImage:g,handleRemoveExistingImage:w,uploadImages:N,resetImages:j}=dN(o,i,t?.category||"",t?.field||"",t?.month||1);y.useEffect(()=>{u&&t&&(async()=>{try{const O=await fetch(je(`/api/income-expense/remarks?carId=${o}&year=${i}&month=${t.month}&category=${t.category}&field=${t.field}`),{credentials:"include"});if(O.ok){const k=await O.json();c(k.remarks||"")}}catch{}})()},[u,t,o,i]);const b=()=>{e(null),c(""),j()},S=async()=>{if(t)try{await fetch(je("/api/income-expense/remarks"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({carId:o,year:parseInt(i),month:t.month,category:t.category,field:t.field,remarks:l.trim()})}),h.length>0&&await N(),n({category:t.category,field:t.field,month:t.month,value:t.value})}catch(P){console.error("Error saving:",P)}};if(!t||t.category!=="reimbursedBills")return null;const E={electricReimbursed:"Electric - Reimbursed",electricNotReimbursed:"Electric - Not Reimbursed",gasReimbursed:"Gas - Reimbursed",gasNotReimbursed:"Gas - Not Reimbursed",gasServiceRun:"Gas - Service Run",parkingAirport:"Parking Airport",uberLyftLimeNotReimbursed:"Uber/Lyft/Lime - Not Reimbursed (added)",uberLyftLimeReimbursed:"Uber/Lyft/Lime - Reimbursed (added)"}[t.field]||t.field;return a.jsx($t,{open:u,onOpenChange:P=>!P&&b(),children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] text-foreground max-w-md",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-lg",children:"Update Reimbursed Bills"}),a.jsxs(Ut,{className:"text-gray-400",children:["Enter reimbursed and non-reimbursed expenses for ",d," ",i]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Type:"}),a.jsx("div",{className:"text-foreground text-sm font-medium mt-1",children:E})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Date:"}),a.jsxs("div",{className:"text-foreground text-sm font-medium mt-1",children:[d," ",i]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Amount"}),a.jsx(ae,{type:"number",value:t.value,onChange:P=>e({...t,value:parseFloat(P.target.value)||0}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm mt-1",step:"0.01",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Remarks"}),a.jsx(Fa,{value:l,onChange:P=>c(P.target.value),placeholder:"Add any notes...",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm min-h-[80px] mt-1"})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs mb-2 block",children:"Receipt Images"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:p,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",multiple:!0,onChange:v,className:"hidden",id:"receipt-upload-reimbursed"}),a.jsxs("label",{htmlFor:"receipt-upload-reimbursed",className:"flex items-center justify-center gap-2 w-full py-3 px-4 border-2 border-dashed border-[#EAEB80]/50 rounded-lg bg-[#1a1a1a]/50 hover:border-[#EAEB80] hover:bg-[#1a1a1a] transition-all cursor-pointer group",children:[a.jsx(gn,{className:"w-5 h-5 text-[#EAEB80] group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"text-[#EAEB80] font-medium text-sm",children:h.length>0?`Add More Images (${h.length} selected)`:"Choose Images to Upload"}),a.jsx(e0,{className:"w-5 h-5 text-[#EAEB80]/70"})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Supported formats: JPEG, PNG, GIF, WebP (Max 10MB per image)"}),(h.length>0||f.length>0||x)&&a.jsx("div",{className:"mt-4",children:x?a.jsx("div",{className:"text-center py-4 text-gray-400 text-sm",children:"Loading images..."}):a.jsx(cN,{newImages:h,existingImages:f,onRemoveNew:g,onRemoveExisting:w})})]})]}),a.jsxs(ai,{className:"flex gap-2",children:[a.jsx(ie,{onClick:b,variant:"outline",className:"flex-1 border-[#2a2a2a] text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{onClick:S,disabled:s||m,className:"flex-1 bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:s||m?"Saving...":`Save${h.length>0?` & Upload ${h.length} Image${h.length>1?"s":""}`:""}`})]})]})})}const jVe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function NVe(){const{editingCell:t,setEditingCell:e,updateCell:r,saveChanges:n,isSaving:s,year:i}=di(),o=t?jVe[t.month-1]:"",l=!!t&&t.category==="history",c=()=>{e(null)},d=()=>{t&&n({category:t.category,field:t.field,month:t.month,value:t.value})};if(!t||t.category!=="history")return null;const h={daysRented:"Days Rented",carsAvailableForRent:"Cars Available For Rent",tripsTaken:"Trips Taken"}[t.field]||t.field;return a.jsx($t,{open:l,onOpenChange:f=>!f&&c(),children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] text-foreground max-w-md",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-lg",children:"Update Car History"}),a.jsxs(Ut,{className:"text-gray-400",children:["Enter rental history data for ",o," ",i]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Type:"}),a.jsx("div",{className:"text-foreground text-sm font-medium mt-1",children:h})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Date:"}),a.jsxs("div",{className:"text-foreground text-sm font-medium mt-1",children:[o," ",i]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Quantity"}),a.jsx(ae,{type:"number",value:Math.round(t.value),onChange:f=>e({...t,value:parseInt(f.target.value)||0}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm mt-1",step:"1",autoFocus:!0})]})]}),a.jsxs(ai,{className:"flex gap-2",children:[a.jsx(ie,{onClick:c,variant:"outline",className:"flex-1 border-[#2a2a2a] text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{onClick:d,disabled:s,className:"flex-1 bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:s?"Saving...":"Save"})]})]})})}const EVe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function SVe(){const{editingCell:t,setEditingCell:e,updateCell:r,saveChanges:n,isSaving:s,year:i}=di(),o=t?EVe[t.month-1]:"",l=!!t&&t.category==="parkingAirportQB",c=()=>{e(null)},d=()=>{t&&n({category:t.category,field:t.field,month:t.month,value:t.value})};if(!t||t.category!=="parkingAirportQB")return null;const h={totalParkingAirport:"Total Parking Airport"}[t.field]||t.field;return a.jsx($t,{open:l,onOpenChange:f=>!f&&c(),children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] text-foreground max-w-md",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-foreground text-lg",children:"Update Parking Airport QB"}),a.jsxs(Ut,{className:"text-gray-400",children:["Enter parking airport data for ",o," ",i]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Type:"}),a.jsx("div",{className:"text-foreground text-sm font-medium mt-1",children:h})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Date:"}),a.jsxs("div",{className:"text-foreground text-sm font-medium mt-1",children:[o," ",i]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Amount"}),a.jsx(ae,{type:"number",value:t.value,onChange:f=>e({...t,value:parseFloat(f.target.value)||0}),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm mt-1",step:"0.01",autoFocus:!0})]})]}),a.jsxs(ai,{className:"flex gap-2",children:[a.jsx(ie,{onClick:c,variant:"outline",className:"flex-1 border-[#2a2a2a] text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{onClick:d,disabled:s,className:"flex-1 bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:s?"Saving...":"Save"})]})]})})}const AVe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function CVe(){const{editingCell:t,setEditingCell:e,updateDynamicSubcategoryValue:r,dynamicSubcategories:n,year:s,carId:i}=di(),[o,l]=y.useState(0);ve.useEffect(()=>{t&&l(t.value)},[t]);const c=!!t&&t.category?.startsWith("dynamic-");if(!c||!t)return null;const d=t.category.replace("dynamic-",""),u=t.field.match(/subcategory-(\d+)/),h=u?parseInt(u[1]):0,f=n[d]?.find(v=>v.id===h);if(!f)return null;const m=AVe[t.month-1],x=()=>{e(null),l(0)},p=async()=>{t&&(await r(d,h,t.month,o,f.name),x())};return a.jsx($t,{open:c,onOpenChange:v=>!v&&x(),children:a.jsxs(Ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] text-foreground max-w-md",children:[a.jsxs(Dt,{children:[a.jsxs(Mt,{className:"text-foreground text-lg",children:["Update ",f.name]}),a.jsxs(Ut,{className:"text-gray-400",children:["Enter the amount for ",f.name," for ",m," ",s]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Type:"}),a.jsx("div",{className:"text-foreground text-sm font-medium mt-1",children:f.name})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Date:"}),a.jsxs("div",{className:"text-foreground text-sm font-medium mt-1",children:[m," ",s]})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Amount"}),a.jsx(ae,{type:"number",value:o,onChange:v=>l(parseFloat(v.target.value)||0),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground text-sm mt-1",step:"0.01",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx(Se,{className:"text-gray-400 text-xs",children:"Inputted Amount:"}),a.jsx(ae,{value:`$${o.toFixed(2)}`,disabled:!0,className:"bg-[#1a1a1a] border-[#2a2a2a] text-gray-400 text-sm mt-1"})]})]}),a.jsxs(ai,{className:"flex gap-2",children:[a.jsx(ie,{onClick:x,variant:"outline",className:"flex-1 border-[#2a2a2a] text-gray-400 hover:text-foreground hover:bg-[#2a2a2a]",children:"Cancel"}),a.jsx(ie,{onClick:p,className:"flex-1 bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:"Save"})]})]})})}function xX({carIdFromRoute:t}){const[,e]=wr(),r=y.useMemo(()=>{if(t)return t;if(typeof window>"u")return null;const _=new URLSearchParams(window.location.search).get("car");if(!_)return null;const B=parseInt(_,10);return Number.isFinite(B)?B:null},[t]),n=!!r,s=!!t,i=!n,[o,l]=y.useState(r?String(r):"all"),[c,d]=y.useState(!1),u=new Date().getFullYear(),h=2019,f=u+2,m=Array.from({length:f-h+1},(_,B)=>h+B),[x,p]=y.useState(String(u));y.useEffect(()=>{r&&l(String(r))},[r]);const{data:v,isLoading:g,error:w}=Ge({queryKey:["/api/cars",r],queryFn:async()=>{if(!r)throw new Error("Invalid car ID");const _=await fetch(je(`/api/cars/${r}`),{credentials:"include"});if(!_.ok)throw new Error("Failed to fetch car");return _.json()},enabled:!!r,retry:!1}),N=v?.data,{data:j}=Ge({queryKey:["/api/onboarding/vin",N?.vin,"onboarding"],queryFn:async()=>{if(!N?.vin)throw new Error("No VIN");const _=await fetch(je(`/api/onboarding/vin/${encodeURIComponent(N.vin)}`),{credentials:"include"});if(!_.ok){if(_.status===404)return{success:!0,data:null};throw new Error("Failed to fetch onboarding data")}return _.json()},enabled:!!N?.vin,retry:!1}),b=j?.data,{data:S}=Ge({queryKey:["/api/cars"],queryFn:async()=>{const _=await fetch(je("/api/cars"),{credentials:"include"});if(!_.ok)throw new Error("Failed to fetch cars");return _.json()},enabled:i}),A=S?.data||[],[E,P]=y.useState(!1),[O,k]=y.useState(!1),L=_=>{const B=(_.makeModel||"").trim(),I=_.year?String(_.year):null,C=(_.licensePlate||"").trim(),D=(_.vin||"").trim(),W=[];return B?W.push(I?`${B} ${I}`:B):I&&W.push(I),C&&W.push(C),D&&W.push(D),W.length>0?W.join(" - "):"Unknown Car"};if(g&&n)return a.jsx(jt,{children:a.jsx(Is,{})});if(n&&(w||!N))return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[a.jsx("p",{className:"text-red-400",children:"Failed to load car details"}),a.jsx("button",{onClick:()=>e("/cars"),className:"mt-4 text-[#EAEB80] hover:underline",children:" Back to Cars"})]})});const R=o!=="all"?parseInt(o):null;return R?a.jsx(sVe,{carId:R,year:x,children:a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[a.jsxs("div",{className:"mb-2 flex-shrink-0",children:[s?a.jsxs("button",{onClick:()=>e(`/admin/view-car/${R}`),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to View Car"})]}):a.jsxs("button",{onClick:()=>e("/cars"),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Cars"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Income and Expenses"}),N&&a.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Car: ",N.makeModel||"Unknown Car"]})]})]}),a.jsx("div",{className:"flex-shrink-0 mb-2",children:a.jsx(nVe,{car:N,onboarding:b,onNavigateToClient:_=>e(`/admin/clients/${_}`)})}),a.jsxs("div",{className:"flex items-center justify-between mb-2 flex-shrink-0",children:[a.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"INCOME AND EXPENSES"}),a.jsxs("div",{className:"flex items-center gap-2",children:[!s&&a.jsx("div",{className:"w-[300px]",children:a.jsxs(TB,{open:O,onOpenChange:k,children:[a.jsx(OB,{asChild:!0,children:a.jsxs(ie,{variant:"outline",role:"combobox","aria-expanded":O,className:"w-full justify-between bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a] text-sm overflow-hidden",children:[a.jsx("span",{className:"truncate text-left flex-1 min-w-0",children:o==="all"?"-- Select a Car --":(()=>{const _=A.find(B=>B.id.toString()===o);return _?L(_):"-- Select a Car --"})()}),a.jsx(yI,{className:"ml-2 h-4 w-4 shrink-0 opacity-50 flex-shrink-0"})]})}),a.jsx(sk,{className:"w-[300px] p-0 bg-[#1a1a1a] border-[#2a2a2a]",children:a.jsxs(lk,{className:"bg-[#1a1a1a]",children:[a.jsx(ck,{placeholder:"Search car by make, model, plate, or VIN...",className:"text-foreground placeholder:text-gray-500"}),a.jsxs(dk,{children:[a.jsx(uk,{className:"text-gray-400 py-6 text-center text-sm",children:"No car found."}),a.jsx(hk,{children:A.map(_=>{const B=L(_),I=o===_.id.toString();return a.jsxs(Sy,{value:B,onSelect:()=>{l(_.id.toString()),k(!1)},className:"text-foreground hover:bg-[#2a2a2a] cursor-pointer",children:[a.jsx(Il,{className:`mr-2 h-4 w-4 ${I?"opacity-100":"opacity-0"}`}),B]},_.id)})})]})]})})]})}),a.jsx(cVe,{selectedYear:x,setSelectedYear:p,carId:R,car:N})]})]}),a.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:a.jsx(iVe,{year:x})}),a.jsx(uVe,{}),a.jsx(fVe,{}),a.jsx(pVe,{}),a.jsx(gVe,{}),a.jsx(yVe,{}),a.jsx(wVe,{}),a.jsx(NVe,{}),a.jsx(SVe,{}),a.jsx(CVe,{})]})})}):a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-serif text-[#EAEB80] italic mb-2",children:"Income and Expenses"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Financial tracking and expense management - All Cars"})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("div",{className:"w-[400px]",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Select a car"}),a.jsxs(TB,{open:E,onOpenChange:P,children:[a.jsx(OB,{asChild:!0,children:a.jsxs(ie,{variant:"outline",role:"combobox","aria-expanded":E,className:"w-full justify-between bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a] overflow-hidden",children:[a.jsx("span",{className:"truncate text-left flex-1 min-w-0",children:o==="all"?"-- Select a Car --":(()=>{const _=A.find(B=>B.id.toString()===o);return _?L(_):"-- Select a Car --"})()}),a.jsx(yI,{className:"ml-2 h-4 w-4 shrink-0 opacity-50 flex-shrink-0"})]})}),a.jsx(sk,{className:"w-[400px] p-0 bg-[#1a1a1a] border-[#2a2a2a]",children:a.jsxs(lk,{className:"bg-[#1a1a1a]",children:[a.jsx(ck,{placeholder:"Search car by make, model, plate, or VIN...",className:"text-foreground placeholder:text-gray-500"}),a.jsxs(dk,{children:[a.jsx(uk,{className:"text-gray-400 py-6 text-center text-sm",children:"No car found."}),a.jsxs(hk,{children:[a.jsxs(Sy,{value:"all",onSelect:()=>{l("all"),P(!1)},className:"text-foreground hover:bg-[#2a2a2a] cursor-pointer",children:[a.jsx(Il,{className:`mr-2 h-4 w-4 ${o==="all"?"opacity-100":"opacity-0"}`}),"-- Select a Car --"]}),A.map(_=>{const B=L(_),I=o===_.id.toString();return a.jsxs(Sy,{value:B,onSelect:()=>{l(_.id.toString()),P(!1)},className:"text-foreground hover:bg-[#2a2a2a] cursor-pointer",children:[a.jsx(Il,{className:`mr-2 h-4 w-4 ${I?"opacity-100":"opacity-0"}`}),B]},_.id)})]})]})]})})]})]}),a.jsxs("div",{className:"w-[150px]",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Year"}),a.jsxs(tt,{value:x,onValueChange:p,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Year"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:m.map(_=>a.jsx(xe,{value:String(_),children:_},_))})]})]})]}),a.jsxs("div",{className:"bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg p-12 text-center",children:[a.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"Please select a car to view income and expenses"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Choose a car from the dropdown above to see detailed financial data"})]})]})})}function kVe(){const[,t]=Ia("/admin/cars/:id/income-expense"),e=t?.id?parseInt(t.id,10):null;return e?a.jsx(xX,{carIdFromRoute:e}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("p",{className:"text-red-400",children:"Invalid car ID"})})}function PVe(){const t=u$(),e=t.id?parseInt(t.id):null,[,r]=wr(),[n,s]=y.useState("2025"),[i,o]=y.useState("all"),[l,c]=y.useState(""),{data:d,isLoading:u}=Ge({queryKey:["/api/income-expense/log",e,n],queryFn:async()=>{const v=await fetch(je(`/api/income-expense/log/${e}/${n}`),{credentials:"include"});if(!v.ok)throw new Error("Failed to fetch log");return v.json()},enabled:!!e}),f=(d?.data||[]).filter(v=>{const g=i==="all"||v.category===i,w=l===""||v.fieldLabel?.toLowerCase().includes(l.toLowerCase())||v.changedByName?.toLowerCase().includes(l.toLowerCase());return g&&w}),m=v=>new Date(v).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),x=v=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][v-1]||v,p=v=>({income:"Income & Expenses",directDelivery:"Direct Delivery",cogs:"COGS",parkingFeeLabor:"Parking Fee & Labor",reimbursedBills:"Reimbursed Bills",history:"History",managementSplit:"Management Split"})[v]||v;return a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("button",{onClick:()=>r(`/admin/cars/${e}/income-expense`),className:"text-gray-400 hover:text-foreground transition-colors flex items-center gap-1 mb-2",children:[a.jsx(yn,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Income & Expense"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Edit History & Log"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Track all changes made to income and expense data"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("div",{className:"w-[150px]",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Year"}),a.jsxs(tt,{value:n,onValueChange:s,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Year"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"2026",children:"2026"}),a.jsx(xe,{value:"2025",children:"2025"}),a.jsx(xe,{value:"2024",children:"2024"}),a.jsx(xe,{value:"2023",children:"2023"})]})]})]}),a.jsxs("div",{className:"w-[250px]",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Category"}),a.jsxs(tt,{value:i,onValueChange:o,children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"All Categories"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"all",children:"All Categories"}),a.jsx(xe,{value:"income",children:"Income & Expenses"}),a.jsx(xe,{value:"directDelivery",children:"Direct Delivery"}),a.jsx(xe,{value:"cogs",children:"COGS"}),a.jsx(xe,{value:"parkingFeeLabor",children:"Parking Fee & Labor"}),a.jsx(xe,{value:"reimbursedBills",children:"Reimbursed Bills"}),a.jsx(xe,{value:"history",children:"History"}),a.jsx(xe,{value:"managementSplit",children:"Management Split"})]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Search"}),a.jsx(ae,{type:"text",placeholder:"Search by field or user...",value:l,onChange:v=>c(v.target.value),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]}),a.jsx("div",{className:"flex-1 overflow-auto bg-[#0f0f0f] border border-[#1a1a1a] rounded-lg",children:u?a.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading history..."}):f.length===0?a.jsx("div",{className:"text-center py-12 text-gray-400",children:"No edit history found for the selected filters"}):a.jsx("div",{className:"p-4 space-y-3",children:f.map(v=>a.jsx(ft,{className:"bg-[#0f0f0f] border-[#1a1a1a] hover:bg-[#151515] transition-colors",children:a.jsx(mt,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3 flex-wrap",children:[a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-[#EAEB80] text-black",children:p(v.category)}),a.jsx("span",{className:"text-foreground font-medium truncate",children:v.fieldLabel||v.fieldName}),a.jsx("span",{className:"text-gray-500",children:""}),a.jsxs("span",{className:"text-gray-400 text-sm whitespace-nowrap",children:[x(v.month)," ",v.year]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm mb-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400",children:"Old:"}),a.jsxs("span",{className:"text-red-400 font-mono",children:["$",Number(v.oldValue||0).toFixed(2)]})]}),a.jsx("span",{className:"text-gray-500",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400",children:"New:"}),a.jsxs("span",{className:"text-green-400 font-mono",children:["$",Number(v.newValue||0).toFixed(2)]})]}),a.jsx("span",{className:"text-gray-500",children:""}),a.jsxs("span",{className:"text-yellow-400 font-mono",children:[" $",(Number(v.newValue||0)-Number(v.oldValue||0)).toFixed(2)]})]}),v.remarks&&a.jsxs("div",{className:"text-gray-400 text-sm italic mt-2 bg-[#1a1a1a] p-2 rounded border border-[#2a2a2a]",children:['"',v.remarks,'"']})]}),a.jsxs("div",{className:"flex flex-col items-end text-xs text-gray-400 ml-4 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[a.jsx(kP,{className:"w-3 h-3"}),a.jsx("span",{className:"whitespace-nowrap",children:v.changedByName||"Unknown"})]}),a.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[a.jsx(ij,{className:"w-3 h-3"}),a.jsx("span",{className:"whitespace-nowrap",children:m(v.changedAt)})]}),v.ipAddress&&a.jsx("div",{className:"text-gray-500 text-xs",children:v.ipAddress})]})]})})},v.logId))})})]})})}function gX(t){const e=[];let r=0;if(t.length<8)return e.push("Password must be at least 8 characters long"),{score:0,feedback:e,isValid:!1};r+=1,/[A-Z]/.test(t)?r+=1:e.push("Add uppercase letters"),/[a-z]/.test(t)?r+=1:e.push("Add lowercase letters"),/[0-9]/.test(t)?r+=1:e.push("Add numbers"),/[^A-Za-z0-9]/.test(t)?r+=1:e.push("Add special characters"),t.length>=12&&(r=Math.min(r+.5,4)),[/12345/,/password/i,/qwerty/i,/abc123/i,/admin/i].some(i=>i.test(t))&&e.push("Avoid common patterns");const s=r>=2&&t.length>=8;return r>=3&&e.length===0&&e.push("Strong password"),{score:Math.min(Math.floor(r),4),feedback:e.length>0?e:["Password meets requirements"],isValid:s}}function vX(t){return t===0?"bg-red-500":t===1?"bg-orange-500":t===2?"bg-yellow-500":t===3?"bg-blue-500":"bg-green-500"}function yX(t){return t===0?"Very Weak":t===1?"Weak":t===2?"Fair":t===3?"Good":"Strong"}const TVe={lyc:"Client Onboarding Form (LYC)",car_onboarding:"Car On-boarding",car_offboarding:"Car Off-boarding"};function OVe(){const{toast:t}=kr(),e=Wr(),[,r]=wr(),[n,s]=y.useState({}),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[d,u]=y.useState(!1),[h,f]=y.useState(""),[m,x]=y.useState(""),[p,v]=y.useState(""),{data:g}=Ge({queryKey:["/api/auth/me"],retry:!1}),w=g?.user?.isAdmin===!0,{data:N,isLoading:j}=Ge({queryKey:["/api/settings/slack-channels"],queryFn:async()=>{const B=await fetch(je("/api/settings/slack-channels"),{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch Slack channel configurations");return B.json()},enabled:w}),b=yt({mutationFn:async B=>{const I=await fetch(je("/api/settings/slack-channels"),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(B)});if(!I.ok){const C=await I.json();throw new Error(C.error||"Failed to update Slack channel")}return I.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/settings/slack-channels"]}),t({title:"Success",description:"Slack channel configuration updated successfully"}),s({})},onError:B=>{t({title:"Error",description:B.message||"Failed to update Slack channel configuration",variant:"destructive"})}}),S=(B,I)=>{s(C=>({...C,[B]:I}))},A=B=>{const I=n[B.formType]||B.channelId;if(I===B.channelId){s(C=>{const D={...C};return delete D[B.formType],D});return}b.mutate({formType:B.formType,channelId:I,channelName:B.channelName||void 0})},E=B=>{s(I=>{const C={...I};return delete C[B],C})},P=yt({mutationFn:async B=>{const I=await fetch(je("/api/auth/update-password"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(B)});if(!I.ok){const C=await I.json();throw new Error(C.error||"Failed to update password")}return I.json()},onSuccess:()=>{t({title:"Success",description:"Password updated successfully. Please log in again."}),f(""),x(""),v(""),setTimeout(()=>{r("/admin/login")},2e3)},onError:B=>{t({title:"Error",description:B.message||"Failed to update password",variant:"destructive"})}}),O=gX(m),k=m===p&&p.length>0,L=h.length>0&&O.isValid&&k&&!P.isPending,R=B=>{if(B.preventDefault(),!!L){if(m!==p){t({title:"Error",description:"Passwords do not match",variant:"destructive"});return}P.mutate({oldPassword:h,newPassword:m})}};if(j&&w)return a.jsx(jt,{children:a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(Gt,{className:"w-8 h-8 animate-spin text-[#EAEB80]"})})});const _=N?.data||[];return a.jsx(jt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Settings"}),a.jsx("p",{className:"text-gray-400",children:"Manage your account settings and preferences"})]}),a.jsxs(ft,{className:"bg-[#111111] border-[#EAEB80]/20",children:[a.jsxs($r,{children:[a.jsxs(Gr,{className:"text-[#EAEB80] flex items-center gap-2",children:[a.jsx(Jh,{className:"w-5 h-5"}),"Account Security"]}),a.jsx(nl,{className:"text-gray-400",children:"Update your password to keep your account secure"})]}),a.jsx(mt,{children:a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Se,{htmlFor:"old-password",className:"text-gray-300",children:"Current Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(ae,{id:"old-password",type:i?"text":"password",value:h,onChange:B=>f(B.target.value),className:"bg-[#0a0a0a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80] pr-10",placeholder:"Enter your current password",required:!0}),a.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 hover:text-foreground transition-colors",onClick:()=>o(!i),children:i?a.jsx(ex,{className:"w-4 h-4"}):a.jsx(_s,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Se,{htmlFor:"new-password",className:"text-gray-300",children:"New Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(ae,{id:"new-password",type:l?"text":"password",value:m,onChange:B=>x(B.target.value),className:"bg-[#0a0a0a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80] pr-10",placeholder:"Enter your new password (min 8 characters)",required:!0,minLength:8}),a.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 hover:text-foreground transition-colors",onClick:()=>c(!l),children:l?a.jsx(ex,{className:"w-4 h-4"}):a.jsx(_s,{className:"w-4 h-4"})})]}),m.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-[#2a2a2a] rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all ${vX(O.score)}`,style:{width:`${O.score/4*100}%`}})}),a.jsx("span",{className:"text-xs text-gray-400",children:yX(O.score)})]}),O.feedback.length>0&&a.jsx("div",{className:"text-xs space-y-1",children:O.feedback.map((B,I)=>a.jsxs("div",{className:`flex items-center gap-1 ${O.isValid?"text-green-400":"text-yellow-400"}`,children:[a.jsx(Wd,{className:"w-3 h-3"}),B]},I))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Se,{htmlFor:"confirm-password",className:"text-gray-300",children:"Confirm New Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(ae,{id:"confirm-password",type:d?"text":"password",value:p,onChange:B=>v(B.target.value),className:"bg-[#0a0a0a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80] pr-10",placeholder:"Confirm your new password",required:!0}),a.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 hover:text-foreground transition-colors",onClick:()=>u(!d),children:d?a.jsx(ex,{className:"w-4 h-4"}):a.jsx(_s,{className:"w-4 h-4"})})]}),p.length>0&&a.jsx("div",{className:"text-xs flex items-center gap-1",children:k?a.jsx("span",{className:"text-green-400",children:" Passwords match"}):a.jsx("span",{className:"text-red-400",children:" Passwords do not match"})})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsx(ie,{type:"submit",disabled:!L,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] disabled:opacity-50 disabled:cursor-not-allowed",children:P.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Vx,{className:"w-4 h-4 mr-2"}),"Update Password"]})}),a.jsx("a",{href:"/reset-password",className:"text-sm text-[#EAEB80] hover:underline",children:"Forgot your password?"})]})]})})]}),w&&a.jsxs(a.Fragment,{children:[a.jsxs(ft,{className:"bg-[#111111] border-[#EAEB80]/20",children:[a.jsxs($r,{children:[a.jsxs(Gr,{className:"text-[#EAEB80] flex items-center gap-2",children:[a.jsx(Rte,{className:"w-5 h-5"}),"Slack Channel Configuration"]}),a.jsx(nl,{className:"text-gray-400",children:"Configure which Slack channels receive notifications for each form type. Each form type can have its own dedicated channel."})]}),a.jsxs(mt,{className:"space-y-6",children:[_.map(B=>{const I=n.hasOwnProperty(B.formType),C=n[B.formType]||B.channelId;return a.jsxs("div",{className:"p-4 border border-[#2a2a2a] rounded-lg bg-[#1a1a1a]",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{children:[a.jsx(Se,{className:"text-foreground font-medium text-lg",children:TVe[B.formType]||B.formType}),B.channelName&&a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:B.channelName})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Se,{htmlFor:`channel-${B.formType}`,className:"text-gray-300 text-sm",children:"Slack Channel ID"}),I?a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(ae,{id:`channel-${B.formType}`,value:C,onChange:D=>s(W=>({...W,[B.formType]:D.target.value})),className:"bg-[#0a0a0a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"C1234567890"}),a.jsx(ie,{onClick:()=>A(B),disabled:b.isPending,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",size:"sm",children:b.isPending?a.jsx(Gt,{className:"w-4 h-4 animate-spin"}):a.jsx(Vx,{className:"w-4 h-4"})}),a.jsx(ie,{onClick:()=>E(B.formType),variant:"outline",size:"sm",className:"border-[#2a2a2a] text-gray-300 hover:bg-[#2a2a2a]",children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(ae,{value:B.channelId,readOnly:!0,className:"bg-[#0a0a0a] border-[#2a2a2a] text-gray-400"}),a.jsx(ie,{onClick:()=>S(B.formType,B.channelId),variant:"outline",size:"sm",className:"border-[#2a2a2a] text-gray-300 hover:bg-[#2a2a2a]",children:"Edit"})]})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",new Date(B.updatedAt).toLocaleString()]})]})]},B.formType)}),_.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-400",children:[a.jsx("p",{children:"No Slack channel configurations found."}),a.jsx("p",{className:"text-sm mt-2",children:"Channels will be initialized on first use."})]})]})]}),a.jsxs(ft,{className:"bg-[#111111] border-[#EAEB80]/20",children:[a.jsx($r,{children:a.jsx(Gr,{className:"text-[#EAEB80]",children:"How to Get Slack Channel ID"})}),a.jsxs(mt,{className:"text-gray-300 space-y-2",children:[a.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[a.jsx("li",{children:"Open Slack and navigate to the channel you want to use"}),a.jsx("li",{children:"Click on the channel name at the top"}),a.jsx("li",{children:'Scroll down to find the "Channel ID" (starts with "C")'}),a.jsx("li",{children:"Copy the Channel ID and paste it in the field above"})]}),a.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"Note: Make sure your Slack bot has been invited to the channel before notifications can be sent."})]})]})]})]})})}function _Ve(){const[,t]=wr();return a.jsx(jt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-serif text-[#EAEB80] italic mb-1 sm:mb-2",children:"Human Resources"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Manage employee onboarding and employee records"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsx(ft,{className:"bg-[#111111] border-[#2a2a2a]",children:a.jsxs(mt,{className:"p-5 flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-foreground font-semibold",children:"Employees"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Add employees, approve pending onboarding submissions, import/export."})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsx(nb,{className:"w-6 h-6 text-[#EAEB80]"}),a.jsx(ie,{onClick:()=>t("/admin/hr/employees"),className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",children:"Open"})]})]})})})]})})}function RVe(t){const e=IVe(t),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(DVe);if(c){const d=c.props.children,u=l.map(h=>h===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,u):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function IVe(t){const e=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=LVe(s),l=MVe(i,s.props);return s.type!==y.Fragment&&(l.ref=n?xs(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var FVe=Symbol("radix.slottable");function DVe(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===FVe}function MVe(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function LVe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var fk=["Enter"," "],BVe=["ArrowDown","PageUp","Home"],bX=["ArrowUp","PageDown","End"],$Ve=[...BVe,...bX],UVe={ltr:[...fk,"ArrowRight"],rtl:[...fk,"ArrowLeft"]},VVe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},D0="Menu",[Wg,zVe,WVe]=Qg(D0),[rh,wX]=Da(D0,[WVe,bd,Am]),uN=bd(),jX=Am(),[qVe,nh]=rh(D0),[HVe,M0]=rh(D0),NX=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=t,l=uN(e),[c,d]=y.useState(null),u=y.useRef(!1),h=gs(i),f=gm(s);return y.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),a.jsx(BP,{...l,children:a.jsx(qVe,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:d,children:a.jsx(HVe,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:n})})})};NX.displayName=D0;var GVe="MenuAnchor",A_=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=uN(r);return a.jsx(n0,{...s,...n,ref:e})});A_.displayName=GVe;var C_="MenuPortal",[KVe,EX]=rh(C_,{forceMount:void 0}),SX=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,i=nh(C_,e);return a.jsx(KVe,{scope:e,forceMount:r,children:a.jsx(as,{present:r||i.open,children:a.jsx(dm,{asChild:!0,container:s,children:n})})})};SX.displayName=C_;var Li="MenuContent",[XVe,k_]=rh(Li),AX=y.forwardRef((t,e)=>{const r=EX(Li,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=nh(Li,t.__scopeMenu),o=M0(Li,t.__scopeMenu);return a.jsx(Wg.Provider,{scope:t.__scopeMenu,children:a.jsx(as,{present:n||i.open,children:a.jsx(Wg.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(YVe,{...s,ref:e}):a.jsx(QVe,{...s,ref:e})})})})}),YVe=y.forwardRef((t,e)=>{const r=nh(Li,t.__scopeMenu),n=y.useRef(null),s=sr(e,n);return y.useEffect(()=>{const i=n.current;if(i)return gj(i)},[]),a.jsx(P_,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:at(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),QVe=y.forwardRef((t,e)=>{const r=nh(Li,t.__scopeMenu);return a.jsx(P_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ZVe=RVe("MenuContent.ScrollLock"),P_=y.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:x,...p}=t,v=nh(Li,r),g=M0(Li,r),w=uN(r),N=jX(r),j=zVe(r),[b,S]=y.useState(null),A=y.useRef(null),E=sr(e,A,v.onContentChange),P=y.useRef(0),O=y.useRef(""),k=y.useRef(0),L=y.useRef(null),R=y.useRef("right"),_=y.useRef(0),B=x?s0:y.Fragment,I=x?{as:ZVe,allowPinchZoom:!0}:void 0,C=W=>{const K=O.current+W,H=j().filter(q=>!q.disabled),G=document.activeElement,ee=H.find(q=>q.ref.current===G)?.textValue,Q=H.map(q=>q.textValue),te=d6e(Q,K,ee),U=H.find(q=>q.textValue===te)?.ref.current;(function q(ne){O.current=ne,window.clearTimeout(P.current),ne!==""&&(P.current=window.setTimeout(()=>q(""),1e3))})(K),U&&setTimeout(()=>U.focus())};y.useEffect(()=>()=>window.clearTimeout(P.current),[]),pj();const D=y.useCallback(W=>R.current===L.current?.side&&h6e(W,L.current?.area),[]);return a.jsx(XVe,{scope:r,searchRef:O,onItemEnter:y.useCallback(W=>{D(W)&&W.preventDefault()},[D]),onItemLeave:y.useCallback(W=>{D(W)||(A.current?.focus(),S(null))},[D]),onTriggerLeave:y.useCallback(W=>{D(W)&&W.preventDefault()},[D]),pointerGraceTimerRef:k,onPointerGraceIntentChange:y.useCallback(W=>{L.current=W},[]),children:a.jsx(B,{...I,children:a.jsx(a0,{asChild:!0,trapped:s,onMountAutoFocus:at(i,W=>{W.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Uu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:a.jsx(rO,{asChild:!0,...N,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:b,onCurrentTabStopIdChange:S,onEntryFocus:at(c,W=>{g.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(uj,{role:"menu","aria-orientation":"vertical","data-state":VX(v.open),"data-radix-menu-content":"",dir:g.dir,...w,...p,ref:E,style:{outline:"none",...p.style},onKeyDown:at(p.onKeyDown,W=>{const H=W.target.closest("[data-radix-menu-content]")===W.currentTarget,G=W.ctrlKey||W.altKey||W.metaKey,ee=W.key.length===1;H&&(W.key==="Tab"&&W.preventDefault(),!G&&ee&&C(W.key));const Q=A.current;if(W.target!==Q||!$Ve.includes(W.key))return;W.preventDefault();const U=j().filter(q=>!q.disabled).map(q=>q.ref.current);bX.includes(W.key)&&U.reverse(),l6e(U)}),onBlur:at(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(P.current),O.current="")}),onPointerMove:at(t.onPointerMove,qg(W=>{const K=W.target,H=_.current!==W.clientX;if(W.currentTarget.contains(K)&&H){const G=W.clientX>_.current?"right":"left";R.current=G,_.current=W.clientX}}))})})})})})})});AX.displayName=Li;var JVe="MenuGroup",T_=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(pt.div,{role:"group",...n,ref:e})});T_.displayName=JVe;var e6e="MenuLabel",CX=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(pt.div,{...n,ref:e})});CX.displayName=e6e;var Lw="MenuItem",DB="menu.itemSelect",hN=y.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,i=y.useRef(null),o=M0(Lw,t.__scopeMenu),l=k_(Lw,t.__scopeMenu),c=sr(e,i),d=y.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const f=new CustomEvent(DB,{bubbles:!0,cancelable:!0});h.addEventListener(DB,m=>n?.(m),{once:!0}),bP(h,f),f.defaultPrevented?d.current=!1:o.onClose()}};return a.jsx(kX,{...s,ref:c,disabled:r,onClick:at(t.onClick,u),onPointerDown:h=>{t.onPointerDown?.(h),d.current=!0},onPointerUp:at(t.onPointerUp,h=>{d.current||h.currentTarget?.click()}),onKeyDown:at(t.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||fk.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});hN.displayName=Lw;var kX=y.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=t,o=k_(Lw,r),l=jX(r),c=y.useRef(null),d=sr(e,c),[u,h]=y.useState(!1),[f,m]=y.useState("");return y.useEffect(()=>{const x=c.current;x&&m((x.textContent??"").trim())},[i.children]),a.jsx(Wg.ItemSlot,{scope:r,disabled:n,textValue:s??f,children:a.jsx(nO,{asChild:!0,...l,focusable:!n,children:a.jsx(pt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:at(t.onPointerMove,qg(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:at(t.onPointerLeave,qg(x=>o.onItemLeave(x))),onFocus:at(t.onFocus,()=>h(!0)),onBlur:at(t.onBlur,()=>h(!1))})})})}),t6e="MenuCheckboxItem",PX=y.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return a.jsx(IX,{scope:t.__scopeMenu,checked:r,children:a.jsx(hN,{role:"menuitemcheckbox","aria-checked":Bw(r)?"mixed":r,...s,ref:e,"data-state":__(r),onSelect:at(s.onSelect,()=>n?.(Bw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});PX.displayName=t6e;var TX="MenuRadioGroup",[r6e,n6e]=rh(TX,{value:void 0,onValueChange:()=>{}}),OX=y.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,i=gs(n);return a.jsx(r6e,{scope:t.__scopeMenu,value:r,onValueChange:i,children:a.jsx(T_,{...s,ref:e})})});OX.displayName=TX;var _X="MenuRadioItem",RX=y.forwardRef((t,e)=>{const{value:r,...n}=t,s=n6e(_X,t.__scopeMenu),i=r===s.value;return a.jsx(IX,{scope:t.__scopeMenu,checked:i,children:a.jsx(hN,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":__(i),onSelect:at(n.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});RX.displayName=_X;var O_="MenuItemIndicator",[IX,a6e]=rh(O_,{checked:!1}),FX=y.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,i=a6e(O_,r);return a.jsx(as,{present:n||Bw(i.checked)||i.checked===!0,children:a.jsx(pt.span,{...s,ref:e,"data-state":__(i.checked)})})});FX.displayName=O_;var s6e="MenuSeparator",DX=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(pt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});DX.displayName=s6e;var i6e="MenuArrow",MX=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=uN(r);return a.jsx(hj,{...s,...n,ref:e})});MX.displayName=i6e;var o6e="MenuSub",[Xze,LX]=rh(o6e),Up="MenuSubTrigger",BX=y.forwardRef((t,e)=>{const r=nh(Up,t.__scopeMenu),n=M0(Up,t.__scopeMenu),s=LX(Up,t.__scopeMenu),i=k_(Up,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},u=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>u,[u]),y.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),a.jsx(A_,{asChild:!0,...d,children:a.jsx(kX,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":VX(r.open),...t,ref:xs(e,s.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:at(t.onPointerMove,qg(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:at(t.onPointerLeave,qg(h=>{u();const f=r.content?.getBoundingClientRect();if(f){const m=r.content?.dataset.side,x=m==="right",p=x?-5:5,v=f[x?"left":"right"],g=f[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+p,y:h.clientY},{x:v,y:f.top},{x:g,y:f.top},{x:g,y:f.bottom},{x:v,y:f.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:at(t.onKeyDown,h=>{const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||UVe[n.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});BX.displayName=Up;var $X="MenuSubContent",UX=y.forwardRef((t,e)=>{const r=EX(Li,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=nh(Li,t.__scopeMenu),o=M0(Li,t.__scopeMenu),l=LX($X,t.__scopeMenu),c=y.useRef(null),d=sr(e,c);return a.jsx(Wg.Provider,{scope:t.__scopeMenu,children:a.jsx(as,{present:n||i.open,children:a.jsx(Wg.Slot,{scope:t.__scopeMenu,children:a.jsx(P_,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{o.isUsingKeyboardRef.current&&c.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:at(t.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:at(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:at(t.onKeyDown,u=>{const h=u.currentTarget.contains(u.target),f=VVe[o.dir].includes(u.key);h&&f&&(i.onOpenChange(!1),l.trigger?.focus(),u.preventDefault())})})})})})});UX.displayName=$X;function VX(t){return t?"open":"closed"}function Bw(t){return t==="indeterminate"}function __(t){return Bw(t)?"indeterminate":t?"checked":"unchecked"}function l6e(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function c6e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function d6e(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=c6e(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function u6e(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],d=l.x,u=l.y,h=c.x,f=c.y;u>n!=f>n&&r<(h-d)*(n-u)/(f-u)+d&&(s=!s)}return s}function h6e(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return u6e(r,e)}function qg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var f6e=NX,m6e=A_,p6e=SX,x6e=AX,g6e=T_,v6e=CX,y6e=hN,b6e=PX,w6e=OX,j6e=RX,N6e=FX,E6e=DX,S6e=MX,A6e=BX,C6e=UX,fN="DropdownMenu",[k6e]=Da(fN,[wX]),bs=wX(),[P6e,zX]=k6e(fN),WX=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=bs(e),d=y.useRef(null),[u,h]=ni({prop:s,defaultProp:i??!1,onChange:o,caller:fN});return a.jsx(P6e,{scope:e,triggerId:na(),triggerRef:d,contentId:na(),open:u,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:l,children:a.jsx(f6e,{...c,open:u,onOpenChange:h,dir:n,modal:l,children:r})})};WX.displayName=fN;var qX="DropdownMenuTrigger",HX=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,i=zX(qX,r),o=bs(r);return a.jsx(m6e,{asChild:!0,...o,children:a.jsx(pt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:xs(e,i.triggerRef),onPointerDown:at(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:at(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});HX.displayName=qX;var T6e="DropdownMenuPortal",GX=t=>{const{__scopeDropdownMenu:e,...r}=t,n=bs(e);return a.jsx(p6e,{...n,...r})};GX.displayName=T6e;var KX="DropdownMenuContent",XX=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=zX(KX,r),i=bs(r),o=y.useRef(!1);return a.jsx(x6e,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:e,onCloseAutoFocus:at(t.onCloseAutoFocus,l=>{o.current||s.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:at(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XX.displayName=KX;var O6e="DropdownMenuGroup",_6e=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=bs(r);return a.jsx(g6e,{...s,...n,ref:e})});_6e.displayName=O6e;var R6e="DropdownMenuLabel",YX=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=bs(r);return a.jsx(v6e,{...s,...n,ref:e})});YX.displayName=R6e;var I6e="DropdownMenuItem",QX=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=bs(r);return a.jsx(y6e,{...s,...n,ref:e})});QX.displayName=I6e;var F6e="DropdownMenuCheckboxItem",ZX=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=bs(r);return a.jsx(b6e,{...s,...n,ref:e})});ZX.displayName=F6e;var D6e="DropdownMenuRadioGroup",M6e=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=bs(r);return a.jsx(w6e,{...s,...n,ref:e})});M6e.displayName=D6e;var L6e="DropdownMenuRadioItem",JX=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=bs(r);return a.jsx(j6e,{...s,...n,ref:e})});JX.displayName=L6e;var B6e="DropdownMenuItemIndicator",eY=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=bs(r);return a.jsx(N6e,{...s,...n,ref:e})});eY.displayName=B6e;var $6e="DropdownMenuSeparator",tY=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=bs(r);return a.jsx(E6e,{...s,...n,ref:e})});tY.displayName=$6e;var U6e="DropdownMenuArrow",V6e=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=bs(r);return a.jsx(S6e,{...s,...n,ref:e})});V6e.displayName=U6e;var z6e="DropdownMenuSubTrigger",rY=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=bs(r);return a.jsx(A6e,{...s,...n,ref:e})});rY.displayName=z6e;var W6e="DropdownMenuSubContent",nY=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=bs(r);return a.jsx(C6e,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nY.displayName=W6e;var q6e=WX,H6e=HX,G6e=GX,aY=XX,sY=YX,iY=QX,oY=ZX,lY=JX,cY=eY,dY=tY,uY=rY,hY=nY;const K6e=q6e,X6e=H6e,Y6e=y.forwardRef(({className:t,inset:e,children:r,...n},s)=>a.jsxs(uY,{ref:s,className:_e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,a.jsx(pa,{className:"ml-auto"})]}));Y6e.displayName=uY.displayName;const Q6e=y.forwardRef(({className:t,...e},r)=>a.jsx(hY,{ref:r,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));Q6e.displayName=hY.displayName;const fY=y.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(G6e,{children:a.jsx(aY,{ref:n,sideOffset:e,className:_e("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));fY.displayName=aY.displayName;const Vp=y.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(iY,{ref:n,className:_e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));Vp.displayName=iY.displayName;const Z6e=y.forwardRef(({className:t,children:e,checked:r,...n},s)=>a.jsxs(oY,{ref:s,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(cY,{children:a.jsx(Il,{className:"h-4 w-4"})})}),e]}));Z6e.displayName=oY.displayName;const J6e=y.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(lY,{ref:n,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(cY,{children:a.jsx(sU,{className:"h-2 w-2 fill-current"})})}),e]}));J6e.displayName=lY.displayName;const eze=y.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(sY,{ref:n,className:_e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));eze.displayName=sY.displayName;const tze=y.forwardRef(({className:t,...e},r)=>a.jsx(dY,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));tze.displayName=dY.displayName;const rze=Ma({firstName:ge().min(1,"First name is required"),lastName:ge().min(1,"Last name is required"),middleName:ge().optional(),personalEmail:ge().email("Invalid email address"),workEmail:ge().email("Invalid email address").optional().or(Qo("")),mobileNumber:ge().optional(),telephone:ge().optional(),ssnEin:ge().optional(),shirtSize:ge().optional(),street:ge().optional(),city:ge().optional(),state:ge().optional(),country:ge().optional(),zipCode:ge().optional(),departmentName:ge().optional(),jobTitleName:ge().optional()});function MB(t){try{return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"N/A"}}function nze(t){return t.employee_status==="pending"?{text:"Pending",className:"bg-yellow-500/20 text-yellow-300 border-yellow-500/30"}:t.employee_is_active===1?{text:"Active",className:"bg-green-500/20 text-green-300 border-green-500/30"}:{text:"Inactive",className:"bg-gray-500/20 text-gray-300 border-gray-500/30"}}function aze(){const{toast:t}=kr(),e=Wr(),[r,n]=y.useState(""),[s,i]=y.useState("all"),[o,l]=y.useState(1),[c,d]=y.useState(()=>{const Q=localStorage.getItem("employees_limit");return Q?parseInt(Q):10});y.useEffect(()=>{localStorage.setItem("employees_limit",c.toString())},[c]);const[u,h]=y.useState(!1),[f,m]=y.useState(!1),[x,p]=y.useState(null),[v,g]=y.useState([]),[w,N]=y.useState(!1),[j,b]=y.useState(null),[S,A]=y.useState(null),[E,P]=y.useState(null),O=y.useMemo(()=>`${window.location.origin}/employee-form`,[]),{data:k,isLoading:L,error:R,refetch:_}=Ge({queryKey:["/api/employees",r,s,o,c],placeholderData:Gl,queryFn:async()=>{const Q=new URLSearchParams;r&&r.trim()&&Q.append("search",r.trim()),s!=="all"&&Q.append("status",s),Q.append("page",o.toString()),Q.append("limit",c.toString());const te=je(`/api/employees?${Q.toString()}`),U=await fetch(te,{credentials:"include"});if(!U.ok){if((U.headers.get("content-type")||"").includes("application/json")){const ne=await U.json().catch(()=>({error:"Failed to fetch employees"}));throw new Error(ne.error||ne.message||"Failed to fetch employees")}throw new Error(`Failed to fetch employees (${U.status})`)}return U.json()},refetchOnWindowFocus:!0}),B=k?.data||[],I=k?.pagination;y.useEffect(()=>{I&&I.totalPages>0&&(o>I.totalPages&&l(I.totalPages),o<1&&l(1))},[I,o]);const C=ts({resolver:rs(rze),defaultValues:{firstName:"",lastName:"",middleName:"",personalEmail:"",workEmail:"",mobileNumber:"",telephone:"",ssnEin:"",shirtSize:"",street:"",city:"",state:"",country:"",zipCode:"",departmentName:"",jobTitleName:""}}),D=yt({mutationFn:async Q=>{const te=await fetch(je("/api/employees"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({firstName:Q.firstName,lastName:Q.lastName,middleName:Q.middleName||"",personalEmail:Q.personalEmail,workEmail:Q.workEmail||Q.personalEmail,mobileNumber:Q.mobileNumber||"",telephone:Q.telephone||"",ssnEin:Q.ssnEin||"",shirtSize:Q.shirtSize||"",street:Q.street||"",city:Q.city||"",state:Q.state||"",country:Q.country||"",zipCode:Q.zipCode||"",departmentName:Q.departmentName||"",jobTitleName:Q.jobTitleName||""})});if(!te.ok){const U=await te.json().catch(()=>({error:"Failed to create employee"}));throw new Error(U.error||U.message||"Failed to create employee")}return te.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/employees"]}),t({title:"Success",description:"Employee created successfully."}),h(!1),C.reset()},onError:Q=>{t({title:"Error",description:Q.message||"Failed to create employee",variant:"destructive"})}}),W=yt({mutationFn:async Q=>{const te=await fetch(je(`/api/employees/${Q}/status`),{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:""})});if(!te.ok){const U=await te.json().catch(()=>({error:"Failed to approve employee"}));throw new Error(U.error||U.message||"Failed to approve employee")}return te.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/employees"]}),t({title:"Approved",description:"Employee approved successfully."}),A(null)},onError:Q=>{t({title:"Error",description:Q.message||"Failed to approve employee",variant:"destructive"})}}),K=yt({mutationFn:async Q=>{const te=await fetch(je(`/api/employees/${Q}`),{method:"DELETE",credentials:"include"});if(!te.ok){const U=await te.json().catch(()=>({error:"Failed to delete employee"}));throw new Error(U.error||U.message||"Failed to delete employee")}return te.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/employees"]}),t({title:"Deleted",description:"Employee deleted successfully."}),P(null)},onError:Q=>{t({title:"Error",description:Q.message||"Failed to delete employee",variant:"destructive"})}}),H=yt({mutationFn:async Q=>{const te=new FormData;te.append("file",Q);const U=await fetch(je("/api/admin/employees/import"),{method:"POST",credentials:"include",body:te});if(!U.ok){const q=await U.json().catch(()=>({error:"Failed to import employees"}));throw new Error(q.error||q.message||"Failed to import employees")}return U.json()},onSuccess:Q=>{e.invalidateQueries({queryKey:["/api/employees"]});const te=Q?.data||Q,U=te.total||0,q=te.successful||0,ne=te.failed||0,fe=te.errors||[];t({title:"Import Completed",description:`${q} of ${U} records imported successfully${ne>0?`. ${ne} failed.`:""}`}),ne>0&&fe.length>0?(g(fe),N(!0)):(m(!1),p(null),g([]))},onError:Q=>{t({title:"Import Failed",description:Q.message||"Failed to import employees",variant:"destructive"})}}),G=async()=>{try{await navigator.clipboard.writeText(O),t({title:"Copied",description:"Employee onboarding form link copied to clipboard."})}catch{t({title:"Copy Failed",description:"Could not copy link. Please copy manually.",variant:"destructive"})}},ee=async(Q,te)=>{try{const U=je(`/api/admin/employees/export?format=${Q}&mode=${te}`),q=await fetch(U,{credentials:"include"});if(!q.ok){if((q.headers.get("content-type")||"").includes("application/json")){const Z=await q.json().catch(()=>({error:"Failed to export"}));throw new Error(Z.error||Z.message||"Failed to export")}throw new Error(`Failed to export (${q.status})`)}const ne=await q.blob(),fe=window.URL.createObjectURL(ne),pe=document.createElement("a");pe.href=fe,pe.download=`employees_${te}.${Q}`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),window.URL.revokeObjectURL(fe),t({title:"Download Started",description:`Employees ${te} ${Q.toUpperCase()} downloaded.`})}catch(U){t({title:"Export Failed",description:U.message||"Failed to export",variant:"destructive"})}};return a.jsx(jt,{children:a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-serif text-[#EAEB80] italic mb-1 sm:mb-2",children:"Employees"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Manage employees and employee onboarding submissions"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs(ie,{onClick:()=>h(!0),className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] w-full sm:w-auto",children:[a.jsx(mr,{className:"w-4 h-4 sm:mr-2"}),"Add"]}),a.jsxs(ie,{onClick:G,variant:"outline",className:"border-[#EAEB80]/30 text-[#EAEB80] hover:bg-[#EAEB80]/10 w-full sm:w-auto",children:[a.jsx(iU,{className:"w-4 h-4 sm:mr-2"}),"Form Link"]}),a.jsxs(ie,{onClick:()=>m(!0),variant:"outline",className:"border-[#EAEB80]/30 text-[#EAEB80] hover:bg-[#EAEB80]/10 w-full sm:w-auto",children:[a.jsx(gn,{className:"w-4 h-4 sm:mr-2"}),"Import"]}),a.jsxs(K6e,{children:[a.jsx(X6e,{asChild:!0,children:a.jsxs(ie,{variant:"outline",className:"border-[#EAEB80]/30 text-[#EAEB80] hover:bg-[#EAEB80]/10 w-full sm:w-auto",children:[a.jsx(Un,{className:"w-4 h-4 sm:mr-2"}),"Export"]})}),a.jsxs(fY,{className:"bg-[#111111] border-[#2a2a2a] text-foreground",children:[a.jsx(Vp,{onClick:()=>ee("xlsx","template"),children:"Template (Excel)"}),a.jsx(Vp,{onClick:()=>ee("csv","template"),children:"Template (CSV)"}),a.jsx(Vp,{onClick:()=>ee("xlsx","data"),children:"Data (Excel)"}),a.jsx(Vp,{onClick:()=>ee("csv","data"),children:"Data (CSV)"})]})]})]})]}),a.jsx(ft,{className:"bg-[#111111] border-[#2a2a2a]",children:a.jsx(mt,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),a.jsx(ae,{type:"text",placeholder:"Search by name, email, employee #...",value:r,onChange:Q=>{n(Q.target.value),l(1)},className:"pl-10 bg-[#1a1a1a] border-[#2a2a2a] text-foreground placeholder:text-gray-600"})]}),a.jsxs(tt,{value:s,onValueChange:Q=>{i(Q),l(1)},children:[a.jsx(Qe,{className:"w-full md:w-[220px] bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Filter by status"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"all",children:"All"}),a.jsx(xe,{value:"pending",children:"Pending"}),a.jsx(xe,{value:"active",children:"Active"}),a.jsx(xe,{value:"inactive",children:"Inactive"})]})]}),(r||s!=="all")&&a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{n(""),i("all"),l(1)},className:"text-gray-400 hover:text-foreground",children:a.jsx(pr,{className:"w-4 h-4"})})]})})}),a.jsx(ft,{className:"bg-[#0f0f0f] border-[#1a1a1a]",children:a.jsxs(mt,{className:"p-0",children:[a.jsx("div",{className:"overflow-x-auto -mx-3 sm:mx-0",children:a.jsxs(Ao,{className:"min-w-[1000px]",children:[a.jsx(Co,{children:a.jsxs(zr,{className:"border-[#2a2a2a] hover:bg-transparent",children:[a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 w-16 text-[10px] sm:text-xs",children:"No"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 min-w-[140px] text-[10px] sm:text-xs",children:"Status"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 min-w-[140px] text-[10px] sm:text-xs",children:"Employee #"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 min-w-[220px] text-[10px] sm:text-xs",children:"Employee Name"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 min-w-[240px] text-[10px] sm:text-xs hidden lg:table-cell",children:"Work Email"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 min-w-[180px] text-[10px] sm:text-xs hidden xl:table-cell",children:"Department"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 min-w-[180px] text-[10px] sm:text-xs hidden xl:table-cell",children:"Job Title"}),a.jsx(He,{className:"text-left text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 min-w-[140px] text-[10px] sm:text-xs hidden md:table-cell",children:"Created"}),a.jsx(He,{className:"text-center text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 w-28 text-[10px] sm:text-xs",children:"Actions"})]})}),a.jsx(ko,{children:L?a.jsx(dO,{colSpan:9,rows:5}):R?a.jsx(zr,{children:a.jsx(qe,{colSpan:9,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("p",{className:"text-red-400",children:R instanceof Error?R.message:"Failed to fetch employees"}),a.jsx(ie,{variant:"outline",size:"sm",onClick:()=>_(),className:"border-[#EAEB80] text-[#EAEB80] hover:bg-[#EAEB80]/10",children:"Retry"})]})})}):B.length===0?a.jsx(zr,{children:a.jsx(qe,{colSpan:9,className:"text-center py-8 text-gray-400",children:"No employees found. Try adjusting your search or filters."})}):B.map((Q,te)=>{const U=(I?(I.page-1)*I.limit:0)+te+1,q=nze(Q);return a.jsxs(zr,{className:"border-[#2a2a2a] group",children:[a.jsx(qe,{className:"text-center text-[#EAEB80] font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm",children:U}),a.jsx(qe,{className:"text-left px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle",children:a.jsx(Ot,{variant:"outline",className:_e("text-xs",q.className),children:q.text})}),a.jsx(qe,{className:"text-left text-gray-200 px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm",children:Q.employee_number||a.jsx("span",{className:"text-gray-600",children:"N/A"})}),a.jsxs(qe,{className:"text-left text-foreground font-medium px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm",children:[Q.employee_last_name,", ",Q.employee_first_name]}),a.jsx(qe,{className:"text-left text-gray-300 px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm hidden lg:table-cell",children:Q.employee_job_pay_work_email||Q.employee_email||a.jsx("span",{className:"text-gray-600",children:"N/A"})}),a.jsx(qe,{className:"text-left text-gray-400 px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm hidden xl:table-cell",children:Q.employee_job_pay_department_name||a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx(qe,{className:"text-left text-gray-400 px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm hidden xl:table-cell",children:Q.employee_job_pay_job_title_name||a.jsx("span",{className:"text-gray-600",children:""})}),a.jsx(qe,{className:"text-left text-gray-400 px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle text-xs sm:text-sm hidden md:table-cell",children:MB(Q.employee_created)}),a.jsx(qe,{className:"text-center px-2 sm:px-4 md:px-6 py-3 sm:py-4 align-middle",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(ie,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 text-[#EAEB80] hover:text-[#EAEB80] hover:bg-[#EAEB80]/10 rounded-full",onClick:()=>b(Q),title:"View Details",children:a.jsx(_s,{className:"w-4 h-4"})}),Q.employee_status==="pending"&&a.jsx(ie,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 text-green-400 hover:text-green-300 hover:bg-green-500/10 rounded-full",onClick:()=>A(Q),title:"Approve",children:a.jsx(mU,{className:"w-4 h-4"})}),a.jsx(ie,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-full",onClick:()=>P(Q),title:"Delete",children:a.jsx(Ri,{className:"w-4 h-4"})})]})})]},Q.employee_aid)})})]})}),I&&I.total>0&&a.jsx(Qu,{totalItems:I.total,itemsPerPage:c,currentPage:Math.min(o,I.totalPages),onPageChange:Q=>{const te=Math.max(1,Math.min(Q,I.totalPages));l(te),window.scrollTo({top:0,behavior:"smooth"})},onItemsPerPageChange:Q=>{d(Q),l(1)},isLoading:L})]})}),a.jsx($t,{open:u,onOpenChange:h,children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-[95vw] sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold text-[#EAEB80]",children:"Add New Employee"}),a.jsx(Ut,{className:"text-gray-400",children:"Create an employee record (this does not submit the public onboarding form)"})]}),a.jsx(Rs,{...C,children:a.jsxs("form",{onSubmit:C.handleSubmit(Q=>D.mutate(Q)),className:"space-y-6 mt-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ke,{control:C.control,name:"firstName",render:({field:Q})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"First Name *"}),a.jsx(Pe,{children:a.jsx(ae,{...Q,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:C.control,name:"lastName",render:({field:Q})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Last Name *"}),a.jsx(Pe,{children:a.jsx(ae,{...Q,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:C.control,name:"middleName",render:({field:Q})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Middle Name"}),a.jsx(Pe,{children:a.jsx(ae,{...Q,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:C.control,name:"personalEmail",render:({field:Q})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Personal Email *"}),a.jsx(Pe,{children:a.jsx(ae,{...Q,type:"email",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:C.control,name:"workEmail",render:({field:Q})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Work Email"}),a.jsx(Pe,{children:a.jsx(ae,{...Q,type:"email",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:C.control,name:"mobileNumber",render:({field:Q})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Mobile #"}),a.jsx(Pe,{children:a.jsx(ae,{...Q,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:C.control,name:"departmentName",render:({field:Q})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Department"}),a.jsx(Pe,{children:a.jsx(ae,{...Q,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:C.control,name:"jobTitleName",render:({field:Q})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Job Title"}),a.jsx(Pe,{children:a.jsx(ae,{...Q,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ie,{type:"button",variant:"ghost",onClick:()=>{h(!1),C.reset()},className:"text-gray-400 hover:text-foreground",disabled:D.isPending,children:"Cancel"}),a.jsx(ie,{type:"submit",className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",disabled:D.isPending,children:D.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save"})]})]})})]})}),a.jsx($t,{open:f,onOpenChange:m,children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-[95vw] sm:max-w-2xl",children:[a.jsxs(Dt,{children:[a.jsxs(Mt,{className:"text-lg sm:text-xl font-semibold text-[#EAEB80] flex items-center gap-2",children:[a.jsx(tb,{className:"w-5 h-5"}),"Import Employees"]}),a.jsx(Ut,{className:"text-gray-400",children:"Upload an Excel (.xlsx, .xls) or CSV file. Use Export  Template to download the correct format."})]}),a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{htmlFor:"import-file",className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-[#EAEB80]/40 rounded-xl bg-[#0a0a0a]/50 hover:border-[#EAEB80]/60 hover:bg-[#EAEB80]/5 transition-all cursor-pointer group",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(gn,{className:"w-10 h-10 text-[#EAEB80] mb-3 group-hover:scale-110 transition-transform"}),a.jsx("p",{className:"mb-2 text-sm font-semibold text-gray-300 group-hover:text-[#EAEB80] transition-colors",children:x?x.name:"Click to Upload or Drag and Drop"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Excel (.xlsx, .xls) or CSV file (Max 100MB)"})]}),a.jsx("input",{id:"import-file",type:"file",accept:".xlsx,.xls,.csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,text/csv",onChange:Q=>{const te=Q.target.files?.[0];te&&p(te)},className:"hidden"})]}),x&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#0a0a0a] rounded-lg border border-[#2a2a2a]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tb,{className:"w-5 h-5 text-[#EAEB80]"}),a.jsx("span",{className:"text-sm text-gray-300",children:x.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["(",(x.size/1024/1024).toFixed(2)," MB)"]})]}),a.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(null),className:"text-gray-400 hover:text-foreground h-8 w-8 p-0",children:a.jsx(pr,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-[#2a2a2a]",children:[a.jsx(ie,{type:"button",variant:"ghost",onClick:()=>{m(!1),p(null),g([])},className:"text-gray-400 hover:text-foreground",disabled:H.isPending,children:"Cancel"}),a.jsx(ie,{type:"button",onClick:()=>{if(!x){t({title:"No File Selected",description:"Please select an Excel or CSV file to import",variant:"destructive"});return}H.mutate(x)},className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",disabled:!x||H.isPending,children:H.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Import"]})})]})]})]})}),a.jsx($t,{open:w,onOpenChange:N,children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-[95vw] sm:max-w-3xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(Dt,{children:[a.jsxs(Mt,{className:"text-lg sm:text-xl font-semibold text-yellow-400",children:["Import Warning (",v.length,")"]}),a.jsx(Ut,{className:"text-gray-400",children:"The following rows failed to import. Please review and fix the issues."})]}),a.jsx("div",{className:"mt-4 space-y-2 max-h-[60vh] overflow-y-auto",children:v.map((Q,te)=>a.jsx("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-yellow-500/20 flex items-center justify-center text-yellow-400 font-semibold text-sm",children:Q.row}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-gray-300 break-words",children:[a.jsxs("span",{className:"font-medium text-foreground",children:["Row ",Q.row,":"]})," ",Q.error]})})]})},te))}),a.jsx("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t border-[#2a2a2a]",children:a.jsx(ie,{variant:"outline",onClick:()=>{N(!1),m(!1),p(null),g([])},className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground hover:bg-[#2a2a2a]",children:"Close"})})]})}),a.jsx($t,{open:S!==null,onOpenChange:Q=>!Q&&A(null),children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold text-green-400",children:"Approve Employee"}),a.jsx(Ut,{className:"text-gray-400",children:S?a.jsxs(a.Fragment,{children:["Approve ",a.jsxs("strong",{className:"text-foreground",children:[S.employee_last_name,", ",S.employee_first_name]}),"?",a.jsx("br",{}),"This will change the employee status from Pending to Approved."]}):null})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[a.jsx(ie,{variant:"outline",onClick:()=>A(null),className:"border-gray-700 text-gray-300 hover:bg-gray-800",disabled:W.isPending,children:"Cancel"}),a.jsx(ie,{onClick:()=>S&&W.mutate(S.employee_aid),className:"bg-green-600 text-foreground hover:bg-green-700",disabled:W.isPending,children:W.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Approving..."]}):"Approve"})]})]})}),a.jsx($t,{open:E!==null,onOpenChange:Q=>!Q&&P(null),children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold text-red-400",children:"Delete Employee"}),a.jsx(Ut,{className:"text-gray-400",children:E?a.jsxs(a.Fragment,{children:["Are you sure you want to delete ",a.jsxs("strong",{className:"text-foreground",children:[E.employee_last_name,", ",E.employee_first_name]}),"?",a.jsx("br",{}),"This action cannot be undone."]}):null})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[a.jsx(ie,{variant:"outline",onClick:()=>P(null),className:"border-gray-700 text-gray-300 hover:bg-gray-800",disabled:K.isPending,children:"Cancel"}),a.jsx(ie,{onClick:()=>E&&K.mutate(E.employee_aid),className:"bg-red-600 text-foreground hover:bg-red-700",disabled:K.isPending,children:K.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete"})]})]})}),a.jsx($t,{open:j!==null,onOpenChange:Q=>!Q&&b(null),children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-[95vw] sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-lg sm:text-xl font-semibold text-[#EAEB80]",children:"Employee Details"}),a.jsx(Ut,{className:"text-gray-400",children:j?`${j.employee_last_name}, ${j.employee_first_name}`:""})]}),j&&a.jsxs("div",{className:"space-y-6 mt-2 text-sm",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg p-4",children:[a.jsx("h3",{className:"text-[#EAEB80] font-semibold mb-3",children:"Basic"}),a.jsxs("div",{className:"space-y-1 text-gray-300",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Employee #:"})," ",j.employee_number||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Personal Email:"})," ",j.employee_email||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Work Email:"})," ",j.employee_job_pay_work_email||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Mobile:"})," ",j.employee_mobile_number||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"SSN/EIN:"})," ",j.employee_ssn_ein||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Shirt Size:"})," ",j.employee_shirt_size||""]})]})]}),a.jsxs("div",{className:"bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg p-4",children:[a.jsx("h3",{className:"text-[#EAEB80] font-semibold mb-3",children:"Job"}),a.jsxs("div",{className:"space-y-1 text-gray-300",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Department:"})," ",j.employee_job_pay_department_name||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Job Title:"})," ",j.employee_job_pay_job_title_name||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Status:"})," ",j.employee_status||"Approved"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Created:"})," ",MB(j.employee_created)]})]})]})]}),a.jsxs("div",{className:"bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg p-4",children:[a.jsx("h3",{className:"text-[#EAEB80] font-semibold mb-3",children:"Address"}),a.jsx("div",{className:"text-gray-300",children:[j.employee_street,j.employee_city,j.employee_state,j.employee_zip_code,j.employee_country].filter(Boolean).join(", ")||""})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg p-4",children:[a.jsx("h3",{className:"text-[#EAEB80] font-semibold mb-3",children:"Family"}),a.jsxs("div",{className:"space-y-1 text-gray-300",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Mother:"})," ",j.employee_mother_name||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Father:"})," ",j.employee_father_name||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Home Contact:"})," ",j.employee_home_contact||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Home Address:"})," ",j.employee_home_address||""]})]})]}),a.jsxs("div",{className:"bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg p-4",children:[a.jsx("h3",{className:"text-[#EAEB80] font-semibold mb-3",children:"Emergency"}),a.jsxs("div",{className:"space-y-1 text-gray-300",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Contact:"})," ",j.employee_emergency_contact_person||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Relationship:"})," ",j.employee_emergency_relationship||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Number:"})," ",j.employee_emergency_number||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Address:"})," ",j.employee_emergency_address||""]})]})]})]})]})]})})]})})}var sze=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function mk(){return mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mk.apply(this,arguments)}function ize(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Hv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oze(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pk(t,e)}function pk(t,e){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},pk(t,e)}var mN=function(t){oze(e,t);function e(){var n;return n=t.call(this)||this,n.handleExpired=n.handleExpired.bind(Hv(n)),n.handleErrored=n.handleErrored.bind(Hv(n)),n.handleChange=n.handleChange.bind(Hv(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(Hv(n)),n}var r=e.prototype;return r.getCaptchaFunction=function(s){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[s]:this.props.grecaptcha[s]:null},r.getValue=function(){var s=this.getCaptchaFunction("getResponse");return s&&this._widgetId!==void 0?s(this._widgetId):null},r.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},r.execute=function(){var s=this.getCaptchaFunction("execute");if(s&&this._widgetId!==void 0)return s(this._widgetId);this._executeRequested=!0},r.executeAsync=function(){var s=this;return new Promise(function(i,o){s.executionResolve=i,s.executionReject=o,s.execute()})},r.reset=function(){var s=this.getCaptchaFunction("reset");s&&this._widgetId!==void 0&&s(this._widgetId)},r.forceReset=function(){var s=this.getCaptchaFunction("reset");s&&s()},r.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},r.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},r.handleChange=function(s){this.props.onChange&&this.props.onChange(s),this.executionResolve&&(this.executionResolve(s),delete this.executionReject,delete this.executionResolve)},r.explicitRender=function(){var s=this.getCaptchaFunction("render");if(s&&this._widgetId===void 0){var i=document.createElement("div");this._widgetId=s(i,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(i)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},r.componentDidMount=function(){this.explicitRender()},r.componentDidUpdate=function(){this.explicitRender()},r.handleRecaptchaRef=function(s){this.captcha=s},r.render=function(){var s=this.props;s.sitekey,s.onChange,s.theme,s.type,s.tabindex,s.onExpired,s.onErrored,s.size,s.stoken,s.grecaptcha,s.badge,s.hl,s.isolated;var i=ize(s,sze);return y.createElement("div",mk({},i,{ref:this.handleRecaptchaRef}))},e}(y.Component);mN.displayName="ReCAPTCHA";mN.propTypes={sitekey:Qt.string.isRequired,onChange:Qt.func,grecaptcha:Qt.object,theme:Qt.oneOf(["dark","light"]),type:Qt.oneOf(["image","audio"]),tabindex:Qt.number,onExpired:Qt.func,onErrored:Qt.func,size:Qt.oneOf(["compact","normal","invisible"]),stoken:Qt.string,hl:Qt.string,badge:Qt.oneOf(["bottomright","bottomleft","inline"]),isolated:Qt.bool};mN.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var mY={exports:{}},Yr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=typeof Symbol=="function"&&Symbol.for,R_=va?Symbol.for("react.element"):60103,I_=va?Symbol.for("react.portal"):60106,pN=va?Symbol.for("react.fragment"):60107,xN=va?Symbol.for("react.strict_mode"):60108,gN=va?Symbol.for("react.profiler"):60114,vN=va?Symbol.for("react.provider"):60109,yN=va?Symbol.for("react.context"):60110,F_=va?Symbol.for("react.async_mode"):60111,bN=va?Symbol.for("react.concurrent_mode"):60111,wN=va?Symbol.for("react.forward_ref"):60112,jN=va?Symbol.for("react.suspense"):60113,lze=va?Symbol.for("react.suspense_list"):60120,NN=va?Symbol.for("react.memo"):60115,EN=va?Symbol.for("react.lazy"):60116,cze=va?Symbol.for("react.block"):60121,dze=va?Symbol.for("react.fundamental"):60117,uze=va?Symbol.for("react.responder"):60118,hze=va?Symbol.for("react.scope"):60119;function ui(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case R_:switch(t=t.type,t){case F_:case bN:case pN:case gN:case xN:case jN:return t;default:switch(t=t&&t.$$typeof,t){case yN:case wN:case EN:case NN:case vN:return t;default:return e}}case I_:return e}}}function pY(t){return ui(t)===bN}Yr.AsyncMode=F_;Yr.ConcurrentMode=bN;Yr.ContextConsumer=yN;Yr.ContextProvider=vN;Yr.Element=R_;Yr.ForwardRef=wN;Yr.Fragment=pN;Yr.Lazy=EN;Yr.Memo=NN;Yr.Portal=I_;Yr.Profiler=gN;Yr.StrictMode=xN;Yr.Suspense=jN;Yr.isAsyncMode=function(t){return pY(t)||ui(t)===F_};Yr.isConcurrentMode=pY;Yr.isContextConsumer=function(t){return ui(t)===yN};Yr.isContextProvider=function(t){return ui(t)===vN};Yr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===R_};Yr.isForwardRef=function(t){return ui(t)===wN};Yr.isFragment=function(t){return ui(t)===pN};Yr.isLazy=function(t){return ui(t)===EN};Yr.isMemo=function(t){return ui(t)===NN};Yr.isPortal=function(t){return ui(t)===I_};Yr.isProfiler=function(t){return ui(t)===gN};Yr.isStrictMode=function(t){return ui(t)===xN};Yr.isSuspense=function(t){return ui(t)===jN};Yr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pN||t===bN||t===gN||t===xN||t===jN||t===lze||typeof t=="object"&&t!==null&&(t.$$typeof===EN||t.$$typeof===NN||t.$$typeof===vN||t.$$typeof===yN||t.$$typeof===wN||t.$$typeof===dze||t.$$typeof===uze||t.$$typeof===hze||t.$$typeof===cze)};Yr.typeOf=ui;mY.exports=Yr;var fze=mY.exports,D_=fze,mze={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pze={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xze={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},M_={};M_[D_.ForwardRef]=xze;M_[D_.Memo]=xY;function LB(t){return D_.isMemo(t)?xY:M_[t.$$typeof]||mze}var gze=Object.defineProperty,vze=Object.getOwnPropertyNames,BB=Object.getOwnPropertySymbols,yze=Object.getOwnPropertyDescriptor,bze=Object.getPrototypeOf,$B=Object.prototype;function gY(t,e,r){if(typeof e!="string"){if($B){var n=bze(e);n&&n!==$B&&gY(t,n,r)}var s=vze(e);BB&&(s=s.concat(BB(e)));for(var i=LB(t),o=LB(e),l=0;l<s.length;++l){var c=s[l];if(!pze[c]&&!(r&&r[c])&&!(o&&o[c])&&!(i&&i[c])){var d=yze(e,c);try{gze(t,c,d)}catch{}}}}return t}var wze=gY;const jze=Mr(wze);function xk(){return xk=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xk.apply(this,arguments)}function Nze(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Eze(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var eo={},Sze=0;function Aze(t,e){return e=e||{},function(n){var s=n.displayName||n.name||"Component",i=function(l){Eze(c,l);function c(u,h){var f;return f=l.call(this,u,h)||this,f.state={},f.__scriptURL="",f}var d=c.prototype;return d.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Sze++),this.__scriptLoaderID},d.setupScriptURL=function(){return this.__scriptURL=typeof t=="function"?t():t,this.__scriptURL},d.asyncScriptLoaderHandleLoad=function(h){var f=this;this.setState(h,function(){return f.props.asyncScriptOnLoad&&f.props.asyncScriptOnLoad(f.state)})},d.asyncScriptLoaderTriggerOnScriptLoaded=function(){var h=eo[this.__scriptURL];if(!h||!h.loaded)throw new Error("Script is not loaded.");for(var f in h.observers)h.observers[f](h);delete window[e.callbackName]},d.componentDidMount=function(){var h=this,f=this.setupScriptURL(),m=this.asyncScriptLoaderGetScriptLoaderID(),x=e,p=x.globalName,v=x.callbackName,g=x.scriptId;if(p&&typeof window[p]<"u"&&(eo[f]={loaded:!0,observers:{}}),eo[f]){var w=eo[f];if(w&&(w.loaded||w.errored)){this.asyncScriptLoaderHandleLoad(w);return}w.observers[m]=function(A){return h.asyncScriptLoaderHandleLoad(A)};return}var N={};N[m]=function(A){return h.asyncScriptLoaderHandleLoad(A)},eo[f]={loaded:!1,observers:N};var j=document.createElement("script");j.src=f,j.async=!0;for(var b in e.attributes)j.setAttribute(b,e.attributes[b]);g&&(j.id=g);var S=function(E){if(eo[f]){var P=eo[f],O=P.observers;for(var k in O)E(O[k])&&delete O[k]}};v&&typeof window<"u"&&(window[v]=function(){return h.asyncScriptLoaderTriggerOnScriptLoaded()}),j.onload=function(){var A=eo[f];A&&(A.loaded=!0,S(function(E){return v?!1:(E(A),!0)}))},j.onerror=function(){var A=eo[f];A&&(A.errored=!0,S(function(E){return E(A),!0}))},document.body.appendChild(j)},d.componentWillUnmount=function(){var h=this.__scriptURL;if(e.removeOnUnmount===!0)for(var f=document.getElementsByTagName("script"),m=0;m<f.length;m+=1)f[m].src.indexOf(h)>-1&&f[m].parentNode&&f[m].parentNode.removeChild(f[m]);var x=eo[h];x&&(delete x.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete eo[h])},d.render=function(){var h=e.globalName,f=this.props;f.asyncScriptOnLoad;var m=f.forwardedRef,x=Nze(f,["asyncScriptOnLoad","forwardedRef"]);return h&&typeof window<"u"&&(x[h]=typeof window[h]<"u"?window[h]:void 0),x.ref=m,y.createElement(n,x)},c}(y.Component),o=y.forwardRef(function(l,c){return y.createElement(i,xk({},l,{forwardedRef:c}))});return o.displayName="AsyncScriptLoader("+s+")",o.propTypes={asyncScriptOnLoad:Qt.func},jze(o,n)}}var gk="onloadcallback",Cze="grecaptcha";function vk(){return typeof window<"u"&&window.recaptchaOptions||{}}function kze(){var t=vk(),e=t.useRecaptchaNet?"recaptcha.net":"www.google.com";return t.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+gk+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+gk+"&render=explicit"}const Pze=Aze(kze,{callbackName:gk,globalName:Cze,attributes:vk().nonce?{nonce:vk().nonce}:{}})(mN),Tze=Ma({firstName:ge().min(1,"Required"),lastName:ge().min(1,"Required"),middleName:ge().optional().default(""),email:ge().email("Invalid email").min(1,"Required"),birthday:ge().min(1,"Required"),maritalStatus:ge().min(1,"Required"),street:ge().min(1,"Required"),city:ge().min(1,"Required"),state:ge().min(1,"Required"),country:ge().min(1,"Required"),zipCode:ge().min(1,"Required"),telephone:ge().optional().default(""),mobileNumber:ge().min(1,"Required"),motherName:ge().min(1,"Required"),fatherName:ge().min(1,"Required"),homeContact:ge().min(1,"Required"),homeAddress:ge().min(1,"Required"),emergencyContactPerson:ge().min(1,"Required"),emergencyRelationship:ge().min(1,"Required"),emergencyAddress:ge().min(1,"Required"),emergencyNumber:ge().min(1,"Required"),ssnEin:ge().min(1,"Required"),shirtSize:ge().min(1,"Required")});function Oze(){const{toast:t}=kr(),[e,r]=y.useState(!1),n=y.useRef(null),s=void 0,i=y.useMemo(()=>!1,[s]),o=ts({resolver:rs(Tze),defaultValues:{firstName:"",lastName:"",middleName:"",email:"",birthday:"",maritalStatus:"",street:"",city:"",state:"",country:"",zipCode:"",telephone:"",mobileNumber:"",motherName:"",fatherName:"",homeContact:"",homeAddress:"",emergencyContactPerson:"",emergencyRelationship:"",emergencyAddress:"",emergencyNumber:"",ssnEin:"",shirtSize:""}}),l=yt({mutationFn:async x=>{const p=i&&n.current?.getValue()||"",v={...x,captchaValue:p||void 0,link:window.location.origin},g=await fetch(je("/api/employees/onboarding/submit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),w=await g.json().catch(()=>null);if(!g.ok)throw new Error(w?.error||w?.message||"Failed to submit employee onboarding form");return w},onSuccess:()=>{n.current?.reset(),r(!0)},onError:x=>{n.current?.reset(),t({title:"Submission Failed",description:x.message||"Please check the form and try again.",variant:"destructive"})}});if(e)return a.jsx("div",{className:"min-h-screen bg-[#0a0a0a] text-foreground flex items-center justify-center p-4",children:a.jsx(ft,{className:"bg-[#111111] border-[#2a2a2a] max-w-md w-full",children:a.jsxs(mt,{className:"p-6 text-center space-y-3",children:[a.jsx(Jy,{className:"w-12 h-12 text-green-500 mx-auto"}),a.jsx("h1",{className:"text-xl font-semibold text-[#EAEB80]",children:"Success!"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Your employee onboarding form has been submitted."})]})})});const{register:c,handleSubmit:d,formState:u,setValue:h,watch:f}=o,{errors:m}=u;return a.jsx("div",{className:"min-h-screen bg-[#0a0a0a] text-foreground flex items-start justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-3xl space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("img",{src:"/logo.svg",alt:"Golden Luxury Auto",className:"h-10 mx-auto mb-3"}),a.jsx("h1",{className:"text-2xl sm:text-3xl font-serif text-[#EAEB80] italic",children:"Employee Onboarding"}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Please complete your personal information."})]}),a.jsx(ft,{className:"bg-[#111111] border-[#2a2a2a]",children:a.jsx(mt,{className:"p-6 space-y-8",children:a.jsxs("form",{onSubmit:d(x=>l.mutate(x)),className:"space-y-8",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#EAEB80]/30 pb-2",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"First Name *"}),a.jsx(ae,{...c("firstName"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.firstName&&a.jsx("p",{className:"text-red-400 text-xs",children:m.firstName.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Last Name *"}),a.jsx(ae,{...c("lastName"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.lastName&&a.jsx("p",{className:"text-red-400 text-xs",children:m.lastName.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Middle Name"}),a.jsx(ae,{...c("middleName"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Email *"}),a.jsx(ae,{...c("email"),type:"email",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.email&&a.jsx("p",{className:"text-red-400 text-xs",children:m.email.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Birthday *"}),a.jsx(ae,{...c("birthday"),type:"date",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.birthday&&a.jsx("p",{className:"text-red-400 text-xs",children:m.birthday.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Marital Status *"}),a.jsxs(tt,{value:f("maritalStatus"),onValueChange:x=>h("maritalStatus",x,{shouldValidate:!0}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select status"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"single",children:"Single"}),a.jsx(xe,{value:"married",children:"Married"}),a.jsx(xe,{value:"divorced",children:"Divorced"}),a.jsx(xe,{value:"annulled",children:"Annulled"}),a.jsx(xe,{value:"legally separated",children:"Legally Separated"}),a.jsx(xe,{value:"widowed",children:"Widowed"})]})]}),m.maritalStatus&&a.jsx("p",{className:"text-red-400 text-xs",children:m.maritalStatus.message})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#EAEB80]/30 pb-2",children:"Address & Contact"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1 md:col-span-2",children:[a.jsx(Se,{className:"text-gray-400",children:"Street *"}),a.jsx(ae,{...c("street"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.street&&a.jsx("p",{className:"text-red-400 text-xs",children:m.street.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"City *"}),a.jsx(ae,{...c("city"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.city&&a.jsx("p",{className:"text-red-400 text-xs",children:m.city.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"State *"}),a.jsx(ae,{...c("state"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.state&&a.jsx("p",{className:"text-red-400 text-xs",children:m.state.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Country *"}),a.jsx(ae,{...c("country"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.country&&a.jsx("p",{className:"text-red-400 text-xs",children:m.country.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"ZIP *"}),a.jsx(ae,{...c("zipCode"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.zipCode&&a.jsx("p",{className:"text-red-400 text-xs",children:m.zipCode.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Mobile # *"}),a.jsx(ae,{...c("mobileNumber"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.mobileNumber&&a.jsx("p",{className:"text-red-400 text-xs",children:m.mobileNumber.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Telephone #"}),a.jsx(ae,{...c("telephone"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#EAEB80]/30 pb-2",children:"Family Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Mother's Name *"}),a.jsx(ae,{...c("motherName"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.motherName&&a.jsx("p",{className:"text-red-400 text-xs",children:m.motherName.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Father's Name *"}),a.jsx(ae,{...c("fatherName"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.fatherName&&a.jsx("p",{className:"text-red-400 text-xs",children:m.fatherName.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Home Contact # *"}),a.jsx(ae,{...c("homeContact"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.homeContact&&a.jsx("p",{className:"text-red-400 text-xs",children:m.homeContact.message})]}),a.jsxs("div",{className:"space-y-1 md:col-span-2",children:[a.jsx(Se,{className:"text-gray-400",children:"Home Address *"}),a.jsx(Fa,{...c("homeAddress"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground min-h-[80px]"}),m.homeAddress&&a.jsx("p",{className:"text-red-400 text-xs",children:m.homeAddress.message})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#EAEB80]/30 pb-2",children:"Emergency Contact"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Emergency Contact Person *"}),a.jsx(ae,{...c("emergencyContactPerson"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.emergencyContactPerson&&a.jsx("p",{className:"text-red-400 text-xs",children:m.emergencyContactPerson.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Relationship *"}),a.jsx(ae,{...c("emergencyRelationship"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.emergencyRelationship&&a.jsx("p",{className:"text-red-400 text-xs",children:m.emergencyRelationship.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Contact # *"}),a.jsx(ae,{...c("emergencyNumber"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.emergencyNumber&&a.jsx("p",{className:"text-red-400 text-xs",children:m.emergencyNumber.message})]}),a.jsxs("div",{className:"space-y-1 md:col-span-2",children:[a.jsx(Se,{className:"text-gray-400",children:"Address *"}),a.jsx(Fa,{...c("emergencyAddress"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground min-h-[80px]"}),m.emergencyAddress&&a.jsx("p",{className:"text-red-400 text-xs",children:m.emergencyAddress.message})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-[#EAEB80] border-b border-[#EAEB80]/30 pb-2",children:"Other"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"SSN / EIN *"}),a.jsx(ae,{...c("ssnEin"),className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground"}),m.ssnEin&&a.jsx("p",{className:"text-red-400 text-xs",children:m.ssnEin.message})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Se,{className:"text-gray-400",children:"Shirt Size *"}),a.jsxs(tt,{value:f("shirtSize"),onValueChange:x=>h("shirtSize",x,{shouldValidate:!0}),children:[a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select size"})}),a.jsx(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:["Small","Medium","Large","XLarge","XXLarge"].map(x=>a.jsx(xe,{value:x,children:x},x))})]}),m.shirtSize&&a.jsx("p",{className:"text-red-400 text-xs",children:m.shirtSize.message})]})]})]}),i&&a.jsx("div",{className:"pt-2",children:a.jsx(Pze,{ref:n,sitekey:s})}),a.jsx("div",{className:"flex justify-end",children:a.jsx(ie,{type:"submit",className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",disabled:l.isPending,children:l.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit"})})]})})})]})})}function _ze(){const{toast:t}=kr(),e=Wr(),[r,n]=y.useState(!1),[s,i]=y.useState(""),[o,l]=y.useState(""),[c,d]=y.useState(!1),{data:u,isLoading:h,error:f}=Ge({queryKey:["/api/client/profile"],queryFn:async()=>{const S=await fetch(je("/api/client/profile"),{credentials:"include"});if(!S.ok){const A=await S.json().catch(()=>({}));throw new Error(A.error||"Failed to load client profile")}return S.json()},retry:!1});y.useEffect(()=>{f&&(console.error(" [CLIENT PROFILE] Error fetching profile:",f),t({title:"Error loading profile",description:f instanceof Error?f.message:"Failed to load profile",variant:"destructive"}))},[f,t]);const m=u?.data,x=m?.onboarding,p=m?.bankingInfo,v=m?.signedContracts||[];m?.cars,y.useEffect(()=>{p?console.log(" [PROFILE PAGE] Banking Info received:",{id:p.id,bankName:p.bankName,routingNumber:p.routingNumber?"***":null,accountNumber:p.accountNumber?"***":null,taxClassification:p.taxClassification,ssn:p.ssn?"***":null,ein:p.ein?"***":null,businessName:p.businessName,isDefault:p.isDefault}):console.log(" [PROFILE PAGE] No banking info in profile data")},[p]),y.useEffect(()=>{p&&!r&&(i(p.ssn||""),l(p.ein||""))},[p,r]);const g=async()=>{d(!0);try{const S=await fetch(je("/api/client/profile/banking-info"),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({ssn:s.trim()||"",ein:o.trim()||""})}),A=await S.json();if(!S.ok)throw new Error(A.error||"Failed to update banking information");t({title:"Success",description:"Banking information updated successfully"}),n(!1),e.invalidateQueries({queryKey:["/api/client/profile"]})}catch(S){console.error("Error updating banking info:",S),t({title:"Error",description:S.message||"Failed to update banking information",variant:"destructive"})}finally{d(!1)}},w=()=>{p&&(i(p.ssn||""),l(p.ein||"")),n(!1)},N=S=>S==null||S===""?"Not provided":String(S),j=S=>{if(!S)return"Not provided";try{return new Date(S).toLocaleString()}catch{return String(S)}},b=(S,A,E)=>{const P=[];return S&&P.push(S),A&&P.push(A),E&&P.push(E),P.length>0?P.join(", "):"Not provided"};return h?a.jsx(jt,{children:a.jsx(tve,{})}):m?a.jsx(jt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-4xl font-serif text-[#EAEB80] italic",children:"My Profile"}),a.jsxs(ft,{className:"bg-[#0a0a0a] border-[#1a1a1a]",children:[a.jsx($r,{children:a.jsx(Gr,{className:"text-[#EAEB80] text-xl",children:"Profile Information"})}),a.jsx(mt,{className:"space-y-6",children:x?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Full Name:"}),a.jsxs("span",{className:"text-foreground font-medium",children:[N(x.firstNameOwner)," ",N(x.lastNameOwner)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Email:"}),a.jsx("span",{className:"text-foreground",children:N(x.emailOwner)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Phone:"}),a.jsx("span",{className:"text-foreground",children:N(x.phoneOwner)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Date of Birth:"}),a.jsx("span",{className:"text-foreground",children:N(x.birthday)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"T-Shirt Size:"}),a.jsx("span",{className:"text-foreground",children:N(x.tshirtSize)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"SSN:"}),a.jsx("span",{className:"text-foreground font-mono",children:N(x.ssn)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Representative:"}),a.jsx("span",{className:"text-foreground",children:N(x.representative)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"How Did You Hear About Us:"}),a.jsx("span",{className:"text-foreground",children:N(x.heardAboutUs)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Emergency Contact Name:"}),a.jsx("span",{className:"text-foreground",children:N(x.emergencyContactName)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Emergency Contact Phone:"}),a.jsx("span",{className:"text-foreground",children:N(x.emergencyContactPhone)})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80] mb-4 pb-2 border-b border-[#EAEB80]/30",children:"Address Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Street Address:"}),a.jsx("span",{className:"text-foreground",children:N(x.streetAddress)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"City:"}),a.jsx("span",{className:"text-foreground",children:N(x.city)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"State:"}),a.jsx("span",{className:"text-foreground",children:N(x.state)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Zip Code:"}),a.jsx("span",{className:"text-foreground",children:N(x.zipCode)})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Full Address:"}),a.jsx("span",{className:"text-foreground",children:b(x.city,x.state,x.zipCode)})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#EAEB80]/20",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b border-[#EAEB80]/30",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#EAEB80]",children:"Banking Information (ACH)"}),!r&&a.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"text-[#EAEB80] hover:text-[#d4d570] hover:bg-[#EAEB80]/10",children:[a.jsx(kte,{className:"w-4 h-4 mr-2"}),"Edit SSN/EIN"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Bank Name:"}),a.jsx("span",{className:"text-foreground",children:N(p?.bankName)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Tax Classification:"}),a.jsx("span",{className:"text-foreground",children:N(p?.taxClassification)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Routing Number:"}),a.jsx("span",{className:"text-foreground font-mono",children:N(p?.routingNumber)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Account Number:"}),a.jsx("span",{className:"text-foreground font-mono",children:N(p?.accountNumber)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"Business Name:"}),a.jsx("span",{className:"text-foreground",children:N(p?.businessName)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"EIN:"}),r?a.jsx(ae,{type:"text",value:o,onChange:S=>l(S.target.value),placeholder:"Enter EIN",className:"bg-[#0a0a0a] border-[#2a2a2a] text-foreground font-mono focus:border-[#EAEB80]",maxLength:10}):a.jsx("span",{className:"text-foreground font-mono",children:N(p?.ein)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400 block mb-1",children:"SSN:"}),r?a.jsx(ae,{type:"text",value:s,onChange:S=>i(S.target.value),placeholder:"Enter SSN",className:"bg-[#0a0a0a] border-[#2a2a2a] text-foreground font-mono focus:border-[#EAEB80]",maxLength:11}):a.jsx("span",{className:"text-foreground font-mono",children:N(p?.ssn)})]})]}),r&&a.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-[#2a2a2a]",children:[a.jsxs(ie,{onClick:g,disabled:c,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570]",size:"sm",children:[a.jsx(Vx,{className:"w-4 h-4 mr-2"}),c?"Saving...":"Save"]}),a.jsxs(ie,{onClick:w,disabled:c,variant:"outline",className:"bg-[#1a1a1a] text-foreground hover:bg-[#2a2a2a] border-[#2a2a2a]",size:"sm",children:[a.jsx(pr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}):a.jsx("div",{className:"text-center py-8 text-gray-400",children:"No onboarding submission found for this profile"})})]}),a.jsxs(ft,{className:"bg-[#0a0a0a] border-[#1a1a1a]",children:[a.jsx($r,{children:a.jsx(Gr,{className:"text-[#EAEB80] text-xl",children:"Signed Contract"})}),a.jsx(mt,{className:"space-y-4",children:v.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[a.jsx(Pl,{className:"w-8 h-8 mb-2 text-gray-600"}),a.jsx("p",{children:"No signed contracts available yet."})]}):a.jsx("div",{className:"space-y-3",children:v.map((S,A)=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-[#111111] border border-[#EAEB80]/20 rounded-lg p-4",children:[a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"text-foreground font-medium",children:[N(S.vehicleYear)," ",N(S.vehicleMake)," ",N(S.vehicleModel)]}),a.jsxs("div",{className:"text-gray-400",children:["Plate:"," ",a.jsx("span",{className:"text-foreground",children:N(S.licensePlate)}),"  ","VIN:"," ",a.jsx("span",{className:"text-foreground font-mono text-xs",children:N(S.vinNumber)})]}),a.jsxs("div",{className:"text-gray-400",children:["Signed on:"," ",a.jsx("span",{className:"text-foreground",children:j(S.contractSignedAt||S.createdAt)})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ot,{variant:"outline",className:_e(S.contractStatus==="signed"?"border-green-500/50 text-green-400 bg-green-500/10":S.contractStatus==="declined"?"border-red-500/50 text-red-400 bg-red-500/10":"border-yellow-500/50 text-yellow-400 bg-yellow-500/10"),children:N(S.contractStatus||"signed")}),S.signedContractUrl&&a.jsxs("a",{href:S.signedContractUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-md text-xs font-medium bg-[#EAEB80] text-black hover:bg-[#d4d570] transition-colors",children:[a.jsx(Un,{className:"w-4 h-4"}),"Download"]})]})]},S.id??A))})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Quick Links"}),a.jsx(b7,{})]})]})}):a.jsx(jt,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[a.jsx(Pl,{className:"w-10 h-10 text-gray-600"}),a.jsx("p",{className:"text-gray-400",children:"We could not load your profile. Please try again later."})]})})}function Rze(){const{data:t}=Ge({queryKey:["/api/auth/me"],retry:!1});return t?.user?.isAdmin===!0}const Ize=Ma({role:Fl(["admin","client","employee"]),moduleId:sT().optional(),title:ge().min(1,"Title is required"),description:ge().min(1,"Description is required"),videoUrl:ge().url("Must be a valid URL").optional().or(Qo("")),videoPlaceholder:ge().optional(),instructions:iT(ge().min(1,"Instruction cannot be empty")).min(1,"At least one instruction is required"),actionButtonLabel:ge().optional(),actionButtonHref:ge().optional()}),Fze=Ma({role:Fl(["admin","client","employee"]),moduleOrder:sT().min(1,"Module order is required"),title:ge().min(1,"Title is required"),description:ge().optional()});function Dze(){const{isOpen:t,openTutorial:e,closeTutorial:r,resetTutorial:n}=KP(),s=()=>{n()},i=Rze(),{toast:o}=kr(),l=Wr(),[c,d]=y.useState(null),[u,h]=y.useState(!1),[f,m]=y.useState(!1),[x,p]=y.useState(""),[v,g]=y.useState(null),[w,N]=y.useState(null),[j,b]=y.useState(!1),[S,A]=y.useState(null),[E,P]=y.useState(null),[O,k]=y.useState("client"),[L,R]=y.useState({}),[_,B]=y.useState(null),[I,C]=y.useState(!1),[D,W]=y.useState(!1),[K,H]=y.useState(null),[G,ee]=y.useState(new Set),{data:Q,isLoading:te}=Ge({queryKey:["/api/tutorial/modules",O],queryFn:async()=>{const se=await fetch(je(`/api/tutorial/modules?role=${O}`),{credentials:"include"});if(!se.ok)throw new Error("Failed to fetch tutorial modules");return await se.json()},staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,retry:1,placeholderData:Gl}),{data:U,isLoading:q,isError:ne,isFetching:fe}=Ge({queryKey:["/api/tutorial/steps",O,"with-modules"],queryFn:async()=>{const se=await fetch(je(`/api/tutorial/steps?role=${O}&includeModules=true`),{credentials:"include"});if(!se.ok)throw new Error("Failed to fetch tutorial steps");return await se.json()},staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,retry:1,placeholderData:Gl}),pe=Q?.success?Q?.data||[]:Array.isArray(Q)?Q:[],ye=U?.success&&U?.data?typeof U.data=="object"&&"modules"in U.data?U.data:{modules:[]}:{modules:[]},Z=ye.modules.flatMap(se=>se.steps||[]),Ne=yt({mutationFn:async({stepOrder:se,data:be})=>{const Le=await fetch(je("/api/admin/tutorial/steps"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({role:be.role||O,moduleId:be.moduleId||void 0,stepOrder:se,title:be.title,description:be.description,videoUrl:be.videoUrl||void 0,videoPlaceholder:be.videoPlaceholder||void 0,instructions:be.instructions,actionButton:be.actionButtonLabel?{label:be.actionButtonLabel,href:be.actionButtonHref||void 0}:void 0})});if(!Le.ok){const Me=await Le.json();throw new Error(Me.error||"Failed to create tutorial step")}return Le.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["/api/tutorial/steps",O]}),l.invalidateQueries({queryKey:["/api/tutorial/modules",O]}),l.refetchQueries({queryKey:["/api/tutorial/steps",O,"with-modules"]}),o({title:"Success",description:"Tutorial step created successfully"}),h(!1),m(!1),d(null),Y.reset()},onError:se=>{o({title:"Error",description:se.message||"Failed to create tutorial step",variant:"destructive"})}}),J=yt({mutationFn:async se=>{const be=await fetch(je(`/api/admin/tutorial/steps/${se}?role=${O}`),{method:"DELETE",credentials:"include"});if(!be.ok){const Le=await be.json();throw new Error(Le.error||"Failed to delete tutorial step")}return be.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["/api/tutorial/steps",O]}),l.refetchQueries({queryKey:["/api/tutorial/steps",O]}),o({title:"Success",description:"Tutorial step deleted successfully"}),g(null)},onError:se=>{o({title:"Error",description:se.message||"Failed to delete tutorial step",variant:"destructive"})}}),le=yt({mutationFn:async({stepId:se,data:be})=>{const Le=await fetch(je(`/api/admin/tutorial/steps/${se}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({role:be.role||O,moduleId:be.moduleId||void 0,title:be.title,description:be.description,videoUrl:be.videoUrl||void 0,videoPlaceholder:be.videoPlaceholder||void 0,instructions:be.instructions,actionButton:be.actionButtonLabel?{label:be.actionButtonLabel,href:be.actionButtonHref||void 0}:void 0})});if(!Le.ok){const Me=await Le.json();throw new Error(Me.error||"Failed to update tutorial step")}return Le.json()},onSuccess:(se,be)=>{const Le=be.data.role||O,Me=c&&c.role||O;l.invalidateQueries({queryKey:["/api/tutorial/steps",Le]}),l.invalidateQueries({queryKey:["/api/tutorial/steps",Me]}),l.invalidateQueries({queryKey:["/api/tutorial/steps",O,"with-modules"]}),l.invalidateQueries({queryKey:["/api/tutorial/modules",O]}),o({title:"Success",description:"Tutorial step updated successfully"}),h(!1),m(!1),d(null),Y.reset()},onError:se=>{o({title:"Error",description:se.message||"Failed to update tutorial step",variant:"destructive"})}}),we=yt({mutationFn:async se=>{const be=await fetch(je("/api/admin/tutorial/modules"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(se)});if(!be.ok){const Le=await be.json();throw new Error(Le.error||"Failed to create module")}return be.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["/api/tutorial/modules"]}),l.invalidateQueries({queryKey:["/api/tutorial/steps"]}),o({title:"Success",description:"Module created successfully"}),C(!1),W(!1),B(null),V.reset({role:O,moduleOrder:1,title:"",description:""})},onError:se=>{o({title:"Error",description:se.message||"Failed to create module",variant:"destructive"})}}),De=yt({mutationFn:async({moduleId:se,data:be})=>{const Le=await fetch(je(`/api/admin/tutorial/modules/${se}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(be)});if(!Le.ok){const Me=await Le.json();throw new Error(Me.error||"Failed to update module")}return Le.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["/api/tutorial/modules",O]}),l.invalidateQueries({queryKey:["/api/tutorial/steps",O,"with-modules"]}),o({title:"Success",description:"Module updated successfully"}),C(!1),W(!1),B(null),V.reset()},onError:se=>{o({title:"Error",description:se.message||"Failed to update module",variant:"destructive"})}}),ue=yt({mutationFn:async se=>{const be=await fetch(je(`/api/admin/tutorial/modules/${se}`),{method:"DELETE",credentials:"include"});if(!be.ok){const Le=await be.json();throw new Error(Le.error||"Failed to delete module")}return be.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["/api/tutorial/modules",O]}),l.invalidateQueries({queryKey:["/api/tutorial/steps",O,"with-modules"]}),o({title:"Success",description:"Module deleted successfully"}),H(null)},onError:se=>{o({title:"Error",description:se.message||"Failed to delete module",variant:"destructive"})}}),Y=ts({resolver:rs(Ize),defaultValues:{role:O,moduleId:void 0,title:"",description:"",videoUrl:"",videoPlaceholder:"",instructions:[],actionButtonLabel:"",actionButtonHref:""}});y.useEffect(()=>{!u&&!c&&f&&(Y.setValue("role",O),Y.setValue("moduleId",void 0))},[O,u,c,f,Y]);const V=ts({resolver:rs(Fze),defaultValues:{role:O,moduleOrder:1,title:"",description:""}});y.useEffect(()=>{!I&&!_&&V.setValue("role",O)},[O,I,_,V]);const $=async se=>{b(!0),A(null),P(null);try{new URL(se);const be=document.createElement("video");be.src=se,be.muted=!0,be.oncanplay=()=>{b(!1),P(!0),A(null)},be.onerror=()=>{b(!1),P(!1),A("Video failed to load. Please check the URL is accessible.")},setTimeout(()=>{be.readyState===0&&(b(!1),P(!1),A("Video is taking too long to load. URL may be invalid or inaccessible."))},5e3)}catch{b(!1),P(!1),A("Invalid URL format. Please enter a valid video URL.")}},X=se=>{d(se),m(!1);const be=se.videoUrl||"";Y.reset({role:se.role||O,moduleId:se.moduleId||void 0,title:se.title,description:se.description,videoUrl:be,videoPlaceholder:se.videoPlaceholder||"",instructions:se.instructions||[],actionButtonLabel:se.actionButton?.label||"",actionButtonHref:se.actionButton?.href||""}),p(""),be?(N(be),$(be)):(N(null),P(null),A(null)),h(!0)},me=()=>{B(null),W(!0);const se=pe.filter(Le=>Le.role===O),be=se.length>0?Math.max(...se.map(Le=>Le.moduleOrder))+1:1;V.reset({role:O,moduleOrder:be,title:"",description:""}),C(!0)},z=se=>{B(se),W(!1),V.reset({role:se.role,moduleOrder:se.moduleOrder,title:se.title,description:se.description||""}),C(!0)},T=se=>{if(!se.moduleOrder||se.moduleOrder<1){o({title:"Validation Error",description:"Module order must be at least 1",variant:"destructive"});return}if(!se.title||se.title.trim()===""){o({title:"Validation Error",description:"Module title is required",variant:"destructive"});return}D?we.mutate(se):_&&De.mutate({moduleId:_.id,data:se})},M=se=>{const be=new Set(G);be.has(se)?be.delete(se):be.add(se),ee(be)},re=se=>{d(null),m(!0);const be=Z.filter(Le=>Le.role===O);be.length>0&&Math.max(...be.map(Le=>Le.stepOrder||Le.id))+1,Y.reset({role:O,moduleId:se||void 0,title:"",description:"",videoUrl:"",videoPlaceholder:"",instructions:[],actionButtonLabel:"",actionButtonHref:""}),p(""),N(null),P(null),A(null),h(!0)},oe=()=>{if(x.trim()){const se=Y.getValues("instructions");Y.setValue("instructions",[...se,x.trim()]),p("")}},ce=se=>{const be=Y.getValues("instructions");Y.setValue("instructions",be.filter((Le,Me)=>Me!==se))},Ee=se=>{if(f){const be=Z.filter(lt=>lt.role===se.role),Me=(be.length>0?Math.max(...be.map(lt=>lt.stepOrder||lt.id)):0)+1;Ne.mutate({stepOrder:Me,data:se})}else c&&le.mutate({stepId:c.id,data:se})};return a.jsx(jt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-serif text-[#EAEB80] italic mb-2",children:"System Tutorial"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Learn how to use the GLA portal with our guided tutorial"})]}),a.jsxs(ft,{className:"bg-[#0a0a0a] border-[#1a1a1a]",children:[a.jsx($r,{children:a.jsx(Gr,{className:"text-[#EAEB80] text-xl",children:"Help & Tutorials"})}),a.jsx(mt,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-foreground font-medium",children:"System Tutorial"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Learn how to use the GLA portal with our guided tutorial"})]}),a.jsxs(ie,{onClick:s,className:"bg-[#EAEB80] text-black hover:bg-[#EAEB80]/90",children:[a.jsx(Km,{className:"w-4 h-4 mr-2"}),"Start Tutorial"]})]})})]}),i&&a.jsxs(ft,{className:"bg-[#0a0a0a] border-[#1a1a1a]",children:[a.jsx($r,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Gr,{className:"text-[#EAEB80] text-xl",children:"Tutorial Configuration"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(tt,{value:O,onValueChange:se=>{k(se),ee(new Set)},children:[a.jsx(Qe,{className:"w-[150px] bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:a.jsx(rt,{placeholder:"Select role"})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"admin",children:"Admin"}),a.jsx(xe,{value:"client",children:"Client"}),a.jsx(xe,{value:"employee",children:"Employee"})]})]}),a.jsxs(ie,{onClick:me,className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),"Add Module"]}),a.jsxs(ie,{onClick:()=>re(),className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",children:[a.jsx(mr,{className:"w-4 h-4 mr-2"}),"Add Step"]})]})]})}),a.jsx(mt,{children:q||te?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Gt,{className:"w-6 h-6 animate-spin text-[#EAEB80]"})}):ne?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-400 mb-4",children:"Error loading tutorial data. Please try refreshing the page."})}):ye.modules.length===0&&Z.length===0&&!fe&&!q?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-400 mb-4",children:'No modules or steps found. Click "Add Module" or "Add Step" to get started.'})}):a.jsxs("div",{className:"space-y-4",children:[ye.modules.length>0&&ye.modules.map(se=>{const be=G.has(se.id),Le=se.steps||[];return a.jsxs(ft,{className:"bg-[#1a1a1a] border-[#2a2a2a]",children:[a.jsx($r,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>M(se.id),className:"text-[#EAEB80] hover:bg-[#EAEB80]/10",children:be?a.jsx(pr,{className:"w-4 h-4"}):a.jsx(mr,{className:"w-4 h-4"})}),a.jsxs(Ot,{variant:"outline",className:"bg-[#EAEB80]/20 text-[#EAEB80] border-[#EAEB80]/30",children:["Module ",se.moduleOrder]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:se.title}),se.description&&a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:se.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Le.length," ",Le.length!==1?"steps":"step"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>z(se),className:"text-[#EAEB80] hover:bg-[#EAEB80]/10",children:a.jsx(tl,{className:"w-4 h-4"})}),a.jsx(hf,{trigger:a.jsx(ie,{variant:"ghost",size:"sm",className:"text-red-400 hover:bg-red-500/10",disabled:ue.isPending&&K===se.id,children:ue.isPending&&K===se.id?a.jsx(Gt,{className:"w-4 h-4 animate-spin"}):a.jsx(Ri,{className:"w-4 h-4"})}),title:"Delete Module",description:`Are you sure you want to delete "${se.title}"? This will also delete all steps in this module. This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"destructive",onConfirm:()=>{H(se.id),ue.mutate(se.id)}}),a.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>re(se.id),className:"text-[#EAEB80] hover:bg-[#EAEB80]/10",title:"Add step to this module",children:a.jsx(mr,{className:"w-4 h-4"})})]})]})}),be&&a.jsx(mt,{className:"pt-0",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:Le.length===0?a.jsx("div",{className:"col-span-2 text-center py-4 text-gray-400 text-sm",children:"No steps in this module. Click the + button to add a step."}):Le.map(Me=>a.jsx(ft,{className:"bg-[#0f0f0f] border-[#2a2a2a] hover:border-[#EAEB80]/30 transition-colors",children:a.jsx(mt,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Ot,{variant:"outline",className:"bg-[#EAEB80]/20 text-[#EAEB80] border-[#EAEB80]/30 text-sm font-semibold px-3 py-1",children:["Step ",Me.id]}),a.jsx("h3",{className:"text-xl font-semibold text-foreground",children:Me.title})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-300 mb-1",children:"Description:"}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:Me.description})]}),(Me.videoUrl||Me.videoPlaceholder)&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xm,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Video:"})]}),Me.videoUrl?a.jsxs("div",{className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden border border-gray-800",children:[L[Me.id]?.loading&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-[#EAEB80] border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Loading video..."})]})}),L[Me.id]?.error?a.jsx("div",{className:"w-full h-full flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(Wd,{className:"w-8 h-8 text-gray-500 mx-auto"}),a.jsx("div",{className:"text-gray-500 text-sm",children:Me.videoPlaceholder||"Video failed to load"}),a.jsx("div",{className:"text-xs text-gray-600 mt-2 break-all",children:Me.videoUrl}),a.jsxs(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>{window.open(Me.videoUrl,"_blank")},className:"text-[#EAEB80] hover:text-[#EAEB80] hover:bg-[#EAEB80]/10 mt-2",title:"Open video in new tab",children:[a.jsx(Km,{className:"w-4 h-4 mr-2"}),"Open in new tab"]})]})}):a.jsx("video",{src:Me.videoUrl,className:"w-full h-full object-contain",controls:!0,loop:!0,muted:!0,playsInline:!0,onError:()=>{R(lt=>({...lt,[Me.id]:{loading:!1,error:!0}}))},onLoadedData:()=>{R(lt=>({...lt,[Me.id]:{loading:!1,error:!1}}))},onLoadStart:()=>{R(lt=>({...lt,[Me.id]:{loading:!0,error:!1}}))},onCanPlay:()=>{R(lt=>({...lt,[Me.id]:{loading:!1,error:!1}}))},children:"Your browser does not support the video tag."},`step-${Me.id}-${Me.videoUrl}`)]}):Me.videoPlaceholder?a.jsx("div",{className:"w-full aspect-video bg-gray-900 rounded-lg overflow-hidden border border-gray-800 flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(Xm,{className:"w-12 h-12 text-gray-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 text-sm",children:Me.videoPlaceholder})]})}):null,Me.videoUrl&&!L[Me.id]?.error&&a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Video URL:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs text-gray-400 break-all bg-[#0a0a0a] p-2 rounded border border-[#2a2a2a] flex-1",children:Me.videoUrl}),a.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>{window.open(Me.videoUrl,"_blank")},className:"text-[#EAEB80] hover:text-[#EAEB80] hover:bg-[#EAEB80]/10",title:"Open video in new tab",children:a.jsx(Km,{className:"w-4 h-4"})})]})]})})]}),Me.instructions&&Me.instructions.length>0&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-300 mb-2",children:["Instructions (",Me.instructions.length,"):"]}),a.jsx("ul",{className:"list-disc list-inside text-sm text-gray-400 space-y-1.5 bg-[#0a0a0a] p-3 rounded border border-[#2a2a2a]",children:Me.instructions.map((lt,qt)=>a.jsx("li",{className:"leading-relaxed",children:lt},qt))})]}),Me.actionButton&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-300 mb-1",children:"Action Button:"}),a.jsxs("div",{className:"flex items-center gap-2 bg-[#0a0a0a] p-2 rounded border border-[#2a2a2a]",children:[a.jsx(Ot,{variant:"outline",className:"bg-[#EAEB80]/10 text-[#EAEB80] border-[#EAEB80]/30",children:Me.actionButton.label}),Me.actionButton.href&&a.jsxs("span",{className:"text-xs text-gray-400",children:[" ",Me.actionButton.href]})]})]})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 pt-1",children:[a.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>X(Me),className:"text-[#EAEB80] hover:text-[#EAEB80] hover:bg-[#EAEB80]/10 border border-[#EAEB80]/20",title:"Edit Step",children:[a.jsx(tl,{className:"w-4 h-4 mr-2"}),"Edit"]}),a.jsx(hf,{trigger:a.jsxs(ie,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-500 hover:bg-red-500/10 border border-red-500/20",title:"Delete Step",disabled:J.isPending&&v===Me.id,children:[J.isPending&&v===Me.id?a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Delete"]}),title:"Delete Tutorial Step",description:`Are you sure you want to delete "${Me.title}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"destructive",onConfirm:()=>{g(Me.id),J.mutate(Me.id)}})]})]})})},Me.id))})})]},se.id)}),(()=>{const se=Z.filter(be=>!be.moduleId);return se.length>0&&a.jsxs(ft,{className:"bg-[#1a1a1a] border-[#2a2a2a]",children:[a.jsx($r,{children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Steps without Module"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[se.length," ",se.length!==1?"steps":"step"]})]})})}),a.jsx(mt,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:se.map(be=>a.jsx(ft,{className:"bg-[#0f0f0f] border-[#2a2a2a] hover:border-[#EAEB80]/30 transition-colors",children:a.jsx(mt,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Ot,{variant:"outline",className:"bg-[#EAEB80]/20 text-[#EAEB80] border-[#EAEB80]/30 text-sm font-semibold px-3 py-1",children:["Step ",be.id]}),a.jsx("h3",{className:"text-xl font-semibold text-foreground",children:be.title})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-300 mb-1",children:"Description:"}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:be.description})]}),(be.videoUrl||be.videoPlaceholder)&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xm,{className:"w-4 h-4 text-[#EAEB80]"}),a.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Video:"})]}),be.videoUrl?a.jsxs("div",{className:"relative w-full aspect-video bg-gray-900 rounded-lg overflow-hidden border border-gray-800",children:[L[be.id]?.loading&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-[#EAEB80] border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Loading video..."})]})}),L[be.id]?.error?a.jsx("div",{className:"w-full h-full flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(Wd,{className:"w-8 h-8 text-gray-500 mx-auto"}),a.jsx("div",{className:"text-gray-500 text-sm",children:be.videoPlaceholder||"Video failed to load"}),a.jsx("div",{className:"text-xs text-gray-600 mt-2 break-all",children:be.videoUrl}),a.jsxs(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>{window.open(be.videoUrl,"_blank")},className:"text-[#EAEB80] hover:text-[#EAEB80] hover:bg-[#EAEB80]/10 mt-2",title:"Open video in new tab",children:[a.jsx(Km,{className:"w-4 h-4 mr-2"}),"Open in new tab"]})]})}):a.jsx("video",{src:be.videoUrl,className:"w-full h-full object-contain",controls:!0,loop:!0,muted:!0,playsInline:!0,onError:()=>{R(Le=>({...Le,[be.id]:{loading:!1,error:!0}}))},onLoadedData:()=>{R(Le=>({...Le,[be.id]:{loading:!1,error:!1}}))},onLoadStart:()=>{R(Le=>({...Le,[be.id]:{loading:!0,error:!1}}))},onCanPlay:()=>{R(Le=>({...Le,[be.id]:{loading:!1,error:!1}}))},children:"Your browser does not support the video tag."},`step-${be.id}-${be.videoUrl}`)]}):be.videoPlaceholder?a.jsx("div",{className:"w-full aspect-video bg-gray-900 rounded-lg overflow-hidden border border-gray-800 flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(Xm,{className:"w-12 h-12 text-gray-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 text-sm",children:be.videoPlaceholder})]})}):null,be.videoUrl&&!L[be.id]?.error&&a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Video URL:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-xs text-gray-400 break-all bg-[#0a0a0a] p-2 rounded border border-[#2a2a2a] flex-1",children:be.videoUrl}),a.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>{window.open(be.videoUrl,"_blank")},className:"text-[#EAEB80] hover:text-[#EAEB80] hover:bg-[#EAEB80]/10",title:"Open video in new tab",children:a.jsx(Km,{className:"w-4 h-4"})})]})]})})]})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 pt-1",children:[a.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>X(be),className:"text-[#EAEB80] hover:text-[#EAEB80] hover:bg-[#EAEB80]/10 border border-[#EAEB80]/20",children:[a.jsx(tl,{className:"w-4 h-4 mr-2"}),"Edit"]}),a.jsx(hf,{trigger:a.jsxs(ie,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-500 hover:bg-red-500/10 border border-red-500/20",disabled:J.isPending&&v===be.id,children:[J.isPending&&v===be.id?a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Delete"]}),title:"Delete Tutorial Step",description:`Are you sure you want to delete "${be.title}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"destructive",onConfirm:()=>{g(be.id),J.mutate(be.id)}})]})]})})},be.id))})})]})})()]})})]}),a.jsx($t,{open:I,onOpenChange:se=>{se||(C(!1),W(!1),B(null),V.reset({role:O,moduleOrder:1,title:"",description:""}))},children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-2xl",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-xl font-semibold text-[#EAEB80]",children:D?"Add New Module":`Edit Module ${_?.id}`}),a.jsx(Ut,{className:"text-gray-400",children:D?"Create a new tutorial module to organize tutorial steps":"Update the module information"})]}),a.jsx(Rs,{...V,children:a.jsxs("form",{onSubmit:V.handleSubmit(T),className:"space-y-4 mt-4",children:[a.jsx(ke,{control:V.control,name:"role",render:({field:se})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Role *"}),a.jsxs(tt,{value:se.value,onValueChange:be=>{se.onChange(be);const Le=pe.filter(lt=>lt.role===be),Me=Le.length>0?Math.max(...Le.map(lt=>lt.moduleOrder))+1:1;V.setValue("moduleOrder",Me)},children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select role"})})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"admin",children:"Admin"}),a.jsx(xe,{value:"client",children:"Client"}),a.jsx(xe,{value:"employee",children:"Employee"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:V.control,name:"moduleOrder",render:({field:se})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Module Order *"}),a.jsx(Pe,{children:a.jsx(ae,{...se,type:"number",min:"1",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",onChange:be=>se.onChange(parseInt(be.target.value)||1)})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:V.control,name:"title",render:({field:se})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Title *"}),a.jsx(Pe,{children:a.jsx(ae,{...se,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Module title"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:V.control,name:"description",render:({field:se})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Description"}),a.jsx(Pe,{children:a.jsx(Fa,{...se,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Module description",rows:3})}),a.jsx(Te,{})]})}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ie,{type:"button",variant:"ghost",onClick:()=>{C(!1),W(!1),B(null),V.reset()},className:"text-gray-400 hover:text-foreground",children:"Cancel"}),a.jsxs(ie,{type:"submit",className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",disabled:we.isPending||De.isPending,children:[(we.isPending||De.isPending)&&a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),a.jsx(Vx,{className:"w-4 h-4 mr-2"}),D?"Create Module":"Save Changes"]})]})]})})]})}),a.jsx($t,{open:u,onOpenChange:se=>{se||(h(!1),m(!1),d(null),N(null),P(null),A(null),p(""),Y.reset({role:O,moduleId:void 0,title:"",description:"",videoUrl:"",videoPlaceholder:"",instructions:[],actionButtonLabel:"",actionButtonHref:""}))},children:a.jsxs(Ft,{className:"bg-[#111111] border-[#2a2a2a] text-foreground max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Dt,{children:[a.jsx(Mt,{className:"text-xl font-semibold text-[#EAEB80]",children:f?"Add New Tutorial Step":`Edit Tutorial Step ${c?.id}`}),a.jsx(Ut,{className:"text-gray-400",children:f?"Create a new tutorial step with content, video URL, and instructions":"Update the tutorial step content, video URL, and instructions"})]}),a.jsx(Rs,{...Y,children:a.jsxs("form",{onSubmit:Y.handleSubmit(Ee),className:"space-y-4 mt-4",children:[a.jsx(ke,{control:Y.control,name:"role",render:({field:se})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Role *"}),a.jsxs(tt,{value:se.value,onValueChange:se.onChange,children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select role"})})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"admin",children:"Admin"}),a.jsx(xe,{value:"client",children:"Client"}),a.jsx(xe,{value:"employee",children:"Employee"})]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:Y.control,name:"moduleId",render:({field:se})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Module (Optional)"}),a.jsxs(tt,{value:se.value?.toString()||"none",onValueChange:be=>se.onChange(be==="none"?void 0:parseInt(be)),children:[a.jsx(Pe,{children:a.jsx(Qe,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",children:a.jsx(rt,{placeholder:"Select module (optional)"})})}),a.jsxs(Ze,{className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground",children:[a.jsx(xe,{value:"none",children:"No Module"}),pe.filter(be=>be.role===Y.watch("role")).map(be=>a.jsx(xe,{value:be.id.toString(),children:be.title},be.id))]})]}),a.jsx(Te,{})]})}),a.jsx(ke,{control:Y.control,name:"title",render:({field:se})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Title *"}),a.jsx(Pe,{children:a.jsx(ae,{...se,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Step title"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:Y.control,name:"description",render:({field:se})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Description *"}),a.jsx(Pe,{children:a.jsx(Fa,{...se,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Step description",rows:3})}),a.jsx(Te,{})]})}),a.jsxs("div",{className:"space-y-4 p-4 bg-[#0a0a0a] rounded-lg border border-[#2a2a2a]",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Xm,{className:"w-5 h-5 text-[#EAEB80]"}),a.jsx(Se,{className:"text-[#EAEB80] font-semibold",children:"Video Management"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:Y.control,name:"videoUrl",render:({field:se})=>a.jsxs(Ce,{children:[a.jsxs(Ae,{className:"text-gray-400 flex items-center gap-2",children:["Video URL",E===!0&&a.jsx(Jy,{className:"w-4 h-4 text-green-400"}),E===!1&&a.jsx(Wd,{className:"w-4 h-4 text-red-400"})]}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(ae,{...se,type:"url",className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"https://example.com/video.mp4",onChange:be=>{se.onChange(be);const Le=be.target.value;Le&&Le.trim()?(N(Le.trim()),P(null),A(null),$(Le.trim())):(N(null),P(null),A(null))}}),S&&a.jsxs("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[a.jsx(Wd,{className:"w-3 h-3"}),S]}),E===!0&&a.jsxs("p",{className:"text-xs text-green-400 flex items-center gap-1",children:[a.jsx(Jy,{className:"w-3 h-3"}),"Video URL is valid and accessible"]})]})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:Y.control,name:"videoPlaceholder",render:({field:se})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Video Placeholder"}),a.jsx(Pe,{children:a.jsx(ae,{...se,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Placeholder text when video is unavailable"})}),a.jsx(Te,{})]})})]}),w&&a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx(Se,{className:"text-gray-400 text-sm",children:"Video Preview"}),a.jsxs("div",{className:"relative h-64 bg-gray-900 rounded-lg overflow-hidden border border-gray-800",children:[j&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900/80 z-10",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(Gt,{className:"w-6 h-6 animate-spin text-[#EAEB80] mx-auto"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Loading video preview..."})]})}),S?a.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx(Wd,{className:"w-8 h-8 text-red-400 mx-auto"}),a.jsx("p",{className:"text-sm text-gray-400",children:S}),a.jsx("p",{className:"text-xs text-gray-500 break-all",children:w})]})}):a.jsx("video",{src:w,className:"w-full h-full object-contain",controls:!0,muted:!0,playsInline:!0,onLoadStart:()=>b(!0),onLoadedData:()=>{b(!1),A(null)},onError:()=>{b(!1),A("Failed to load video. Please check the URL."),P(!1)},onCanPlay:()=>{b(!1),P(!0),A(null)},children:"Your browser does not support the video tag."},w)]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Se,{className:"text-gray-400",children:"Instructions *"}),a.jsxs("div",{className:"space-y-2",children:[Y.watch("instructions").map((se,be)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{value:se,onChange:Le=>{const Me=Y.getValues("instructions");Me[be]=Le.target.value,Y.setValue("instructions",Me)},className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:`Instruction ${be+1}`}),a.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>ce(be),className:"text-red-400 hover:text-red-500",children:a.jsx(pr,{className:"w-4 h-4"})})]},be)),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ae,{value:x,onChange:se=>p(se.target.value),onKeyDown:se=>{se.key==="Enter"&&(se.preventDefault(),oe())},className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Add new instruction"}),a.jsx(ie,{type:"button",variant:"outline",onClick:oe,className:"border-[#EAEB80]/30 text-[#EAEB80] hover:bg-[#EAEB80]/10",children:a.jsx(mr,{className:"w-4 h-4"})})]})]}),Y.formState.errors.instructions&&a.jsx("p",{className:"text-sm text-red-400",children:Y.formState.errors.instructions.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(ke,{control:Y.control,name:"actionButtonLabel",render:({field:se})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Action Button Label"}),a.jsx(Pe,{children:a.jsx(ae,{...se,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Button label"})}),a.jsx(Te,{})]})}),a.jsx(ke,{control:Y.control,name:"actionButtonHref",render:({field:se})=>a.jsxs(Ce,{children:[a.jsx(Ae,{className:"text-gray-400",children:"Action Button Link"}),a.jsx(Pe,{children:a.jsx(ae,{...se,className:"bg-[#1a1a1a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"/admin/forms"})}),a.jsx(Te,{})]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(ie,{type:"button",variant:"ghost",onClick:()=>{h(!1),m(!1),d(null),Y.reset()},className:"text-gray-400 hover:text-foreground",children:"Cancel"}),a.jsxs(ie,{type:"submit",className:"bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium",disabled:Ne.isPending||le.isPending,children:[(Ne.isPending||le.isPending)&&a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),a.jsx(Vx,{className:"w-4 h-4 mr-2"}),f?"Create Step":"Save Changes"]})]})]})})]})}),a.jsx($V,{autoPlay:!1})]})})}const Mze=Ma({firstName:ge().min(1,"First name is required"),lastName:ge().min(1,"Last name is required"),email:ge().email("Invalid email address"),password:ge().min(8,"Password must be at least 8 characters"),confirmPassword:ge().min(8,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function Lze(){const[,t]=wr(),{toast:e}=kr(),r=new URLSearchParams(window.location.search),n=r.get("email")||"",s=r.get("firstName")||"",i=r.get("lastName")||"",{register:o,handleSubmit:l,formState:{errors:c},setValue:d}=ts({resolver:rs(Mze),defaultValues:{email:n,firstName:s,lastName:i}});y.useEffect(()=>{n&&d("email",n),s&&d("firstName",s),i&&d("lastName",i)},[n,s,i,d]);const u=yt({mutationFn:async f=>{const m=await Pc("POST","/api/auth/signup",f);if(!m.ok){const x=await m.json();throw new Error(x.error||"Signup failed")}return m.json()},onSuccess:()=>{localStorage.setItem("gla_new_signup","true"),e({title:"Account created successfully!",description:"Please log in with your credentials."}),t("/admin/login")},onError:f=>{e({title:"Signup failed",description:f.message||"Failed to create account. Please try again.",variant:"destructive"})}}),h=f=>{const{confirmPassword:m,...x}=f;u.mutate(x)};return a.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("img",{src:"/logo.svg",alt:"Golden Luxury Auto",className:"h-[200px] w-auto mx-auto object-contain mb-6 drop-shadow-[0_0_15px_rgba(234,235,128,0.5)]"}),a.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:"Create Your Account"}),a.jsx("p",{className:"text-gray-400 text-sm",children:n?"Welcome! Set your password to complete your registration":"Sign up to access your account"}),n&&a.jsx("p",{className:"text-[#EAEB80] text-sm mt-2",children:" Your information has been pre-filled from your onboarding"})]}),a.jsxs("form",{onSubmit:l(h),className:"space-y-5",children:[a.jsx("input",{type:"hidden",...o("firstName")}),a.jsx("input",{type:"hidden",...o("lastName")}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Se,{htmlFor:"email",className:"text-gray-400 text-sm",children:["Email ",n&&a.jsx("span",{className:"text-[#EAEB80] text-xs",children:"(pre-filled)"})]}),a.jsx(ae,{id:"email",type:"email",...o("email"),className:`bg-[#111111] border-[#222222] text-foreground focus:border-[#EAEB80] focus:ring-[#EAEB80] h-11 ${n?"cursor-not-allowed opacity-75":""}`,placeholder:"john.doe@example.com",readOnly:!!n}),c.email&&a.jsx("p",{className:"text-red-400 text-xs",children:c.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Se,{htmlFor:"password",className:"text-gray-400 text-sm",children:"Password"}),a.jsx(ae,{id:"password",type:"password",...o("password"),className:"bg-[#111111] border-[#222222] text-foreground focus:border-[#EAEB80] focus:ring-[#EAEB80] h-11",placeholder:""}),c.password&&a.jsx("p",{className:"text-red-400 text-xs",children:c.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Se,{htmlFor:"confirmPassword",className:"text-gray-400 text-sm",children:"Confirm Password"}),a.jsx(ae,{id:"confirmPassword",type:"password",...o("confirmPassword"),className:"bg-[#111111] border-[#222222] text-foreground focus:border-[#EAEB80] focus:ring-[#EAEB80] h-11",placeholder:""}),c.confirmPassword&&a.jsx("p",{className:"text-red-400 text-xs",children:c.confirmPassword.message})]}),a.jsx(ie,{type:"submit",className:"w-full bg-[#EAEB80] text-black hover:bg-[#d4d570] font-medium h-11",disabled:u.isPending,children:u.isPending?"Creating account...":"Sign Up"})]}),a.jsxs("p",{className:"text-center text-gray-500 text-sm mt-6",children:["Already have an account?"," ",a.jsx("button",{onClick:()=>t("/admin/login"),className:"text-[#EAEB80] hover:underline",children:"Sign in"})]})]})})}function Bze(){const[,t]=wr(),{toast:e}=kr(),[r,n]=y.useState(null);y.useEffect(()=>{const E=new URLSearchParams(window.location.search).get("token");n(E)},[]);const[s,i]=y.useState(""),[o,l]=y.useState(""),[c,d]=y.useState(""),[u,h]=y.useState(!1),[f,m]=y.useState(!1),[x,p]=y.useState(!1),v=yt({mutationFn:async A=>{const E=await fetch(je("/api/auth/reset-password-request"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:A})});if(!E.ok){const P=await E.json();throw new Error(P.error||"Failed to send reset email")}return E.json()},onSuccess:()=>{p(!0),e({title:"Email Sent",description:"If an account exists with this email, a password reset link has been sent."})},onError:A=>{e({title:"Error",description:A.message||"Failed to send reset email",variant:"destructive"})}}),g=yt({mutationFn:async A=>{const E=await fetch(je("/api/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(A)});if(!E.ok){const P=await E.json();throw new Error(P.error||"Failed to reset password")}return E.json()},onSuccess:()=>{e({title:"Success",description:"Password reset successfully. Please log in with your new password."}),setTimeout(()=>{t("/admin/login")},2e3)},onError:A=>{e({title:"Error",description:A.message||"Failed to reset password",variant:"destructive"})}}),w=gX(o),N=o===c&&c.length>0,j=r&&w.isValid&&N&&!g.isPending,b=A=>{if(A.preventDefault(),!s.trim()){e({title:"Error",description:"Please enter your email address",variant:"destructive"});return}v.mutate(s.trim())},S=A=>{if(A.preventDefault(),!(!j||!r)){if(o!==c){e({title:"Error",description:"Passwords do not match",variant:"destructive"});return}g.mutate({token:r,newPassword:o})}};return r?a.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:a.jsxs(ft,{className:"w-full max-w-md bg-[#111111] border-[#EAEB80]/20",children:[a.jsxs($r,{children:[a.jsxs(Gr,{className:"text-[#EAEB80] flex items-center gap-2",children:[a.jsx(Jh,{className:"w-5 h-5"}),"Reset Your Password"]}),a.jsx(nl,{className:"text-gray-400",children:"Enter your new password below"})]}),a.jsx(mt,{children:a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Se,{htmlFor:"new-password",className:"text-gray-300",children:"New Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(ae,{id:"new-password",type:u?"text":"password",value:o,onChange:A=>l(A.target.value),className:"bg-[#0a0a0a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80] pr-10",placeholder:"Enter your new password (min 8 characters)",required:!0,minLength:8}),a.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 hover:text-foreground transition-colors",onClick:()=>h(!u),children:u?a.jsx(ex,{className:"w-4 h-4"}):a.jsx(_s,{className:"w-4 h-4"})})]}),o.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-[#2a2a2a] rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all ${vX(w.score)}`,style:{width:`${w.score/4*100}%`}})}),a.jsx("span",{className:"text-xs text-gray-400",children:yX(w.score)})]}),w.feedback.length>0&&a.jsx("div",{className:"text-xs space-y-1",children:w.feedback.map((A,E)=>a.jsx("div",{className:`${w.isValid?"text-green-400":"text-yellow-400"}`,children:A},E))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Se,{htmlFor:"confirm-password",className:"text-gray-300",children:"Confirm New Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(ae,{id:"confirm-password",type:f?"text":"password",value:c,onChange:A=>d(A.target.value),className:"bg-[#0a0a0a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80] pr-10",placeholder:"Confirm your new password",required:!0}),a.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 hover:text-foreground transition-colors",onClick:()=>m(!f),children:f?a.jsx(ex,{className:"w-4 h-4"}):a.jsx(_s,{className:"w-4 h-4"})})]}),c.length>0&&a.jsx("div",{className:"text-xs",children:N?a.jsx("span",{className:"text-green-400",children:" Passwords match"}):a.jsx("span",{className:"text-red-400",children:" Passwords do not match"})})]}),a.jsx(ie,{type:"submit",disabled:!j,className:"w-full bg-[#EAEB80] text-black hover:bg-[#d4d570] disabled:opacity-50 disabled:cursor-not-allowed",children:g.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Resetting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Jh,{className:"w-4 h-4 mr-2"}),"Reset Password"]})}),a.jsx("div",{className:"text-center",children:a.jsx("a",{href:"/admin/login",className:"text-sm text-[#EAEB80] hover:underline",children:"Back to Login"})})]})})]})}):a.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:a.jsxs(ft,{className:"w-full max-w-md bg-[#111111] border-[#EAEB80]/20",children:[a.jsxs($r,{children:[a.jsxs(Gr,{className:"text-[#EAEB80] flex items-center gap-2",children:[a.jsx(xu,{className:"w-5 h-5"}),"Reset Password"]}),a.jsx(nl,{className:"text-gray-400",children:"Enter your email address and we'll send you a link to reset your password"})]}),a.jsx(mt,{children:x?a.jsxs("div",{className:"space-y-4 text-center",children:[a.jsx(SP,{className:"w-16 h-16 text-green-400 mx-auto"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Check Your Email"}),a.jsxs("p",{className:"text-gray-400",children:["If an account exists with ",a.jsx("strong",{children:s}),", we've sent a password reset link."]}),a.jsx("p",{className:"text-sm text-gray-500",children:"The link will expire in 1 hour."})]}),a.jsx(ie,{onClick:()=>{p(!1),i("")},variant:"outline",className:"w-full border-[#EAEB80]/30 text-[#EAEB80] hover:bg-[#EAEB80]/10",children:"Send Another Email"}),a.jsx("div",{className:"text-center",children:a.jsx("a",{href:"/admin/login",className:"text-sm text-[#EAEB80] hover:underline",children:"Back to Login"})})]}):a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Se,{htmlFor:"email",className:"text-gray-300",children:"Email Address *"}),a.jsx(ae,{id:"email",type:"email",value:s,onChange:A=>i(A.target.value),className:"bg-[#0a0a0a] border-[#2a2a2a] text-foreground focus:border-[#EAEB80]",placeholder:"Enter your email address",required:!0})]}),a.jsx(ie,{type:"submit",disabled:!s.trim()||v.isPending,className:"w-full bg-[#EAEB80] text-black hover:bg-[#d4d570] disabled:opacity-50 disabled:cursor-not-allowed",children:v.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(xu,{className:"w-4 h-4 mr-2"}),"Send Reset Link"]})}),a.jsx("div",{className:"text-center",children:a.jsx("a",{href:"/admin/login",className:"text-sm text-[#EAEB80] hover:underline",children:"Back to Login"})})]})})]})})}function $ze(){return a.jsx(xX,{})}function Uze(){return a.jsxs(jJ,{children:[a.jsx(hr,{path:"/",component:Kse}),a.jsx(hr,{path:"/fleet",component:zie}),a.jsx(hr,{path:"/onboarding",component:Joe}),a.jsx(hr,{path:"/contact",component:rle}),a.jsx(hr,{path:"/sign-contract/:token",component:y7}),a.jsx(hr,{path:"/signup",component:Lze}),a.jsx(hr,{path:"/admin/login",component:mge}),a.jsx(hr,{path:"/dashboard",component:bge}),a.jsx(hr,{path:"/admin/admins",component:Z0e}),a.jsx(hr,{path:"/admin/clients",component:ave}),a.jsx(hr,{path:"/admin/clients/:id",component:Eve}),a.jsx(hr,{path:"/admin/forms",component:Xve}),a.jsx(hr,{path:"/cars",component:Qve}),a.jsx(hr,{path:"/admin/view-car/:id",component:tye}),a.jsx(hr,{path:"/admin/cars/:id/earnings",component:B$e}),a.jsx(hr,{path:"/admin/cars/:id/expenses",component:U$e}),a.jsx(hr,{path:"/admin/cars/:id/depreciation",component:X$e}),a.jsx(hr,{path:"/admin/cars/:id/purchase",component:Y$e}),a.jsx(hr,{path:"/admin/cars/:id/graphs",component:Q$e}),a.jsx(hr,{path:"/admin/cars/:id/calculator",component:J$e}),a.jsx(hr,{path:"/admin/cars/:id/maintenance",component:tUe}),a.jsx(hr,{path:"/admin/cars/:id/totals",component:PB}),a.jsx(hr,{path:"/admin/totals/all",component:PB}),a.jsx(hr,{path:"/admin/cars/:id/records",component:aUe}),a.jsx(hr,{path:"/admin/cars/:carId/records/:recordId/files",component:oUe}),a.jsx(hr,{path:"/admin/cars/:id/payments",component:hUe}),a.jsx(hr,{path:"/admin/cars/:id/income-expense/log",component:PVe}),a.jsx(hr,{path:"/admin/cars/:id/income-expense",component:kVe}),a.jsx(hr,{path:"/admin/cars/:id",component:eye}),a.jsx(hr,{path:"/admin/income-expenses",component:$ze}),a.jsx(hr,{path:"/admin/settings",component:OVe}),a.jsx(hr,{path:"/admin/hr",component:_Ve}),a.jsx(hr,{path:"/admin/hr/employees",component:aze}),a.jsx(hr,{path:"/employee-form",component:Oze}),a.jsx(hr,{path:"/profile",component:_ze}),a.jsx(hr,{path:"/admin/training-manual",component:Dze}),a.jsx(hr,{path:"/reset-password",component:Bze}),a.jsx(hr,{component:fge})]})}function Vze(){if(typeof window<"u"){const t=k$();console.log("[APP] Initializing application..."),console.log("[APP] Current URL:",window.location.href),console.log("[APP] User Agent:",navigator.userAgent),console.log("[APP] VITE_API_URL:","Not set"),console.log("[APP] API Base URL:",t||"relative (using Vite proxy)"),console.log("[APP] Environment:","Production"),console.warn(" [APP] VITE_API_URL is not set in production!"),console.warn(" [APP] API calls may fail. Please set VITE_API_URL in Vercel environment variables."),console.warn(" [APP] Expected value: https://luxuryautoportal-replit-1.onrender.com")}return a.jsx(UV,{children:a.jsx(GJ,{client:Zh,children:a.jsx(sae,{children:a.jsxs(Fse,{children:[a.jsx(yre,{}),a.jsx(Uze,{})]})})})})}Rc(()=>import("./pdf-config-YjUJGHpb.js"),[]).catch(t=>{console.warn(" [MAIN] Failed to load PDF config (non-critical, app will continue):",t)});const nd=document.getElementById("root");if(!nd)throw document.body.innerHTML=`
    <div style="min-height: 100vh; background: #0a0a0a; display: flex; align-items: center; justify-content: center; padding: 20px; color: white; font-family: system-ui, -apple-system, sans-serif;">
      <div style="max-width: 600px; text-align: center;">
        <h1 style="font-size: 24px; margin-bottom: 16px; color: #EAEB80;">Configuration Error</h1>
        <p style="color: #999; margin-bottom: 24px;">Root element not found. Please check the HTML structure.</p>
      </div>
    </div>
  `,new Error("Root element not found. Make sure there's a div with id='root' in index.html");const zze=nd.querySelector('div[style*="Loading"]');zze&&(nd.innerHTML="");const UB=setTimeout(()=>{(nd.innerHTML===""||nd.querySelector("#root-loading-timeout"))&&(console.error(" [MAIN] App initialization timeout - showing error message"),nd.innerHTML=`
      <div id="root-loading-timeout" style="min-height: 100vh; background: #0a0a0a; display: flex; align-items: center; justify-content: center; padding: 20px; color: white; font-family: system-ui, -apple-system, sans-serif;">
        <div style="max-width: 600px; text-align: center;">
          <h1 style="font-size: 24px; margin-bottom: 16px; color: #EAEB80;">Loading Timeout</h1>
          <p style="color: #999; margin-bottom: 24px;">The application is taking longer than expected to load. Please check your connection and try refreshing.</p>
          <button 
            onclick="window.location.reload()" 
            style="background: #EAEB80; color: black; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-weight: 600;"
          >
            Reload Page
          </button>
        </div>
      </div>
    `)},1e4);try{const t=e$(nd);console.log(" [MAIN] React root created, rendering app..."),t.render(a.jsx(UV,{children:a.jsx(Vze,{})})),clearTimeout(UB),console.log(" [MAIN] App rendered successfully")}catch(t){clearTimeout(UB),console.error(" [MAIN] Failed to initialize React app:",t),console.error(" [MAIN] Error details:",{message:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:void 0,name:t instanceof Error?t.name:void 0}),nd.innerHTML=`
    <div style="min-height: 100vh; background: #0a0a0a; display: flex; align-items: center; justify-content: center; padding: 20px; color: white; font-family: system-ui, -apple-system, sans-serif;">
      <div style="max-width: 600px; text-align: center;">
        <h1 style="font-size: 24px; margin-bottom: 16px; color: #EAEB80;">Application Error</h1>
        <p style="color: #999; margin-bottom: 24px;">Failed to initialize the application. Please refresh the page.</p>
        <button 
          onclick="window.location.reload()" 
          style="background: #EAEB80; color: black; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-weight: 600;"
        >
          Reload Page
        </button>
        <div style="margin-top: 24px; padding: 16px; background: #1a1a1a; border-radius: 6px; text-align: left; font-size: 12px; color: #666;">
          <p><strong>Error:</strong> ${t instanceof Error?t.message:String(t)}</p>
          <p style="margin-top: 8px;"><strong>User Agent:</strong> ${navigator.userAgent}</p>
          ${t instanceof Error&&t.stack?`<p style="margin-top: 8px;"><strong>Stack:</strong><br><pre style="font-size: 10px; overflow: auto; max-height: 200px;">${t.stack}</pre></p>`:""}
        </div>
      </div>
    </div>
  `}export{Fz as _,Mj as a,$de as p};
